{"version":3,"sources":["kendo.dataviz.js"],"names":["f","define","$","undefined","kendo","window","mobile","fx","effects","ui","proxy","extend","Widget","Class","Movable","Pane","PaneDimensions","Transition","Animation","abs","Math","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION","VELOCITY_MULTIPLIER","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","RELEASECLASS","REFRESHCLASS","PULL","CHANGE","RESIZE","SCROLL","MOUSE_WHEEL_ID","ZoomSnapBack","init","options","that","this","fn","call","userEvents","bind","start","tapCapture","cancel","enabled","movable","scale","dimensions","minScale","done","tick","scaleWith","rescale","onEnd","scaleTo","DragInertia","transition","axis","_end","onCancel","freeze","location","_moveTo","paneAxis","outOfBounds","_snapBack","velocity","e","dimension","touch","id","max","min","velocityMultiplier","captureNext","friction","delta","elastic","moveAxis","cancelCapture","end","snapBack","moveTo","duration","ease","easeOutExpo","AnimatedScroller","origin","destination","offset","_updateCoordinates","y","x","callback","setCoordinates","from","to","setCallback","isFunction","ScrollBar","horizontal","element","elementSize","scrollMovable","alwaysVisible","size","refresh","container","append","show","paneSize","sizeRatio","total","position","round","css","opacity","visibility","hide","Scroller","inner","avoidScrolling","pane","zoomSnapBack","animatedScroller","_native","useNative","support","hasNativeScrolling","addClass","prepend","scrollElement","fixedContainer","children","first","wrapInner","eq","TapCapture","forcedEnabled","zoom","UserEvents","touchAction","fastTap","allowSelection","preventDragEvent","captureUpIfMoved","multiTouch","velocityX","velocityY","horizontalSwipe","originatedFromFixedContainer","contains","event","target","verticalSwipe","capture","coordinates","scrollTo","scrollTop","scrollLeft","trigger","mousewheelScrolling","on","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","_wheelScroll","press","clearTimeout","_wheelTimeout","setTimeout","wheelDeltaY","move","preventDefault","makeVirtual","virtualSize","height","scrollHeight","scrollWidth","name","pullOffset","visibleScrollHints","messages","pullTemplate","releaseTemplate","refreshTemplate","events","_resize","contentResized","setOptions","reset","_scale","zoomOut","fitScale","centerCoordinates","enable","disable","animatedScrollTo","pullHandled","refreshHint","removeClass","hintContainer","html","yinertia","xinertia","destroy","forceEnabled","template","_paneChange","_dragEnd","scrollBar","plugin","jQuery","amd","a1","a2","a3","defined","value","UNDEFINED","precision","power","pow","math","p","limitValue","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","last","array","second","apply","renderTemplate","text","useWithBlock","paramName","renderAttr","renderAllAttr","attrs","output","renderStyle","renderSize","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals",1,10,100,2,20,200,3,30,300,4,40,400,5,50,500,6,60,600,7,70,700,8,80,800,9,90,900,1000,"values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","l","c","d","m","charAt","memoize","cache","Object","create","arguments","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","zeroSize","width","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","promises","document","font","load","logToConsole","Promise","all","then","doc","LRUCache","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","removeObserver","index","splice","methodName","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","transform","matrix","Transformation","toMatrix","ellipseExtremeAngles","center","rx","ry","extremeX","extremeY","atan2","a","b","bboxStartAngle","angle","defineAccessors","fields","capitalized","toUpperCase","substring","setAccessor","getAccessor","elipseAngle","swipe","alpha","calculateAngle","cx","cy","cos","sin","normalizeArcParameters","x1","y1","x2","y2","largeArc","cx1","cy1","sqrt","x21","y21","rx2","ry2","k","yk2","Point","startAngle","endAngle","solveCubic","solveQuadratic","y3","z1","z2","q","Q","ComplexNumber","b3a","nthRoot","numberSign","add","multiplyConstant","negate","multiply","isReal","real","PRECISION","toCubicPolynomial","points","calculateCurveAt","t","t1","curveIntersectionsCount","point","bbox","rayIntersection","intersectsRay","polynomial","roots","count","close","bottomRight","lineIntersectionsCount","intersects","minX","maxX","minY","maxY","inRange","lineIntersection","p0","p1","p2","p3","s1x","s2x","s1y","s2y","nx","ny","s","tolerance","closeOrLess","isOutOfEndPoint","endPoint","controlPoint","rotatedPoint","transformCopy","rotate","hasRootsInRange","rootField","range","intersection","squareRoot","Size","Rect","Circle","Arc","Matrix","PI_DIV_2","equals","other","clone","translate","translateWith","scaleX","scaleY","scaleCopy","transformation","mx","distanceTo","dx","dy","toArray","doRound","toString","separator","arg0","arg1","pt","minPoint","maxPoint","ZERO","setOrigin","setSize","getOrigin","getSize","topLeft","topRight","bottomLeft","tl","tr","br","bl","fromPoints","expand","expandCopy","containsPoint","_isOnPath","rectOuter","rectInner","union","intersect","left","top","right","bottom","radius","setCenter","setRadius","getCenter","pointAt","_pointAt","currentPointX","currentPointY","currentPoint","extremeAngles","inCircle","pointDistance","radiusX","radiusY","anticlockwise","MAX_INTERVAL","radian","curvePoints","nextAngle","dir","currentAngle","interval","_arcInterval","intervalAngle","subIntervalsCount","ceil","subIntervalAngle","_intervalCurvePoints","cp1","cp2","arc","currentAngleX","currentAngleY","oldStart","p1Derivative","_derivativeAt","p2Derivative","inAngleRange","distance","angleRad","pointRadius","startPoint","arcParameters","multiplyCopy","invert","g","h","det","unit","IDENTITY","_matrix","_optionsChange","img","prototype","cNumber","addConstant","nthR","geometry","eventCoordinates","pageX","clientX","pageY","clientY","BaseNode","OptionsStore","SurfaceFactory","SurfaceTooltip","noop","NS","TOOLTIP_TEMPLATE","TOOLTIP_CLOSE_TEMPLATE","Surface","_click","_handler","_mouseenter","_mouseleave","_mousemove","_visual","Group","_enableTracking","tooltip","draw","clear","hideTooltip","_tooltip","exportVisual","eventTarget","node","domNode","initialTouch","_kendoNode","is","parent","srcElement","showTooltip","shape","suspendTracking","_suspendedTracking","resumeTracking","surface","originalEvent","type","_elementOffset","paddingLeft","parseInt","paddingTop","_surfacePoint","coord","childNodes","observe","insertAt","remove","removeSelf","invalidate","childrenChange","action","items","prefix","member","_wrap","getter","set","composite","_set","path","obj","indexOf","_clear","setter","_items","register","order","unshift","preferred","match","navigator","userAgent","content","_tooltipOptions","popup","Popup","appendTo","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","_bindEvents","showOn","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mousemoveHandler","_hideClick","unbind","off","_timeout","shared","_tooltipShape","_updateContent","_position","tooltipOffset","surfaceOffset","_offset","_show","_current","_showTimeout","visible","delay","_autoHide","_measure","open","_closeButton","prependTo","wrapper","outerWidth","outerHeight","_popupRelatedTarget","relatedTarget","closest","DASH_ARRAYS","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","Color","GRADIENT","IDENTITY_MATRIX_HASH","Paintable","proto","fill","stroke","newFill","nodeType","Traversable","childrenField","traverse","child","Measurable","strokeWidth","combinedMatrix","currentTransform","matrixHash","_bboxCache","_matrixHash","_bbox","elementsBoundingBox","elements","applyTransform","boundingBox","elementBoundingBox","rawBBox","elementsClippedBoundingBox","clippedBBox","defineGeometryAccessors","names","geometryAccessor","fieldName","definePointAccessors","pointAccessor","defineOptionsAccessors","optionsAccessor","generateDefinitionId","defId","align","rect","alignment","alignElements","vAlign","stack","stackElements","getStackElements","vStack","wrap","wrapElements","vWrap","otherAxis","sizeField","startElement","elementIdx","stacks","getStacks","translateToPoint","fit","rectSize","maxSize","stackSize","addElementToStack","stackAxis","previousBBox","alignStart","START","END","transofrm","ElementsArray","Text","GeometryElementsArray","Segment","Path","MultiPath","Image","GradientStop","StopsArray","Gradient","LinearGradient","RadialGradient","Layout","pop","slice","HORIZONTAL","Element","clip","parentTransform","parentMatrix","elementTransform","elementMatrix","_clippedBBox","_hasFill","_containsPoint","_hasStroke","_splice","_change","_add","_remove","howMany","concat","_clearObserver","_setObserver","_reparent","insert","removeAt","newParent","metrics","_geometry","toPath","curveTo","anchor","controlIn","controlOut","bboxTo","toSegment","segmentAnchor","toSegmentAnchor","_curveBoundingBox","_lineBoundingBox","extremesX","_curveExtremesFor","extremesY","xLimits","yLimits","extremes","_curveExtremes","_calculateCurveAt","x3","x4","t2","_intersectionsTo","segment","intersectionsCount","_isOnCurveTo","endSegment","p4","rotation","rotatedPoints","_isOnLineTo","_isOnPathTo","isOnPath","segments","lineJoin","lineTo","lastSegment","_addArcSegments","arcTo","closed","previous","segmentBox","fromRect","fromArc","paths","src","_rect","arg","stop","stops","_createStops","_userSpace","userSpace","addStop","removeStop","_radius","_fallbackFill","fallbackFill","_defaults","_fieldMap","alignContent","justifyContent","alignItems","spacing","orientation","lineSpacing","_initMap","fieldMap","groupsSizeField","groupAxis","groupsAxis","reflow","groupOptions","groups","groupsSize","groupStart","groupOrigin","elementOrigin","elementStart","group","groupBox","groupIdx","scaledStart","scaledSize","newStart","_initGroups","lineSize","bboxes","_newGroup","addGroup","_addToGroup","parseParameters","parameters","replace","SPLIT_REGEX","number","parseFloat","toLineParamaters","isVertical","insertPosition","reflectionPoint","quadraticToCubicControlPoints","third","trim","SEGMENT_REGEX","MOVE","CLOSE","PathParser","parse","previousCommand","multiPath","params","closePath","command","isRelative","ShapeMap","Error","lastControlIn","cubicControlPoints","zIndexComparer","_zIndex","isArray","LEVEL_STEP","MAX_LEVEL","QuadRoot","shapes","_quadNode","pointShapes","QuadNode","inBounds","nodeRect","nodeBottomRight","inserted","_initChildren","childIdx","shapeIdx","halfWidth","halfHeight","ShapesQuadTree","ROOT_SIZE","initRoots","rootMap","root","rootElements","pointShape","sectorRoot","floor","assignZindex","levelWeight","zIndex","parents","bboxChange","_insertShape","elementsArray","_insert","Array","rootSize","sectors","getSectors","inRoot","bottomX","bottomY","alignToScreen","ctm","getScreenCTM","baseUrl","base","getElementsByTagName","url","href","hashIndex","browser","msie","refUrl","exportGroup","exportRoot","svg","RootNode","SVG_NS","render","exportSVG","raw","Deferred","resolve","promise","isDefinition","decodeEntities","_element","innerHTML","textContent","innerText","DefinitionMap","BUTT","NONE","SOLID","SPACE","TRANSFORM","_root","renderSVG","_template","_rootElement","firstElementChild","attachTo","resize","viewBox","format","setAttribute","visual","Node","definitions","clearDefinitions","childNode","nodeMap","createDefinitions","domElement","createElement","firstChild","insertBefore","setElement","childElement","nodes","renderChildren","updateDefinition","attr","allAttr","allCss","styles","removeAttr","removeAttribute","mapTransform","renderTransform","transformChange","mapStyle","cursor","renderOpacity","definition","hasDefinitions","definitionChange","renderDefinitions","mapDefinitions","defs","DefinitionNode","definitionMap","addDefinitions","removeDefinitions","createDefinition","item","ClipNode","LinearGradientNode","RadialGradientNode","addDefinition","mapItem","removeDefinition","GroupNode","PathNode","renderData","mapFill","mapStroke","attributeMap","fill.opacity","stroke.color","stroke.width","stroke.opacity","printPath","segmentType","currentType","printPoints","segmentStart","segmentEnd","renderLinecap","dashType","renderDashType","renderStroke","dashArray","lineCap","renderFill","ArcNode","MultiPathNode","CircleNode","TextNode","encode","htmlEncode","setY","renderContent","ImageNode","mapPosition","mapSource","renderPosition","renderSource","GradientStopNode","renderOffset","GradientNode","loadStops","stopNode","mapCoordinates","renderCoordinates","mapSpace","RectNode","testFragment","testContainer","hasParser","DOMParser","namespaceURI","parser","chartDoc","parseFromString","importedDoc","adoptNode","documentElement","implementation","hasFeature","_exportGroup","exportImage","defaults","cors","display","image","always","addGradientStops","gradient","parseColor","addColorStop","toCssRgba","FRAME_DELAY","canvas","_searchTree","defer","rootElement","loadingStates","loading","when","_invalidate","data","toDataURL","reject","fail","_mouseTrackHandler","_trackMouse","currentShape","_currentShape","initClip","clearClip","setClip","ctx","beginPath","renderPoints","setTransform","loadElements","setOpacity","globalAlpha","renderTo","save","restore","getContext","invalidateHandler","throttle","animationFrame","clearRect","setLineDash","setLineCap","setLineJoin","setFill","setStroke","hasFill","setGradientFill","fillStyle","createLinearGradient","createRadialGradient","strokeStyle","lineWidth","mozDash","webkitLineDash","seg","prevSeg","prevOut","bezierCurveTo","fillText","strokeText","onLoad","onError","test","crossOrigin","complete","onload","onerror","state","drawImage","enableVML","namespaces","kvml","stylesheet","styleSheets","createStyleSheet","addRule","createElementVML","className","COORDINATE_MULTIPLE","fillField","stopColor","baseColor","baseOpacity","blendColors","overlay","overlayColor","blendChannel","toHex","EMPTY_CLIP","COORDINATE_SIZE","TRANSFORM_PRECISION","empty","attachReference","combinedTransform","currentOpacity","setStyle","mapOpacityTo","multiplier","ClipObserver","ObserverNode","clipRect","clipBBox","_attachTo","frag","createDocumentFragment","refreshTransform","refreshOpacity","StrokeNode","FillNode","mapGradient","mapFillColor","mapLinearGradient","supportVML","mapRadialGradient","addColors","focusx","focusy","stopColors","colorsField","colors","color2","TransformNode","transformOrigin","ShapeNode","createFillNode","createTransformNode","setCoordsize","PathDataNode","setPathData","pathData","createDataNode","MultiPathDataNode","CircleTransformNode","originX","originY","diameter","ArcDataNode","TextPathDataNode","TextPathNode","setString","ImagePathDataNode","ImageFillNode","setSrc","sx","sy","ax","ay","rawbbox","rawcenter","fillOrigin","fillSize","RectDataNode","vml","version","getXY","thing","drawDOM","doOne","getBoundingClientRect","nodeInfo","_clipbox","geo","_stackingContext","_avoidLinks","avoidLinks","renderElement","makeTemplate","el","cloneNodes","$el","$clone","tagName","nextSibling","handlePageBreaks","forceBreak","pageWidth","pageHeight","margin","doPageBreak","next","whenImagesAreActuallyLoaded","pages","page","splitElement","copy","makePage","forEach","pageNum","totalPages","cacheImages","keepTogether","jqel","adjust","isFirst","fall","getComputedStyle","bottomPadding","getPropertyValue","bottomBorder","saveAdjust","breakAtElement","fallsOnMargin","splitText","firstInParent","table","colgroup","thead","grid","gridHead","find","repeatHeaders","querySelector","createRange","setStartBefore","setEndBefore","extractContents","boxSizing","padding","overflow","pageClassName","available","len","nextnode","selectNodeContents","findEOP","setEnd","endOffset","ownerDocument","_destructive","each","paddingRight","beforePageBreak","pdf","defineFont","getFontFaces","forcePageBreak","hasPaperSize","paperSize","paperOptions","getPaperOptions","def","hasMargin","multiPage","_ignoreMargin","progress","canceled","doStylesheet","ss","rules","cssRules","ex","addRules","findFonts","rule","splitProperty","reduce","getFontURL","cssText","styleSheet","family","bold","italic","hasOwnProperty","getCounter","getAllCounters","getPrototypeOf","reverse","incCounter","inc","resetCounter","doCounters","toRGB","pending","images","querySelectorAll","IMAGE_CACHE","urls","dive","parseBackgroundImage","bg","alphaNumeral","pushNodeInfo","decoration","createsStackingContext","popNodeInfo","updateClipbox","emptyClipbox","cb","prop","pseudoElt","webkit","mozilla","opera","pleaseSetPropertyValue","important","setProperty","getBorder","side","saveStyle","func","getBorderRadius","sanitizeRadius","getContentBox","innerBox","wt","wr","wb","wl","getTransform","exec","radiansToDegrees","parseAngle","num","setClipping","clipPath","addArcToPath","adjustBorderRadiusForBox","rTL","rTR","rBR","rBL","tl_x","tl_y","tr_x","tr_y","br_x","br_y","bl_x","bl_y","elementRoundBox","bt","bb","pr","pb","pl","roundBox","rTL0","rTR0","rBR0","rBL0","tmp","formatCounter","romanNumeral","evalPseudoElementContent","displayCounter","getAttribute","getCssText","_renderWithPseudoElements","pseudo","kind","place","psel","KENDO_PSEUDO_ELEMENT","fake","saveClass","_renderElement","adjustBoxes","boxes","tableBorderLeft","tableBorderTop","tableBox","firstCell","firstCellBox","rows","cells","drawEdge","Wtop","Wleft","Wright","rl","rr","drawRoundCorner","ri","edge","drawBackground","background","_pdfLink","backgroundColor","backgroundImage","drawOneBackground","backgroundRepeat","backgroundPosition","backgroundOrigin","backgroundSize","drawBackgroundImage","img_width","img_height","renderBG","rewX","rewY","repeatX","aspect_ratio","orgBox","gradientRenderer","drawBullet","_drawBullet","bullet","listStylePosition","textAlign","elementIndex","listStyleType","fontSize","lineHeight","fontFamily","disc","circle","square","drawOneBox","isLast","inv","shouldDrawLeft","shouldDrawRight","innerbox","currentStyle","getClientRects","clipit","isFormField","maybeRenderWidget","renderContents","pxlen","scaledAngle","implicit","atan","tan","percent","console","log","widget","widgetInstance","exportDOMVisual","renderImage","zIndexSort","sa","sb","za","zb","pa","getSelectedOption","selectedOptions","selectedIndex","renderCheckbox","checked","renderFormField","option","tag","whiteSpace","multiple","blocks","floats","inline","positioned","floating","renderText","actuallyGetRangeBoundingRect","rectangles","chrome","Infinity","prevLineBottom","doChunk","found","cc","code","indent","origStart","substr","search","setStart","isJustified","findEOL","eol","estimateLineLength","startOffset","drawText","TextRect","decorate","line","ypos","textOverflow","saveTextOverflow","groupInStackingContext","main","_dom_zIndex","counterIncrement","counterReset","mmul","b1","c1","d1","e1","f1","b2","c2","d2","e2","f2","_pdfRect","skip_ws","tok_whitespace","read","token","read_stop","tok_length","tok_percent","read_linear_gradient","propName","to1","to2","tok_popen","tok_angle","tok_comma","tok_keyword","tok_pclose","read_url","tok_content","tok","orig","cache1","tok_linear_gradient","tok_url","cache2","looking_at","ret","in_paren","in_string","anim","easing","setup","step","play","finish","abort","loop","wallTime","time","easingPos","_stopped","AnimationFactory","getSpacing","defaultSpacing","TOP","RIGHT","BOTTOM","LEFT","createAxisTick","tickOptions","tickX","tickY","vertical","alignPathToPixel","createAxisGridLine","gridLine","lineStart","lineEnd","autoMajorUnit","relativeValue","scaleMultiplier","diff","DEFAULT_PRECISION","rotatePoint","theta","Point2D","boxDiff","Box2D","grep","remainderClose","divisor","ratio","remainder","threshold","interpolateValue","COORD_PRECISION","numericComparer","autoFormat","FORMAT_REGEX","clockwise","v1","v2","dateComparer","mwDelta","origEvent","wheelDelta","detail","innerRadialStops","currentStop","usedSpace","innerRadius","currentStops","rectToBox","eventTargetElement","Ring","Sector","ShapeBuilder","ChartElement","RootElement","BoxElement","FloatElement","TextBox","Title","AxisLabel","Axis","Note","ShapeElement","NumericAxis","LogarithmicAxis","ExportMixin","CurveProcessor","geom","isPlainObject","AXIS_LABEL_CLICK","BLACK","CENTER","CLIP","CIRCLE","CROSS","DEFAULT_FONT","DEFAULT_HEIGHT","DEFAULT_ICON_SIZE","DEFAULT_WIDTH","HEIGHT","COORDINATE_LIMIT","INITIAL_ANIMATION_DURATION","INSIDE","LINEAR","MIN_VALUE","NOTE_CLICK","NOTE_HOVER","OUTSIDE","RADIAL","TRIANGLE","WIDTH","WHITE","X","Y","ZERO_THRESHOLD","cosT","sinT","onCircle","targetBox","wrapPoint","snapTo","alignTo","targetCenter","shrink","dw","dh","pad","unpad","getHash","overlaps","r1","r2","r3","r4","toRect","hasSize","sizeFunc","ring","ir","middle","newRadius","radianAngle","adjacentBox","sector","midAndle","midPoint","hw","hh","ca","vector","startVector","endVector","dist","getBBox","angles","ea","allAngles","saIndex","eaIndex","createRing","innerEnd","currentChild","getRoot","getChart","chart","translateChildren","childrenCount","renderVisual","createVisual","addVisual","createAnimation","renderComplete","chartElement","appendVisual","childVisual","noclip","clipRoot","stackRoot","stackVisual","sibling","here","visuals","matched","hasHighlight","highlight","createHighlight","toggleHighlight","highlightOptions","_highlight","customVisual","highlightVisualArgs","sender","series","dataItem","category","percentage","runningTotal","createGradientOverlay","gradientOptions","createGradient","gradients","border","currentBox","createBackground","drawingGradient","hashCode","Gradients","shrinkToFit","reflowPaddingBox","paddingBox","borderWidth","contentBox","hasSetSize","hasBox","visualStyle","boxElement","opt","_initDirection","elementAxis","groupSizeField","elementSizeField","groupSpacing","elementSpacing","vSpacing","reflowChildren","groupElementStart","groupElements","groupElementsCount","elementBox","floatElement","groupsCount","groupsStart","groupSize","maxGroupElementsSize","groupElementsSize","ROWS_SPLIT_REGEX","textbox","_initContainer","rowIdx","textOptions","visualBox","visualFn","_boxReflow","visualContext","normalBox","rotatedBox","rotationTransform","visualOptions","getDefaultVisual","boxCenter","title","buildTitle","defaultOptions","label","context","culture","click","alignRotation","rotationMatrix","rotationOrigin","alignAxis","distanceAxis","axisAnchor","distanceLeft","distanceRight","alignEnd","alignCenter","labels","majorTickSize","minorTickSize","minorTicks","minorTickType","majorTicks","majorTickType","_deferLabels","createLabels","createTitle","createNotes","mirror","skip","axisCrossingValue","majorGridLines","minorGridLines","justified","notes","_alignLines","labelsRange","labelsCount","labelOptions","autoRotateLabels","createAxisLabel","lineBox","axisX","axisY","titleOptions","visualSize","note","parseNoteValue","createPlotBands","createLine","gridLinesVisual","gridLines","_gridLines","createTicks","lineGroup","tickPositions","skipUnit","tickLineOptions","majorUnit","getMajorTickPositions","getMinorTickPositions","minorUnit","_lineGroup","getActualTickSize","tickSize","_backgroundPath","slotX","slotY","altAxis","plotBands","plotArea","_plotbandGroup","axes","bandRect","getSlot","createGridLines","axisLineVisible","linePos","lineOptions","labelSize","sizeFn","titleSize","space","maxLabelSize","rootBox","boxSize","arrangeTitle","arrangeLabels","arrangeNotes","getLabelsTickPositions","labelTickIndex","labelBox","labelY","tickIx","labelPos","firstTickPosition","nextTickPosition","labelX","labelsBetweenTicks","labelOffset","slot","shouldRenderNote","secondAxis","axisLabelText","tmpl","limit","limitRange","rangeSize","icon","marker","noteTemplate","wrapperBox","linePoints","defaultVisual","args","eventArgs","hover","leave","_unsetActivePoint","pointData","getElement","seriesMin","seriesMax","initDefaults","startValue","userSetLimits","narrowRange","autoMin","autoAxisMin","autoMax","autoAxisMax","autoOptions","roundToMajorUnit","totalMin","totalMax","totalMajorUnit","narrow","axisMax","axisMin","getDivisions","stepValue","getTickPositions","skipStep","divisions","startEdge","positions","valueAxis","slotBox","getValue","valueOffset","translateRange","scaleRange","pan","pointsRange","endValue","zoomRange","newRange","optionsRange","logMin","logMax","floorMax","ticks","traverseMajorTicksPositions","tickPosition","traverseMinorTicksPositions","_lineOptions","minorOptions","lineStep","_minorIntervalOptions","minorStep","_throwNegativeValuesError","axisOptions","_autoMax","_autoMin","logMaxRemainder","acceptOptionsRange","acceptNewRange","nextValue","difference","glass","sharpBevel","roundedBevel","roundedGlass","sharpGlass","skipLegacy","exportPDF","imageDataURL","WEIGHT","EXTREMUM_ALLOWED_DEVIATION","process","dataPoints","controlPoints","initialControlPoint","lastControlPoint","tangent","cp0","removeDuplicates","firstControlPoint","secondControlPoint","invertAxis","lineFunction","calculateFunction","isLine","monotonic","sign","oldXField","xField","yField","restrict","switchOrientation","allowedDeviation","isMonotonicByField","restrictControlPoint","cp","xValue","yValue","fuse","arr1","arr2","BAR_GAP","BAR_SPACING","SANS","SANS11","SANS12","SANS16","chartBaseTheme","legend","seriesDefaults","donut","vericalLine","scatterLine","area","markers","verticalArea","radarLine","radarArea","candlestick","_brightness","gap","downColor","ohlc","bubble","bar","column","rangeColumn","rangeBar","waterfall","horizontalWaterfall","verticalBullet","boxPlot","outliersField","meanField","whiskers","mean","median","funnel","categoryAxis","axisDefaults","crosshair","gaugeBaseTheme","diagramBaseTheme","shapeDefaults","editable","handles","selectable","connectionDefaults","selection","tools","themes","registerTheme","themeName","gauge","diagram","treeMap","verticalLine","verticalBoxPlot","polarArea","polarLine","inactiveItems","errorBars","pie","scatter","chartArea","seriesColors","pointer","rangePlaceholderColor","connectorDefaults","thumb","connectors","noteStyle","AXIS","TEXT","INACTIVE","INACTIVE_SHAPE","AXIS_MINOR","SERIES","SERIES_LIGHT","PRIMARY","DIAGRAM_HOVER","returnSelf","DefaultAggregates","ua","ua_t","u_b","applySeriesDefaults","themeOptions","seriesType","baseOptions","seriesLength","commonDefaults","themeSeriesDefaults","commonThemeDefaults","cleanupNestedSeriesDefaults","applySeriesColors","currentSeries","seriesColor","resolveAxisAliases","alias","CATEGORY","VALUE","applyAxisDefaults","themeAxisDefaults","axisName","axisColor","categoriesCount","seriesCount","categories","getField","row","getDateField","toDate","STRING","parseDate","toTime","addDuration","date","weekStartDay","hours","getHours","YEARS","getFullYear","adjustDST","MONTHS","getMonth","WEEKS","startOfWeek","DAYS","getDate","HOURS","addTicks","TIME_PER_HOUR","MINUTES","TIME_PER_MINUTE","getSeconds","setSeconds","SECONDS","TIME_PER_SECOND","getMilliseconds","setMilliseconds","day","getDay","daysToSubtract","TIME_PER_DAY","floorDate","ceilDate","dateDiff","offsetDiff","getTimezoneOffset","absoluteDateDiff","tzOffsetBefore","tzOffsetDiff","TIME_PER_UNIT","dateIndex","baseUnit","baseUnitStep","startDate","timeIndex","singleItemOrArray","axisGroupBox","axisBox","equalsIgnoreCase","dateEquals","appendIfNotNull","lteDateIndex","sortedDates","currentDate","low","high","countNumbers","areNumbers","axisRanges","ranges","evalOptions","dryRun","property","propValue","excluded","depth","needsEval","MAX_EXPAND_DEPTH","isFn","OBJECT","groupSeries","nameTemplate","groupIx","seriesClone","legacyTemplate","groupNameTemplate","dataLength","visibleInLegend","_slotCount","_groupIx","filterSeriesByType","types","sortDates","dates","comparer","uniqueDates","srcDates","isDateAxis","sampleCategory","dateCategory","DATE","transpose","rowIx","colIx","colCount","rowCount","ensureTree","seriesTotal","sum","SeriesBinder","bindPoint","valueFields","hasGradientOverlay","anyHasZIndex","_defaultPrevented","pointByCategoryName","hasValue","toChartAxisRanges","axisRange","acceptKey","mouseKey","accept","ctrlKey","shiftKey","altKey","preloadFonts","fetchFonts","MAX_DEPTH","keys","clearMissingValues","originalOptions","fieldValue","originalValue","nullValue","PlotAreaFactory","BarLabel","LegendItem","LegendLayout","Legend","CategoryAxis","DateCategoryAxis","DateValueAxis","ClusterLayout","StackWrap","PointEventsMixin","NoteMixin","Bar","BarChartAnimation","FadeInAnimation","ErrorRangeCalculator","CategoricalChart","BarChart","RangeBar","RangeBarChart","BulletChart","Bullet","Target","ErrorBarBase","CategoricalErrorBar","ScatterErrorBar","LinePoint","Bubble","LineSegment","LineChartMixin","ClipAnimationMixin","LineChart","ClipAnimation","StepLineSegment","SplineSegment","AreaSegmentMixin","AreaSegment","AreaChart","SplineAreaSegment","StepAreaSegment","ScatterChart","ScatterLineChart","BubbleChart","Candlestick","CandlestickChart","OHLCPoint","OHLCChart","BoxPlotChart","BoxPlot","VerticalBoxPlot","PieSegment","PieChartMixin","PieChart","DonutSegment","DonutChart","WaterfallChart","WaterfallSegment","ChartContainer","PlotAreaBase","PlotAreaEventsMixin","CategoricalPlotArea","AxisGroupRangeTracker","XYPlotArea","PiePlotArea","DonutPlotArea","PieAnimation","BubbleAnimation","Highlight","BaseTooltip","Tooltip","SharedTooltip","Crosshair","CrosshairTooltip","Aggregates","Selection","Pannable","ZoomSelection","MousewheelZoom","SeriesAggregator","ChartAxis","Observable","DataSource","interpolate","ABOVE","AREA","AUTO","FIT","BAR","BAR_ALIGN_MIN_WIDTH","BAR_BORDER_BRIGHTNESS","BELOW","BOTH","BOX_PLOT","BUBBLE","BULLET","CANDLESTICK","CONTEXTMENU_NS","COLOR","COLUMN","CSS_PREFIX","CUSTOM","DATABOUND","DEFAULT_ERROR_BAR_WIDTH","DONUT","DONUT_SECTOR_ANIM_DELAY","DRAG","DRAG_END","DRAG_START","ERROR_LOW_FIELD","ERROR_HIGH_FIELD","X_ERROR_LOW_FIELD","X_ERROR_HIGH_FIELD","Y_ERROR_LOW_FIELD","Y_ERROR_HIGH_FIELD","FADEIN","FIRST","FROM","FUNNEL","GLASS","HORIZONTAL_WATERFALL","INSIDE_BASE","INSIDE_END","INTERPOLATE","LEAVE","LEGEND_ITEM_CLICK","LEGEND_ITEM_HOVER","LINE","LINE_MARKER_SIZE","LOGARITHMIC","MAX","MIN","MOUSELEAVE_NS","MOUSEMOVE_TRACKING","MOUSEMOVE_NS","MOUSEMOVE_DELAY","MOUSEWHEEL_DELAY","MOUSEWHEEL_NS","NOTE_TEXT","OHLC","OUTSIDE_END","PIE","PIE_SECTOR_ANIM_DELAY","PLOT_AREA_CLICK","PLOT_AREA_HOVER","POINTER","RANGE_BAR","RANGE_COLUMN","RENDER","ROUNDED_BEVEL","ROUNDED_GLASS","SCATTER","SCATTER_LINE","SELECT_START","SELECT","SELECT_END","SERIES_CLICK","SERIES_HOVER","START_SCALE","STEP","SMOOTH","STD_ERR","STD_DEV","SUMMARY_FIELD","TIME_PER_WEEK","TIME_PER_MONTH","TIME_PER_YEAR","years","months","weeks","days","minutes","seconds","TO","TOOLTIP_ANIMATION_DURATION","TOOLTIP_OFFSET","TOOLTIP_SHOW_DELAY","TOOLTIP_HIDE_DELAY","TOOLTIP_INVERSE","VERTICAL_AREA","VERTICAL_BOX_PLOT","VERTICAL_BULLET","VERTICAL_LINE","WATERFALL","ZOOM_ACCELERATION","ZOOM_START","ZOOM","ZOOM_END","BASE_UNITS","EQUALLY_SPACED_SERIES","DateLabelFormats","Chart","userOptions","dataSource","_originalOptions","_initTheme","_initSurface","_initDataSource","notify","theme","seriesCopies","_applyDefaults","_dataChangeHandler","_onDataChanged","_bindCategories","_hasDataSource","_redraw","_attachEvents","autoBind","fetch","setDataSource","_hasData","renderAs","negativeValues","transitions","xAxis","yAxis","panes","pannable","zoomable","_bindSeries","redraw","paneName","_model","_plotArea","findPane","getAxis","filter","seriesName","categoryName","firstSeries","srcSeries","filterPoints","pointsBySeriesName","charts","togglePointHighlight","_surfaceWrap","view","model","_getModel","_destroyView","_createTooltip","_setupSelection","_createPannable","_createZoomSelection","_createMousewheelZoom","originalChartArea","_sharedTooltip","_pannable","_zoomSelection","mousewheel","_mousewheelZoom","_tooltipleave","hideCrosshairs","_modelOptions","_createPlotArea","skipSeries","selections","_selections","_selectStartHandler","_selectStart","_selectHandler","_select","_selectEndHandler","_selectEnd","select","_mouseover","_mouseout","_mousewheel","_shouldAttachMouseMove","_userEvents","global","tap","_tap","_start","_move","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","_gestureDistance","_zooming","previousGestureDistance","scaleDelta","mousewheelZoom","updateRanges","_drawingChartElement","_events","_startNavigation","currentAxis","_navState","startLocation","_endNavigation","prevented","totalDelta","_mwTimeout","chartEvent","coords","_eventCoordinates","findPointPane","inAxis","backgroundBox","_suppressHover","_getChartElement","aliasFor","isTouch","client","_toModelCoordinates","win","drawingElement","_activePoint","_propagateClick","_startHover","tooltipOptions","isHighlighted","tooltipTracking","_mouseMoveTracking","seriesPoint","getNearestPoint","seriesIx","_trackCrosshairs","_trackSharedTooltip","crosshairs","showAt","pointArgs","hoverArgs","pointCategoryIndex","_tooltipCategoryIx","pointsByCategoryIndex","categoryPoints","_sourceSeries","grouped","processedSeries","_isBindable","_deferRedraw","_clearRedrawTimeout","_redrawTimeout","clearInterval","seriesData","axisIx","categoriesData","_bindCategoryAxis","categoryIx","dataItems","_bindCategoryAxisFromSeries","onAxis","dataIx","dataRow","getFn","dateAxis","uniqueCategories","categoryField","_legendItemClick","seriesIndex","pointIndex","transitionsState","originalSeries","_legendItemHover","pointsBySeriesIndex","_setEvents","PDFMixin","_registry","seriesTypes","registry","_valueFields","_otherFields","_nullValue","_undefinedValue","otherFields","binder","_makeValue","canonicalFields","pointIx","fieldData","srcValueFields","srcPointFields","_bindFromArray","sourceFields","_bindFromObject","initialValue","srcFields","srcFieldName","sourceFieldName","barLabel","textBox","aboveAxis","alignToClipBox","clipBox","parentBox","createContainer","createMarker","createLabel","markerOptions","markerColor","eventSink","_itemOverlay","active","legendItem","createItems","offsetX","offsetY","userAlign","innerElement","hasItems","containerCustomReflow","containerReflow","containerBox","alignTarget","_initFields","_initCategories","_ticks","outOfRangeMin","outOfRangeMax","definedMin","definedMax","srcCategories","rangeIndices","totalRange","totalRangeIndices","_seriesMax","getScale","stepSize","hideOutOfRangeLabels","firstLabel","lastLabel","getTicks","_hash","singleSlot","getCategory","categoryIndex","rate","diffStart","diffEnd","useDefault","roundToBaseUnit","userSetBaseUnit","userSetBaseUnitStep","defaultBaseUnit","autoBaseUnit","_groupsStart","groupCategories","dateFormats","autoBaseUnitSteps","maxDateGroups","rounds","cat","lastCat","minDiff","_categoryRange","_range","categoryLimits","categoriesRange","minIdx","maxIdx","_roundToTotalStep","currentRange","datesRange","panRange","totalLimits","indicesRange","baseUnitIndex","autoBaseUnitStep","maxDiff","rangeDiff","stepIndex","rangeMax","rangeMin","autoUnit","stepOptions","unitSteps","nextStep","autoUnitIx","span","units","totalUnits","_timeScale","timeRange","maxCategory","_collapse","nextDate","upper","roundToNext","roundedStep","roundedDate","unitFormat","axisCrossingValues","applyDefaults","timeUnits","baseUnitTime","userMajorUnit","actualUnits","unitsToAdd","head","tail","exact","limittedRange","childBox","cluster","slots","slotSize","positionAxis","createNote","noteText","_rendered","errorBar","labelText","labelTemplate","formatValue","owner","formatPointValue","rectVisual","createRect","strokeOpacity","getBorderColor","highlightVisual","borderColor","brightness","tooltipAnchor","tooltipWidth","tooltipHeight","isStacked","overlapsBox","fromScale","fadeTo","errorValue","initGlobalRanges","percentRegex","standardDeviationRegex","RegExp","average","deviation","errorRange","standardError","deviationMatch","valueGetter","createValueGetter","getAverage","getStandardDeviation","globalRange","getStandardError","getErrorRange","pointValue","percentValue","isSample","squareDifferenceSum","seriesCategoryAxis","valueAxisRanges","seriesPoints","seriesOptions","_evalSeries","invertAxes","traverseDataPoints","addValue","pointOptions","pointType","plotValue","categoryPts","categorySum","otherValues","otherStack","isStacked100","plotRange","positive","prevValue","isStackedBar","otherValue","seriesValueAxis","categoryAxisCrossingValue","stackLimits","stackName","pIx","updateStackRange","limits","errorTotals","chartSeries","limitsCache","negative","addErrorBar","lowValue","highValue","seriesErrorRanges","addPointErrorBar","stackedErrorRange","updateRange","createPoint","evalPointOptions","doEval","namedValueAxes","categorySlots","chartPoints","categorySlot","valueSlot","pointSlot","reflowPoint","reflowCategories","crossingValues","axisIndex","currentCategory","_outOfRangeCallback","_bindPoint","outOfRangePoint","bindCache","_bindCache","clusterType","stackType","stackWrap","negativeColor","getStackWrap","stackGroup","wraps","_stackGroup","zeroSlot","childrenLength","_setAnimationOptions","_setChildrenAnimation","pointVisual","fromOptions","toOptions","labelFrom","_createLabel","labelTo","plotLimits","wrapData","seriesItem","bulletOptions","targetSlot","targetValueSlot","targetSlotX","targetSlotY","bodyVisual","endCaps","valueBox","centerBox","capsWidth","getCapsWidth","capValue","capStart","capEnd","createDefaultVisual","seriesAxes","markerBorder","markerBox","_childBox","noteTargetBox","reflowLabel","defaultColor","shadow","halfSize","visualPoints","renderSegments","sortedPoints","pointCount","_segments","sortPoints","seriesMissingValues","createSegment","_addSegment","missingValues","assumeZero","nearestPoint","pointBox","allPoints","nearestPointDistance","animationPoints","_setEnd","setX","calculateStepPoints","prevPoint","prevMarkerBoxCenter","markerBoxCenter","isInterpolate","revDir","curveProcessor","curve","firstPoint","lastPoint","valueAxisLineBox","categoryAxisLineBox","stackPoints","_linePoints","createArea","prevSegment","_gapStackPoints","stackPoint","_stackPoints","currentSeriesIx","gapStackPoint","startIdx","endIdx","_previousSegmentPoint","_createGapStackPoint","segmentIx","seriesIdx","strokeSegments","_strokeSegments","createFill","createStroke","prevStrokeSegments","prevAnchor","stackSegments","firstAnchor","fillSegments","closeFill","fillPath","xAxisRanges","yAxisRanges","valueErrorField","lowField","highField","createMissingValue","xAxisName","yAxisName","xAxisRange","yAxisRange","namedXAxes","namedYAxes","currentSeriesPoints","missingValue","_maxSize","updateBubblesSize","pointsCount","animationOptions","minSize","minR","maxR","minArea","maxArea","areaRange","areaRatio","baseZIndex","mid","ocSlot","lhSlot","realBody","lines","reflowNote","_mainVisual","mainVisual","createOverlay","createBody","createLines","drawLines","lineStyle","normalColor","valueParts","splitValue","oSlot","cSlot","oPoints","cPoints","lhPoints","lower","q1","q3","filterOutliers","outliers","whiskerSlot","boxSlot","medianSlot","meanSlot","reflowBoxSlot","reflowWhiskerSlot","meanPoints","calcMeanPoints","whiskerPoints","calcWhiskerPoints","medianPoints","calcMedianPoints","renderOutliers","markersBorder","outlierValue","outerFence","reflowOutliers","animationDelay","lp","labelWidth","labelHeight","labelsOptions","labelsDistance","createSegmentVisual","borderOptions","singleSegment","createLegendItem","itemLabelOptions","pointVisible","legendOptions","inactiveItemsLabels","legendItems","anglePerValue","explode","colorsCount","evalSegmentOptions","segmentOptions","seriesConfig","minWidth","halfMinWidth","defaultPadding","newBox","newBoxCenter","seriesConfigs","leftSideLabels","rightSideLabels","labelComparator","leftLabelsReflow","rightLabelsReflow","distances","distanceBetweenLabels","distributeLabels","secondBox","firstBox","lr","remaining","_takeDistance","reflowLabels","amount","boxX","labelDistance","boxY","hAlignLabel","connectorLine","centerPoint","sr","crossing","_connectorLines","seriesId","pointInCircle","originalX","direction","holeSize","totalSize","seriesWithoutSize","currentSize","createSegments","summary","totalCategories","fromBox","toBox","guid","chartContainer","appendAxis","appendChart","removeAxis","removeChart","j","allAxes","vGridLines","hGridLines","shouldClip","_clipBox","axisValueField","unclipLabels","initSeries","createPanes","createCrosshairs","setTitle","currentPane","paneOptions","panesLength","paneIndex","currentCrosshair","removeCrosshairs","matchingPane","axisToRemove","filteredAxes","chartToRemove","filteredCharts","addToLegend","seriesVisible","groupAxes","paneAxes","paneIx","xAxes","yAxes","any","groupSeriesByPane","seriesByPane","seriesPaneName","filterVisibleSeries","reflowPanes","reflowAxes","reflowCharts","crossingAxes","valuesToAdd","alignAxisTo","targetAxis","crossingValue","targetCrossingValue","slotEdge","targetEdge","alignAxes","paneId","xAnchor","yAnchor","xAnchorCrossings","yAnchorCrossings","leftAnchors","rightAnchors","topAnchors","bottomAnchors","_overlap","_mirrored","shrinkAxisWidth","overflowX","shrinkAxisHeight","overflowY","shrinked","fitAxes","paneBox","reflowPaneAxes","autoRotateAxisLabels","groupedAxes","rotated","chartPane","percents","remainingHeight","remainingPanes","autoHeightPanes","axisA","axisB","axesCount","bgBox","_bgVisual","paneByPoint","_dispatchEvent","namedCategoryAxes","valueAxisRangeTracker","stack100","createCategoryAxes","aggregateCategories","createCategoryAxesLabels","createCharts","createValueAxes","paneSeries","visibleSeries","groupSeriesByCategoryAxis","createChartGroup","createAreaChart","createBarChart","createRangeBarChart","createBulletChart","createCandlestickChart","createBoxPlotChart","createOHLCChart","createWaterfallChart","createLineChart","axisPane","aggregateSeries","filterSeries","minCategory","outOfRangePoints","_outOfRangeMinPoint","_outOfRangeMaxPoint","aggregator","outOfRangeMinCategory","outOfRangeMaxCategory","srcData","srcPoints","aggregatorSeries","outOfRangeMinIdx","outOfRangeMaxIdx","aggregatePoints","categoriesToAdd","update","defaultPaneName","stackableChartOptions","axisSeries","unique","categoryAxes","barChart","rangeColumnChart","bulletChart","lineChart","areaChart","waterfallChart","axisRequiresRounding","categoryAxisName","categoryAxisIndex","seriesAxis","centeredSeries","aggregatedAxis","primaryAxis","axisType","defaultAxisRange","tracker","defaultRange","query","eventType","pointPane","updateAxisOptions","axesOptions","chartAxisRanges","chartRange","xAxisRangeTracker","yAxisRangeTracker","filteredSeries","createScatterChart","createScatterLineChart","createBubbleChart","createAxes","xAxisOptions","yAxisOptions","createXYAxis","seriesAxisName","firstPointValue","inferredDate","namedAxes","isLog","typeSamples","xAxesOptions","yAxesOptions","currentValue","xValues","yValues","createPieChart","pieChart","createDonutChart","donutChart","_points","toggleHandler","toggle","mobileScrollerSelector","padding-top","padding-right","padding-bottom","padding-left","_mobileScroller","_clearShowTimeout","_ensureElement","animate","showTimeout","_padding","_chartPadding","chartPadding","chartOffset","zoomLevel","viewport","pageYOffset","pageXOffset","_fit","pointColor","percBrightness","toggleClass","_hideElement","fadeOut","_pointContent","tooltipTemplate","xLow","xHigh","yLow","yHigh","_pointAnchor","viewPortSize","sharedTemplate","categoryFormat","_content","_slotAnchor","hCenter","categoryText","stickyMode","moveLine","getBox","dim","axisLineBox","getAnchor","sumOrNull","avg","aggregates","getValueAxis","selectorPrefix","_dateAxis","leftMask","rightMask","leftHandle","rightHandle","_index","stopPropagation","_press","_state","_rangeEventArgs","_value","moveTarget","handle","oldRange","touches","rightClick","which","_slot","leftMaskWidth","rightMaskWidth","zDir","lock","_active","_panAxes","updatedAxes","_marquee","zoomPane","elementOffset","_zoomPane","_zoomPaneClipBox","selectionPosition","_selectionPosition","_updateAxisRanges","initialDelta","defaultAggregates","fieldAggregate","seriesFields","_seriesFields","rootAggregate","aggregate","_series","_binder","canonicalName","srcValues","_bindPoints","firstDataItem","_bindField","_axis","easeOutElastic","asin","errorLow","errorHigh","xComparer","angularDistance","RadarNumericAxisMixin","RadarNumericAxis","RadarLogarithmicAxis","PolarAxis","RadarClusterLayout","RadarStackLayout","RadarSegment","RadarBarChart","RadarLineChart","RadarAreaSegment","SplineRadarAreaSegment","RadarAreaChart","PolarScatterChart","PolarLineChart","PolarAreaSegment","SplinePolarAreaSegment","PolarAreaChart","PolarPlotAreaBase","RadarPlotArea","PolarPlotArea","ARC","DEFAULT_PADDING","GAP","POLAR_AREA","POLAR_LINE","POLAR_SCATTER","RADAR_AREA","RADAR_COLUMN","RADAR_LINE","POLAR_CHARTS","RADAR_CHARTS","GridLinesMixin","majorAngles","minorAngles","skipMajor","majorGridLineAngles","renderMajorGridLines","minorGridLineAngles","renderMinorGridLines","renderGridLines","radiusCallback","gridLineAngles","skipAngles","divs","intervals","altAxisVisible","RadarCategoryAxis","divCount","divAngle","majorIntervals","minorIntervals","minorAngle","minorRadius","band","plotBandSlot","slotStart","totalDivs","slotAngle","bandStyle","polarAxis","plotBandPoints","innerPoints","outerPoints","innerCircle","outerCircle","radarMajorGridLinePositions","radarMinorGridLinePositions","tickRadius","angleIx","midAngle","gamma","beta","minorSkipStep","slotSector","childSector","isReversed","valueRadius","_polarAxisCenter","_hasMissingValuesGap","createPolarAxis","createValueAxis","axisDefaultRange","valueAxisOptions","heightDiff","valueAxisBox","_hasBarCharts","_isStacked100","chartOptions","scatterChart","FunnelSegment","FunnelPlotArea","createFunnelChart","funnelChart","FunnelChart","neckRatio","dynamicHeight","dynamicSlope","segmentSpacing","brightnessValue","labelPadding","chartBox","lastUpperSide","firstSegment","maxSegment","nextSegment","nextPercentage","topMostWidth","finalNarrow","decreasingWidth","previousHeight","previousOffset","totalHeight","createPath","highlightOverlay","calcOptions","hlOptions","fillOpacity","createPolyline","_buildLabel","styleGeometry","_pad","styleBox","getRange","_unpad","ArrowLinearPointerAnimation","BarLinearPointerAnimation","ANGULAR_SPEED","LINEAR_SPEED","ARROW","ARROW_POINTER","BAR_POINTER","CAP_SIZE","DEFAULT_LINE_WIDTH","DEFAULT_MIN_WIDTH","DEFAULT_MIN_HEIGHT","DEFAULT_MARGIN","DEGREE","GEO_ARC_ADJUST_ANGLE","NEEDLE","RADIAL_POINTER","Pointer","scaleOptions","newValue","_oldValue","repaint","RadialPointer","cap","arrow","setAngle","oldAngle","newAngle","RadialPointerAnimation","_renderNeedle","_renderCap","_renderArrow","getRadiusX","capSize","needleColor","needlePath","capColor","RadialScale","renderArc","labelElements","renderLabels","renderTicks","renderRanges","repositionRanges","labelAngle","isInside","lbl","prevLabelPos","labelTransform","tickAngles","rangeDistance","labelsGroup","setRadiusX","setRadiusY","rangeRadius","getRangeRadius","rangeGeom","rangeSegments","segmentsCount","rangeSegment","drawTicks","tickStart","tickEnd","labelsPosition","allTicks","tickArc","majorTickAngles","_tickDifference","minorTickAngles","normalizeTickAngles","tickCount","repositionTicks","minor","newPoint","xDiff","yDiff","Gauge","_createSurface","gaugeArea","pointers","_setValueOptions","_draw","_visuals","allValues","_getSize","_createGaugeArea","_createModel","_gaugeAreaMargin","areaGeometry","RadialGauge","radialGauge","_initialPlotArea","alignScale","_buildVisual","midDiff","oldDiff","plotAreaBox","getDiff","staleFlag","getPlotBox","plotBbox","plotBox","plotBoxCenter","paddingX","paddingY","LinearGauge","linearGauge","bboxX","bboxY","bbox2D","_getBox","_alignElements","_shrinkElements","scaleElements","currentOptions","LinearScale","ArrowLinearPointer","BarLinearPointer","scaleBox","pointerBox","scaleLine","renderLine","scaleTicks","linePath","renderAxisTick","tickPath","LinearPointer","track","pointerRangeBox","trackBox","trackSize","pointerHalfSize","getElementOptions","_margin","pointerShape","elementOptions","minSlot","sizeAxis","pointerPath","oldShape","oldPoints","newPoints","toScale","translateX","translateY","speed","getNext","state128","state128AB","states128","code128Base","msiBase","Barcode","DEFAULT_QUIETZONE_LENGTH","numberRegex","alphanumericRegex","InvalidCharacterErrorTemplate","Encoding","quietZoneLength","addQuietZone","initValue","addData","pattern","addCheckSum","invalidCharacterError","character","encodings","code39Base","minBaseUnitLength","addStart","addCharacter","pushCheckSum","prepareValues","charData","characterMap","addBase","code39ExtendedBase","addExtended","patterns","extendedMappings","shiftCharacters","dataCharacter","specialAsciiCodes","0","64","96","127","shiftValuesAsciiCodes","39","41","42","+","/","%","code39","checkSumMod","minRatio","maxRatio","gapWidth","splitCharacter","patternString","minBaseUnit","minHeight","getBaseUnit","toFixed","getBaseWidth","characterLength","addPattern","addCharacterGap","patternMappings","w","B","W","A","C","D","E","F","G","H","I","J","K","L","M","N","O","P","R","S","T","U","V","Z","-","."," ","code39extended","SHIFT0","SHIFT1","SHIFT2","SHIFT3","code93","cCheckSumTotal","kCheckSumTotal","setBaseUnit","checkSumLength","TERMINATION_BAR","checkValues","_getCheckValues","checksum","_findCharacterByValue","cValue","kValue","wightedSum","weightedValue","code93extended","encoding","pushState","FNC4","states","_initMoves","isCode","encodingState","_moves","numberMatch","maxLength","_moveFNC","_shiftState","_moveState","fnc","previousState","SHIFT","shifted","next4","dependentStates","_initSubStates","subState","_getSubState","_initSubState","_pushStart","pushData","subStates","_getAll","FNC1","startState","startAI","endAI","nextStart","separatorLength","regexSeparators","getBySeparator","getByLength","ai","validate","getAI","unsupportedAIError","applicationIdentifiers","multiKey","ids","22","402","7004","242","8020","703","8008","253","8003","_initStates","checkSum","getNextState","temp","STOP","code128a","code128b","code128c","code128","startStopLength","checkSumFunction","checkSums","checkSumType","Modulo10","evenSum","oddSum","odd","Modulo11","weight","checkValue","weightedSum","mod","Modulo11Modulo10","mod11Value","Modulo10Modulo10","mod10Value","msimod10","msimod11","msimod1110","msimod1010","code11","kCheckSumMinLength","DASH_VALUE","DASH","getWeightedSum","postnet","VALID_CODE_LENGTHS","DIGIT_SEPARATOR","baseHeight","ean13","calculateChecksum","leftKey","leftPart","rightPart","addPieces","addSide","keyTable","arrToAdd","limitedHeight","even","ean8","surfaceWrap","_render","textToDisplay","textHeight","textMargin","barHeight","_getBackground","_getText","_bandsGroup","_getBands","_textbox","toDecimal","toBitsString","splitInto","fillFunctionCell","matrices","bit","fillDataCell","maskPatternConditions","generatePowersOfTwo","powersOfTwoResult","powersOfTwo","generateGeneratorPolynomials","firstPolynomial","secondPolynomial","maxErrorCorrectionCodeWordsCount","generatorPolynomials","multiplyPolynomials","multiplyByConstant","getNumberAt","scoreFinderPatternOccurance","scores","rowColumn","finderPatternValue","scoreAdjacentSameBits","previousBits","adjacentBits","calculateDarkModulesRatioScore","darkModules","mod5","score","modeInstances","mode","FreeCellVisitor","fillData","padDataString","xorPolynomials","generateErrorCodewords","getBlocks","chooseMode","getModes","getDataCodewordsCount","getVersion","getDataString","encodeFormatInformation","encodeBCH","dividePolynomials","initMatrices","addFormatInformation","encodeVersionInformation","addVersionInformation","addCentricPattern","addFinderSeparator","addFinderPatterns","addAlignmentPatterns","addTimingFunctions","scoreMaskMatrixes","EncodingResult","IsoEncoder","UTF8Encoder","QRCodeDataEncoder","encodeData","QRCodeDefaults","QRCode","terminator","NUMERIC","ALPHA_NUMERIC","BYTE","irregularAlignmentPatternsStartDistance",15,16,18,19,24,26,28,31,32,33,36,37,"versionsCodewordsInformation","totalDataCodewords","errorCodewordsPerBlock","finderPattern","alignmentPattern","errorCorrectionPatterns","formatMaskPattern","formatGeneratorPolynomial","versionGeneratorPolynomial","paddingCodewords","alphaPattern","alphaExclusiveSet","alphaRegex","alphaNumericRegex","byteRegex","initMinNumericBeforeAlpha","initMinNumericBeforeByte","initMinAlphaBeforeByte","minNumericBeforeAlpha","minNumericBeforeByte","minAlphaBeforeByte","QRDataMode","getVersionIndex","getBitsCharacterCount","bitsInCharacterCount","getModeCountString","modeIndicator","getStringBitsLength","modes","inputLength","mod3","characters","*",":","startColumn","getNextCell","getNextRemainderCell","block","codewordIdx","cell","blockIdx","cellVisitor","dataString","dataBitsCount","terminatorIndex","paddingCodewordIndex","errorCodewordsCount","generator","generatorPolynomial","steps","errorCodewords","dataStream","versionCodewordsInformation","dataBlock","blockCodewordsCount","groupBlocksCount","messagePolynomial","codeword","codewordStart","dataBlocks","errorBlocks","versionGroups","previousMode","modeString","numeric","numericMatch","alphaMatch","alphaNumeric","alphaNumericMatch","nextMode","dataCodewordsCount","errorCorrectionLevel","encodedString","formatNumber","codeLength","generatorNumber","polynomialLength","valueNumber","valueString","numberX","numberY","yLength","xLength","modules","formatString","quotient","nextX","nextY","startDistance","adjacentSameBits","getEncodingResult","inputString","encodingMode","utfBOM","initialModeCountStringLength","encodeCharacter","significantOnes","bytesCount","getBytesCount","bc","optimalMatrix","encoder","encodingResult","versionInformation","DEFAULT_SIZE","QUIET_ZONE_LENGTH","DEFAULT_ERROR_CORRECTION_LEVEL","DEFAULT_BACKGROUND","DEFAULT_DARK_MODULE_COLOR","MIN_BASE_UNIT_SIZE","quietZoneSize","dataSize","contentSize","errorCorrection","_calculateBaseUnit","_renderBackground","_renderMatrix","matrixSize","QRCodeFunctions","QRCodeFields","ClonedObject","NavigatorHint","AUTO_CATEGORY_WIDTH","NAVIGATOR_PANE","NAVIGATOR_AXIS","StockChart","stockDefaults","dateField","Navigator","_destroyNavigator","dummyAxis","hasServerFiltering","serverFiltering","mainAxis","naviOptions","hasSelect","buildFilter","hint","_fullRedraw","_navigator","_dirty","redrawSlaves","dirty","_seriesCount","_setRange","_initSelection","_dataBound","axesLength","navi","_drag","_zoom","_zoomEnd","dsOptions","_dataChangedHandler","naviCategories","_redrawSelf","axisClone","selectStart","selectEnd","filterAxes","silent","slavePanes","navigatorAxis","naviRange","inNavigator","_liveDrag","showHint","filterDataSource","isFirefox","isOldIE","readSelection","dst","chartDataSource","fromIx","toIx","__navi","attachAxes","attachSeries","valueAxes","equallySpacedSeries","justifyAxis","user","navigatorSeries","operator","hintTemplate","scroll","minPos","maxPos","posRange","_hideTimeout","_visible","wrapNumber","ObservableArray","DEAULT_BAR_WIDTH","DEAULT_BULLET_WIDTH","NO_CROSSHAIR","Sparkline","stage","_initialWidth","pointWidth","_autoWidth","SparklineSharedTooltip","dsTotal","_anchor","Extent","Location","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","loc","dest","datum","greatCircleTo","bearing","fromLat","fromLng","dToR","datums","WGS84","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","prevLambda","converged","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","sinA","u2","deltao","azimuthFrom","azimuthTo","fromLngLat","ll","fromLatLng","nw","se","containsAny","locs","include","includeAll","edges","ne","sw","extent","World","Attribution","itemTemplate","_extent","_itemText","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","button","BUTTONS","parentElement","_keyroot","_tabindex","_keydown","panStep","dispose","_pan","currentTarget","UP","DOWN","symbol","PLUS","MINUS","FF_PLUS","FF_MINUS","ZoomControl","zoomStep","NUMPAD_PLUS","NUMPAD_MINUS","exp","PI_DIV_4","Mercator","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","centralMeridian","forward","clamp","proj","lng0","_projectLat","ecc","ts","con","inverse","_inverseY","dphi","ecch","phi","SphericalMercator","Equirectangular","EPSG3857","crs","_proj","_tm","_itm","toPoint","toLocation","EPSG3395","EPSG4326","projections","Layer","_beforeReset","_reset","_panEnd","_activate","_updateAttribution","_deactivate","_applyExtent","_setVisibility","matchMinZoom","matchMaxZoom","inside","attribution","layers","ShapeLayer","_initRoot","_markers","_dataChange","_translateSurface","_data","_load","_clearMarkers","_loader","GeoJSONLoader","shapeCreated","cancelled","_createMarker","layer","featureCreated","_panning","locationToView","locator","defaultStyle","unwrap","_loadGeometryTo","_featureCreated","_shapeCreated","properties","_loadPolygon","_setLineFill","_loadPoint","_loadShape","rings","_buildPolygon","schemas","geojson","features","geometries","transports","dataType","BubbleLayer","locationField","valueField","scaleType","_scaleType","_createSymbol","_drawSymbol","scales","symbols","SqrtScale","domain","domainRange","outputRange","_domain","_ratio","rel","Symbols","roundPoint","TileLayer","subdomains","viewType","_viewType","_view","locationToLayer","viewOrigin","_updateView","TileView","mobileOS","extentToPoint","pool","TilePool","tileSize","urlTemplate","_center","_viewOrigin","pointToTileIndex","tileCount","firstTileIndex","indexToPoint","subdomainText","subdomainIndex","tile","createTile","currentIndex","tileOptions","wrapIndex","subdomain","errorUrlTemplate","boundary","wrapValue","ImageTile","error","errorUrl","urlResult","urlOptions","z","quadkey","_create","maxDist","BingLayer","_scheme","_onMetadata","_fetchMetadata","imagerySet","ajax","uriScheme","jsonp","success","protocol","resource","resourceSets","resources","imageUrl","imageUrlSubdomains","zoomMin","zoomMax","_addAttribution","BingView","imageryProviders","coverageAreas","tileQuadKey","digit","mask","quadKey","bing","MarkerLayer","_markerClick","titleField","_addOne","Marker","addTo","getLocation","getTitle","attributes","renderTooltip","contentTemplate","contentUrl","FRICTION_MOBILE","MOUSEWHEEL","Map","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","controls","layerDefaults","markerDefaults","wraparound","scroller","zoomControl","level","_setExtent","_getExtent","_layerSize","layerToLocation","viewToLocation","eventOffset","eventToView","eventToLayer","eventToLocation","viewSize","_setOrigin","_origin","layerWidth","layerHeight","_zoomAround","pivot","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPos","posSelector","_navigatorPan","_navigatorCenter","bounds","_virtualSize","one","_scrollEnd","_zoomControlChange","_scroll","_scaleStart","impl","_scrollOffset","_panComplete","_panEndTS","_scaleToZoom","gestureCenter","centerLocation","originPoint","tiles","_resetScroller","xBounds","yBounds","forcedMinScale","maxScale","_renderLayers","scrollWrap","fromZoom","toZoom","postZoom","Range","rangeIntegerScale","Utils","findRadian","sngXComp","sngYComp","Easing","Ticker","EPSILON","isNearZero","isDefined","isUndefined","isObject","has","isString","isBoolean","isType","isEmpty","simpleExtend","source","initArray","serializePoints","res","deserializePoints","randomInteger","random","DFT","getMatrixAngle","getMatrixScaling","sX","sY","findAngle","iterator","thisRef","predicate","what","fold","list","acc","initial","constraint","bisort","sortfunc","addRange","easeInOut","adapters","lastTime","handlers","_this","timerDelegate","onTimerEvent","addAdapter","onComplete","handler","removeHandler","caller","onStep","seekTo","seekFromTo","intervalId","setInterval","initState","propagate","movement","timePassed","intersectLine","start1","end1","start2","end2","isSegment","num1","num2","tangensdiff","normalVariable","randomId","chars","PathDefiner","Intersect","RectAlign","Polar","MatrixVector","Geometry","HashTable","Dictionary","Queue","Set","Link","Graph","HITTESTAREA","plus","minus","times","normalize","lengthSquared","middleOf","toPolar","useDegrees","halfpi","factor","isOnLine","o1","u1","inflate","tempStr","xy","rotatedBounds","delimiter","staicPoint","adornerCenter","scaled","thisCenter","rectBottomRight","Empty","rectWithLine","rects","rect1","rect2","reverseAngle","alignValues","_singleAlign","_align","_left","_right","stretch","_stretch","_top","_middle","_bottom","alignCalc","applyRect","fromSVGMatrix","vm","fromMatrixVector","fromList","translation","scaling","nums","fromMatrix","_distanceToLineSquared","pt1","pt2","vx","vy","distanceToLine","distanceToPolyline","minimum","_buckets","_createGetBucket","_bucketExists","containsKey","hashId","bucket","hashes","_hashes","ht","_hashString","_objectHashId","ch","_hashId","dictionary","_hashTable","forEachValue","forEachKey","enqueue","dequeue","kv","links","outgoing","incoming","associatedShape","shortForm","isVirtual","isIsolated","isLinkedTo","link","getComplement","getChildren","getParents","balance","adjacentTo","removeLink","hasLinkTo","degree","incidentWith","getLinksWith","getNeighbors","neighbors","connection","sourceFound","targetFound","associatedConnection","getCommonNode","isBridging","getNodes","changeSource","changeTarget","changesNodes","oldSource","oldTarget","directTo","createReverseEdge","reversed","idOrDiagram","_nodeMap","_hasCachedRelationships","cacheRelationships","forceRebuild","assignLevels","startNode","visited","getConnectedComponents","componentId","components","graph","componentIndex","setItemIndices","_collectConnectedNodes","addNodeAndOutgoings","setIds","nodeIndex","nextId","calcBounds","getSpanningTree","levelCount","ni","cn","newLink","treeLevels","tree","_addNode","addLink","takeRandomNode","excludedNodes","incidenceLessThan","isHealthy","hasNode","sourceOrLink","foundSource","foundTarget","addExistingLink","getNode","addNode","removeAllLinks","hasLink","linkOrId","nodeOrId","_removeNode","removeNode","areConnected","n1","n2","layoutRect","newNode","newLinks","saveMapping","linkMap","nOriginal","nCopy","linkOriginal","linkCopy","linearize","addIds","depthFirstTraversal","foundNode","_dftIterator","breadthFirstTraversal","queue","_stronglyConnectedComponents","excludeSingleItems","indices","lowLinks","connected","component","findCycles","isAcyclic","isSubGraph","otherArray","thisArray","makeAcyclic","oneLink","oneNode","rev","intensityCatalog","flowIntensity","catalogEqualIntensity","sourceStack","targetStack","intensity","targets","li","targetLink","sources","si","sourceLink","maxdiff","ril","u","vertexOrder","kk","reversedEdges","Predefined","EightGraph","Mindmap","ThreeGraph","BinaryTree","levels","createBalancedTree","Linear","Tree","siblingsCount","Forest","trees","createBalancedForest","Workflow","Grid","graphString","previousLink","part","lin","_addShape","kendoDiagram","undoable","addShape","_addConnection","connect","createDiagramFromGraph","doLayout","randomSize","gli","sourceShape","targetShape","shi","clientWidth","clientHeight","SpringLayout","layoutGraph","limitToView","lastAdded","news","treeCount","createRandomConnectedGraph","nodeCount","maxIncidence","isTree","poolNode","randomAdditions","randomDiagram","shapeCount","diffNumericOptions","hasChanges","sizeOptionsOrDefault","normalizeDrawingOptions","drawingOptions","getColor","TRANSPARENT","lineAngle","toDrawingRect","Scale","Translation","Rotation","CompositeTransform","AutoSizeableMixin","VisualBase","TextBlock","Rectangle","MarkerBase","CircleMarker","ArrowMarker","MarkerPathMixin","Line","Polyline","Canvas","Markers","none","arrowStart","filledCircle","arrowEnd","FULL_CIRCLE_ANGLE","toMatrixVector","Length","_transform","_renderTransform","rotateMatrix","scaleMatrix","translatePoint","_setScale","originWidth","_originWidth","originHeight","_originHeight","_setTranslate","_initSize","autoSize","_updateSize","_diffNumericOptions","_originSize","drawingContainer","_hover","force","_measured","_boundingBox","_fill","_stroke","strokeOptions","fillOptions","GradientClass","_textColor","_font","_initText","fontOptions","fontStyle","fontWeight","sizeChanged","_initPath","_setPosition","_drawPath","sizeOptions","_transformToPath","positionMarker","targetSegment","_getPath","_normalizeMarkerOptions","startCap","endCap","_removeMarker","_createMarkers","markerType","_positionMarker","_capMap","_redrawMarker","pathChange","pathOptions","pathCapType","optionsCap","created","_redrawMarkers","_createElements","_setData","multipath","_updatePath","_pointsDiffer","currentPoints","differ","_initImage","_childrenChange","toFront","toBack","_reorderChildren","toIndex","drawingChildren","fixedPosition","childBoundingBox","_includeInBBox","drawingRect","_initCircle","circleOptions","_circle","_translate","_viewBox","clearHtml","testKey","hitToOppositeSide","hit","canDrag","drag","hitTestShapeConnectors","connector","HIT_TEST_DISTANCE","noMeta","meta","PositionAdapter","LayoutUndoUnit","CompositeUnit","ConnectionEditUnit","ConnectionEditUndoUnit","DeleteConnectionUnit","DeleteShapeUnit","TransformUnit","AddConnectionUnit","AddShapeUnit","PanUndoUnit","RotateUnit","ToFrontUnit","ToBackUnit","UndoRedoService","EmptyTool","ScrollerTool","PointerTool","SelectionTool","ConnectionTool","ConnectionEditTool","ToolService","ConnectionRouterBase","LinearConnectionRouter","PolylineRouter","CascadingRouter","AdornerBase","ConnectionEditAdorner","ConnectorsAdorner","ResizingAdorner","Selector","ConnectorVisual","Cursors","grip","cross","south","east","west","north","rowresize","colresize","DEFAULT_SNAP_SIZE","DEFAULT_SNAP_ANGLE","ITEMROTATE","ITEMBOUNDSCHANGE","MIN_SNAP_SIZE","MIN_SNAP_ANGLE","MOUSE_ENTER","MOUSE_LEAVE","SCROLL_MIN","SCROLL_MAX","PAN","ROTATED","SOURCE","TARGET","HANDLE_NAMES","-1","layoutState","pusher","getShapeById","subjects","froms","tos","initialState","finalState","_initialState","_finalState","undo","setState","redo","ticker","conn","undoUnit","redoSource","redoTarget","_redoSource","_redoTarget","_undoSource","_undoTarget","_updateConnector","updateModel","undoSource","undoTarget","targetConnector","undoStates","adorner","redoStates","layout","refreshBounds","deselect","initialPosition","finalPosition","finalPos","undoRotates","redoRotates","redoAngle","_angle","_innerBounds","_initialize","initialIndices","_toIndex","capacity","begin","commit","execute","_restart","addCompositeItem","toolService","tryActivate","getCursor","virtualScroll","tool","scrollable","kendoMobileScroller","movableCanvas","hoveredItem","hoveredAdorner","_hoveredConnector","scrollPos","_storePan","selectSingle","_hitTest","_resizingAdorner","isDragHandle","connections","undoRedoService","_getCursor","selector","isSelected","selectArea","_createConnection","_c","connectionHandle","_connectionManipulation","_removeHover","activeConnection","sourceConnector","Shape","getConnector","_syncConnectionChanges","isActive","handleName","activeTool","_updateHoveredItem","_activateTool","_updateCursor","focus","updateHovered","keyDown","toRemove","metaKey","_triggerRemove","_syncChanges","_destroyToolBar","_discardNewConnection","selectAll","cut","paste","wheel","zoomRate","zoomOptions","setTool","addToSelection","newConnection","disabledShape","isNew","selectedConnections","_connectorsAdorner","_selectedItems","Connection","_hitTestItems","_hitTestElements","mainLayer","connectionIdx","shapeHit","connectionHit","hitTest","rec","getBounds","route","SAME_SIDE_DISTANCE_RATIO","routePoints","_connectorPoints","_floatingPoints","_resolvedSourceConnector","_resolvedTargetConnector","sourcePoint","targetPoint","_connectorSides","boundsPoint","secondarySign","_connectorSide","sideDistance","minSide","shapeBounds","sides","_sameSideDistance","pointX","pointY","sourceConnectorSide","targetConnectorSide","deltaX","deltaY","sameSideDistance","shiftX","shiftY","cascadeStartHorizontal","_startHorizontal","sourceSide","_adorners","sp","tp","_ts","spVisual","epVisual","_initialSource","_initialTarget","sourcePointDistance","targetPointDistance","sourceHandle","targetHandle","modelToLayer","_refreshHandler","ctr","_manipulating","_createHandles","selected","_internalChange","_rotatedHandler","_resizable","_handleOptions","_bounds","handleBounds","handlesCount","_getHandleBounds","_rotationOffset","_startAngle","_rotates","_positions","initialRotates","initialStates","handleOptions","_sp","_cp","_lp","shapeStates","visibleHandles","dragging","newBounds","staticPoint","thr","newCenter","oldBounds","dtl","dbr","changed","_truncateAngle","_rotating","shouldSnap","_truncateDistance","_displaceBounds","_truncatePositionToGuides","ruler","truncatePositionToGuides","_truncateSizeToGuides","truncateSizeToGuides","snap","snapOptions","snapAngle","snapSize","_diffStates","_syncShapeChanges","rotationThumb","_rotationThumbBounds","_ep","_adorn","visualBounds","modelToView","relative","_visualBounds","HyperTree","LayoutBase","subtype","nodeDistance","iterations","horizontalSeparation","verticalSeparation","underneathVerticalTopOffset","underneathHorizontalOffset","underneathVerticalSeparation","componentSpacingX","componentSpacingY","layerSeparation","layeredIterations","startRadialAngle","endRadialAngle","radialSeparation","radialFirstLevelSeparation","keepComponentsInOneRadialLayout","ignoreContainers","layoutContainerChildren","ignoreInvisible","animateTransitions","gridLayoutComponents","maxWidth","startX","startY","resultLinkSet","resultNodeSet","boundingRect","currentHeight","currentWidth","moveToOffset","nodeBounds","newpoints","deltax","deltay","currentHorizontalOffset","transferOptions","DiagramToHyperTreeAdapter","shapeMap","edgeMap","finalNodes","finalLinks","ignoredConnections","ignoredShapes","hyperMap","hyperTree","finalGraph","convert","_renormalizeShapes","_renormalizeConnections","mapConnection","mapShape","getEdge","listToRoot","containerGraph","parentContainer","firstNonIgnorableContainer","isContainer","_isIgnorableItem","isContainerConnection","isDescendantOf","scope","containers","isIgnorableItem","isCollapsed","_isVisible","_isTop","isShapeMapped","leastCommonAncestor","al","xa","xb","_isCollapsed","sink","sourceNode","sinkNode","newEdge","areConnectedAlready","adapter","finalNodeSet","LayoutState","initialTemperature","guessBounds","temperature","_expectedBounds","refineStage","_repulsion","_attraction","_shake","rho","_InverseSquareForce","wn","hn","wm","hm","_SquareForce","av","squareSize","TreeLayoutProcessor","treeGraph","layoutSwitch","layoutLeft","setChildrenDirection","setChildrenLayout","TreeDirection","Width","arrange","layoutRight","layoutUp","up","layoutDown","down","treeDirection","layoutRadialTree","previousRoot","maxDepth","calculateAngularWidth","radialLayout","Angle","tipOverTree","startFromLevel","aw","sectorAngle","sortChildren","nl","col","basevalue","normalizeAngle","childAngleFraction","deltaTheta","deltaThetaHalf","parentSector","fraction","sorted","setPolarLocation","BoundingRectangle","includeStart","rootDirection","rootLayout","childrenLayout","givenSize","shapeWidth","shapeHeight","AngleToParent","SectorAngle","pp","childrenwidth","selfLocation","single","male","female","leftcount","tipOverTreeStartLevel","TreeLayout","layoutComponents","getTree","givenRootShape","getTreeForRoot","LayeredLayout","_initRuntimeProperties","downstreamLinkCount","upstreamLinkCount","uBaryCenter","dBaryCenter","upstreamPriority","downstreamPriority","gridPosition","_prepare","targetLayer","sortedNodes","minLayer","layerMap","layerCount","o2","o1layer","o2layer","linksTo","_dummify","_optimizeCrossings","_swapPairs","arrangeNodes","_moveThingsAround","_dedummify","setMinDist","minDist","layerIndex","minDistances","getMinDist","i1","i2","placeLeftToRight","leftClasses","classNodes","rightSibling","neighbor","leftPos","placeLeft","POSITIVE_INFINITY","nodeLeftClass","upNodes","downNodes","intDiv","placeRightToLeft","rightClasses","leftSibling","rightPos","placeRight","NEGATIVE_INFINITY","nodeRightClass","_getLeftWing","leftWing","computeClasses","_getRightWing","rightWing","wingPair","ndsinl","vnode","wings","currentWing","wing","_nodesInLink","classIndex","_isVerticalLayout","_isHorizontalLayout","_isIncreasingLayout","maximumHeight","currentNode","currDown","downNode","placed","sequenceStart","sequenceEnd","directions","fromLayerIndex","reachedFinalLayerIndex","layerIncrement","_gridPositionComparer","virtualStartIndex","virtualStart","sequence","virtualEnd","virtualEndIndex","_firstVirtualNode","_sequencer","nextVirtualNode","adjustDirections","prevBridge","prevBridgeTarget","nextBridge","nextBridgeTarget","clayer","j1","j2","getNeighborOnLayer","_sequenceSingle","combineSequences","pair","rightHeap","leftRes","rightRes","leftHeap","_positionDescendingComparer","_positionAscendingComparer","leftClass","_getComposite","rightClass","maxLayoutIterations","it","gridPos","layoutLayer","iconsidered","considered","n1Priority","n2Priority","nodeGridPos","nodeBaryCenter","calcBaryCenter","nodePriority","moveRight","moveLeft","calcDownData","calcUpData","priority","rightNode","rightNodePriority","leftNode","leftNodePriority","mapVirtualNode","nodeToLinkMap","linkToNodeMap","addLinkBetweenLayers","o","oLayer","dLayer","oPos","dPos","upLayer","downLayer","depthOfDumminess","prevLink","dedum","moves","maxIterations","iter","optimizeLayerCrossings","presorted","inode","compareValue","n1BaryCenter","n2BaryCenter","compareByIndex","downwards","secondPass","hasSwapped","calcCrossings","memCrossings","crossBefore","node1","node2","node1GridPos","node2GridPos","crossAfter","revert","countLinksCrossingBetweenTwoLayers","ulayer","dlayer","link1","link2","n11","n12","n21","n22","l1","l2","n11gp","n12gp","n21gp","n22gp","crossings","numerator","denominator","graphOrNodes","diagramOrGraphOrNodes","GraphAdapter","isAutoConnector","closestConnector","resCtr","minimumDistance","MAXINT","indicesOfItems","filterShapeDataItem","filterConnectionDataItem","fromConnector","fromX","fromY","toConnector","toX","toY","connectionSelector","textField","reader","idField","kendoDropDownList","dataValueField","dataTextField","toJSON","optionLabel","valuePrimitive","InactiveItem","callbacks","InactiveItemsCollection","cloneDataItem","Model","_defaultId","splitDiagramElements","createModel","ObservableObject","clearField","copyDefaultOptions","mainOptions","translateToOrigin","defaultButtons","DiagramElement","Connector","Diagram","DiagramToolBar","Editor","PopupEditor","HierarchicalDataSource","CASCADING","CLICK","ERROR","DEFAULT_CANVAS_WIDTH","DEFAULT_CANVAS_HEIGHT","DEFAULT_SHAPE_TYPE","DEFAULT_SHAPE_WIDTH","DEFAULT_SHAPE_HEIGHT","DEFAULT_SHAPE_MINWIDTH","DEFAULT_SHAPE_MINHEIGHT","DEFAULT_SHAPE_POSITION","DEFAULT_CONNECTION_BACKGROUND","ABSOLUTE","TRANSFORMED","MOBILE_ZOOM_RATE","MOBILE_PAN_DISTANCE","BUTTON_TEMPLATE","CONNECTION_CONTENT_OFFSET","DefaultConnectors","getPosition","imageClass","iconClass","serializable","serialize","json","contentOptions","contentVisual","_contentVisual","_updateContentVisual","_createContentVisual","elementTemplate","_canSelect","shapeId","updateOptionsFromModel","createShapeVisual","updateBounds","_createConnectors","_setOptionsFromModel","modelOptions","redrawVisual","_isEditable","_redrawVisual","syncChanges","_suspendModelRefresh","_resumeModelRefresh","_rotate","_alignContent","containerRect","aligner","contentBounds","contentRect","alignedBounds","_transformedBounds","_rotatedBounds","_setBounds","_triggerBoundsChange","_layouting","refreshConnections","deselected","_internalSelection","_selectionChanged","sc","deltaAngle","newPosition","cons","nameOrPoint","toLocaleLowerCase","fnName","_transformPoint","shapeOptions","boundsChange","shapeVisual","_visualOptions","_updateConnectors","_showConnectors","visualTemplate","_initRouter","_sourcePoint","_targetPoint","_setSource","_setTarget","definers","toConenctor","dataMap","_dataMap","connectionsDataSource","getByUid","uid","shapeSource","defaultConnector","_removeFromSourceConnector","_clearSourceConnector","_setFromOptions","fromPoint","sourceDefiner","_sourceDefiner","shapeTarget","_removeFromTargetConnector","_clearTargetConnector","_setToOptions","targetDefiner","_targetDefiner","instance","connectorName","setNewTarget","inactiveItem","_inactiveShapeItems","_deferredConnectionUpdates","onActivate","alignToPath","midIdx","_router","pts","_resolveConnectors","_refreshPath","sourceConnectors","targetConnectors","_resolveAutoConnectors","minNonConflictSource","minNonConflictTarget","minSource","minTarget","sourceIdx","targetIdx","minNonConflict","_testRoutePoints","router","passRoute","_shapesQuadTree","hitTestRect","_initElements","_extendLayoutOptions","_initDefaults","_interactionDefaults","_initCanvas","adornerLayer","_createHandlers","_clipboard","pauseMouseHandlers","_fetchFreshData","_createGlobalToolBar","_createOptionElements","draggable","toolBar","_toolBarClick","modal","createShape","editor","_createShape","edit","createConnection","_connectionsDataMap","addConnection","editModel","editorType","editors","connectionSelectorHandler","cancelEdit","shapeEditors","shapeTemplate","connectionEditors","connectionTemplate","_update","_cancel","_editArgs","_getEditDataSource","cancelChanges","_destroyEditor","saveEdit","sync","userShapeDefaults","canvasContainer","viewPort","_dragStart","_gestureStart","_gestureChange","_gestureEnd","_mouseMove","_syncHandler","_resizeHandler","onResize","_pauseMouseHandlers","_eventPositions","_meta","_createToolBar","ctrlPressed","focused","keyCode","documentToModel","initialCenter","_gesture","_initialCenter","zoomedPoint","previousGesture","documentToView","updateZoom","_getValidZoom","_panTransform","_updateAdorners","shapesLength","_createShapes","_createConnections","_findConnectionTarget","unbindResize","destroyScroller","_destroyGlobalToolBar","_activeElement","scrollContainer","offsets","added","removed","_removeItem","_removeShapeDataItem","_removeConnectionDataItem","_getDiagramItems","_fixOrdering","bringIntoView","original","newPan","_zoomMainLayer","alignShapes","viewportVector","_getPan","_copyOffset","copied","mapping","_updateCopiedConnection","sourceConnection","di","_containerOffset","containerOffset","viewToDocument","viewToModel","_transformWithMatrix","_matrixInvert","_layerMatrix","layerToModel","_layerMatrixInvert","viewPoint","modelToDocument","_dataSource","setConnectionsDataSource","_connectionDataSource","_redrawConnections","getShapeByModelId","getShapeByModelUid","getConnectionByModelId","getConnectionByModelUid","_transformMainLayer","_finishPan","NaN","_storeViewMatrix","_storeLayerMatrix","canvasTransform","shapePos","conPos","removedConnections","_removeShape","_removeConnection","_removeDataItems","recursive","_removeShapeConnections","hasChildren","loaded","_addDataItem","_addDataItemByUid","_addDataItems","parentShape","_refreshSource","dataBound","_bindingRoots","_addItem","preventClosing","popupWidth","popupHeight","connectionBounds","singleToolBar","_popup","_normalizePointZoom","undone","redone","_loadingShapes","_loadingConnections","ds","_shapesRefreshHandler","_shapesRequestStartHandler","_shapesErrorHandler","_refreshShapes","_shapesRequestStart","_error","_treeDataSource","_connectionsRefreshHandler","_connectionsRequestStartHandler","_connectionsErrorHandler","_refreshConnections","_connectionsRequestStart","_connectionsError","_shouldRefresh","_removeShapes","_updateShapes","_syncShapes","_rebindShapesAndConnections","_addShapes","_addConnections","activate","_removeConnections","_updateConnections","_addConnectionDataItem","_validateConnector","_unbindDataSource","_errorHandler","adorners","_refresh","scrollOffset","viewRect","clipWrap","deferredConnectionUpdates","_tools","createToolBar","createTools","appendTools","createPopup","kendoPopup","getKendoPopup","buttons","_toolBar","kendoToolBar","resizable","getKendoToolBar","createTool","toolName","_setAttributes","newGroup","editTool","spriteCssClass","showText","deleteTool","rotateAnticlockwiseTool","_appendGroup","_rotateGroup","rotateClockwiseTool","createShapeTool","_createGroup","createConnectionTool","undoTool","_historyGroup","redoTool","_getAttributes","eventData","selectedElements","delete","selectedElemens","rotateClockwise","rotateAnticlockwise","_getFields","createEditable","Editable","clearContainer","modelFields","columns","formContent","_renderTemplate","_renderFields","_renderButtons","Window","userTriggered","_cancelClick","_attachButtonEvents","unescape","form","_createButton","_cancelClickHandler","_updateClickHandler","_updateClick","_editUpdateClickHandler","deffered","deferred","_testRect","overlapsBounds","boundsChangeHandler","_boundsChange","xIdx","yIdx","colorsByLength","rgbColor","minRGBtoDecimal","rgbToDecimal","maxRGBtoDecimal","isDarker","colorBrightness","colorByIndex","buildColorFromRGB","minColor","maxColor","currentStep","decimalToRgb","colorToRGB","rgbToHex","colorLength","rgb","DATA_BOUND","ITEM_CREATED","MOUSEOVER_NS","TreeMap","_setLayout","colorField","_layout","SliceAndDice","SliceAndDiceView","Squarified","SquarifiedView","_onDataChange","htmlSize","_getByUid","Query","_sortForGrouping","_wrapItem","compute","_setColors","_cleanItems","createRoot","_colorIdx","angular","colorRange","leafNodes","colorIdx","_contentSize","renderHeight","findByUid","hasClass","_removeActiveState","_resizeItems","setItemSize","leaf","layoutChildren","minimumSideValue","firstElement","parentArea","totalArea","itemsArea","layoutHorizontal","squarify","initElement","computeDim","newCoords","layoutLast","layoutRow","worstAspectRatio","layoutV","layoutH","layoutVertical","layoutChange","areaSum","rootCoord","newRootCoord","ans","_totalArea","_clean","_createTitle","_compile","_createWrap","innerWidth","rootWrap","htmlElement","_createLeaf","_createTile","_tileColorBrightness","_itemCoordinates","titleTemplate","sliceAndDice","withoutTimeout","$timeout","createWidget","origAttr","controllers","createIt","originalElement","destroyRegister","kNgDisabled","isDisabled","kNgReadonly","isReadonly","kRebind","parseOptions","ctor","OPTIONS_NOW","exposeWidget","$emit","destroyWidgetOnScopeDestroy","setupRebind","$eval","bindToKNgDisabled","readonly","bindToKNgReadonly","kNgModel","bindToKNgModel","ngModel","bindToNgModel","ngForm","propagateClassToWidgetWrapper","kNgDelay","delayValue","parsed","unresolved","unwatch","$watch","$root","unregister","$attr","$$phase","$apply","addOption","scopeValue","widgetOptions","widgetEvents","role","optionsPath","kOptions","optionsValue","dataName","eventKey","optionName","ignoredOwnProperties","ignoredAttributes","kDataSource","createDataSource","$angular","PanelBar","Menu","$log","warn","oldValue","kendoWidget","$parse","assign","formValue","isForm","formRegExp","haveChangeOnElement","onChange","currentVal","$render","$viewValue","$modelValue","listView","bound","pristine","formPristine","$pristine","$setViewValue","$setPristine","digest","AutoComplete","$isEmpty","updating","valueIsCollection","currentValueLength","watchHandler","MultiSelect","$angular_setLogicValue","$watchCollection","$setDirty","$angular_getLogicValue","deregister","$on","mo","disconnect","prevClassList","MutationObserver","classList","changes","chg","currClassList","attributeName","cls","ComboBox","rebindAttr","templateOptions","_wrapper","isUpload","compile","_muteRebind","_cleanUp","WIDGET_TEMPLATE_OPTIONS","templateContents","injector","_destroy","replaceChild","replaceWith","setTemplate","stringify","createDirectives","klass","isMobile","make","directiveName","widgetName","module","directive","directiveFactory","shortcut","dashed","SKIP_SHORTCUTS","TAGNAMES","scopeField","kScopeField","MANUAL_DIRECTIVES","kendoWidgetInstance","isDigesting","$digest","destroyScope","$destroy","removeData","defadvice","origMethod","pendingPatches","self","$injector","$defaultCompile","TreeList","TreeView","Scheduler","PivotGrid","PivotConfigurator","ContextMenu","toDataSource","mew","factory","kendoRenderedTimeout","RENDERED","require","controller","$scope","$attrs","$element","roleattr","NumericTextBox","DatePicker","DateTimePicker","TimePicker","ColorPicker","MaskedTextBox","Upload","Validator","Button","MobileButton","MobileBackButton","MobileDetailButton","ListView","MobileListView","ActionSheet","onWidgetRegistered","cmd","$angular_scope","$angular_init","itemScope","$$kendoScope","vars","scopeFrom","$new","_preselect","dataValue","$angular_makeEventHandler","kendoEvent","ev","elems","colIdx","locals","angularDataItem","proxyModelSetters","settings","Template","templateSettings","encoded","expr","terminal","pre","viewOptions","_instance","post","_scroller","ns","kAttr","MobileScrollView","Pager","templateDirectives","templates","templateName","attrName","outerHTML"],"mappings":"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aAAc,SAAUhD,EAAeH,GACnC,IAAK,GAAIrnH,GAAI,EAAGA,EAAIqnH,EAAOnnH,OAAQF,IAC/B,GAAItN,KAAK20H,EAAOrnH,IAAIyb,GAAG+rG,EAAcppH,MAAOopH,EAAc78G,OACtD,MAAO08G,GAAOrnH,EAGtBtN,MAAK2uH,sBAAsBmG,EAAcppH,MAAM4G,OAAOwiH,EAAc78G,SAExEo3G,cACI,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SAEJ2I,KAAM,MAEVnJ,EAAUoJ,SAAWpK,EAAYzvH,QAC7B+K,KAAM,aACNwrH,QAAS,OAEb9F,EAAUqJ,SAAWrK,EAAYzvH,QAC7B+K,KAAM,aACNwrH,QAAS,OAEb9F,EAAUsJ,SAAWtK,EAAYzvH,QAC7B+K,KAAM,aACNwrH,QAAS,OAEb9F,EAAUuJ,QAAUvK,EAAYzvH,QAC5B+K,KAAM,WACNwrH,QACI,IACA,IACA,IACA,UAGR9F,EAAU,WAAahB,EAAYzvH,QAC/B+K,KAAM,eACNwrH,QACI,OACA,IACA,OAGJ7G,EAAUM,EAAShwH,QACnBmwH,UAAW,SAAU7iH,EAAOqI,GACxB,GAAIhU,GAAOC,IACXD,GAAK0uH,WACL1uH,EAAK2L,MAAQA,EACb3L,EAAK8zH,eAAiB,EACtB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CIse,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,MAI5BtO,GACI53F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5BrO,GACI73F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5BxkH,GACIse,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,MAI5BtO,GACI53F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5BrO,GACI73F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5BxkH,GACIse,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SACQ,EACA,IAERimG,mBAAoB,GACpBC,uBAAwB,MAI5BtO,GACI53F,SACQ,EACA,MAERimG,mBAAoB,IACpBC,uBAAwB,IAE5BrO,GACI73F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5BxkH,GACIse,SAEQ,EACA,KAGA,EACA,KAGRimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SAEQ,EACA,KAGA,EACA,KAGRimG,mBAAoB,GACpBC,uBAAwB,MAI5BtO,GACI53F,SACQ,EACA,KAERimG,mBAAoB,IACpBC,uBAAwB,IAE5BrO,GACI73F,SACQ,EACA,KAERimG,mBAAoB,IACpBC,uBAAwB,IAE5BxkH,GACIse,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SACQ,EACA,KAERimG,mBAAoB,GACpBC,uBAAwB,MAI5BtO,GACI53F,SACQ,EACA,KAERimG,mBAAoB,IACpBC,uBAAwB,IAE5BrO,GACI73F,SACQ,EACA,KAERimG,mBAAoB,IACpBC,uBAAwB,IAE5BxkH,GACIse,SAEQ,EACA,KAGA,EACA,KAGRimG,mBAAoB,GACpBC,uBAAwB,IAE5B1O,GACIx3F,SAEQ,EACA,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","file":"kendo.dataviz.min.js","sourcesContent":["/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('kendo.mobile.scroller', [\r\n        'kendo.fx',\r\n        'kendo.draganddrop'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'mobile.scroller',\r\n        name: 'Scroller',\r\n        category: 'mobile',\r\n        description: 'The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.',\r\n        depends: [\r\n            'fx',\r\n            'draganddrop'\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, mobile = kendo.mobile, fx = kendo.effects, ui = mobile.ui, proxy = $.proxy, extend = $.extend, Widget = ui.Widget, Class = kendo.Class, Movable = kendo.ui.Movable, Pane = kendo.ui.Pane, PaneDimensions = kendo.ui.PaneDimensions, Transition = fx.Transition, Animation = fx.Animation, abs = Math.abs, SNAPBACK_DURATION = 500, SCROLLBAR_OPACITY = 0.7, FRICTION = 0.96, VELOCITY_MULTIPLIER = 10, MAX_VELOCITY = 55, OUT_OF_BOUNDS_FRICTION = 0.5, ANIMATED_SCROLLER_PRECISION = 5, RELEASECLASS = 'km-scroller-release', REFRESHCLASS = 'km-scroller-refresh', PULL = 'pull', CHANGE = 'change', RESIZE = 'resize', SCROLL = 'scroll', MOUSE_WHEEL_ID = 2;\r\n        var ZoomSnapBack = Animation.extend({\r\n            init: function (options) {\r\n                var that = this;\r\n                Animation.fn.init.call(that);\r\n                extend(that, options);\r\n                that.userEvents.bind('gestureend', proxy(that.start, that));\r\n                that.tapCapture.bind('press', proxy(that.cancel, that));\r\n            },\r\n            enabled: function () {\r\n                return this.movable.scale < this.dimensions.minScale;\r\n            },\r\n            done: function () {\r\n                return this.dimensions.minScale - this.movable.scale < 0.01;\r\n            },\r\n            tick: function () {\r\n                var movable = this.movable;\r\n                movable.scaleWith(1.1);\r\n                this.dimensions.rescale(movable.scale);\r\n            },\r\n            onEnd: function () {\r\n                var movable = this.movable;\r\n                movable.scaleTo(this.dimensions.minScale);\r\n                this.dimensions.rescale(movable.scale);\r\n            }\r\n        });\r\n        var DragInertia = Animation.extend({\r\n            init: function (options) {\r\n                var that = this;\r\n                Animation.fn.init.call(that);\r\n                extend(that, options, {\r\n                    transition: new Transition({\r\n                        axis: options.axis,\r\n                        movable: options.movable,\r\n                        onEnd: function () {\r\n                            that._end();\r\n                        }\r\n                    })\r\n                });\r\n                that.tapCapture.bind('press', function () {\r\n                    that.cancel();\r\n                });\r\n                that.userEvents.bind('end', proxy(that.start, that));\r\n                that.userEvents.bind('gestureend', proxy(that.start, that));\r\n                that.userEvents.bind('tap', proxy(that.onEnd, that));\r\n            },\r\n            onCancel: function () {\r\n                this.transition.cancel();\r\n            },\r\n            freeze: function (location) {\r\n                var that = this;\r\n                that.cancel();\r\n                that._moveTo(location);\r\n            },\r\n            onEnd: function () {\r\n                var that = this;\r\n                if (that.paneAxis.outOfBounds()) {\r\n                    that._snapBack();\r\n                } else {\r\n                    that._end();\r\n                }\r\n            },\r\n            done: function () {\r\n                return abs(this.velocity) < 1;\r\n            },\r\n            start: function (e) {\r\n                var that = this, velocity;\r\n                if (!that.dimension.enabled) {\r\n                    return;\r\n                }\r\n                if (that.paneAxis.outOfBounds()) {\r\n                    that._snapBack();\r\n                } else {\r\n                    velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\r\n                    that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\r\n                    that.tapCapture.captureNext();\r\n                    Animation.fn.start.call(that);\r\n                }\r\n            },\r\n            tick: function () {\r\n                var that = this, dimension = that.dimension, friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction, delta = that.velocity *= friction, location = that.movable[that.axis] + delta;\r\n                if (!that.elastic && dimension.outOfBounds(location)) {\r\n                    location = Math.max(Math.min(location, dimension.max), dimension.min);\r\n                    that.velocity = 0;\r\n                }\r\n                that.movable.moveAxis(that.axis, location);\r\n            },\r\n            _end: function () {\r\n                this.tapCapture.cancelCapture();\r\n                this.end();\r\n            },\r\n            _snapBack: function () {\r\n                var that = this, dimension = that.dimension, snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\r\n                that._moveTo(snapBack);\r\n            },\r\n            _moveTo: function (location) {\r\n                this.transition.moveTo({\r\n                    location: location,\r\n                    duration: SNAPBACK_DURATION,\r\n                    ease: Transition.easeOutExpo\r\n                });\r\n            }\r\n        });\r\n        var AnimatedScroller = Animation.extend({\r\n            init: function (options) {\r\n                var that = this;\r\n                kendo.effects.Animation.fn.init.call(this);\r\n                extend(that, options, {\r\n                    origin: {},\r\n                    destination: {},\r\n                    offset: {}\r\n                });\r\n            },\r\n            tick: function () {\r\n                this._updateCoordinates();\r\n                this.moveTo(this.origin);\r\n            },\r\n            done: function () {\r\n                return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\r\n            },\r\n            onEnd: function () {\r\n                this.moveTo(this.destination);\r\n                if (this.callback) {\r\n                    this.callback.call();\r\n                }\r\n            },\r\n            setCoordinates: function (from, to) {\r\n                this.offset = {};\r\n                this.origin = from;\r\n                this.destination = to;\r\n            },\r\n            setCallback: function (callback) {\r\n                if (callback && kendo.isFunction(callback)) {\r\n                    this.callback = callback;\r\n                } else {\r\n                    callback = undefined;\r\n                }\r\n            },\r\n            _updateCoordinates: function () {\r\n                this.offset = {\r\n                    x: (this.destination.x - this.origin.x) / 4,\r\n                    y: (this.destination.y - this.origin.y) / 4\r\n                };\r\n                this.origin = {\r\n                    y: this.origin.y + this.offset.y,\r\n                    x: this.origin.x + this.offset.x\r\n                };\r\n            }\r\n        });\r\n        var ScrollBar = Class.extend({\r\n            init: function (options) {\r\n                var that = this, horizontal = options.axis === 'x', element = $('<div class=\"km-touch-scrollbar km-' + (horizontal ? 'horizontal' : 'vertical') + '-scrollbar\" />');\r\n                extend(that, options, {\r\n                    element: element,\r\n                    elementSize: 0,\r\n                    movable: new Movable(element),\r\n                    scrollMovable: options.movable,\r\n                    alwaysVisible: options.alwaysVisible,\r\n                    size: horizontal ? 'width' : 'height'\r\n                });\r\n                that.scrollMovable.bind(CHANGE, proxy(that.refresh, that));\r\n                that.container.append(element);\r\n                if (options.alwaysVisible) {\r\n                    that.show();\r\n                }\r\n            },\r\n            refresh: function () {\r\n                var that = this, axis = that.axis, dimension = that.dimension, paneSize = dimension.size, scrollMovable = that.scrollMovable, sizeRatio = paneSize / dimension.total, position = Math.round(-scrollMovable[axis] * sizeRatio), size = Math.round(paneSize * sizeRatio);\r\n                if (sizeRatio >= 1) {\r\n                    this.element.css('display', 'none');\r\n                } else {\r\n                    this.element.css('display', '');\r\n                }\r\n                if (position + size > paneSize) {\r\n                    size = paneSize - position;\r\n                } else if (position < 0) {\r\n                    size += position;\r\n                    position = 0;\r\n                }\r\n                if (that.elementSize != size) {\r\n                    that.element.css(that.size, size + 'px');\r\n                    that.elementSize = size;\r\n                }\r\n                that.movable.moveAxis(axis, position);\r\n            },\r\n            show: function () {\r\n                this.element.css({\r\n                    opacity: SCROLLBAR_OPACITY,\r\n                    visibility: 'visible'\r\n                });\r\n            },\r\n            hide: function () {\r\n                if (!this.alwaysVisible) {\r\n                    this.element.css({ opacity: 0 });\r\n                }\r\n            }\r\n        });\r\n        var Scroller = Widget.extend({\r\n            init: function (element, options) {\r\n                var that = this;\r\n                Widget.fn.init.call(that, element, options);\r\n                element = that.element;\r\n                that._native = that.options.useNative && kendo.support.hasNativeScrolling;\r\n                if (that._native) {\r\n                    element.addClass('km-native-scroller').prepend('<div class=\"km-scroll-header\"/>');\r\n                    extend(that, {\r\n                        scrollElement: element,\r\n                        fixedContainer: element.children().first()\r\n                    });\r\n                    return;\r\n                }\r\n                element.css('overflow', 'hidden').addClass('km-scroll-wrapper').wrapInner('<div class=\"km-scroll-container\"/>').prepend('<div class=\"km-scroll-header\"/>');\r\n                var inner = element.children().eq(1), tapCapture = new kendo.TapCapture(element), movable = new Movable(inner), dimensions = new PaneDimensions({\r\n                        element: inner,\r\n                        container: element,\r\n                        forcedEnabled: that.options.zoom\r\n                    }), avoidScrolling = this.options.avoidScrolling, userEvents = new kendo.UserEvents(element, {\r\n                        touchAction: 'pan-y',\r\n                        fastTap: true,\r\n                        allowSelection: true,\r\n                        preventDragEvent: true,\r\n                        captureUpIfMoved: true,\r\n                        multiTouch: that.options.zoom,\r\n                        start: function (e) {\r\n                            dimensions.refresh();\r\n                            var velocityX = abs(e.x.velocity), velocityY = abs(e.y.velocity), horizontalSwipe = velocityX * 2 >= velocityY, originatedFromFixedContainer = $.contains(that.fixedContainer[0], e.event.target), verticalSwipe = velocityY * 2 >= velocityX;\r\n                            if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\r\n                                userEvents.capture();\r\n                            } else {\r\n                                userEvents.cancel();\r\n                            }\r\n                        }\r\n                    }), pane = new Pane({\r\n                        movable: movable,\r\n                        dimensions: dimensions,\r\n                        userEvents: userEvents,\r\n                        elastic: that.options.elastic\r\n                    }), zoomSnapBack = new ZoomSnapBack({\r\n                        movable: movable,\r\n                        dimensions: dimensions,\r\n                        userEvents: userEvents,\r\n                        tapCapture: tapCapture\r\n                    }), animatedScroller = new AnimatedScroller({\r\n                        moveTo: function (coordinates) {\r\n                            that.scrollTo(coordinates.x, coordinates.y);\r\n                        }\r\n                    });\r\n                movable.bind(CHANGE, function () {\r\n                    that.scrollTop = -movable.y;\r\n                    that.scrollLeft = -movable.x;\r\n                    that.trigger(SCROLL, {\r\n                        scrollTop: that.scrollTop,\r\n                        scrollLeft: that.scrollLeft\r\n                    });\r\n                });\r\n                if (that.options.mousewheelScrolling) {\r\n                    element.on('DOMMouseScroll mousewheel', proxy(this, '_wheelScroll'));\r\n                }\r\n                extend(that, {\r\n                    movable: movable,\r\n                    dimensions: dimensions,\r\n                    zoomSnapBack: zoomSnapBack,\r\n                    animatedScroller: animatedScroller,\r\n                    userEvents: userEvents,\r\n                    pane: pane,\r\n                    tapCapture: tapCapture,\r\n                    pulled: false,\r\n                    enabled: true,\r\n                    scrollElement: inner,\r\n                    scrollTop: 0,\r\n                    scrollLeft: 0,\r\n                    fixedContainer: element.children().first()\r\n                });\r\n                that._initAxis('x');\r\n                that._initAxis('y');\r\n                that._wheelEnd = function () {\r\n                    that._wheel = false;\r\n                    that.userEvents.end(0, that._wheelY);\r\n                };\r\n                dimensions.refresh();\r\n                if (that.options.pullToRefresh) {\r\n                    that._initPullToRefresh();\r\n                }\r\n            },\r\n            _wheelScroll: function (e) {\r\n                if (!this._wheel) {\r\n                    this._wheel = true;\r\n                    this._wheelY = 0;\r\n                    this.userEvents.press(0, this._wheelY);\r\n                }\r\n                clearTimeout(this._wheelTimeout);\r\n                this._wheelTimeout = setTimeout(this._wheelEnd, 50);\r\n                var delta = kendo.wheelDeltaY(e);\r\n                if (delta) {\r\n                    this._wheelY += delta;\r\n                    this.userEvents.move(0, this._wheelY);\r\n                }\r\n                e.preventDefault();\r\n            },\r\n            makeVirtual: function () {\r\n                this.dimensions.y.makeVirtual();\r\n            },\r\n            virtualSize: function (min, max) {\r\n                this.dimensions.y.virtualSize(min, max);\r\n            },\r\n            height: function () {\r\n                return this.dimensions.y.size;\r\n            },\r\n            scrollHeight: function () {\r\n                return this.scrollElement[0].scrollHeight;\r\n            },\r\n            scrollWidth: function () {\r\n                return this.scrollElement[0].scrollWidth;\r\n            },\r\n            options: {\r\n                name: 'Scroller',\r\n                zoom: false,\r\n                pullOffset: 140,\r\n                visibleScrollHints: false,\r\n                elastic: true,\r\n                useNative: false,\r\n                mousewheelScrolling: true,\r\n                avoidScrolling: function () {\r\n                    return false;\r\n                },\r\n                pullToRefresh: false,\r\n                messages: {\r\n                    pullTemplate: 'Pull to refresh',\r\n                    releaseTemplate: 'Release to refresh',\r\n                    refreshTemplate: 'Refreshing'\r\n                }\r\n            },\r\n            events: [\r\n                PULL,\r\n                SCROLL,\r\n                RESIZE\r\n            ],\r\n            _resize: function () {\r\n                if (!this._native) {\r\n                    this.contentResized();\r\n                }\r\n            },\r\n            setOptions: function (options) {\r\n                var that = this;\r\n                Widget.fn.setOptions.call(that, options);\r\n                if (options.pullToRefresh) {\r\n                    that._initPullToRefresh();\r\n                }\r\n            },\r\n            reset: function () {\r\n                if (this._native) {\r\n                    this.scrollElement.scrollTop(0);\r\n                } else {\r\n                    this.movable.moveTo({\r\n                        x: 0,\r\n                        y: 0\r\n                    });\r\n                    this._scale(1);\r\n                }\r\n            },\r\n            contentResized: function () {\r\n                this.dimensions.refresh();\r\n                if (this.pane.x.outOfBounds()) {\r\n                    this.movable.moveAxis('x', this.dimensions.x.min);\r\n                }\r\n                if (this.pane.y.outOfBounds()) {\r\n                    this.movable.moveAxis('y', this.dimensions.y.min);\r\n                }\r\n            },\r\n            zoomOut: function () {\r\n                var dimensions = this.dimensions;\r\n                dimensions.refresh();\r\n                this._scale(dimensions.fitScale);\r\n                this.movable.moveTo(dimensions.centerCoordinates());\r\n            },\r\n            enable: function () {\r\n                this.enabled = true;\r\n            },\r\n            disable: function () {\r\n                this.enabled = false;\r\n            },\r\n            scrollTo: function (x, y) {\r\n                if (this._native) {\r\n                    this.scrollElement.scrollLeft(abs(x));\r\n                    this.scrollElement.scrollTop(abs(y));\r\n                } else {\r\n                    this.dimensions.refresh();\r\n                    this.movable.moveTo({\r\n                        x: x,\r\n                        y: y\r\n                    });\r\n                }\r\n            },\r\n            animatedScrollTo: function (x, y, callback) {\r\n                var from, to;\r\n                if (this._native) {\r\n                    this.scrollTo(x, y);\r\n                } else {\r\n                    from = {\r\n                        x: this.movable.x,\r\n                        y: this.movable.y\r\n                    };\r\n                    to = {\r\n                        x: x,\r\n                        y: y\r\n                    };\r\n                    this.animatedScroller.setCoordinates(from, to);\r\n                    this.animatedScroller.setCallback(callback);\r\n                    this.animatedScroller.start();\r\n                }\r\n            },\r\n            pullHandled: function () {\r\n                var that = this;\r\n                that.refreshHint.removeClass(REFRESHCLASS);\r\n                that.hintContainer.html(that.pullTemplate({}));\r\n                that.yinertia.onEnd();\r\n                that.xinertia.onEnd();\r\n                that.userEvents.cancel();\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                if (this.userEvents) {\r\n                    this.userEvents.destroy();\r\n                }\r\n            },\r\n            _scale: function (scale) {\r\n                this.dimensions.rescale(scale);\r\n                this.movable.scaleTo(scale);\r\n            },\r\n            _initPullToRefresh: function () {\r\n                var that = this;\r\n                that.dimensions.y.forceEnabled();\r\n                that.pullTemplate = kendo.template(that.options.messages.pullTemplate);\r\n                that.releaseTemplate = kendo.template(that.options.messages.releaseTemplate);\r\n                that.refreshTemplate = kendo.template(that.options.messages.refreshTemplate);\r\n                that.scrollElement.prepend('<span class=\"km-scroller-pull\"><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span><span class=\"km-template\">' + that.pullTemplate({}) + '</span></span>');\r\n                that.refreshHint = that.scrollElement.children().first();\r\n                that.hintContainer = that.refreshHint.children('.km-template');\r\n                that.pane.y.bind('change', proxy(that._paneChange, that));\r\n                that.userEvents.bind('end', proxy(that._dragEnd, that));\r\n            },\r\n            _dragEnd: function () {\r\n                var that = this;\r\n                if (!that.pulled) {\r\n                    return;\r\n                }\r\n                that.pulled = false;\r\n                that.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS);\r\n                that.hintContainer.html(that.refreshTemplate({}));\r\n                that.yinertia.freeze(that.options.pullOffset / 2);\r\n                that.trigger('pull');\r\n            },\r\n            _paneChange: function () {\r\n                var that = this;\r\n                if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\r\n                    if (!that.pulled) {\r\n                        that.pulled = true;\r\n                        that.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS);\r\n                        that.hintContainer.html(that.releaseTemplate({}));\r\n                    }\r\n                } else if (that.pulled) {\r\n                    that.pulled = false;\r\n                    that.refreshHint.removeClass(RELEASECLASS);\r\n                    that.hintContainer.html(that.pullTemplate({}));\r\n                }\r\n            },\r\n            _initAxis: function (axis) {\r\n                var that = this, movable = that.movable, dimension = that.dimensions[axis], tapCapture = that.tapCapture, paneAxis = that.pane[axis], scrollBar = new ScrollBar({\r\n                        axis: axis,\r\n                        movable: movable,\r\n                        dimension: dimension,\r\n                        container: that.element,\r\n                        alwaysVisible: that.options.visibleScrollHints\r\n                    });\r\n                dimension.bind(CHANGE, function () {\r\n                    scrollBar.refresh();\r\n                });\r\n                paneAxis.bind(CHANGE, function () {\r\n                    scrollBar.show();\r\n                });\r\n                that[axis + 'inertia'] = new DragInertia({\r\n                    axis: axis,\r\n                    paneAxis: paneAxis,\r\n                    movable: movable,\r\n                    tapCapture: tapCapture,\r\n                    userEvents: that.userEvents,\r\n                    dimension: dimension,\r\n                    elastic: that.options.elastic,\r\n                    friction: that.options.friction || FRICTION,\r\n                    velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER,\r\n                    end: function () {\r\n                        scrollBar.hide();\r\n                        that.trigger('scrollEnd', {\r\n                            axis: axis,\r\n                            scrollTop: that.scrollTop,\r\n                            scrollLeft: that.scrollLeft\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        ui.plugin(Scroller);\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/geometry', [\r\n        'util/main',\r\n        'mixins/observers'\r\n    ], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, pow = math.pow, kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, ObserversMixin = kendo.mixins.ObserversMixin, util = kendo.util, defined = util.defined, rad = util.rad, deg = util.deg, round = util.round;\r\n        var PI_DIV_2 = math.PI / 2, MIN_NUM = util.MIN_NUM, MAX_NUM = util.MAX_NUM, PRECISION = 10;\r\n        var Point = Class.extend({\r\n            init: function (x, y) {\r\n                this.x = x || 0;\r\n                this.y = y || 0;\r\n            },\r\n            equals: function (other) {\r\n                return other && other.x === this.x && other.y === this.y;\r\n            },\r\n            clone: function () {\r\n                return new Point(this.x, this.y);\r\n            },\r\n            rotate: function (angle, origin) {\r\n                return this.transform(transform().rotate(angle, origin));\r\n            },\r\n            translate: function (x, y) {\r\n                this.x += x;\r\n                this.y += y;\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            translateWith: function (point) {\r\n                return this.translate(point.x, point.y);\r\n            },\r\n            move: function (x, y) {\r\n                this.x = this.y = 0;\r\n                return this.translate(x, y);\r\n            },\r\n            scale: function (scaleX, scaleY) {\r\n                if (!defined(scaleY)) {\r\n                    scaleY = scaleX;\r\n                }\r\n                this.x *= scaleX;\r\n                this.y *= scaleY;\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            scaleCopy: function (scaleX, scaleY) {\r\n                return this.clone().scale(scaleX, scaleY);\r\n            },\r\n            transform: function (transformation) {\r\n                var mx = toMatrix(transformation), x = this.x, y = this.y;\r\n                this.x = mx.a * x + mx.c * y + mx.e;\r\n                this.y = mx.b * x + mx.d * y + mx.f;\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            transformCopy: function (transformation) {\r\n                var point = this.clone();\r\n                if (transformation) {\r\n                    point.transform(transformation);\r\n                }\r\n                return point;\r\n            },\r\n            distanceTo: function (point) {\r\n                var dx = this.x - point.x;\r\n                var dy = this.y - point.y;\r\n                return math.sqrt(dx * dx + dy * dy);\r\n            },\r\n            round: function (digits) {\r\n                this.x = round(this.x, digits);\r\n                this.y = round(this.y, digits);\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            toArray: function (digits) {\r\n                var doRound = defined(digits);\r\n                var x = doRound ? round(this.x, digits) : this.x;\r\n                var y = doRound ? round(this.y, digits) : this.y;\r\n                return [\r\n                    x,\r\n                    y\r\n                ];\r\n            }\r\n        });\r\n        defineAccessors(Point.fn, [\r\n            'x',\r\n            'y'\r\n        ]);\r\n        deepExtend(Point.fn, ObserversMixin);\r\n        Point.fn.toString = function (digits, separator) {\r\n            var x = this.x, y = this.y;\r\n            if (defined(digits)) {\r\n                x = round(x, digits);\r\n                y = round(y, digits);\r\n            }\r\n            separator = separator || ' ';\r\n            return x + separator + y;\r\n        };\r\n        Point.create = function (arg0, arg1) {\r\n            if (defined(arg0)) {\r\n                if (arg0 instanceof Point) {\r\n                    return arg0;\r\n                } else if (arguments.length === 1 && arg0.length === 2) {\r\n                    return new Point(arg0[0], arg0[1]);\r\n                } else {\r\n                    return new Point(arg0, arg1);\r\n                }\r\n            }\r\n        };\r\n        Point.min = function () {\r\n            var minX = util.MAX_NUM;\r\n            var minY = util.MAX_NUM;\r\n            for (var i = 0; i < arguments.length; i++) {\r\n                var pt = arguments[i];\r\n                minX = math.min(pt.x, minX);\r\n                minY = math.min(pt.y, minY);\r\n            }\r\n            return new Point(minX, minY);\r\n        };\r\n        Point.max = function () {\r\n            var maxX = util.MIN_NUM;\r\n            var maxY = util.MIN_NUM;\r\n            for (var i = 0; i < arguments.length; i++) {\r\n                var pt = arguments[i];\r\n                maxX = math.max(pt.x, maxX);\r\n                maxY = math.max(pt.y, maxY);\r\n            }\r\n            return new Point(maxX, maxY);\r\n        };\r\n        Point.minPoint = function () {\r\n            return new Point(MIN_NUM, MIN_NUM);\r\n        };\r\n        Point.maxPoint = function () {\r\n            return new Point(MAX_NUM, MAX_NUM);\r\n        };\r\n        Point.ZERO = new Point(0, 0);\r\n        var Size = Class.extend({\r\n            init: function (width, height) {\r\n                this.width = width || 0;\r\n                this.height = height || 0;\r\n            },\r\n            equals: function (other) {\r\n                return other && other.width === this.width && other.height === this.height;\r\n            },\r\n            clone: function () {\r\n                return new Size(this.width, this.height);\r\n            },\r\n            toArray: function (digits) {\r\n                var doRound = defined(digits);\r\n                var width = doRound ? round(this.width, digits) : this.width;\r\n                var height = doRound ? round(this.height, digits) : this.height;\r\n                return [\r\n                    width,\r\n                    height\r\n                ];\r\n            }\r\n        });\r\n        defineAccessors(Size.fn, [\r\n            'width',\r\n            'height'\r\n        ]);\r\n        deepExtend(Size.fn, ObserversMixin);\r\n        Size.create = function (arg0, arg1) {\r\n            if (defined(arg0)) {\r\n                if (arg0 instanceof Size) {\r\n                    return arg0;\r\n                } else if (arguments.length === 1 && arg0.length === 2) {\r\n                    return new Size(arg0[0], arg0[1]);\r\n                } else {\r\n                    return new Size(arg0, arg1);\r\n                }\r\n            }\r\n        };\r\n        Size.ZERO = new Size(0, 0);\r\n        var Rect = Class.extend({\r\n            init: function (origin, size) {\r\n                this.setOrigin(origin || new Point());\r\n                this.setSize(size || new Size());\r\n            },\r\n            clone: function () {\r\n                return new Rect(this.origin.clone(), this.size.clone());\r\n            },\r\n            equals: function (other) {\r\n                return other && other.origin.equals(this.origin) && other.size.equals(this.size);\r\n            },\r\n            setOrigin: function (value) {\r\n                this._observerField('origin', Point.create(value));\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            getOrigin: function () {\r\n                return this.origin;\r\n            },\r\n            setSize: function (value) {\r\n                this._observerField('size', Size.create(value));\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            getSize: function () {\r\n                return this.size;\r\n            },\r\n            width: function () {\r\n                return this.size.width;\r\n            },\r\n            height: function () {\r\n                return this.size.height;\r\n            },\r\n            topLeft: function () {\r\n                return this.origin.clone();\r\n            },\r\n            bottomRight: function () {\r\n                return this.origin.clone().translate(this.width(), this.height());\r\n            },\r\n            topRight: function () {\r\n                return this.origin.clone().translate(this.width(), 0);\r\n            },\r\n            bottomLeft: function () {\r\n                return this.origin.clone().translate(0, this.height());\r\n            },\r\n            center: function () {\r\n                return this.origin.clone().translate(this.width() / 2, this.height() / 2);\r\n            },\r\n            bbox: function (matrix) {\r\n                var tl = this.topLeft().transformCopy(matrix);\r\n                var tr = this.topRight().transformCopy(matrix);\r\n                var br = this.bottomRight().transformCopy(matrix);\r\n                var bl = this.bottomLeft().transformCopy(matrix);\r\n                return Rect.fromPoints(tl, tr, br, bl);\r\n            },\r\n            transformCopy: function (m) {\r\n                return Rect.fromPoints(this.topLeft().transform(m), this.bottomRight().transform(m));\r\n            },\r\n            expand: function (x, y) {\r\n                if (!defined(y)) {\r\n                    y = x;\r\n                }\r\n                this.size.width += 2 * x;\r\n                this.size.height += 2 * y;\r\n                this.origin.translate(-x, -y);\r\n                return this;\r\n            },\r\n            expandCopy: function (x, y) {\r\n                return this.clone().expand(x, y);\r\n            },\r\n            containsPoint: function (point) {\r\n                var origin = this.origin;\r\n                var bottomRight = this.bottomRight();\r\n                return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\r\n            },\r\n            _isOnPath: function (point, width) {\r\n                var rectOuter = this.expandCopy(width, width);\r\n                var rectInner = this.expandCopy(-width, -width);\r\n                return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\r\n            }\r\n        });\r\n        deepExtend(Rect.fn, ObserversMixin);\r\n        Rect.fromPoints = function () {\r\n            var topLeft = Point.min.apply(this, arguments);\r\n            var bottomRight = Point.max.apply(this, arguments);\r\n            var size = new Size(bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\r\n            return new Rect(topLeft, size);\r\n        };\r\n        Rect.union = function (a, b) {\r\n            return Rect.fromPoints(Point.min(a.topLeft(), b.topLeft()), Point.max(a.bottomRight(), b.bottomRight()));\r\n        };\r\n        Rect.intersect = function (a, b) {\r\n            a = {\r\n                left: a.topLeft().x,\r\n                top: a.topLeft().y,\r\n                right: a.bottomRight().x,\r\n                bottom: a.bottomRight().y\r\n            };\r\n            b = {\r\n                left: b.topLeft().x,\r\n                top: b.topLeft().y,\r\n                right: b.bottomRight().x,\r\n                bottom: b.bottomRight().y\r\n            };\r\n            if (a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom) {\r\n                return Rect.fromPoints(new Point(math.max(a.left, b.left), math.max(a.top, b.top)), new Point(math.min(a.right, b.right), math.min(a.bottom, b.bottom)));\r\n            }\r\n        };\r\n        var Circle = Class.extend({\r\n            init: function (center, radius) {\r\n                this.setCenter(center || new Point());\r\n                this.setRadius(radius || 0);\r\n            },\r\n            setCenter: function (value) {\r\n                this._observerField('center', Point.create(value));\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            getCenter: function () {\r\n                return this.center;\r\n            },\r\n            equals: function (other) {\r\n                return other && other.center.equals(this.center) && other.radius === this.radius;\r\n            },\r\n            clone: function () {\r\n                return new Circle(this.center.clone(), this.radius);\r\n            },\r\n            pointAt: function (angle) {\r\n                return this._pointAt(rad(angle));\r\n            },\r\n            bbox: function (matrix) {\r\n                var minPoint = Point.maxPoint();\r\n                var maxPoint = Point.minPoint();\r\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\r\n                for (var i = 0; i < 4; i++) {\r\n                    var currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\r\n                    var currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\r\n                    var currentPoint = new Point(currentPointX.x, currentPointY.y);\r\n                    minPoint = Point.min(minPoint, currentPoint);\r\n                    maxPoint = Point.max(maxPoint, currentPoint);\r\n                }\r\n                return Rect.fromPoints(minPoint, maxPoint);\r\n            },\r\n            _pointAt: function (angle) {\r\n                var c = this.center;\r\n                var r = this.radius;\r\n                return new Point(c.x - r * math.cos(angle), c.y - r * math.sin(angle));\r\n            },\r\n            containsPoint: function (point) {\r\n                var center = this.center;\r\n                var inCircle = math.pow(point.x - center.x, 2) + math.pow(point.y - center.y, 2) <= math.pow(this.radius, 2);\r\n                return inCircle;\r\n            },\r\n            _isOnPath: function (point, width) {\r\n                var center = this.center;\r\n                var radius = this.radius;\r\n                var pointDistance = center.distanceTo(point);\r\n                return radius - width <= pointDistance && pointDistance <= radius + width;\r\n            }\r\n        });\r\n        defineAccessors(Circle.fn, ['radius']);\r\n        deepExtend(Circle.fn, ObserversMixin);\r\n        var Arc = Class.extend({\r\n            init: function (center, options) {\r\n                this.setCenter(center || new Point());\r\n                options = options || {};\r\n                this.radiusX = options.radiusX;\r\n                this.radiusY = options.radiusY || options.radiusX;\r\n                this.startAngle = options.startAngle;\r\n                this.endAngle = options.endAngle;\r\n                this.anticlockwise = options.anticlockwise || false;\r\n            },\r\n            clone: function () {\r\n                return new Arc(this.center, {\r\n                    radiusX: this.radiusX,\r\n                    radiusY: this.radiusY,\r\n                    startAngle: this.startAngle,\r\n                    endAngle: this.endAngle,\r\n                    anticlockwise: this.anticlockwise\r\n                });\r\n            },\r\n            setCenter: function (value) {\r\n                this._observerField('center', Point.create(value));\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            getCenter: function () {\r\n                return this.center;\r\n            },\r\n            MAX_INTERVAL: 45,\r\n            pointAt: function (angle) {\r\n                var center = this.center;\r\n                var radian = rad(angle);\r\n                return new Point(center.x + this.radiusX * math.cos(radian), center.y + this.radiusY * math.sin(radian));\r\n            },\r\n            curvePoints: function () {\r\n                var startAngle = this.startAngle;\r\n                var dir = this.anticlockwise ? -1 : 1;\r\n                var curvePoints = [this.pointAt(startAngle)];\r\n                var currentAngle = startAngle;\r\n                var interval = this._arcInterval();\r\n                var intervalAngle = interval.endAngle - interval.startAngle;\r\n                var subIntervalsCount = math.ceil(intervalAngle / this.MAX_INTERVAL);\r\n                var subIntervalAngle = intervalAngle / subIntervalsCount;\r\n                for (var i = 1; i <= subIntervalsCount; i++) {\r\n                    var nextAngle = currentAngle + dir * subIntervalAngle;\r\n                    var points = this._intervalCurvePoints(currentAngle, nextAngle);\r\n                    curvePoints.push(points.cp1, points.cp2, points.p2);\r\n                    currentAngle = nextAngle;\r\n                }\r\n                return curvePoints;\r\n            },\r\n            bbox: function (matrix) {\r\n                var arc = this;\r\n                var interval = arc._arcInterval();\r\n                var startAngle = interval.startAngle;\r\n                var endAngle = interval.endAngle;\r\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\r\n                var extremeX = deg(extremeAngles.x);\r\n                var extremeY = deg(extremeAngles.y);\r\n                var currentPoint = arc.pointAt(startAngle).transformCopy(matrix);\r\n                var endPoint = arc.pointAt(endAngle).transformCopy(matrix);\r\n                var minPoint = Point.min(currentPoint, endPoint);\r\n                var maxPoint = Point.max(currentPoint, endPoint);\r\n                var currentAngleX = bboxStartAngle(extremeX, startAngle);\r\n                var currentAngleY = bboxStartAngle(extremeY, startAngle);\r\n                while (currentAngleX < endAngle || currentAngleY < endAngle) {\r\n                    var currentPointX;\r\n                    if (currentAngleX < endAngle) {\r\n                        currentPointX = arc.pointAt(currentAngleX).transformCopy(matrix);\r\n                        currentAngleX += 90;\r\n                    }\r\n                    var currentPointY;\r\n                    if (currentAngleY < endAngle) {\r\n                        currentPointY = arc.pointAt(currentAngleY).transformCopy(matrix);\r\n                        currentAngleY += 90;\r\n                    }\r\n                    currentPoint = new Point(currentPointX.x, currentPointY.y);\r\n                    minPoint = Point.min(minPoint, currentPoint);\r\n                    maxPoint = Point.max(maxPoint, currentPoint);\r\n                }\r\n                return Rect.fromPoints(minPoint, maxPoint);\r\n            },\r\n            _arcInterval: function () {\r\n                var startAngle = this.startAngle;\r\n                var endAngle = this.endAngle;\r\n                var anticlockwise = this.anticlockwise;\r\n                if (anticlockwise) {\r\n                    var oldStart = startAngle;\r\n                    startAngle = endAngle;\r\n                    endAngle = oldStart;\r\n                }\r\n                if (startAngle > endAngle || anticlockwise && startAngle === endAngle) {\r\n                    endAngle += 360;\r\n                }\r\n                return {\r\n                    startAngle: startAngle,\r\n                    endAngle: endAngle\r\n                };\r\n            },\r\n            _intervalCurvePoints: function (startAngle, endAngle) {\r\n                var arc = this;\r\n                var p1 = arc.pointAt(startAngle);\r\n                var p2 = arc.pointAt(endAngle);\r\n                var p1Derivative = arc._derivativeAt(startAngle);\r\n                var p2Derivative = arc._derivativeAt(endAngle);\r\n                var t = (rad(endAngle) - rad(startAngle)) / 3;\r\n                var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\r\n                var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\r\n                return {\r\n                    p1: p1,\r\n                    cp1: cp1,\r\n                    cp2: cp2,\r\n                    p2: p2\r\n                };\r\n            },\r\n            _derivativeAt: function (angle) {\r\n                var arc = this;\r\n                var radian = rad(angle);\r\n                return new Point(-arc.radiusX * math.sin(radian), arc.radiusY * math.cos(radian));\r\n            },\r\n            containsPoint: function (point) {\r\n                var interval = this._arcInterval();\r\n                var intervalAngle = interval.endAngle - interval.startAngle;\r\n                var center = this.center;\r\n                var distance = center.distanceTo(point);\r\n                var angleRad = math.atan2(point.y - center.y, point.x - center.x);\r\n                var pointRadius = this.radiusX * this.radiusY / math.sqrt(math.pow(this.radiusX, 2) * math.pow(math.sin(angleRad), 2) + math.pow(this.radiusY, 2) * math.pow(math.cos(angleRad), 2));\r\n                var startPoint = this.pointAt(this.startAngle).round(PRECISION);\r\n                var endPoint = this.pointAt(this.endAngle).round(PRECISION);\r\n                var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\r\n                var containsPoint;\r\n                if (intervalAngle < 180) {\r\n                    containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\r\n                } else {\r\n                    var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\r\n                    if (angle != 360) {\r\n                        angle = (360 + angle) % 360;\r\n                    }\r\n                    var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\r\n                    containsPoint = inAngleRange && closeOrLess(distance, pointRadius) || !inAngleRange && (!intersection || intersection.equals(point));\r\n                }\r\n                return containsPoint;\r\n            },\r\n            _isOnPath: function (point, width) {\r\n                var interval = this._arcInterval();\r\n                var center = this.center;\r\n                var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\r\n                if (angle != 360) {\r\n                    angle = (360 + angle) % 360;\r\n                }\r\n                var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\r\n                return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\r\n            }\r\n        });\r\n        defineAccessors(Arc.fn, [\r\n            'radiusX',\r\n            'radiusY',\r\n            'startAngle',\r\n            'endAngle',\r\n            'anticlockwise'\r\n        ]);\r\n        deepExtend(Arc.fn, ObserversMixin);\r\n        Arc.fromPoints = function (start, end, rx, ry, largeArc, swipe) {\r\n            var arcParameters = normalizeArcParameters(start.x, start.y, end.x, end.y, rx, ry, largeArc, swipe);\r\n            return new Arc(arcParameters.center, {\r\n                startAngle: arcParameters.startAngle,\r\n                endAngle: arcParameters.endAngle,\r\n                radiusX: rx,\r\n                radiusY: ry,\r\n                anticlockwise: swipe === 0\r\n            });\r\n        };\r\n        var Matrix = Class.extend({\r\n            init: function (a, b, c, d, e, f) {\r\n                this.a = a || 0;\r\n                this.b = b || 0;\r\n                this.c = c || 0;\r\n                this.d = d || 0;\r\n                this.e = e || 0;\r\n                this.f = f || 0;\r\n            },\r\n            multiplyCopy: function (m) {\r\n                return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\r\n            },\r\n            invert: function () {\r\n                var a = this.a, b = this.b;\r\n                var d = this.c, e = this.d;\r\n                var g = this.e, h = this.f;\r\n                var det = a * e - b * d;\r\n                if (det === 0) {\r\n                    return null;\r\n                }\r\n                return new Matrix(e / det, -b / det, -d / det, a / det, (d * h - e * g) / det, (b * g - a * h) / det);\r\n            },\r\n            clone: function () {\r\n                return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\r\n            },\r\n            equals: function (other) {\r\n                if (!other) {\r\n                    return false;\r\n                }\r\n                return this.a === other.a && this.b === other.b && this.c === other.c && this.d === other.d && this.e === other.e && this.f === other.f;\r\n            },\r\n            round: function (precision) {\r\n                this.a = round(this.a, precision);\r\n                this.b = round(this.b, precision);\r\n                this.c = round(this.c, precision);\r\n                this.d = round(this.d, precision);\r\n                this.e = round(this.e, precision);\r\n                this.f = round(this.f, precision);\r\n                return this;\r\n            },\r\n            toArray: function (precision) {\r\n                var arr = [\r\n                    this.a,\r\n                    this.b,\r\n                    this.c,\r\n                    this.d,\r\n                    this.e,\r\n                    this.f\r\n                ];\r\n                if (defined(precision)) {\r\n                    for (var i = 0; i < arr.length; i++) {\r\n                        arr[i] = round(arr[i], precision);\r\n                    }\r\n                }\r\n                return arr;\r\n            }\r\n        });\r\n        Matrix.fn.toString = function (precision, separator) {\r\n            return this.toArray(precision).join(separator || ',');\r\n        };\r\n        Matrix.translate = function (x, y) {\r\n            return new Matrix(1, 0, 0, 1, x, y);\r\n        };\r\n        Matrix.unit = function () {\r\n            return new Matrix(1, 0, 0, 1, 0, 0);\r\n        };\r\n        Matrix.rotate = function (angle, x, y) {\r\n            var m = new Matrix();\r\n            m.a = math.cos(rad(angle));\r\n            m.b = math.sin(rad(angle));\r\n            m.c = -m.b;\r\n            m.d = m.a;\r\n            m.e = x - x * m.a + y * m.b || 0;\r\n            m.f = y - y * m.a - x * m.b || 0;\r\n            return m;\r\n        };\r\n        Matrix.scale = function (scaleX, scaleY) {\r\n            return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\r\n        };\r\n        Matrix.IDENTITY = Matrix.unit();\r\n        var Transformation = Class.extend({\r\n            init: function (matrix) {\r\n                this._matrix = matrix || Matrix.unit();\r\n            },\r\n            clone: function () {\r\n                return new Transformation(this._matrix.clone());\r\n            },\r\n            equals: function (other) {\r\n                return other && other._matrix.equals(this._matrix);\r\n            },\r\n            _optionsChange: function () {\r\n                this.optionsChange({\r\n                    field: 'transform',\r\n                    value: this\r\n                });\r\n            },\r\n            translate: function (x, y) {\r\n                this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\r\n                this._optionsChange();\r\n                return this;\r\n            },\r\n            scale: function (scaleX, scaleY, origin) {\r\n                if (!defined(scaleY)) {\r\n                    scaleY = scaleX;\r\n                }\r\n                if (origin) {\r\n                    origin = Point.create(origin);\r\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(origin.x, origin.y));\r\n                }\r\n                this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\r\n                if (origin) {\r\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(-origin.x, -origin.y));\r\n                }\r\n                this._optionsChange();\r\n                return this;\r\n            },\r\n            rotate: function (angle, origin) {\r\n                origin = Point.create(origin) || Point.ZERO;\r\n                this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, origin.x, origin.y));\r\n                this._optionsChange();\r\n                return this;\r\n            },\r\n            multiply: function (transformation) {\r\n                var matrix = toMatrix(transformation);\r\n                this._matrix = this._matrix.multiplyCopy(matrix);\r\n                this._optionsChange();\r\n                return this;\r\n            },\r\n            matrix: function (matrix) {\r\n                if (matrix) {\r\n                    this._matrix = matrix;\r\n                    this._optionsChange();\r\n                    return this;\r\n                } else {\r\n                    return this._matrix;\r\n                }\r\n            }\r\n        });\r\n        deepExtend(Transformation.fn, ObserversMixin);\r\n        function transform(matrix) {\r\n            if (matrix === null) {\r\n                return null;\r\n            }\r\n            if (matrix instanceof Transformation) {\r\n                return matrix;\r\n            }\r\n            return new Transformation(matrix);\r\n        }\r\n        function toMatrix(value) {\r\n            if (value && kendo.isFunction(value.matrix)) {\r\n                return value.matrix();\r\n            }\r\n            return value;\r\n        }\r\n        function ellipseExtremeAngles(center, rx, ry, matrix) {\r\n            var extremeX = 0, extremeY = 0;\r\n            if (matrix) {\r\n                extremeX = math.atan2(matrix.c * ry, matrix.a * rx);\r\n                if (matrix.b !== 0) {\r\n                    extremeY = math.atan2(matrix.d * ry, matrix.b * rx);\r\n                }\r\n            }\r\n            return {\r\n                x: extremeX,\r\n                y: extremeY\r\n            };\r\n        }\r\n        function bboxStartAngle(angle, start) {\r\n            while (angle < start) {\r\n                angle += 90;\r\n            }\r\n            return angle;\r\n        }\r\n        function defineAccessors(fn, fields) {\r\n            for (var i = 0; i < fields.length; i++) {\r\n                var name = fields[i];\r\n                var capitalized = name.charAt(0).toUpperCase() + name.substring(1, name.length);\r\n                fn['set' + capitalized] = setAccessor(name);\r\n                fn['get' + capitalized] = getAccessor(name);\r\n            }\r\n        }\r\n        function setAccessor(field) {\r\n            return function (value) {\r\n                if (this[field] !== value) {\r\n                    this[field] = value;\r\n                    this.geometryChange();\r\n                }\r\n                return this;\r\n            };\r\n        }\r\n        function getAccessor(field) {\r\n            return function () {\r\n                return this[field];\r\n            };\r\n        }\r\n        function elipseAngle(start, end, swipe) {\r\n            if (start > end) {\r\n                end += 360;\r\n            }\r\n            var alpha = math.abs(end - start);\r\n            if (!swipe) {\r\n                alpha = 360 - alpha;\r\n            }\r\n            return alpha;\r\n        }\r\n        function calculateAngle(cx, cy, rx, ry, x, y) {\r\n            var cos = round((x - cx) / rx, 3);\r\n            var sin = round((y - cy) / ry, 3);\r\n            return round(deg(math.atan2(sin, cos)));\r\n        }\r\n        function normalizeArcParameters(x1, y1, x2, y2, rx, ry, largeArc, swipe) {\r\n            var cx, cy;\r\n            var cx1, cy1;\r\n            var a, b, c, sqrt;\r\n            if (y1 !== y2) {\r\n                var x21 = x2 - x1;\r\n                var y21 = y2 - y1;\r\n                var rx2 = pow(rx, 2), ry2 = pow(ry, 2);\r\n                var k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\r\n                var yk2 = k - y2;\r\n                var l = -(x21 * ry2) / (rx2 * y21);\r\n                a = 1 / rx2 + pow(l, 2) / ry2;\r\n                b = 2 * (l * yk2 / ry2 - x2 / rx2);\r\n                c = pow(x2, 2) / rx2 + pow(yk2, 2) / ry2 - 1;\r\n                sqrt = math.sqrt(pow(b, 2) - 4 * a * c);\r\n                cx = (-b - sqrt) / (2 * a);\r\n                cy = k + l * cx;\r\n                cx1 = (-b + sqrt) / (2 * a);\r\n                cy1 = k + l * cx1;\r\n            } else if (x1 !== x2) {\r\n                b = -2 * y2;\r\n                c = pow((x2 - x1) * ry / (2 * rx), 2) + pow(y2, 2) - pow(ry, 2);\r\n                sqrt = math.sqrt(pow(b, 2) - 4 * c);\r\n                cx = cx1 = (x1 + x2) / 2;\r\n                cy = (-b - sqrt) / 2;\r\n                cy1 = (-b + sqrt) / 2;\r\n            } else {\r\n                return false;\r\n            }\r\n            var start = calculateAngle(cx, cy, rx, ry, x1, y1);\r\n            var end = calculateAngle(cx, cy, rx, ry, x2, y2);\r\n            var alpha = elipseAngle(start, end, swipe);\r\n            if (largeArc && alpha <= 180 || !largeArc && alpha > 180) {\r\n                cx = cx1;\r\n                cy = cy1;\r\n                start = calculateAngle(cx, cy, rx, ry, x1, y1);\r\n                end = calculateAngle(cx, cy, rx, ry, x2, y2);\r\n            }\r\n            return {\r\n                center: new Point(cx, cy),\r\n                startAngle: start,\r\n                endAngle: end\r\n            };\r\n        }\r\n        var ComplexNumber = function (real, img) {\r\n            this.real = real || 0;\r\n            this.img = img || 0;\r\n        };\r\n        ComplexNumber.fn = ComplexNumber.prototype = {\r\n            add: function (cNumber) {\r\n                return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\r\n            },\r\n            addConstant: function (value) {\r\n                return new ComplexNumber(this.real + value, this.img);\r\n            },\r\n            negate: function () {\r\n                return new ComplexNumber(-this.real, -this.img);\r\n            },\r\n            multiply: function (cNumber) {\r\n                return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img, this.real * cNumber.img + this.img * cNumber.real);\r\n            },\r\n            multiplyConstant: function (value) {\r\n                return new ComplexNumber(this.real * value, this.img * value);\r\n            },\r\n            nthRoot: function (n) {\r\n                var rad = math.atan2(this.img, this.real), r = math.sqrt(math.pow(this.img, 2) + math.pow(this.real, 2)), nthR = math.pow(r, 1 / n);\r\n                return new ComplexNumber(nthR * math.cos(rad / n), nthR * math.sin(rad / n));\r\n            },\r\n            equals: function (cNumber) {\r\n                return this.real === cNumber.real && this.img === cNumber.img;\r\n            },\r\n            isReal: function () {\r\n                return this.img === 0;\r\n            }\r\n        };\r\n        function solveCubic(a, b, c, d) {\r\n            if (a === 0) {\r\n                return solveQuadratic(b, c, d);\r\n            }\r\n            var p = (3 * a * c - math.pow(b, 2)) / (3 * math.pow(a, 2)), q = (2 * math.pow(b, 3) - 9 * a * b * c + 27 * math.pow(a, 2) * d) / (27 * math.pow(a, 3)), Q = math.pow(p / 3, 3) + math.pow(q / 2, 2), i = new ComplexNumber(0, 1), b3a = -b / (3 * a), x1, x2, y1, y2, y3, result = [], z1, z2;\r\n            if (Q < 0) {\r\n                x1 = new ComplexNumber(-q / 2, math.sqrt(-Q)).nthRoot(3);\r\n                x2 = new ComplexNumber(-q / 2, -math.sqrt(-Q)).nthRoot(3);\r\n            } else {\r\n                x1 = -q / 2 + math.sqrt(Q);\r\n                x1 = new ComplexNumber(numberSign(x1) * math.pow(math.abs(x1), 1 / 3));\r\n                x2 = -q / 2 - math.sqrt(Q);\r\n                x2 = new ComplexNumber(numberSign(x2) * math.pow(math.abs(x2), 1 / 3));\r\n            }\r\n            y1 = x1.add(x2);\r\n            z1 = x1.add(x2).multiplyConstant(-1 / 2);\r\n            z2 = x1.add(x2.negate()).multiplyConstant(math.sqrt(3) / 2);\r\n            y2 = z1.add(i.multiply(z2));\r\n            y3 = z1.add(i.negate().multiply(z2));\r\n            if (y1.isReal()) {\r\n                result.push(round(y1.real + b3a, PRECISION));\r\n            }\r\n            if (y2.isReal()) {\r\n                result.push(round(y2.real + b3a, PRECISION));\r\n            }\r\n            if (y3.isReal()) {\r\n                result.push(round(y3.real + b3a, PRECISION));\r\n            }\r\n            return result;\r\n        }\r\n        function toCubicPolynomial(points, field) {\r\n            return [\r\n                -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\r\n                3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\r\n                3 * (-points[0][field] + points[1][field]),\r\n                points[0][field]\r\n            ];\r\n        }\r\n        function calculateCurveAt(t, field, points) {\r\n            var t1 = 1 - t;\r\n            return math.pow(t1, 3) * points[0][field] + 3 * math.pow(t1, 2) * t * points[1][field] + 3 * math.pow(t, 2) * t1 * points[2][field] + math.pow(t, 3) * points[3][field];\r\n        }\r\n        function curveIntersectionsCount(points, point, bbox) {\r\n            var polynomial = toCubicPolynomial(points, 'x');\r\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\r\n            var count = 0;\r\n            var rayIntersection;\r\n            var intersectsRay;\r\n            for (var i = 0; i < roots.length; i++) {\r\n                rayIntersection = calculateCurveAt(roots[i], 'y', points);\r\n                intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\r\n                if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n        function lineIntersectionsCount(a, b, point) {\r\n            var intersects;\r\n            if (a.x != b.x) {\r\n                var minX = math.min(a.x, b.x), maxX = math.max(a.x, b.x), minY = math.min(a.y, b.y), maxY = math.max(a.y, b.y), inRange = minX <= point.x && point.x < maxX;\r\n                if (minY == maxY) {\r\n                    intersects = point.y <= minY && inRange;\r\n                } else {\r\n                    intersects = inRange && (maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x) / (maxX - minX) + minY - point.y >= 0;\r\n                }\r\n            }\r\n            return intersects ? 1 : 0;\r\n        }\r\n        function lineIntersection(p0, p1, p2, p3) {\r\n            var s1x = p1.x - p0.x;\r\n            var s2x = p3.x - p2.x;\r\n            var s1y = p1.y - p0.y;\r\n            var s2y = p3.y - p2.y;\r\n            var nx = p0.x - p2.x;\r\n            var ny = p0.y - p2.y;\r\n            var d = s1x * s2y - s2x * s1y;\r\n            var s = (s1x * ny - s1y * nx) / d;\r\n            var t = (s2x * ny - s2y * nx) / d;\r\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\r\n                return new Point(p0.x + t * s1x, p0.y + t * s1y);\r\n            }\r\n        }\r\n        function close(a, b, tolerance) {\r\n            return round(math.abs(a - b), tolerance || PRECISION) === 0;\r\n        }\r\n        function closeOrLess(a, b, tolerance) {\r\n            return a < b || close(a, b, tolerance);\r\n        }\r\n        function numberSign(x) {\r\n            return x < 0 ? -1 : 1;\r\n        }\r\n        function isOutOfEndPoint(endPoint, controlPoint, point) {\r\n            var angle = util.deg(math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\r\n            var rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\r\n            return rotatedPoint.x < endPoint.x;\r\n        }\r\n        function hasRootsInRange(points, point, field, rootField, range) {\r\n            var polynomial = toCubicPolynomial(points, rootField);\r\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\r\n            var intersection;\r\n            for (var idx = 0; idx < roots.length; idx++) {\r\n                if (0 <= roots[idx] && roots[idx] <= 1) {\r\n                    intersection = calculateCurveAt(roots[idx], field, points);\r\n                    if (math.abs(intersection - point[field]) <= range) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function solveQuadratic(a, b, c) {\r\n            var squareRoot = math.sqrt(math.pow(b, 2) - 4 * a * c);\r\n            return [\r\n                (-b + squareRoot) / (2 * a),\r\n                (-b - squareRoot) / (2 * a)\r\n            ];\r\n        }\r\n        deepExtend(kendo, {\r\n            geometry: {\r\n                Arc: Arc,\r\n                Circle: Circle,\r\n                curveIntersectionsCount: curveIntersectionsCount,\r\n                lineIntersectionsCount: lineIntersectionsCount,\r\n                Matrix: Matrix,\r\n                Point: Point,\r\n                Rect: Rect,\r\n                Size: Size,\r\n                Transformation: Transformation,\r\n                transform: transform,\r\n                toMatrix: toMatrix,\r\n                isOutOfEndPoint: isOutOfEndPoint,\r\n                hasRootsInRange: hasRootsInRange\r\n            }\r\n        });\r\n        kendo.dataviz.geometry = kendo.geometry;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/core', [\r\n        'drawing/geometry',\r\n        'kendo.popup'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var noop = $.noop, toString = Object.prototype.toString, kendo = window.kendo, Class = kendo.Class, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, limitValue = util.limitValue, g = kendo.geometry, proxy = $.proxy, NS = '.kendo', TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' + '<div class=\"k-tooltip-content\"></div>' + '</div>', TOOLTIP_CLOSE_TEMPLATE = '<div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\">close</a></div>';\r\n        var Surface = Widget.extend({\r\n            init: function (element, options) {\r\n                this.options = deepExtend({}, this.options, options);\r\n                Widget.fn.init.call(this, element, this.options);\r\n                this._click = this._handler('click');\r\n                this._mouseenter = this._handler('mouseenter');\r\n                this._mouseleave = this._handler('mouseleave');\r\n                this._mousemove = this._handler('mousemove');\r\n                this._visual = new kendo.drawing.Group();\r\n                if (this.options.width) {\r\n                    this.element.css('width', this.options.width);\r\n                }\r\n                if (this.options.height) {\r\n                    this.element.css('height', this.options.height);\r\n                }\r\n                this._enableTracking();\r\n            },\r\n            options: {\r\n                name: 'Surface',\r\n                tooltip: {}\r\n            },\r\n            events: [\r\n                'click',\r\n                'mouseenter',\r\n                'mouseleave',\r\n                'mousemove',\r\n                'resize',\r\n                'tooltipOpen',\r\n                'tooltipClose'\r\n            ],\r\n            draw: function (element) {\r\n                this._visual.children.push(element);\r\n            },\r\n            clear: function () {\r\n                this._visual.children = [];\r\n                this.hideTooltip();\r\n            },\r\n            destroy: function () {\r\n                this._visual = null;\r\n                if (this._tooltip) {\r\n                    this._tooltip.destroy();\r\n                    delete this._tooltip;\r\n                }\r\n                Widget.fn.destroy.call(this);\r\n            },\r\n            exportVisual: function () {\r\n                return this._visual;\r\n            },\r\n            getSize: function () {\r\n                return {\r\n                    width: this.element.width(),\r\n                    height: this.element.height()\r\n                };\r\n            },\r\n            setSize: function (size) {\r\n                this.element.css({\r\n                    width: size.width,\r\n                    height: size.height\r\n                });\r\n                this._size = size;\r\n                this._resize();\r\n            },\r\n            eventTarget: function (e) {\r\n                var domNode = $(e.touch ? e.touch.initialTouch : e.target);\r\n                var node;\r\n                while (!node && domNode.length > 0) {\r\n                    node = domNode[0]._kendoNode;\r\n                    if (domNode.is(this.element) || domNode.length === 0) {\r\n                        break;\r\n                    }\r\n                    domNode = domNode.parent();\r\n                }\r\n                if (node) {\r\n                    return node.srcElement;\r\n                }\r\n            },\r\n            showTooltip: function (shape, options) {\r\n                if (this._tooltip) {\r\n                    this._tooltip.show(shape, options);\r\n                }\r\n            },\r\n            hideTooltip: function () {\r\n                if (this._tooltip) {\r\n                    this._tooltip.hide();\r\n                }\r\n            },\r\n            suspendTracking: function () {\r\n                this._suspendedTracking = true;\r\n                this.hideTooltip();\r\n            },\r\n            resumeTracking: function () {\r\n                this._suspendedTracking = false;\r\n            },\r\n            _resize: noop,\r\n            _handler: function (event) {\r\n                var surface = this;\r\n                return function (e) {\r\n                    var node = surface.eventTarget(e);\r\n                    if (node && !surface._suspendedTracking) {\r\n                        surface.trigger(event, {\r\n                            element: node,\r\n                            originalEvent: e,\r\n                            type: event\r\n                        });\r\n                    }\r\n                };\r\n            },\r\n            _enableTracking: function () {\r\n                this._tooltip = new SurfaceTooltip(this, this.options.tooltip || {});\r\n            },\r\n            _elementOffset: function () {\r\n                var element = this.element;\r\n                var offset = element.offset();\r\n                var paddingLeft = parseInt(element.css('paddingLeft'), 10);\r\n                var paddingTop = parseInt(element.css('paddingTop'), 10);\r\n                return {\r\n                    left: offset.left + paddingLeft,\r\n                    top: offset.top + paddingTop\r\n                };\r\n            },\r\n            _surfacePoint: function (event) {\r\n                var offset = this._elementOffset();\r\n                var coord = eventCoordinates(event);\r\n                var x = coord.x - offset.left;\r\n                var y = coord.y - offset.top;\r\n                return new g.Point(x, y);\r\n            }\r\n        });\r\n        kendo.ui.plugin(Surface);\r\n        Surface.create = function (element, options) {\r\n            return SurfaceFactory.current.create(element, options);\r\n        };\r\n        var BaseNode = Class.extend({\r\n            init: function (srcElement) {\r\n                this.childNodes = [];\r\n                this.parent = null;\r\n                if (srcElement) {\r\n                    this.srcElement = srcElement;\r\n                    this.observe();\r\n                }\r\n            },\r\n            destroy: function () {\r\n                if (this.srcElement) {\r\n                    this.srcElement.removeObserver(this);\r\n                }\r\n                var children = this.childNodes;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    this.childNodes[i].destroy();\r\n                }\r\n                this.parent = null;\r\n            },\r\n            load: noop,\r\n            observe: function () {\r\n                if (this.srcElement) {\r\n                    this.srcElement.addObserver(this);\r\n                }\r\n            },\r\n            append: function (node) {\r\n                this.childNodes.push(node);\r\n                node.parent = this;\r\n            },\r\n            insertAt: function (node, pos) {\r\n                this.childNodes.splice(pos, 0, node);\r\n                node.parent = this;\r\n            },\r\n            remove: function (index, count) {\r\n                var end = index + count;\r\n                for (var i = index; i < end; i++) {\r\n                    this.childNodes[i].removeSelf();\r\n                }\r\n                this.childNodes.splice(index, count);\r\n            },\r\n            removeSelf: function () {\r\n                this.clear();\r\n                this.destroy();\r\n            },\r\n            clear: function () {\r\n                this.remove(0, this.childNodes.length);\r\n            },\r\n            invalidate: function () {\r\n                if (this.parent) {\r\n                    this.parent.invalidate();\r\n                }\r\n            },\r\n            geometryChange: function () {\r\n                this.invalidate();\r\n            },\r\n            optionsChange: function () {\r\n                this.invalidate();\r\n            },\r\n            childrenChange: function (e) {\r\n                if (e.action === 'add') {\r\n                    this.load(e.items, e.index);\r\n                } else if (e.action === 'remove') {\r\n                    this.remove(e.index, e.items.length);\r\n                }\r\n                this.invalidate();\r\n            }\r\n        });\r\n        var OptionsStore = Class.extend({\r\n            init: function (options, prefix) {\r\n                var field, member;\r\n                this.prefix = prefix || '';\r\n                for (field in options) {\r\n                    member = options[field];\r\n                    member = this._wrap(member, field);\r\n                    this[field] = member;\r\n                }\r\n            },\r\n            get: function (field) {\r\n                return kendo.getter(field, true)(this);\r\n            },\r\n            set: function (field, value) {\r\n                var current = kendo.getter(field, true)(this);\r\n                if (current !== value) {\r\n                    var composite = this._set(field, this._wrap(value, field));\r\n                    if (!composite) {\r\n                        this.optionsChange({\r\n                            field: this.prefix + field,\r\n                            value: value\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            _set: function (field, value) {\r\n                var composite = field.indexOf('.') >= 0;\r\n                if (composite) {\r\n                    var parts = field.split('.'), path = '', obj;\r\n                    while (parts.length > 1) {\r\n                        path += parts.shift();\r\n                        obj = kendo.getter(path, true)(this);\r\n                        if (!obj) {\r\n                            obj = new OptionsStore({}, path + '.');\r\n                            obj.addObserver(this);\r\n                            this[path] = obj;\r\n                        }\r\n                        if (obj instanceof OptionsStore) {\r\n                            obj.set(parts.join('.'), value);\r\n                            return composite;\r\n                        }\r\n                        path += '.';\r\n                    }\r\n                }\r\n                this._clear(field);\r\n                kendo.setter(field)(this, value);\r\n                return composite;\r\n            },\r\n            _clear: function (field) {\r\n                var current = kendo.getter(field, true)(this);\r\n                if (current && current.removeObserver) {\r\n                    current.removeObserver(this);\r\n                }\r\n            },\r\n            _wrap: function (object, field) {\r\n                var type = toString.call(object);\r\n                if (object !== null && defined(object) && type === '[object Object]') {\r\n                    if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\r\n                        object = new OptionsStore(object, this.prefix + field + '.');\r\n                    }\r\n                    object.addObserver(this);\r\n                }\r\n                return object;\r\n            }\r\n        });\r\n        deepExtend(OptionsStore.fn, kendo.mixins.ObserversMixin);\r\n        var SurfaceFactory = function () {\r\n            this._items = [];\r\n        };\r\n        SurfaceFactory.prototype = {\r\n            register: function (name, type, order) {\r\n                var items = this._items, first = items[0], entry = {\r\n                        name: name,\r\n                        type: type,\r\n                        order: order\r\n                    };\r\n                if (!first || order < first.order) {\r\n                    items.unshift(entry);\r\n                } else {\r\n                    items.push(entry);\r\n                }\r\n            },\r\n            create: function (element, options) {\r\n                var items = this._items, match = items[0];\r\n                if (options && options.type) {\r\n                    var preferred = options.type.toLowerCase();\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        if (items[i].name === preferred) {\r\n                            match = items[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (match) {\r\n                    return new match.type(element, options);\r\n                }\r\n                kendo.logToConsole('Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n' + '- The browser does not support SVG, VML and Canvas. User agent: ' + navigator.userAgent + '\\n' + '- The Kendo UI scripts are not fully loaded');\r\n            }\r\n        };\r\n        SurfaceFactory.current = new SurfaceFactory();\r\n        var SurfaceTooltip = Class.extend({\r\n            init: function (surface, options) {\r\n                this.element = $(TOOLTIP_TEMPLATE);\r\n                this.content = this.element.children('.k-tooltip-content');\r\n                options = options || {};\r\n                this.options = deepExtend({}, this.options, this._tooltipOptions(options));\r\n                this.popup = new kendo.ui.Popup(this.element, {\r\n                    appendTo: options.appendTo,\r\n                    animation: options.animation,\r\n                    copyAnchorStyles: false,\r\n                    collision: 'fit fit'\r\n                });\r\n                this._openPopupHandler = $.proxy(this._openPopup, this);\r\n                this.surface = surface;\r\n                this._bindEvents();\r\n            },\r\n            options: {\r\n                position: 'top',\r\n                showOn: 'mouseenter',\r\n                offset: 7,\r\n                autoHide: true,\r\n                hideDelay: 0,\r\n                showAfter: 100\r\n            },\r\n            _bindEvents: function () {\r\n                this._showHandler = proxy(this._showEvent, this);\r\n                this._surfaceLeaveHandler = proxy(this._surfaceLeave, this);\r\n                this._mouseleaveHandler = proxy(this._mouseleave, this);\r\n                this._mousemoveHandler = proxy(this._mousemove, this);\r\n                this.surface.bind('click', this._showHandler);\r\n                this.surface.bind('mouseenter', this._showHandler);\r\n                this.surface.bind('mouseleave', this._mouseleaveHandler);\r\n                this.surface.bind('mousemove', this._mousemoveHandler);\r\n                this.surface.element.on('mouseleave' + NS, this._surfaceLeaveHandler);\r\n                this.element.on('click' + NS, '.k-tooltip-button', proxy(this._hideClick, this));\r\n            },\r\n            destroy: function () {\r\n                var popup = this.popup;\r\n                this.surface.unbind('click', this._showHandler);\r\n                this.surface.unbind('mouseenter', this._showHandler);\r\n                this.surface.unbind('mouseleave', this._mouseleaveHandler);\r\n                this.surface.unbind('mousemove', this._mousemoveHandler);\r\n                this.surface.element.off('mouseleave' + NS, this._surfaceLeaveHandler);\r\n                this.element.off('click' + NS);\r\n                if (popup) {\r\n                    popup.destroy();\r\n                    delete this.popup;\r\n                }\r\n                clearTimeout(this._timeout);\r\n                delete this.popup;\r\n                delete this.element;\r\n                delete this.content;\r\n                delete this.surface;\r\n            },\r\n            _tooltipOptions: function (options) {\r\n                options = options || {};\r\n                return {\r\n                    position: options.position,\r\n                    showOn: options.showOn,\r\n                    offset: options.offset,\r\n                    autoHide: options.autoHide,\r\n                    width: options.width,\r\n                    height: options.height,\r\n                    content: options.content,\r\n                    shared: options.shared,\r\n                    hideDelay: options.hideDelay,\r\n                    showAfter: options.showAfter\r\n                };\r\n            },\r\n            _tooltipShape: function (shape) {\r\n                while (shape && !shape.options.tooltip) {\r\n                    shape = shape.parent;\r\n                }\r\n                return shape;\r\n            },\r\n            _updateContent: function (target, shape, options) {\r\n                var content = options.content;\r\n                if (kendo.isFunction(content)) {\r\n                    content = content({\r\n                        element: shape,\r\n                        target: target\r\n                    });\r\n                }\r\n                if (content) {\r\n                    this.content.html(content);\r\n                    return true;\r\n                }\r\n            },\r\n            _position: function (shape, options, elementSize, event) {\r\n                var position = options.position;\r\n                var tooltipOffset = options.offset || 0;\r\n                var surface = this.surface;\r\n                var offset = surface._elementOffset();\r\n                var size = surface.getSize();\r\n                var surfaceOffset = surface._offset;\r\n                var bbox = shape.bbox();\r\n                var width = elementSize.width;\r\n                var height = elementSize.height;\r\n                var left = 0, top = 0;\r\n                bbox.origin.translate(offset.left, offset.top);\r\n                if (surfaceOffset) {\r\n                    bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\r\n                }\r\n                if (position == 'cursor' && event) {\r\n                    var coord = eventCoordinates(event);\r\n                    left = coord.x - width / 2;\r\n                    top = coord.y - height - tooltipOffset;\r\n                } else if (position == 'left') {\r\n                    left = bbox.origin.x - width - tooltipOffset;\r\n                    top = bbox.center().y - height / 2;\r\n                } else if (position == 'right') {\r\n                    left = bbox.bottomRight().x + tooltipOffset;\r\n                    top = bbox.center().y - height / 2;\r\n                } else if (position == 'bottom') {\r\n                    left = bbox.center().x - width / 2;\r\n                    top = bbox.bottomRight().y + tooltipOffset;\r\n                } else {\r\n                    left = bbox.center().x - width / 2;\r\n                    top = bbox.origin.y - height - tooltipOffset;\r\n                }\r\n                return {\r\n                    left: limitValue(left, offset.left, offset.left + size.width),\r\n                    top: limitValue(top, offset.top, offset.top + size.height)\r\n                };\r\n            },\r\n            show: function (shape, options) {\r\n                this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\r\n            },\r\n            hide: function () {\r\n                var current = this._current;\r\n                delete this._current;\r\n                clearTimeout(this._showTimeout);\r\n                if (this.popup.visible() && current && !this.surface.trigger('tooltipClose', {\r\n                        element: current.shape,\r\n                        target: current.target,\r\n                        popup: this.popup\r\n                    })) {\r\n                    this.popup.close();\r\n                }\r\n            },\r\n            _hideClick: function (e) {\r\n                e.preventDefault();\r\n                this.hide();\r\n            },\r\n            _show: function (target, shape, options, event, delay) {\r\n                var current = this._current;\r\n                clearTimeout(this._timeout);\r\n                if (current && (current.shape === shape && options.shared || current.target === target)) {\r\n                    return;\r\n                }\r\n                clearTimeout(this._showTimeout);\r\n                if (!this.surface.trigger('tooltipOpen', {\r\n                        element: shape,\r\n                        target: target,\r\n                        popup: this.popup\r\n                    }) && this._updateContent(target, shape, options)) {\r\n                    this._autoHide(options);\r\n                    var elementSize = this._measure(options);\r\n                    var popup = this.popup;\r\n                    if (popup.visible()) {\r\n                        popup.close(true);\r\n                    }\r\n                    this._current = {\r\n                        options: options,\r\n                        elementSize: elementSize,\r\n                        shape: shape,\r\n                        target: target,\r\n                        position: this._position(options.shared ? shape : target, options, elementSize, event)\r\n                    };\r\n                    if (delay) {\r\n                        this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\r\n                    } else {\r\n                        this._openPopup();\r\n                    }\r\n                }\r\n            },\r\n            _openPopup: function () {\r\n                var current = this._current;\r\n                var position = current.position;\r\n                this.popup.open(position.left, position.top);\r\n            },\r\n            _autoHide: function (options) {\r\n                if (options.autoHide && this._closeButton) {\r\n                    this.element.removeClass('k-tooltip-closable');\r\n                    this._closeButton.remove();\r\n                    delete this._closeButton;\r\n                }\r\n                if (!options.autoHide && !this._closeButton) {\r\n                    this.element.addClass('k-tooltip-closable');\r\n                    this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).prependTo(this.element);\r\n                }\r\n            },\r\n            _showEvent: function (e) {\r\n                var shape = this._tooltipShape(e.element);\r\n                if (shape) {\r\n                    var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\r\n                    if (options && options.showOn == e.type) {\r\n                        this._show(e.element, shape, options, e.originalEvent, true);\r\n                    }\r\n                }\r\n            },\r\n            _measure: function (options) {\r\n                var width, height;\r\n                this.element.css({\r\n                    width: 'auto',\r\n                    height: 'auto'\r\n                });\r\n                var visible = this.popup.visible();\r\n                if (!visible) {\r\n                    this.popup.wrapper.show();\r\n                }\r\n                this.element.css({\r\n                    width: defined(options.width) ? options.width : 'auto',\r\n                    height: defined(options.height) ? options.height : 'auto'\r\n                });\r\n                width = this.element.outerWidth();\r\n                height = this.element.outerHeight();\r\n                if (!visible) {\r\n                    this.popup.wrapper.hide();\r\n                }\r\n                return {\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            },\r\n            _mouseleave: function (e) {\r\n                if (!this._popupRelatedTarget(e.originalEvent)) {\r\n                    var tooltip = this;\r\n                    var current = tooltip._current;\r\n                    if (current && current.options.autoHide) {\r\n                        tooltip._timeout = setTimeout(function () {\r\n                            clearTimeout(tooltip._showTimeout);\r\n                            tooltip.hide();\r\n                        }, current.options.hideDelay || 0);\r\n                    }\r\n                }\r\n            },\r\n            _mousemove: function (e) {\r\n                var current = this._current;\r\n                if (current && e.element) {\r\n                    var options = current.options;\r\n                    if (options.position == 'cursor') {\r\n                        var position = this._position(e.element, options, current.elementSize, e.originalEvent);\r\n                        current.position = position;\r\n                        this.popup.wrapper.css({\r\n                            left: position.left,\r\n                            top: position.top\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            _surfaceLeave: function (e) {\r\n                if (!this._popupRelatedTarget(e)) {\r\n                    clearTimeout(this._showTimeout);\r\n                    this.hide();\r\n                }\r\n            },\r\n            _popupRelatedTarget: function (e) {\r\n                return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\r\n            }\r\n        });\r\n        function eventCoordinates(event) {\r\n            var x, y;\r\n            if (event.touch) {\r\n                x = event.x.location;\r\n                y = event.y.location;\r\n            } else {\r\n                x = event.pageX || event.clientX || 0;\r\n                y = event.pageY || event.clientY || 0;\r\n            }\r\n            return {\r\n                x: x,\r\n                y: y\r\n            };\r\n        }\r\n        deepExtend(kendo, {\r\n            drawing: {\r\n                DASH_ARRAYS: {\r\n                    dot: [\r\n                        1.5,\r\n                        3.5\r\n                    ],\r\n                    dash: [\r\n                        4,\r\n                        3.5\r\n                    ],\r\n                    longdash: [\r\n                        8,\r\n                        3.5\r\n                    ],\r\n                    dashdot: [\r\n                        3.5,\r\n                        3.5,\r\n                        1.5,\r\n                        3.5\r\n                    ],\r\n                    longdashdot: [\r\n                        8,\r\n                        3.5,\r\n                        1.5,\r\n                        3.5\r\n                    ],\r\n                    longdashdotdot: [\r\n                        8,\r\n                        3.5,\r\n                        1.5,\r\n                        3.5,\r\n                        1.5,\r\n                        3.5\r\n                    ]\r\n                },\r\n                Color: kendo.Color,\r\n                BaseNode: BaseNode,\r\n                OptionsStore: OptionsStore,\r\n                Surface: Surface,\r\n                SurfaceFactory: SurfaceFactory,\r\n                SurfaceTooltip: SurfaceTooltip\r\n            }\r\n        });\r\n        kendo.dataviz.drawing = kendo.drawing;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/mixins', ['drawing/core'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, defined = kendo.util.defined, g = kendo.geometry;\r\n        var GRADIENT = 'gradient';\r\n        var IDENTITY_MATRIX_HASH = g.Matrix.IDENTITY.toString();\r\n        var Paintable = {\r\n            extend: function (proto) {\r\n                proto.fill = this.fill;\r\n                proto.stroke = this.stroke;\r\n            },\r\n            fill: function (color, opacity) {\r\n                var options = this.options;\r\n                if (defined(color)) {\r\n                    if (color && color.nodeType != GRADIENT) {\r\n                        var newFill = { color: color };\r\n                        if (defined(opacity)) {\r\n                            newFill.opacity = opacity;\r\n                        }\r\n                        options.set('fill', newFill);\r\n                    } else {\r\n                        options.set('fill', color);\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    return options.get('fill');\r\n                }\r\n            },\r\n            stroke: function (color, width, opacity) {\r\n                if (defined(color)) {\r\n                    this.options.set('stroke.color', color);\r\n                    if (defined(width)) {\r\n                        this.options.set('stroke.width', width);\r\n                    }\r\n                    if (defined(opacity)) {\r\n                        this.options.set('stroke.opacity', opacity);\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    return this.options.get('stroke');\r\n                }\r\n            }\r\n        };\r\n        var Traversable = {\r\n            extend: function (proto, childrenField) {\r\n                proto.traverse = function (callback) {\r\n                    var children = this[childrenField];\r\n                    for (var i = 0; i < children.length; i++) {\r\n                        var child = children[i];\r\n                        if (child.traverse) {\r\n                            child.traverse(callback);\r\n                        } else {\r\n                            callback(child);\r\n                        }\r\n                    }\r\n                    return this;\r\n                };\r\n            }\r\n        };\r\n        var Measurable = {\r\n            extend: function (proto) {\r\n                proto.bbox = this.bbox;\r\n                proto.geometryChange = this.geometryChange;\r\n            },\r\n            bbox: function (transformation) {\r\n                var combinedMatrix = g.toMatrix(this.currentTransform(transformation));\r\n                var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\r\n                var bbox;\r\n                if (this._bboxCache && this._matrixHash == matrixHash) {\r\n                    bbox = this._bboxCache.clone();\r\n                } else {\r\n                    bbox = this._bbox(combinedMatrix);\r\n                    this._bboxCache = bbox ? bbox.clone() : null;\r\n                    this._matrixHash = matrixHash;\r\n                }\r\n                var strokeWidth = this.options.get('stroke.width');\r\n                if (strokeWidth && bbox) {\r\n                    bbox.expand(strokeWidth / 2);\r\n                }\r\n                return bbox;\r\n            },\r\n            geometryChange: function () {\r\n                delete this._bboxCache;\r\n                this.trigger('geometryChange', { element: this });\r\n            }\r\n        };\r\n        deepExtend(kendo.drawing, {\r\n            mixins: {\r\n                Paintable: Paintable,\r\n                Traversable: Traversable,\r\n                Measurable: Measurable\r\n            }\r\n        });\r\n    }());\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/shapes', [\r\n        'drawing/core',\r\n        'drawing/mixins',\r\n        'util/text-metrics',\r\n        'mixins/observers'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Size = g.Size, Matrix = g.Matrix, toMatrix = g.toMatrix, drawing = kendo.drawing, OptionsStore = drawing.OptionsStore, math = Math, pow = math.pow, util = kendo.util, append = util.append, arrayLimits = util.arrayLimits, defined = util.defined, last = util.last, valueOrDefault = util.valueOrDefault, ObserversMixin = kendo.mixins.ObserversMixin, inArray = $.inArray, push = [].push, pop = [].pop, splice = [].splice, shift = [].shift, slice = [].slice, unshift = [].unshift, defId = 1, START = 'start', END = 'end', HORIZONTAL = 'horizontal';\r\n        var Element = Class.extend({\r\n            nodeType: 'Element',\r\n            init: function (options) {\r\n                this._initOptions(options);\r\n            },\r\n            _initOptions: function (options) {\r\n                options = options || {};\r\n                var transform = options.transform;\r\n                var clip = options.clip;\r\n                if (transform) {\r\n                    options.transform = g.transform(transform);\r\n                }\r\n                if (clip && !clip.id) {\r\n                    clip.id = generateDefinitionId();\r\n                }\r\n                this.options = new OptionsStore(options);\r\n                this.options.addObserver(this);\r\n            },\r\n            transform: function (transform) {\r\n                if (defined(transform)) {\r\n                    this.options.set('transform', g.transform(transform));\r\n                } else {\r\n                    return this.options.get('transform');\r\n                }\r\n            },\r\n            parentTransform: function () {\r\n                var element = this, transformation, parentMatrix;\r\n                while (element.parent) {\r\n                    element = element.parent;\r\n                    transformation = element.transform();\r\n                    if (transformation) {\r\n                        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\r\n                    }\r\n                }\r\n                if (parentMatrix) {\r\n                    return g.transform(parentMatrix);\r\n                }\r\n            },\r\n            currentTransform: function (parentTransform) {\r\n                var elementTransform = this.transform(), elementMatrix = toMatrix(elementTransform), parentMatrix, combinedMatrix;\r\n                if (!defined(parentTransform)) {\r\n                    parentTransform = this.parentTransform();\r\n                }\r\n                parentMatrix = toMatrix(parentTransform);\r\n                if (elementMatrix && parentMatrix) {\r\n                    combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\r\n                } else {\r\n                    combinedMatrix = elementMatrix || parentMatrix;\r\n                }\r\n                if (combinedMatrix) {\r\n                    return g.transform(combinedMatrix);\r\n                }\r\n            },\r\n            visible: function (visible) {\r\n                if (defined(visible)) {\r\n                    this.options.set('visible', visible);\r\n                    return this;\r\n                } else {\r\n                    return this.options.get('visible') !== false;\r\n                }\r\n            },\r\n            clip: function (clip) {\r\n                var options = this.options;\r\n                if (defined(clip)) {\r\n                    if (clip && !clip.id) {\r\n                        clip.id = generateDefinitionId();\r\n                    }\r\n                    options.set('clip', clip);\r\n                    return this;\r\n                } else {\r\n                    return options.get('clip');\r\n                }\r\n            },\r\n            opacity: function (value) {\r\n                if (defined(value)) {\r\n                    this.options.set('opacity', value);\r\n                    return this;\r\n                } else {\r\n                    return valueOrDefault(this.options.get('opacity'), 1);\r\n                }\r\n            },\r\n            clippedBBox: function (transformation) {\r\n                var box = this._clippedBBox(transformation);\r\n                if (box) {\r\n                    var clip = this.clip();\r\n                    return clip ? g.Rect.intersect(box, clip.bbox(transformation)) : box;\r\n                }\r\n            },\r\n            containsPoint: function (point, parentTransform) {\r\n                if (this.visible()) {\r\n                    var transform = this.currentTransform(parentTransform);\r\n                    if (transform) {\r\n                        point = point.transformCopy(transform.matrix().invert());\r\n                    }\r\n                    return this._hasFill() && this._containsPoint(point) || this._isOnPath && this._hasStroke() && this._isOnPath(point);\r\n                }\r\n                return false;\r\n            },\r\n            _hasFill: function () {\r\n                var fill = this.options.fill;\r\n                return fill && !util.isTransparent(fill.color);\r\n            },\r\n            _hasStroke: function () {\r\n                var stroke = this.options.stroke;\r\n                return stroke && stroke.width > 0 && !util.isTransparent(stroke.color);\r\n            },\r\n            _clippedBBox: function (transformation) {\r\n                return this.bbox(transformation);\r\n            }\r\n        });\r\n        deepExtend(Element.fn, ObserversMixin);\r\n        var ElementsArray = Class.extend({\r\n            init: function (array) {\r\n                array = array || [];\r\n                this.length = 0;\r\n                this._splice(0, array.length, array);\r\n            },\r\n            elements: function (elements) {\r\n                if (elements) {\r\n                    this._splice(0, this.length, elements);\r\n                    this._change();\r\n                    return this;\r\n                } else {\r\n                    return this.slice(0);\r\n                }\r\n            },\r\n            push: function () {\r\n                var elements = arguments;\r\n                var result = push.apply(this, elements);\r\n                this._add(elements);\r\n                return result;\r\n            },\r\n            slice: slice,\r\n            pop: function () {\r\n                var length = this.length;\r\n                var result = pop.apply(this);\r\n                if (length) {\r\n                    this._remove([result]);\r\n                }\r\n                return result;\r\n            },\r\n            splice: function (index, howMany) {\r\n                var elements = slice.call(arguments, 2);\r\n                var result = this._splice(index, howMany, elements);\r\n                this._change();\r\n                return result;\r\n            },\r\n            shift: function () {\r\n                var length = this.length;\r\n                var result = shift.apply(this);\r\n                if (length) {\r\n                    this._remove([result]);\r\n                }\r\n                return result;\r\n            },\r\n            unshift: function () {\r\n                var elements = arguments;\r\n                var result = unshift.apply(this, elements);\r\n                this._add(elements);\r\n                return result;\r\n            },\r\n            indexOf: function (element) {\r\n                var that = this;\r\n                var idx;\r\n                var length;\r\n                for (idx = 0, length = that.length; idx < length; idx++) {\r\n                    if (that[idx] === element) {\r\n                        return idx;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n            _splice: function (index, howMany, elements) {\r\n                var result = splice.apply(this, [\r\n                    index,\r\n                    howMany\r\n                ].concat(elements));\r\n                this._clearObserver(result);\r\n                this._setObserver(elements);\r\n                return result;\r\n            },\r\n            _add: function (elements) {\r\n                this._setObserver(elements);\r\n                this._change();\r\n            },\r\n            _remove: function (elements) {\r\n                this._clearObserver(elements);\r\n                this._change();\r\n            },\r\n            _setObserver: function (elements) {\r\n                for (var idx = 0; idx < elements.length; idx++) {\r\n                    elements[idx].addObserver(this);\r\n                }\r\n            },\r\n            _clearObserver: function (elements) {\r\n                for (var idx = 0; idx < elements.length; idx++) {\r\n                    elements[idx].removeObserver(this);\r\n                }\r\n            },\r\n            _change: function () {\r\n            }\r\n        });\r\n        deepExtend(ElementsArray.fn, ObserversMixin);\r\n        var Group = Element.extend({\r\n            nodeType: 'Group',\r\n            init: function (options) {\r\n                Element.fn.init.call(this, options);\r\n                this.children = [];\r\n            },\r\n            childrenChange: function (action, items, index) {\r\n                this.trigger('childrenChange', {\r\n                    action: action,\r\n                    items: items,\r\n                    index: index\r\n                });\r\n            },\r\n            append: function () {\r\n                append(this.children, arguments);\r\n                this._reparent(arguments, this);\r\n                this.childrenChange('add', arguments);\r\n                return this;\r\n            },\r\n            insert: function (index, element) {\r\n                this.children.splice(index, 0, element);\r\n                element.parent = this;\r\n                this.childrenChange('add', [element], index);\r\n                return this;\r\n            },\r\n            insertAt: function (element, index) {\r\n                return this.insert(index, element);\r\n            },\r\n            remove: function (element) {\r\n                var index = inArray(element, this.children);\r\n                if (index >= 0) {\r\n                    this.children.splice(index, 1);\r\n                    element.parent = null;\r\n                    this.childrenChange('remove', [element], index);\r\n                }\r\n                return this;\r\n            },\r\n            removeAt: function (index) {\r\n                if (0 <= index && index < this.children.length) {\r\n                    var element = this.children[index];\r\n                    this.children.splice(index, 1);\r\n                    element.parent = null;\r\n                    this.childrenChange('remove', [element], index);\r\n                }\r\n                return this;\r\n            },\r\n            clear: function () {\r\n                var items = this.children;\r\n                this.children = [];\r\n                this._reparent(items, null);\r\n                this.childrenChange('remove', items, 0);\r\n                return this;\r\n            },\r\n            bbox: function (transformation) {\r\n                return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\r\n            },\r\n            rawBBox: function () {\r\n                return elementsBoundingBox(this.children, false);\r\n            },\r\n            _clippedBBox: function (transformation) {\r\n                return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\r\n            },\r\n            currentTransform: function (transformation) {\r\n                return Element.fn.currentTransform.call(this, transformation) || null;\r\n            },\r\n            containsPoint: function (point, parentTransform) {\r\n                if (this.visible()) {\r\n                    var children = this.children;\r\n                    var transform = this.currentTransform(parentTransform);\r\n                    for (var idx = 0; idx < children.length; idx++) {\r\n                        if (children[idx].containsPoint(point, transform)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _reparent: function (elements, newParent) {\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    var child = elements[i];\r\n                    var parent = child.parent;\r\n                    if (parent && parent != this && parent.remove) {\r\n                        parent.remove(child);\r\n                    }\r\n                    child.parent = newParent;\r\n                }\r\n            }\r\n        });\r\n        drawing.mixins.Traversable.extend(Group.fn, 'children');\r\n        var Text = Element.extend({\r\n            nodeType: 'Text',\r\n            init: function (content, position, options) {\r\n                Element.fn.init.call(this, options);\r\n                this.content(content);\r\n                this.position(position || new g.Point());\r\n                if (!this.options.font) {\r\n                    this.options.font = '12px sans-serif';\r\n                }\r\n                if (!defined(this.options.fill)) {\r\n                    this.fill('#000');\r\n                }\r\n            },\r\n            content: function (value) {\r\n                if (defined(value)) {\r\n                    this.options.set('content', value);\r\n                    return this;\r\n                } else {\r\n                    return this.options.get('content');\r\n                }\r\n            },\r\n            measure: function () {\r\n                var metrics = util.measureText(this.content(), { font: this.options.get('font') });\r\n                return metrics;\r\n            },\r\n            rect: function () {\r\n                var size = this.measure();\r\n                var pos = this.position().clone();\r\n                return new g.Rect(pos, [\r\n                    size.width,\r\n                    size.height\r\n                ]);\r\n            },\r\n            bbox: function (transformation) {\r\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\r\n                return this.rect().bbox(combinedMatrix);\r\n            },\r\n            rawBBox: function () {\r\n                return this.rect().bbox();\r\n            },\r\n            _containsPoint: function (point) {\r\n                return this.rect().containsPoint(point);\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(Text.fn);\r\n        definePointAccessors(Text.fn, ['position']);\r\n        var Circle = Element.extend({\r\n            nodeType: 'Circle',\r\n            init: function (geometry, options) {\r\n                Element.fn.init.call(this, options);\r\n                this.geometry(geometry || new g.Circle());\r\n                if (!defined(this.options.stroke)) {\r\n                    this.stroke('#000');\r\n                }\r\n            },\r\n            _bbox: function (matrix) {\r\n                return this._geometry.bbox(matrix);\r\n            },\r\n            rawBBox: function () {\r\n                return this._geometry.bbox();\r\n            },\r\n            _containsPoint: function (point) {\r\n                return this.geometry().containsPoint(point);\r\n            },\r\n            _isOnPath: function (point) {\r\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(Circle.fn);\r\n        drawing.mixins.Measurable.extend(Circle.fn);\r\n        defineGeometryAccessors(Circle.fn, ['geometry']);\r\n        var Arc = Element.extend({\r\n            nodeType: 'Arc',\r\n            init: function (geometry, options) {\r\n                Element.fn.init.call(this, options);\r\n                this.geometry(geometry || new g.Arc());\r\n                if (!defined(this.options.stroke)) {\r\n                    this.stroke('#000');\r\n                }\r\n            },\r\n            _bbox: function (matrix) {\r\n                return this._geometry.bbox(matrix);\r\n            },\r\n            rawBBox: function () {\r\n                return this.geometry().bbox();\r\n            },\r\n            toPath: function () {\r\n                var path = new Path();\r\n                var curvePoints = this.geometry().curvePoints();\r\n                if (curvePoints.length > 0) {\r\n                    path.moveTo(curvePoints[0].x, curvePoints[0].y);\r\n                    for (var i = 1; i < curvePoints.length; i += 3) {\r\n                        path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\r\n                    }\r\n                }\r\n                return path;\r\n            },\r\n            _containsPoint: function (point) {\r\n                return this.geometry().containsPoint(point);\r\n            },\r\n            _isOnPath: function (point) {\r\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(Arc.fn);\r\n        drawing.mixins.Measurable.extend(Arc.fn);\r\n        defineGeometryAccessors(Arc.fn, ['geometry']);\r\n        var GeometryElementsArray = ElementsArray.extend({\r\n            _change: function () {\r\n                this.geometryChange();\r\n            }\r\n        });\r\n        var Segment = Class.extend({\r\n            init: function (anchor, controlIn, controlOut) {\r\n                this.anchor(anchor || new Point());\r\n                this.controlIn(controlIn);\r\n                this.controlOut(controlOut);\r\n            },\r\n            bboxTo: function (toSegment, matrix) {\r\n                var rect;\r\n                var segmentAnchor = this.anchor().transformCopy(matrix);\r\n                var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\r\n                if (this.controlOut() && toSegment.controlIn()) {\r\n                    rect = this._curveBoundingBox(segmentAnchor, this.controlOut().transformCopy(matrix), toSegment.controlIn().transformCopy(matrix), toSegmentAnchor);\r\n                } else {\r\n                    rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\r\n                }\r\n                return rect;\r\n            },\r\n            _lineBoundingBox: function (p1, p2) {\r\n                return g.Rect.fromPoints(p1, p2);\r\n            },\r\n            _curveBoundingBox: function (p1, cp1, cp2, p2) {\r\n                var points = [\r\n                        p1,\r\n                        cp1,\r\n                        cp2,\r\n                        p2\r\n                    ], extremesX = this._curveExtremesFor(points, 'x'), extremesY = this._curveExtremesFor(points, 'y'), xLimits = arrayLimits([\r\n                        extremesX.min,\r\n                        extremesX.max,\r\n                        p1.x,\r\n                        p2.x\r\n                    ]), yLimits = arrayLimits([\r\n                        extremesY.min,\r\n                        extremesY.max,\r\n                        p1.y,\r\n                        p2.y\r\n                    ]);\r\n                return g.Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\r\n            },\r\n            _curveExtremesFor: function (points, field) {\r\n                var extremes = this._curveExtremes(points[0][field], points[1][field], points[2][field], points[3][field]);\r\n                return {\r\n                    min: this._calculateCurveAt(extremes.min, field, points),\r\n                    max: this._calculateCurveAt(extremes.max, field, points)\r\n                };\r\n            },\r\n            _calculateCurveAt: function (t, field, points) {\r\n                var t1 = 1 - t;\r\n                return pow(t1, 3) * points[0][field] + 3 * pow(t1, 2) * t * points[1][field] + 3 * pow(t, 2) * t1 * points[2][field] + pow(t, 3) * points[3][field];\r\n            },\r\n            _curveExtremes: function (x1, x2, x3, x4) {\r\n                var a = x1 - 3 * x2 + 3 * x3 - x4;\r\n                var b = -2 * (x1 - 2 * x2 + x3);\r\n                var c = x1 - x2;\r\n                var sqrt = math.sqrt(b * b - 4 * a * c);\r\n                var t1 = 0;\r\n                var t2 = 1;\r\n                if (a === 0) {\r\n                    if (b !== 0) {\r\n                        t1 = t2 = -c / b;\r\n                    }\r\n                } else if (!isNaN(sqrt)) {\r\n                    t1 = (-b + sqrt) / (2 * a);\r\n                    t2 = (-b - sqrt) / (2 * a);\r\n                }\r\n                var min = math.max(math.min(t1, t2), 0);\r\n                if (min < 0 || min > 1) {\r\n                    min = 0;\r\n                }\r\n                var max = math.min(math.max(t1, t2), 1);\r\n                if (max > 1 || max < 0) {\r\n                    max = 1;\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            _intersectionsTo: function (segment, point) {\r\n                var intersectionsCount;\r\n                if (this.controlOut() && segment.controlIn()) {\r\n                    intersectionsCount = g.curveIntersectionsCount([\r\n                        this.anchor(),\r\n                        this.controlOut(),\r\n                        segment.controlIn(),\r\n                        segment.anchor()\r\n                    ], point, this.bboxTo(segment));\r\n                } else {\r\n                    intersectionsCount = g.lineIntersectionsCount(this.anchor(), segment.anchor(), point);\r\n                }\r\n                return intersectionsCount;\r\n            },\r\n            _isOnCurveTo: function (segment, point, width, endSegment) {\r\n                var bbox = this.bboxTo(segment).expand(width, width);\r\n                if (bbox.containsPoint(point)) {\r\n                    var p1 = this.anchor();\r\n                    var p2 = this.controlOut();\r\n                    var p3 = segment.controlIn();\r\n                    var p4 = segment.anchor();\r\n                    if (endSegment == 'start' && p1.distanceTo(point) <= width) {\r\n                        return !g.isOutOfEndPoint(p1, p2, point);\r\n                    } else if (endSegment == 'end' && p4.distanceTo(point) <= width) {\r\n                        return !g.isOutOfEndPoint(p4, p3, point);\r\n                    }\r\n                    var hasRootsInRange = g.hasRootsInRange;\r\n                    var points = [\r\n                        p1,\r\n                        p2,\r\n                        p3,\r\n                        p4\r\n                    ];\r\n                    if (hasRootsInRange(points, point, 'x', 'y', width) || hasRootsInRange(points, point, 'y', 'x', width)) {\r\n                        return true;\r\n                    }\r\n                    var rotation = g.transform().rotate(45, point);\r\n                    var rotatedPoints = [\r\n                        p1.transformCopy(rotation),\r\n                        p2.transformCopy(rotation),\r\n                        p3.transformCopy(rotation),\r\n                        p4.transformCopy(rotation)\r\n                    ];\r\n                    return hasRootsInRange(rotatedPoints, point, 'x', 'y', width) || hasRootsInRange(rotatedPoints, point, 'y', 'x', width);\r\n                }\r\n            },\r\n            _isOnLineTo: function (segment, point, width) {\r\n                var p1 = this.anchor();\r\n                var p2 = segment.anchor();\r\n                var angle = util.deg(math.atan2(p2.y - p1.y, p2.x - p1.x));\r\n                var rect = new g.Rect([\r\n                    p1.x,\r\n                    p1.y - width / 2\r\n                ], [\r\n                    p1.distanceTo(p2),\r\n                    width\r\n                ]);\r\n                return rect.containsPoint(point.transformCopy(g.transform().rotate(-angle, p1)));\r\n            },\r\n            _isOnPathTo: function (segment, point, width, endSegment) {\r\n                var isOnPath;\r\n                if (this.controlOut() && segment.controlIn()) {\r\n                    isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\r\n                } else {\r\n                    isOnPath = this._isOnLineTo(segment, point, width);\r\n                }\r\n                return isOnPath;\r\n            }\r\n        });\r\n        definePointAccessors(Segment.fn, [\r\n            'anchor',\r\n            'controlIn',\r\n            'controlOut'\r\n        ]);\r\n        deepExtend(Segment.fn, ObserversMixin);\r\n        var Path = Element.extend({\r\n            nodeType: 'Path',\r\n            init: function (options) {\r\n                Element.fn.init.call(this, options);\r\n                this.segments = new GeometryElementsArray();\r\n                this.segments.addObserver(this);\r\n                if (!defined(this.options.stroke)) {\r\n                    this.stroke('#000');\r\n                    if (!defined(this.options.stroke.lineJoin)) {\r\n                        this.options.set('stroke.lineJoin', 'miter');\r\n                    }\r\n                }\r\n            },\r\n            moveTo: function (x, y) {\r\n                this.suspend();\r\n                this.segments.elements([]);\r\n                this.resume();\r\n                this.lineTo(x, y);\r\n                return this;\r\n            },\r\n            lineTo: function (x, y) {\r\n                var point = defined(y) ? new Point(x, y) : x, segment = new Segment(point);\r\n                this.segments.push(segment);\r\n                return this;\r\n            },\r\n            curveTo: function (controlOut, controlIn, point) {\r\n                if (this.segments.length > 0) {\r\n                    var lastSegment = last(this.segments);\r\n                    var segment = new Segment(point, controlIn);\r\n                    this.suspend();\r\n                    lastSegment.controlOut(controlOut);\r\n                    this.resume();\r\n                    this.segments.push(segment);\r\n                }\r\n                return this;\r\n            },\r\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\r\n                if (this.segments.length > 0) {\r\n                    var lastSegment = last(this.segments);\r\n                    var anchor = lastSegment.anchor();\r\n                    var start = util.rad(startAngle);\r\n                    var center = new Point(anchor.x - radiusX * math.cos(start), anchor.y - radiusY * math.sin(start));\r\n                    var arc = new g.Arc(center, {\r\n                        startAngle: startAngle,\r\n                        endAngle: endAngle,\r\n                        radiusX: radiusX,\r\n                        radiusY: radiusY,\r\n                        anticlockwise: anticlockwise\r\n                    });\r\n                    this._addArcSegments(arc);\r\n                }\r\n                return this;\r\n            },\r\n            arcTo: function (end, rx, ry, largeArc, swipe) {\r\n                if (this.segments.length > 0) {\r\n                    var lastSegment = last(this.segments);\r\n                    var anchor = lastSegment.anchor();\r\n                    var arc = g.Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe);\r\n                    this._addArcSegments(arc);\r\n                }\r\n                return this;\r\n            },\r\n            _addArcSegments: function (arc) {\r\n                this.suspend();\r\n                var curvePoints = arc.curvePoints();\r\n                for (var i = 1; i < curvePoints.length; i += 3) {\r\n                    this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\r\n                }\r\n                this.resume();\r\n                this.geometryChange();\r\n            },\r\n            close: function () {\r\n                this.options.closed = true;\r\n                this.geometryChange();\r\n                return this;\r\n            },\r\n            rawBBox: function () {\r\n                return this._bbox();\r\n            },\r\n            _containsPoint: function (point) {\r\n                var segments = this.segments;\r\n                var length = segments.length;\r\n                var intersectionsCount = 0;\r\n                var previous, current;\r\n                for (var idx = 1; idx < length; idx++) {\r\n                    previous = segments[idx - 1];\r\n                    current = segments[idx];\r\n                    intersectionsCount += previous._intersectionsTo(current, point);\r\n                }\r\n                if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\r\n                    intersectionsCount += g.lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\r\n                }\r\n                return intersectionsCount % 2 !== 0;\r\n            },\r\n            _isOnPath: function (point, width) {\r\n                var segments = this.segments;\r\n                var length = segments.length;\r\n                width = width || this.options.stroke.width;\r\n                if (length > 1) {\r\n                    if (segments[0]._isOnPathTo(segments[1], point, width, 'start')) {\r\n                        return true;\r\n                    }\r\n                    for (var idx = 2; idx <= length - 2; idx++) {\r\n                        if (segments[idx - 1]._isOnPathTo(segments[idx], point, width)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    if (segments[length - 2]._isOnPathTo(segments[length - 1], point, width, 'end')) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _bbox: function (matrix) {\r\n                var segments = this.segments;\r\n                var length = segments.length;\r\n                var boundingBox;\r\n                if (length === 1) {\r\n                    var anchor = segments[0].anchor().transformCopy(matrix);\r\n                    boundingBox = new g.Rect(anchor, Size.ZERO);\r\n                } else if (length > 0) {\r\n                    for (var i = 1; i < length; i++) {\r\n                        var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\r\n                        if (boundingBox) {\r\n                            boundingBox = g.Rect.union(boundingBox, segmentBox);\r\n                        } else {\r\n                            boundingBox = segmentBox;\r\n                        }\r\n                    }\r\n                }\r\n                return boundingBox;\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(Path.fn);\r\n        drawing.mixins.Measurable.extend(Path.fn);\r\n        Path.fromRect = function (rect, options) {\r\n            return new Path(options).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\r\n        };\r\n        Path.fromPoints = function (points, options) {\r\n            if (points) {\r\n                var path = new Path(options);\r\n                for (var i = 0; i < points.length; i++) {\r\n                    var pt = Point.create(points[i]);\r\n                    if (pt) {\r\n                        if (i === 0) {\r\n                            path.moveTo(pt);\r\n                        } else {\r\n                            path.lineTo(pt);\r\n                        }\r\n                    }\r\n                }\r\n                return path;\r\n            }\r\n        };\r\n        Path.fromArc = function (arc, options) {\r\n            var path = new Path(options);\r\n            var startAngle = arc.startAngle;\r\n            var start = arc.pointAt(startAngle);\r\n            path.moveTo(start.x, start.y);\r\n            path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\r\n            return path;\r\n        };\r\n        var MultiPath = Element.extend({\r\n            nodeType: 'MultiPath',\r\n            init: function (options) {\r\n                Element.fn.init.call(this, options);\r\n                this.paths = new GeometryElementsArray();\r\n                this.paths.addObserver(this);\r\n                if (!defined(this.options.stroke)) {\r\n                    this.stroke('#000');\r\n                }\r\n            },\r\n            moveTo: function (x, y) {\r\n                var path = new Path();\r\n                path.moveTo(x, y);\r\n                this.paths.push(path);\r\n                return this;\r\n            },\r\n            lineTo: function (x, y) {\r\n                if (this.paths.length > 0) {\r\n                    last(this.paths).lineTo(x, y);\r\n                }\r\n                return this;\r\n            },\r\n            curveTo: function (controlOut, controlIn, point) {\r\n                if (this.paths.length > 0) {\r\n                    last(this.paths).curveTo(controlOut, controlIn, point);\r\n                }\r\n                return this;\r\n            },\r\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\r\n                if (this.paths.length > 0) {\r\n                    last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\r\n                }\r\n                return this;\r\n            },\r\n            arcTo: function (end, rx, ry, largeArc, swipe) {\r\n                if (this.paths.length > 0) {\r\n                    last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\r\n                }\r\n                return this;\r\n            },\r\n            close: function () {\r\n                if (this.paths.length > 0) {\r\n                    last(this.paths).close();\r\n                }\r\n                return this;\r\n            },\r\n            _bbox: function (matrix) {\r\n                return elementsBoundingBox(this.paths, true, matrix);\r\n            },\r\n            rawBBox: function () {\r\n                return elementsBoundingBox(this.paths, false);\r\n            },\r\n            _containsPoint: function (point) {\r\n                var paths = this.paths;\r\n                for (var idx = 0; idx < paths.length; idx++) {\r\n                    if (paths[idx]._containsPoint(point)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _isOnPath: function (point) {\r\n                var paths = this.paths;\r\n                var width = this.options.stroke.width;\r\n                for (var idx = 0; idx < paths.length; idx++) {\r\n                    if (paths[idx]._isOnPath(point, width)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _clippedBBox: function (transformation) {\r\n                return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(MultiPath.fn);\r\n        drawing.mixins.Measurable.extend(MultiPath.fn);\r\n        var Image = Element.extend({\r\n            nodeType: 'Image',\r\n            init: function (src, rect, options) {\r\n                Element.fn.init.call(this, options);\r\n                this.src(src);\r\n                this.rect(rect || new g.Rect());\r\n            },\r\n            src: function (value) {\r\n                if (defined(value)) {\r\n                    this.options.set('src', value);\r\n                    return this;\r\n                } else {\r\n                    return this.options.get('src');\r\n                }\r\n            },\r\n            bbox: function (transformation) {\r\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\r\n                return this._rect.bbox(combinedMatrix);\r\n            },\r\n            rawBBox: function () {\r\n                return this._rect.bbox();\r\n            },\r\n            _containsPoint: function (point) {\r\n                return this._rect.containsPoint(point);\r\n            },\r\n            _hasFill: function () {\r\n                return this.src();\r\n            }\r\n        });\r\n        defineGeometryAccessors(Image.fn, ['rect']);\r\n        var GradientStop = Class.extend({\r\n            init: function (offset, color, opacity) {\r\n                this.options = new OptionsStore({\r\n                    offset: offset,\r\n                    color: color,\r\n                    opacity: defined(opacity) ? opacity : 1\r\n                });\r\n                this.options.addObserver(this);\r\n            }\r\n        });\r\n        defineOptionsAccessors(GradientStop.fn, [\r\n            'offset',\r\n            'color',\r\n            'opacity'\r\n        ]);\r\n        deepExtend(GradientStop.fn, ObserversMixin);\r\n        GradientStop.create = function (arg) {\r\n            if (defined(arg)) {\r\n                var stop;\r\n                if (arg instanceof GradientStop) {\r\n                    stop = arg;\r\n                } else if (arg.length > 1) {\r\n                    stop = new GradientStop(arg[0], arg[1], arg[2]);\r\n                } else {\r\n                    stop = new GradientStop(arg.offset, arg.color, arg.opacity);\r\n                }\r\n                return stop;\r\n            }\r\n        };\r\n        var StopsArray = ElementsArray.extend({\r\n            _change: function () {\r\n                this.optionsChange({ field: 'stops' });\r\n            }\r\n        });\r\n        var Gradient = Class.extend({\r\n            nodeType: 'gradient',\r\n            init: function (options) {\r\n                this.stops = new StopsArray(this._createStops(options.stops));\r\n                this.stops.addObserver(this);\r\n                this._userSpace = options.userSpace;\r\n                this.id = generateDefinitionId();\r\n            },\r\n            userSpace: function (value) {\r\n                if (defined(value)) {\r\n                    this._userSpace = value;\r\n                    this.optionsChange();\r\n                    return this;\r\n                } else {\r\n                    return this._userSpace;\r\n                }\r\n            },\r\n            _createStops: function (stops) {\r\n                var result = [];\r\n                var idx;\r\n                stops = stops || [];\r\n                for (idx = 0; idx < stops.length; idx++) {\r\n                    result.push(GradientStop.create(stops[idx]));\r\n                }\r\n                return result;\r\n            },\r\n            addStop: function (offset, color, opacity) {\r\n                this.stops.push(new GradientStop(offset, color, opacity));\r\n            },\r\n            removeStop: function (stop) {\r\n                var index = this.stops.indexOf(stop);\r\n                if (index >= 0) {\r\n                    this.stops.splice(index, 1);\r\n                }\r\n            }\r\n        });\r\n        deepExtend(Gradient.fn, ObserversMixin, {\r\n            optionsChange: function (e) {\r\n                this.trigger('optionsChange', {\r\n                    field: 'gradient' + (e ? '.' + e.field : ''),\r\n                    value: this\r\n                });\r\n            },\r\n            geometryChange: function () {\r\n                this.optionsChange();\r\n            }\r\n        });\r\n        var LinearGradient = Gradient.extend({\r\n            init: function (options) {\r\n                options = options || {};\r\n                Gradient.fn.init.call(this, options);\r\n                this.start(options.start || new Point());\r\n                this.end(options.end || new Point(1, 0));\r\n            }\r\n        });\r\n        definePointAccessors(LinearGradient.fn, [\r\n            'start',\r\n            'end'\r\n        ]);\r\n        var RadialGradient = Gradient.extend({\r\n            init: function (options) {\r\n                options = options || {};\r\n                Gradient.fn.init.call(this, options);\r\n                this.center(options.center || new Point());\r\n                this._radius = defined(options.radius) ? options.radius : 1;\r\n                this._fallbackFill = options.fallbackFill;\r\n            },\r\n            radius: function (value) {\r\n                if (defined(value)) {\r\n                    this._radius = value;\r\n                    this.geometryChange();\r\n                    return this;\r\n                } else {\r\n                    return this._radius;\r\n                }\r\n            },\r\n            fallbackFill: function (value) {\r\n                if (defined(value)) {\r\n                    this._fallbackFill = value;\r\n                    this.optionsChange();\r\n                    return this;\r\n                } else {\r\n                    return this._fallbackFill;\r\n                }\r\n            }\r\n        });\r\n        definePointAccessors(RadialGradient.fn, ['center']);\r\n        var Rect = Element.extend({\r\n            nodeType: 'Rect',\r\n            init: function (geometry, options) {\r\n                Element.fn.init.call(this, options);\r\n                this.geometry(geometry || new g.Rect());\r\n                if (!defined(this.options.stroke)) {\r\n                    this.stroke('#000');\r\n                }\r\n            },\r\n            _bbox: function (matrix) {\r\n                return this._geometry.bbox(matrix);\r\n            },\r\n            rawBBox: function () {\r\n                return this._geometry.bbox();\r\n            },\r\n            _containsPoint: function (point) {\r\n                return this._geometry.containsPoint(point);\r\n            },\r\n            _isOnPath: function (point) {\r\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\r\n            }\r\n        });\r\n        drawing.mixins.Paintable.extend(Rect.fn);\r\n        drawing.mixins.Measurable.extend(Rect.fn);\r\n        defineGeometryAccessors(Rect.fn, ['geometry']);\r\n        var Layout = Group.extend({\r\n            init: function (rect, options) {\r\n                Group.fn.init.call(this, kendo.deepExtend({}, this._defaults, options));\r\n                this._rect = rect;\r\n                this._fieldMap = {};\r\n            },\r\n            _defaults: {\r\n                alignContent: START,\r\n                justifyContent: START,\r\n                alignItems: START,\r\n                spacing: 0,\r\n                orientation: HORIZONTAL,\r\n                lineSpacing: 0,\r\n                wrap: true\r\n            },\r\n            rect: function (value) {\r\n                if (value) {\r\n                    this._rect = value;\r\n                    return this;\r\n                } else {\r\n                    return this._rect;\r\n                }\r\n            },\r\n            _initMap: function () {\r\n                var options = this.options;\r\n                var fieldMap = this._fieldMap;\r\n                if (options.orientation == HORIZONTAL) {\r\n                    fieldMap.sizeField = 'width';\r\n                    fieldMap.groupsSizeField = 'height';\r\n                    fieldMap.groupAxis = 'x';\r\n                    fieldMap.groupsAxis = 'y';\r\n                } else {\r\n                    fieldMap.sizeField = 'height';\r\n                    fieldMap.groupsSizeField = 'width';\r\n                    fieldMap.groupAxis = 'y';\r\n                    fieldMap.groupsAxis = 'x';\r\n                }\r\n            },\r\n            reflow: function () {\r\n                if (!this._rect || this.children.length === 0) {\r\n                    return;\r\n                }\r\n                this._initMap();\r\n                if (this.options.transform) {\r\n                    this.transform(null);\r\n                }\r\n                var options = this.options;\r\n                var fieldMap = this._fieldMap;\r\n                var rect = this._rect;\r\n                var groupOptions = this._initGroups();\r\n                var groups = groupOptions.groups;\r\n                var groupsSize = groupOptions.groupsSize;\r\n                var sizeField = fieldMap.sizeField;\r\n                var groupsSizeField = fieldMap.groupsSizeField;\r\n                var groupAxis = fieldMap.groupAxis;\r\n                var groupsAxis = fieldMap.groupsAxis;\r\n                var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\r\n                var groupOrigin = new Point();\r\n                var elementOrigin = new Point();\r\n                var size = new g.Size();\r\n                var elementStart, bbox, element, group, groupBox;\r\n                for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {\r\n                    group = groups[groupIdx];\r\n                    groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\r\n                    groupOrigin[groupsAxis] = groupStart;\r\n                    size[sizeField] = group.size;\r\n                    size[groupsSizeField] = group.lineSize;\r\n                    groupBox = new g.Rect(groupOrigin, size);\r\n                    for (var idx = 0; idx < group.bboxes.length; idx++) {\r\n                        element = group.elements[idx];\r\n                        bbox = group.bboxes[idx];\r\n                        elementOrigin[groupAxis] = elementStart;\r\n                        elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\r\n                        translateToPoint(elementOrigin, bbox, element);\r\n                        elementStart += bbox.size[sizeField] + options.spacing;\r\n                    }\r\n                    groupStart += group.lineSize + options.lineSpacing;\r\n                }\r\n                if (!options.wrap && group.size > rect.size[sizeField]) {\r\n                    var scale = rect.size[sizeField] / groupBox.size[sizeField];\r\n                    var scaledStart = groupBox.topLeft().scale(scale, scale);\r\n                    var scaledSize = groupBox.size[groupsSizeField] * scale;\r\n                    var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\r\n                    var transform = g.transform();\r\n                    if (groupAxis === 'x') {\r\n                        transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\r\n                    } else {\r\n                        transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\r\n                    }\r\n                    transform.scale(scale, scale);\r\n                    this.transform(transform);\r\n                }\r\n            },\r\n            _initGroups: function () {\r\n                var options = this.options;\r\n                var children = this.children;\r\n                var lineSpacing = options.lineSpacing;\r\n                var sizeField = this._fieldMap.sizeField;\r\n                var groupsSize = -lineSpacing;\r\n                var groups = [];\r\n                var group = this._newGroup();\r\n                var addGroup = function () {\r\n                    groups.push(group);\r\n                    groupsSize += group.lineSize + lineSpacing;\r\n                };\r\n                var bbox, element;\r\n                for (var idx = 0; idx < children.length; idx++) {\r\n                    element = children[idx];\r\n                    bbox = children[idx].clippedBBox();\r\n                    if (element.visible() && bbox) {\r\n                        if (options.wrap && group.size + bbox.size[sizeField] + options.spacing > this._rect.size[sizeField]) {\r\n                            if (group.bboxes.length === 0) {\r\n                                this._addToGroup(group, bbox, element);\r\n                                addGroup();\r\n                                group = this._newGroup();\r\n                            } else {\r\n                                addGroup();\r\n                                group = this._newGroup();\r\n                                this._addToGroup(group, bbox, element);\r\n                            }\r\n                        } else {\r\n                            this._addToGroup(group, bbox, element);\r\n                        }\r\n                    }\r\n                }\r\n                if (group.bboxes.length) {\r\n                    addGroup();\r\n                }\r\n                return {\r\n                    groups: groups,\r\n                    groupsSize: groupsSize\r\n                };\r\n            },\r\n            _addToGroup: function (group, bbox, element) {\r\n                group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\r\n                group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\r\n                group.bboxes.push(bbox);\r\n                group.elements.push(element);\r\n            },\r\n            _newGroup: function () {\r\n                return {\r\n                    lineSize: 0,\r\n                    size: -this.options.spacing,\r\n                    bboxes: [],\r\n                    elements: []\r\n                };\r\n            }\r\n        });\r\n        function elementsBoundingBox(elements, applyTransform, transformation) {\r\n            var boundingBox;\r\n            for (var i = 0; i < elements.length; i++) {\r\n                var element = elements[i];\r\n                if (element.visible()) {\r\n                    var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\r\n                    if (elementBoundingBox) {\r\n                        if (boundingBox) {\r\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\r\n                        } else {\r\n                            boundingBox = elementBoundingBox;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return boundingBox;\r\n        }\r\n        function elementsClippedBoundingBox(elements, transformation) {\r\n            var boundingBox;\r\n            for (var i = 0; i < elements.length; i++) {\r\n                var element = elements[i];\r\n                if (element.visible()) {\r\n                    var elementBoundingBox = element.clippedBBox(transformation);\r\n                    if (elementBoundingBox) {\r\n                        if (boundingBox) {\r\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\r\n                        } else {\r\n                            boundingBox = elementBoundingBox;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return boundingBox;\r\n        }\r\n        function defineGeometryAccessors(fn, names) {\r\n            for (var i = 0; i < names.length; i++) {\r\n                fn[names[i]] = geometryAccessor(names[i]);\r\n            }\r\n        }\r\n        function geometryAccessor(name) {\r\n            var fieldName = '_' + name;\r\n            return function (value) {\r\n                if (defined(value)) {\r\n                    this._observerField(fieldName, value);\r\n                    this.geometryChange();\r\n                    return this;\r\n                } else {\r\n                    return this[fieldName];\r\n                }\r\n            };\r\n        }\r\n        function definePointAccessors(fn, names) {\r\n            for (var i = 0; i < names.length; i++) {\r\n                fn[names[i]] = pointAccessor(names[i]);\r\n            }\r\n        }\r\n        function pointAccessor(name) {\r\n            var fieldName = '_' + name;\r\n            return function (value) {\r\n                if (defined(value)) {\r\n                    this._observerField(fieldName, Point.create(value));\r\n                    this.geometryChange();\r\n                    return this;\r\n                } else {\r\n                    return this[fieldName];\r\n                }\r\n            };\r\n        }\r\n        function defineOptionsAccessors(fn, names) {\r\n            for (var i = 0; i < names.length; i++) {\r\n                fn[names[i]] = optionsAccessor(names[i]);\r\n            }\r\n        }\r\n        function optionsAccessor(name) {\r\n            return function (value) {\r\n                if (defined(value)) {\r\n                    this.options.set(name, value);\r\n                    return this;\r\n                } else {\r\n                    return this.options.get(name);\r\n                }\r\n            };\r\n        }\r\n        function generateDefinitionId() {\r\n            return 'kdef' + defId++;\r\n        }\r\n        function align(elements, rect, alignment) {\r\n            alignElements(elements, rect, alignment, 'x', 'width');\r\n        }\r\n        function vAlign(elements, rect, alignment) {\r\n            alignElements(elements, rect, alignment, 'y', 'height');\r\n        }\r\n        function stack(elements) {\r\n            stackElements(getStackElements(elements), 'x', 'y', 'width');\r\n        }\r\n        function vStack(elements) {\r\n            stackElements(getStackElements(elements), 'y', 'x', 'height');\r\n        }\r\n        function wrap(elements, rect) {\r\n            return wrapElements(elements, rect, 'x', 'y', 'width');\r\n        }\r\n        function vWrap(elements, rect) {\r\n            return wrapElements(elements, rect, 'y', 'x', 'height');\r\n        }\r\n        function wrapElements(elements, rect, axis, otherAxis, sizeField) {\r\n            var result = [];\r\n            var stacks = getStacks(elements, rect, sizeField);\r\n            var origin = rect.origin.clone();\r\n            var startElement;\r\n            var elementIdx;\r\n            var stack;\r\n            var idx;\r\n            for (idx = 0; idx < stacks.length; idx++) {\r\n                stack = stacks[idx];\r\n                startElement = stack[0];\r\n                origin[otherAxis] = startElement.bbox.origin[otherAxis];\r\n                translateToPoint(origin, startElement.bbox, startElement.element);\r\n                startElement.bbox.origin[axis] = origin[axis];\r\n                stackElements(stack, axis, otherAxis, sizeField);\r\n                result.push([]);\r\n                for (elementIdx = 0; elementIdx < stack.length; elementIdx++) {\r\n                    result[idx].push(stack[elementIdx].element);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function fit(element, rect) {\r\n            var bbox = element.clippedBBox();\r\n            var elementSize = bbox.size;\r\n            var rectSize = rect.size;\r\n            if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\r\n                var scale = math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\r\n                var transform = element.transform() || g.transform();\r\n                transform.scale(scale, scale);\r\n                element.transform(transform);\r\n            }\r\n        }\r\n        function getStacks(elements, rect, sizeField) {\r\n            var maxSize = rect.size[sizeField];\r\n            var stackSize = 0;\r\n            var stacks = [];\r\n            var stack = [];\r\n            var element;\r\n            var size;\r\n            var bbox;\r\n            var addElementToStack = function () {\r\n                stack.push({\r\n                    element: element,\r\n                    bbox: bbox\r\n                });\r\n            };\r\n            for (var idx = 0; idx < elements.length; idx++) {\r\n                element = elements[idx];\r\n                bbox = element.clippedBBox();\r\n                if (bbox) {\r\n                    size = bbox.size[sizeField];\r\n                    if (stackSize + size > maxSize) {\r\n                        if (stack.length) {\r\n                            stacks.push(stack);\r\n                            stack = [];\r\n                            addElementToStack();\r\n                            stackSize = size;\r\n                        } else {\r\n                            addElementToStack();\r\n                            stacks.push(stack);\r\n                            stack = [];\r\n                            stackSize = 0;\r\n                        }\r\n                    } else {\r\n                        addElementToStack();\r\n                        stackSize += size;\r\n                    }\r\n                }\r\n            }\r\n            if (stack.length) {\r\n                stacks.push(stack);\r\n            }\r\n            return stacks;\r\n        }\r\n        function getStackElements(elements) {\r\n            var stackElements = [];\r\n            var element;\r\n            var bbox;\r\n            for (var idx = 0; idx < elements.length; idx++) {\r\n                element = elements[idx];\r\n                bbox = element.clippedBBox();\r\n                if (bbox) {\r\n                    stackElements.push({\r\n                        element: element,\r\n                        bbox: bbox\r\n                    });\r\n                }\r\n            }\r\n            return stackElements;\r\n        }\r\n        function stackElements(elements, stackAxis, otherAxis, sizeField) {\r\n            if (elements.length > 1) {\r\n                var previousBBox = elements[0].bbox;\r\n                var origin = new Point();\r\n                var element;\r\n                var bbox;\r\n                for (var idx = 1; idx < elements.length; idx++) {\r\n                    element = elements[idx].element;\r\n                    bbox = elements[idx].bbox;\r\n                    origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\r\n                    origin[otherAxis] = bbox.origin[otherAxis];\r\n                    translateToPoint(origin, bbox, element);\r\n                    bbox.origin[stackAxis] = origin[stackAxis];\r\n                    previousBBox = bbox;\r\n                }\r\n            }\r\n        }\r\n        function alignElements(elements, rect, alignment, axis, sizeField) {\r\n            var bbox, point;\r\n            alignment = alignment || 'start';\r\n            for (var idx = 0; idx < elements.length; idx++) {\r\n                bbox = elements[idx].clippedBBox();\r\n                if (bbox) {\r\n                    point = bbox.origin.clone();\r\n                    point[axis] = alignStart(bbox.size[sizeField], rect, alignment, axis, sizeField);\r\n                    translateToPoint(point, bbox, elements[idx]);\r\n                }\r\n            }\r\n        }\r\n        function alignStart(size, rect, align, axis, sizeField) {\r\n            var start;\r\n            if (align == START) {\r\n                start = rect.origin[axis];\r\n            } else if (align == END) {\r\n                start = rect.origin[axis] + rect.size[sizeField] - size;\r\n            } else {\r\n                start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\r\n            }\r\n            return start;\r\n        }\r\n        function translate(x, y, element) {\r\n            var transofrm = element.transform() || g.transform();\r\n            var matrix = transofrm.matrix();\r\n            matrix.e += x;\r\n            matrix.f += y;\r\n            transofrm.matrix(matrix);\r\n            element.transform(transofrm);\r\n        }\r\n        function translateToPoint(point, bbox, element) {\r\n            translate(point.x - bbox.origin.x, point.y - bbox.origin.y, element);\r\n        }\r\n        deepExtend(drawing, {\r\n            align: align,\r\n            Arc: Arc,\r\n            Circle: Circle,\r\n            Element: Element,\r\n            ElementsArray: ElementsArray,\r\n            fit: fit,\r\n            Gradient: Gradient,\r\n            GradientStop: GradientStop,\r\n            Group: Group,\r\n            Image: Image,\r\n            Layout: Layout,\r\n            LinearGradient: LinearGradient,\r\n            MultiPath: MultiPath,\r\n            Path: Path,\r\n            RadialGradient: RadialGradient,\r\n            Rect: Rect,\r\n            Segment: Segment,\r\n            stack: stack,\r\n            Text: Text,\r\n            vAlign: vAlign,\r\n            vStack: vStack,\r\n            vWrap: vWrap,\r\n            wrap: wrap\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/parser', ['drawing/shapes'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Point = geometry.Point, deepExtend = kendo.deepExtend, trim = $.trim, util = kendo.util, last = util.last;\r\n        var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi, SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g, MOVE = 'm', CLOSE = 'z';\r\n        var PathParser = Class.extend({\r\n            parse: function (str, options) {\r\n                var multiPath = new drawing.MultiPath(options);\r\n                var position = new Point();\r\n                var previousCommand;\r\n                str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {\r\n                    var command = element.toLowerCase();\r\n                    var isRelative = command === element;\r\n                    var parameters = parseParameters(trim(params));\r\n                    if (command === MOVE) {\r\n                        if (isRelative) {\r\n                            position.x += parameters[0];\r\n                            position.y += parameters[1];\r\n                        } else {\r\n                            position.x = parameters[0];\r\n                            position.y = parameters[1];\r\n                        }\r\n                        multiPath.moveTo(position.x, position.y);\r\n                        if (parameters.length > 2) {\r\n                            command = 'l';\r\n                            parameters.splice(0, 2);\r\n                        }\r\n                    }\r\n                    if (ShapeMap[command]) {\r\n                        ShapeMap[command](multiPath, {\r\n                            parameters: parameters,\r\n                            position: position,\r\n                            isRelative: isRelative,\r\n                            previousCommand: previousCommand\r\n                        });\r\n                        if (closePath && closePath.toLowerCase() === CLOSE) {\r\n                            multiPath.close();\r\n                        }\r\n                    } else if (command !== MOVE) {\r\n                        throw new Error('Error while parsing SVG path. Unsupported command: ' + command);\r\n                    }\r\n                    previousCommand = command;\r\n                });\r\n                return multiPath;\r\n            }\r\n        });\r\n        var ShapeMap = {\r\n            l: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                for (var i = 0; i < parameters.length; i += 2) {\r\n                    var point = new Point(parameters[i], parameters[i + 1]);\r\n                    if (options.isRelative) {\r\n                        point.translateWith(position);\r\n                    }\r\n                    path.lineTo(point.x, point.y);\r\n                    position.x = point.x;\r\n                    position.y = point.y;\r\n                }\r\n            },\r\n            c: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                var controlOut, controlIn, point;\r\n                for (var i = 0; i < parameters.length; i += 6) {\r\n                    controlOut = new Point(parameters[i], parameters[i + 1]);\r\n                    controlIn = new Point(parameters[i + 2], parameters[i + 3]);\r\n                    point = new Point(parameters[i + 4], parameters[i + 5]);\r\n                    if (options.isRelative) {\r\n                        controlIn.translateWith(position);\r\n                        controlOut.translateWith(position);\r\n                        point.translateWith(position);\r\n                    }\r\n                    path.curveTo(controlOut, controlIn, point);\r\n                    position.x = point.x;\r\n                    position.y = point.y;\r\n                }\r\n            },\r\n            v: function (path, options) {\r\n                var value = options.isRelative ? 0 : options.position.x;\r\n                toLineParamaters(options.parameters, true, value);\r\n                this.l(path, options);\r\n            },\r\n            h: function (path, options) {\r\n                var value = options.isRelative ? 0 : options.position.y;\r\n                toLineParamaters(options.parameters, false, value);\r\n                this.l(path, options);\r\n            },\r\n            a: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                for (var i = 0; i < parameters.length; i += 7) {\r\n                    var radiusX = parameters[i];\r\n                    var radiusY = parameters[i + 1];\r\n                    var largeArc = parameters[i + 3];\r\n                    var swipe = parameters[i + 4];\r\n                    var endPoint = new Point(parameters[i + 5], parameters[i + 6]);\r\n                    if (options.isRelative) {\r\n                        endPoint.translateWith(position);\r\n                    }\r\n                    path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe);\r\n                    position.x = endPoint.x;\r\n                    position.y = endPoint.y;\r\n                }\r\n            },\r\n            s: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                var previousCommand = options.previousCommand;\r\n                var controlOut, endPoint, controlIn, lastControlIn;\r\n                if (previousCommand == 's' || previousCommand == 'c') {\r\n                    lastControlIn = last(last(path.paths).segments).controlIn();\r\n                }\r\n                for (var i = 0; i < parameters.length; i += 4) {\r\n                    controlIn = new Point(parameters[i], parameters[i + 1]);\r\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\r\n                    if (options.isRelative) {\r\n                        controlIn.translateWith(position);\r\n                        endPoint.translateWith(position);\r\n                    }\r\n                    if (lastControlIn) {\r\n                        controlOut = reflectionPoint(lastControlIn, position);\r\n                    } else {\r\n                        controlOut = position.clone();\r\n                    }\r\n                    lastControlIn = controlIn;\r\n                    path.curveTo(controlOut, controlIn, endPoint);\r\n                    position.x = endPoint.x;\r\n                    position.y = endPoint.y;\r\n                }\r\n            },\r\n            q: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                var cubicControlPoints, endPoint, controlPoint;\r\n                for (var i = 0; i < parameters.length; i += 4) {\r\n                    controlPoint = new Point(parameters[i], parameters[i + 1]);\r\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\r\n                    if (options.isRelative) {\r\n                        controlPoint.translateWith(position);\r\n                        endPoint.translateWith(position);\r\n                    }\r\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\r\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\r\n                    position.x = endPoint.x;\r\n                    position.y = endPoint.y;\r\n                }\r\n            },\r\n            t: function (path, options) {\r\n                var parameters = options.parameters;\r\n                var position = options.position;\r\n                var previousCommand = options.previousCommand;\r\n                var cubicControlPoints, controlPoint, endPoint;\r\n                if (previousCommand == 'q' || previousCommand == 't') {\r\n                    var lastSegment = last(last(path.paths).segments);\r\n                    controlPoint = lastSegment.controlIn().clone().translateWith(position.scaleCopy(-1 / 3)).scale(3 / 2);\r\n                }\r\n                for (var i = 0; i < parameters.length; i += 2) {\r\n                    endPoint = new Point(parameters[i], parameters[i + 1]);\r\n                    if (options.isRelative) {\r\n                        endPoint.translateWith(position);\r\n                    }\r\n                    if (controlPoint) {\r\n                        controlPoint = reflectionPoint(controlPoint, position);\r\n                    } else {\r\n                        controlPoint = position.clone();\r\n                    }\r\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\r\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\r\n                    position.x = endPoint.x;\r\n                    position.y = endPoint.y;\r\n                }\r\n            }\r\n        };\r\n        function parseParameters(str) {\r\n            var parameters = [];\r\n            str.replace(SPLIT_REGEX, function (match, number) {\r\n                parameters.push(parseFloat(number));\r\n            });\r\n            return parameters;\r\n        }\r\n        function toLineParamaters(parameters, isVertical, value) {\r\n            var insertPosition = isVertical ? 0 : 1;\r\n            for (var i = 0; i < parameters.length; i += 2) {\r\n                parameters.splice(i + insertPosition, 0, value);\r\n            }\r\n        }\r\n        function reflectionPoint(point, center) {\r\n            if (point && center) {\r\n                return center.scaleCopy(2).translate(-point.x, -point.y);\r\n            }\r\n        }\r\n        function quadraticToCubicControlPoints(position, controlPoint, endPoint) {\r\n            var third = 1 / 3;\r\n            controlPoint = controlPoint.clone().scale(2 / 3);\r\n            return {\r\n                controlOut: controlPoint.clone().translateWith(position.scaleCopy(third)),\r\n                controlIn: controlPoint.translateWith(endPoint.scaleCopy(third))\r\n            };\r\n        }\r\n        PathParser.current = new PathParser();\r\n        drawing.Path.parse = function (str, options) {\r\n            return PathParser.current.parse(str, options);\r\n        };\r\n        deepExtend(drawing, { PathParser: PathParser });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/search', ['drawing/shapes'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Rect = geometry.Rect, deepExtend = kendo.deepExtend, isArray = $.isArray, inArray = $.inArray, math = Math, LEVEL_STEP = 10000, MAX_LEVEL = 75;\r\n        var QuadRoot = Class.extend({\r\n            init: function () {\r\n                this.shapes = [];\r\n            },\r\n            _add: function (shape, bbox) {\r\n                this.shapes.push({\r\n                    bbox: bbox,\r\n                    shape: shape\r\n                });\r\n                shape._quadNode = this;\r\n            },\r\n            pointShapes: function (point) {\r\n                var shapes = this.shapes;\r\n                var length = shapes.length;\r\n                var result = [];\r\n                for (var idx = 0; idx < length; idx++) {\r\n                    if (shapes[idx].bbox.containsPoint(point)) {\r\n                        result.push(shapes[idx].shape);\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            insert: function (shape, bbox) {\r\n                this._add(shape, bbox);\r\n            },\r\n            remove: function (shape) {\r\n                var shapes = this.shapes;\r\n                var length = shapes.length;\r\n                for (var idx = 0; idx < length; idx++) {\r\n                    if (shapes[idx].shape === shape) {\r\n                        shapes.splice(idx, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var QuadNode = QuadRoot.extend({\r\n            init: function (rect) {\r\n                QuadRoot.fn.init.call(this);\r\n                this.children = [];\r\n                this.rect = rect;\r\n            },\r\n            inBounds: function (rect) {\r\n                var nodeRect = this.rect;\r\n                var nodeBottomRight = nodeRect.bottomRight();\r\n                var bottomRight = rect.bottomRight();\r\n                var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\r\n                return inBounds;\r\n            },\r\n            pointShapes: function (point) {\r\n                var children = this.children;\r\n                var length = children.length;\r\n                var result = QuadRoot.fn.pointShapes.call(this, point);\r\n                for (var idx = 0; idx < length; idx++) {\r\n                    result = result.concat(children[idx].pointShapes(point));\r\n                }\r\n                return result;\r\n            },\r\n            insert: function (shape, bbox) {\r\n                var inserted = false;\r\n                var children = this.children;\r\n                var length = children.length;\r\n                if (this.inBounds(bbox)) {\r\n                    if (!length && this.shapes.length < 4) {\r\n                        this._add(shape, bbox);\r\n                    } else {\r\n                        if (!length) {\r\n                            this._initChildren();\r\n                        }\r\n                        for (var idx = 0; idx < children.length; idx++) {\r\n                            if (children[idx].insert(shape, bbox)) {\r\n                                inserted = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (!inserted) {\r\n                            this._add(shape, bbox);\r\n                        }\r\n                    }\r\n                    inserted = true;\r\n                }\r\n                return inserted;\r\n            },\r\n            _initChildren: function () {\r\n                var rect = this.rect, children = this.children, shapes = this.shapes, center = rect.center(), halfWidth = rect.width() / 2, halfHeight = rect.height() / 2, childIdx, shapeIdx;\r\n                children.push(new QuadNode(new Rect(rect.origin.x, rect.origin.y, halfWidth, halfHeight)), new QuadNode(new Rect(center.x, rect.origin.y, halfWidth, halfHeight)), new QuadNode(new Rect(rect.origin.x, center.y, halfWidth, halfHeight)), new QuadNode(new Rect(center.x, center.y, halfWidth, halfHeight)));\r\n                for (shapeIdx = shapes.length - 1; shapeIdx >= 0; shapeIdx--) {\r\n                    for (childIdx = 0; childIdx < children.length; childIdx++) {\r\n                        if (children[childIdx].insert(shapes[shapeIdx].shape, shapes[shapeIdx].bbox)) {\r\n                            shapes.splice(shapeIdx, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var ShapesQuadTree = Class.extend({\r\n            ROOT_SIZE: 1000,\r\n            init: function () {\r\n                this.initRoots();\r\n            },\r\n            initRoots: function () {\r\n                this.rootMap = {};\r\n                this.root = new QuadRoot();\r\n                this.rootElements = [];\r\n            },\r\n            clear: function () {\r\n                var that = this;\r\n                var rootElements = that.rootElements;\r\n                for (var idx = 0; idx < rootElements.length; idx++) {\r\n                    this.remove(rootElements[idx]);\r\n                }\r\n                this.initRoots();\r\n            },\r\n            pointShape: function (point) {\r\n                var size = this.ROOT_SIZE;\r\n                var result = this.root.pointShapes(point);\r\n                var sectorRoot = (this.rootMap[math.floor(point.x / size)] || {})[math.floor(point.y / size)];\r\n                if (sectorRoot) {\r\n                    result = result.concat(sectorRoot.pointShapes(point));\r\n                }\r\n                this.assignZindex(result);\r\n                result.sort(zIndexComparer);\r\n                for (var idx = 0; idx < result.length; idx++) {\r\n                    if (result[idx].containsPoint(point)) {\r\n                        return result[idx];\r\n                    }\r\n                }\r\n            },\r\n            assignZindex: function (elements) {\r\n                var element, levelWeight, zIndex, parents;\r\n                for (var idx = 0; idx < elements.length; idx++) {\r\n                    element = elements[idx];\r\n                    zIndex = 0;\r\n                    levelWeight = math.pow(LEVEL_STEP, MAX_LEVEL);\r\n                    parents = [];\r\n                    while (element) {\r\n                        parents.push(element);\r\n                        element = element.parent;\r\n                    }\r\n                    while (parents.length) {\r\n                        element = parents.pop();\r\n                        zIndex += (inArray(element, element.parent ? element.parent.children : this.rootElements) + 1) * levelWeight;\r\n                        levelWeight /= LEVEL_STEP;\r\n                    }\r\n                    elements[idx]._zIndex = zIndex;\r\n                }\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'transform' || e.field == 'stroke.width') {\r\n                    this.bboxChange(e.element);\r\n                }\r\n            },\r\n            geometryChange: function (e) {\r\n                this.bboxChange(e.element);\r\n            },\r\n            bboxChange: function (element) {\r\n                if (element.nodeType === 'Group') {\r\n                    for (var idx = 0; idx < element.children.length; idx++) {\r\n                        this.bboxChange(element.children[idx]);\r\n                    }\r\n                } else {\r\n                    if (element._quadNode) {\r\n                        element._quadNode.remove(element);\r\n                    }\r\n                    this._insertShape(element);\r\n                }\r\n            },\r\n            add: function (elements) {\r\n                var elementsArray = isArray(elements) ? elements.slice(0) : [elements];\r\n                this.rootElements.push.apply(this.rootElements, elementsArray);\r\n                this._insert(elementsArray);\r\n            },\r\n            childrenChange: function (e) {\r\n                if (e.action == 'remove') {\r\n                    for (var idx = 0; idx < e.items.length; idx++) {\r\n                        this.remove(e.items[idx]);\r\n                    }\r\n                } else {\r\n                    this._insert(Array.prototype.slice.call(e.items, 0));\r\n                }\r\n            },\r\n            _insert: function (elements) {\r\n                var element;\r\n                while (elements.length > 0) {\r\n                    element = elements.pop();\r\n                    element.addObserver(this);\r\n                    if (element.nodeType == 'Group') {\r\n                        elements.push.apply(elements, element.children);\r\n                    } else {\r\n                        this._insertShape(element);\r\n                    }\r\n                }\r\n            },\r\n            _insertShape: function (shape) {\r\n                var bbox = shape.bbox();\r\n                if (bbox) {\r\n                    var rootSize = this.ROOT_SIZE;\r\n                    var sectors = this.getSectors(bbox);\r\n                    var x = sectors[0][0];\r\n                    var y = sectors[1][0];\r\n                    if (this.inRoot(sectors)) {\r\n                        this.root.insert(shape, bbox);\r\n                    } else {\r\n                        if (!this.rootMap[x]) {\r\n                            this.rootMap[x] = {};\r\n                        }\r\n                        if (!this.rootMap[x][y]) {\r\n                            this.rootMap[x][y] = new QuadNode(new Rect([\r\n                                x * rootSize,\r\n                                y * rootSize\r\n                            ], [\r\n                                rootSize,\r\n                                rootSize\r\n                            ]));\r\n                        }\r\n                        this.rootMap[x][y].insert(shape, bbox);\r\n                    }\r\n                }\r\n            },\r\n            remove: function (element) {\r\n                element.removeObserver(this);\r\n                if (element.nodeType == 'Group') {\r\n                    var children = element.children;\r\n                    for (var idx = 0; idx < children.length; idx++) {\r\n                        this.remove(children[idx]);\r\n                    }\r\n                } else if (element._quadNode) {\r\n                    element._quadNode.remove(element);\r\n                    delete element._quadNode;\r\n                }\r\n            },\r\n            inRoot: function (sectors) {\r\n                return sectors[0].length > 1 || sectors[1].length > 1;\r\n            },\r\n            getSectors: function (rect) {\r\n                var rootSize = this.ROOT_SIZE;\r\n                var bottomRight = rect.bottomRight();\r\n                var bottomX = math.floor(bottomRight.x / rootSize);\r\n                var bottomY = math.floor(bottomRight.y / rootSize);\r\n                var sectors = [\r\n                    [],\r\n                    []\r\n                ];\r\n                for (var x = math.floor(rect.origin.x / rootSize); x <= bottomX; x++) {\r\n                    sectors[0].push(x);\r\n                }\r\n                for (var y = math.floor(rect.origin.y / rootSize); y <= bottomY; y++) {\r\n                    sectors[1].push(y);\r\n                }\r\n                return sectors;\r\n            }\r\n        });\r\n        function zIndexComparer(x1, x2) {\r\n            if (x1._zIndex < x2._zIndex) {\r\n                return 1;\r\n            }\r\n            if (x1._zIndex > x2._zIndex) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n        deepExtend(drawing, { ShapesQuadTree: ShapesQuadTree });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/svg', [\r\n        'drawing/shapes',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderAttr = util.renderAttr, renderAllAttr = util.renderAllAttr, renderTemplate = util.renderTemplate, inArray = $.inArray;\r\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, GRADIENT = 'gradient', NONE = 'none', NS = '.kendo', SOLID = 'solid', SPACE = ' ', SVG_NS = 'http://www.w3.org/2000/svg', TRANSFORM = 'transform', UNDEFINED = 'undefined';\r\n        var Surface = d.Surface.extend({\r\n            init: function (element, options) {\r\n                d.Surface.fn.init.call(this, element, options);\r\n                this._root = new RootNode(this.options);\r\n                renderSVG(this.element[0], this._template(this));\r\n                this._rootElement = this.element[0].firstElementChild;\r\n                alignToScreen(this._rootElement);\r\n                this._root.attachTo(this._rootElement);\r\n                this.element.on('click' + NS, this._click);\r\n                this.element.on('mouseover' + NS, this._mouseenter);\r\n                this.element.on('mouseout' + NS, this._mouseleave);\r\n                this.element.on('mousemove' + NS, this._mousemove);\r\n                this.resize();\r\n            },\r\n            type: 'svg',\r\n            destroy: function () {\r\n                if (this._root) {\r\n                    this._root.destroy();\r\n                    this._root = null;\r\n                    this._rootElement = null;\r\n                    this.element.off(NS);\r\n                }\r\n                d.Surface.fn.destroy.call(this);\r\n            },\r\n            translate: function (offset) {\r\n                var viewBox = kendo.format('{0} {1} {2} {3}', Math.round(offset.x), Math.round(offset.y), this._size.width, this._size.height);\r\n                this._offset = offset;\r\n                this._rootElement.setAttribute('viewBox', viewBox);\r\n            },\r\n            draw: function (element) {\r\n                d.Surface.fn.draw.call(this, element);\r\n                this._root.load([element]);\r\n            },\r\n            clear: function () {\r\n                d.Surface.fn.clear.call(this);\r\n                this._root.clear();\r\n            },\r\n            svg: function () {\r\n                return '<?xml version=\\'1.0\\' ?>' + this._template(this);\r\n            },\r\n            exportVisual: function () {\r\n                var visual = this._visual;\r\n                var offset = this._offset;\r\n                if (offset) {\r\n                    var wrap = new d.Group();\r\n                    wrap.children.push(visual);\r\n                    wrap.transform(g.transform().translate(-offset.x, -offset.y));\r\n                    visual = wrap;\r\n                }\r\n                return visual;\r\n            },\r\n            _resize: function () {\r\n                if (this._offset) {\r\n                    this.translate(this._offset);\r\n                }\r\n            },\r\n            _template: renderTemplate('<svg style=\\'width: 100%; height: 100%; overflow: hidden;\\' ' + 'xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>#= d._root.render() #</svg>')\r\n        });\r\n        var Node = BaseNode.extend({\r\n            init: function (srcElement) {\r\n                BaseNode.fn.init.call(this, srcElement);\r\n                this.definitions = {};\r\n            },\r\n            destroy: function () {\r\n                if (this.element) {\r\n                    this.element._kendoNode = null;\r\n                    this.element = null;\r\n                }\r\n                this.clearDefinitions();\r\n                BaseNode.fn.destroy.call(this);\r\n            },\r\n            load: function (elements, pos) {\r\n                var node = this, element = node.element, childNode, srcElement, children, i;\r\n                for (i = 0; i < elements.length; i++) {\r\n                    srcElement = elements[i];\r\n                    children = srcElement.children;\r\n                    childNode = new nodeMap[srcElement.nodeType](srcElement);\r\n                    if (defined(pos)) {\r\n                        node.insertAt(childNode, pos);\r\n                    } else {\r\n                        node.append(childNode);\r\n                    }\r\n                    childNode.createDefinitions();\r\n                    if (children && children.length > 0) {\r\n                        childNode.load(children);\r\n                    }\r\n                    if (element) {\r\n                        childNode.attachTo(element, pos);\r\n                    }\r\n                }\r\n            },\r\n            root: function () {\r\n                var root = this;\r\n                while (root.parent) {\r\n                    root = root.parent;\r\n                }\r\n                return root;\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                var container = doc.createElement('div');\r\n                renderSVG(container, '<svg xmlns=\\'' + SVG_NS + '\\' version=\\'1.1\\'>' + this.render() + '</svg>');\r\n                var element = container.firstChild.firstChild;\r\n                if (element) {\r\n                    if (defined(pos)) {\r\n                        domElement.insertBefore(element, domElement.childNodes[pos] || null);\r\n                    } else {\r\n                        domElement.appendChild(element);\r\n                    }\r\n                    this.setElement(element);\r\n                }\r\n            },\r\n            setElement: function (element) {\r\n                var nodes = this.childNodes, childElement, i;\r\n                if (this.element) {\r\n                    this.element._kendoNode = null;\r\n                }\r\n                this.element = element;\r\n                this.element._kendoNode = this;\r\n                for (i = 0; i < nodes.length; i++) {\r\n                    childElement = element.childNodes[i];\r\n                    nodes[i].setElement(childElement);\r\n                }\r\n            },\r\n            clear: function () {\r\n                this.clearDefinitions();\r\n                if (this.element) {\r\n                    this.element.innerHTML = '';\r\n                }\r\n                var children = this.childNodes;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    children[i].destroy();\r\n                }\r\n                this.childNodes = [];\r\n            },\r\n            removeSelf: function () {\r\n                if (this.element) {\r\n                    var parentNode = this.element.parentNode;\r\n                    if (parentNode) {\r\n                        parentNode.removeChild(this.element);\r\n                    }\r\n                    this.element = null;\r\n                }\r\n                BaseNode.fn.removeSelf.call(this);\r\n            },\r\n            template: renderTemplate('#= d.renderChildren() #'),\r\n            render: function () {\r\n                return this.template(this);\r\n            },\r\n            renderChildren: function () {\r\n                var nodes = this.childNodes, output = '', i;\r\n                for (i = 0; i < nodes.length; i++) {\r\n                    output += nodes[i].render();\r\n                }\r\n                return output;\r\n            },\r\n            optionsChange: function (e) {\r\n                var field = e.field;\r\n                var value = e.value;\r\n                if (field === 'visible') {\r\n                    this.css('display', value ? '' : NONE);\r\n                } else if (DefinitionMap[field] && isDefinition(field, value)) {\r\n                    this.updateDefinition(field, value);\r\n                } else if (field === 'opacity') {\r\n                    this.attr('opacity', value);\r\n                }\r\n                BaseNode.fn.optionsChange.call(this, e);\r\n            },\r\n            attr: function (name, value) {\r\n                if (this.element) {\r\n                    this.element.setAttribute(name, value);\r\n                }\r\n            },\r\n            allAttr: function (attrs) {\r\n                for (var i = 0; i < attrs.length; i++) {\r\n                    this.attr(attrs[i][0], attrs[i][1]);\r\n                }\r\n            },\r\n            css: function (name, value) {\r\n                if (this.element) {\r\n                    this.element.style[name] = value;\r\n                }\r\n            },\r\n            allCss: function (styles) {\r\n                for (var i = 0; i < styles.length; i++) {\r\n                    this.css(styles[i][0], styles[i][1]);\r\n                }\r\n            },\r\n            removeAttr: function (name) {\r\n                if (this.element) {\r\n                    this.element.removeAttribute(name);\r\n                }\r\n            },\r\n            mapTransform: function (transform) {\r\n                var attrs = [];\r\n                if (transform) {\r\n                    attrs.push([\r\n                        TRANSFORM,\r\n                        'matrix(' + transform.matrix().toString(6) + ')'\r\n                    ]);\r\n                }\r\n                return attrs;\r\n            },\r\n            renderTransform: function () {\r\n                return renderAllAttr(this.mapTransform(this.srcElement.transform()));\r\n            },\r\n            transformChange: function (value) {\r\n                if (value) {\r\n                    this.allAttr(this.mapTransform(value));\r\n                } else {\r\n                    this.removeAttr(TRANSFORM);\r\n                }\r\n            },\r\n            mapStyle: function () {\r\n                var options = this.srcElement.options;\r\n                var style = [[\r\n                        'cursor',\r\n                        options.cursor\r\n                    ]];\r\n                if (options.visible === false) {\r\n                    style.push([\r\n                        'display',\r\n                        NONE\r\n                    ]);\r\n                }\r\n                return style;\r\n            },\r\n            renderStyle: function () {\r\n                return renderAttr('style', util.renderStyle(this.mapStyle(true)));\r\n            },\r\n            renderOpacity: function () {\r\n                return renderAttr('opacity', this.srcElement.options.opacity);\r\n            },\r\n            createDefinitions: function () {\r\n                var srcElement = this.srcElement;\r\n                var definitions = this.definitions;\r\n                var definition, field, options, hasDefinitions;\r\n                if (srcElement) {\r\n                    options = srcElement.options;\r\n                    for (field in DefinitionMap) {\r\n                        definition = options.get(field);\r\n                        if (definition && isDefinition(field, definition)) {\r\n                            definitions[field] = definition;\r\n                            hasDefinitions = true;\r\n                        }\r\n                    }\r\n                    if (hasDefinitions) {\r\n                        this.definitionChange({\r\n                            action: 'add',\r\n                            definitions: definitions\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            definitionChange: function (e) {\r\n                if (this.parent) {\r\n                    this.parent.definitionChange(e);\r\n                }\r\n            },\r\n            updateDefinition: function (type, value) {\r\n                var definitions = this.definitions;\r\n                var current = definitions[type];\r\n                var attr = DefinitionMap[type];\r\n                var definition = {};\r\n                if (current) {\r\n                    definition[type] = current;\r\n                    this.definitionChange({\r\n                        action: 'remove',\r\n                        definitions: definition\r\n                    });\r\n                    delete definitions[type];\r\n                }\r\n                if (!value) {\r\n                    if (current) {\r\n                        this.removeAttr(attr);\r\n                    }\r\n                } else {\r\n                    definition[type] = value;\r\n                    this.definitionChange({\r\n                        action: 'add',\r\n                        definitions: definition\r\n                    });\r\n                    definitions[type] = value;\r\n                    this.attr(attr, refUrl(value.id));\r\n                }\r\n            },\r\n            clearDefinitions: function () {\r\n                var definitions = this.definitions;\r\n                var field;\r\n                for (field in definitions) {\r\n                    this.definitionChange({\r\n                        action: 'remove',\r\n                        definitions: definitions\r\n                    });\r\n                    this.definitions = {};\r\n                    break;\r\n                }\r\n            },\r\n            renderDefinitions: function () {\r\n                return renderAllAttr(this.mapDefinitions());\r\n            },\r\n            mapDefinitions: function () {\r\n                var definitions = this.definitions;\r\n                var attrs = [];\r\n                var field;\r\n                for (field in definitions) {\r\n                    attrs.push([\r\n                        DefinitionMap[field],\r\n                        refUrl(definitions[field].id)\r\n                    ]);\r\n                }\r\n                return attrs;\r\n            }\r\n        });\r\n        var RootNode = Node.extend({\r\n            init: function (options) {\r\n                Node.fn.init.call(this);\r\n                this.options = options;\r\n                this.defs = new DefinitionNode();\r\n            },\r\n            attachTo: function (domElement) {\r\n                this.element = domElement;\r\n                this.defs.attachTo(domElement.firstElementChild);\r\n            },\r\n            clear: function () {\r\n                BaseNode.fn.clear.call(this);\r\n            },\r\n            template: renderTemplate('#=d.defs.render()##= d.renderChildren() #'),\r\n            definitionChange: function (e) {\r\n                this.defs.definitionChange(e);\r\n            }\r\n        });\r\n        var DefinitionNode = Node.extend({\r\n            init: function () {\r\n                Node.fn.init.call(this);\r\n                this.definitionMap = {};\r\n            },\r\n            attachTo: function (domElement) {\r\n                this.element = domElement;\r\n            },\r\n            template: renderTemplate('<defs>#= d.renderChildren()#</defs>'),\r\n            definitionChange: function (e) {\r\n                var definitions = e.definitions;\r\n                var action = e.action;\r\n                if (action == 'add') {\r\n                    this.addDefinitions(definitions);\r\n                } else if (action == 'remove') {\r\n                    this.removeDefinitions(definitions);\r\n                }\r\n            },\r\n            createDefinition: function (type, item) {\r\n                var nodeType;\r\n                if (type == 'clip') {\r\n                    nodeType = ClipNode;\r\n                } else if (type == 'fill') {\r\n                    if (item instanceof d.LinearGradient) {\r\n                        nodeType = LinearGradientNode;\r\n                    } else if (item instanceof d.RadialGradient) {\r\n                        nodeType = RadialGradientNode;\r\n                    }\r\n                }\r\n                return new nodeType(item);\r\n            },\r\n            addDefinitions: function (definitions) {\r\n                for (var field in definitions) {\r\n                    this.addDefinition(field, definitions[field]);\r\n                }\r\n            },\r\n            addDefinition: function (type, srcElement) {\r\n                var definitionMap = this.definitionMap;\r\n                var id = srcElement.id;\r\n                var element = this.element;\r\n                var node, mapItem;\r\n                mapItem = definitionMap[id];\r\n                if (!mapItem) {\r\n                    node = this.createDefinition(type, srcElement);\r\n                    definitionMap[id] = {\r\n                        element: node,\r\n                        count: 1\r\n                    };\r\n                    this.append(node);\r\n                    if (element) {\r\n                        node.attachTo(this.element);\r\n                    }\r\n                } else {\r\n                    mapItem.count++;\r\n                }\r\n            },\r\n            removeDefinitions: function (definitions) {\r\n                for (var field in definitions) {\r\n                    this.removeDefinition(definitions[field]);\r\n                }\r\n            },\r\n            removeDefinition: function (srcElement) {\r\n                var definitionMap = this.definitionMap;\r\n                var id = srcElement.id;\r\n                var mapItem;\r\n                mapItem = definitionMap[id];\r\n                if (mapItem) {\r\n                    mapItem.count--;\r\n                    if (mapItem.count === 0) {\r\n                        this.remove(inArray(mapItem.element, this.childNodes), 1);\r\n                        delete definitionMap[id];\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var ClipNode = Node.extend({\r\n            init: function (srcElement) {\r\n                Node.fn.init.call(this);\r\n                this.srcElement = srcElement;\r\n                this.id = srcElement.id;\r\n                this.load([srcElement]);\r\n            },\r\n            template: renderTemplate('<clipPath id=\\'#=d.id#\\'>#= d.renderChildren()#</clipPath>')\r\n        });\r\n        var GroupNode = Node.extend({\r\n            template: renderTemplate('<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>'),\r\n            optionsChange: function (e) {\r\n                if (e.field == TRANSFORM) {\r\n                    this.transformChange(e.value);\r\n                }\r\n                Node.fn.optionsChange.call(this, e);\r\n            }\r\n        });\r\n        var PathNode = Node.extend({\r\n            geometryChange: function () {\r\n                this.attr('d', this.renderData());\r\n                this.invalidate();\r\n            },\r\n            optionsChange: function (e) {\r\n                switch (e.field) {\r\n                case 'fill':\r\n                    if (e.value) {\r\n                        this.allAttr(this.mapFill(e.value));\r\n                    } else {\r\n                        this.removeAttr('fill');\r\n                    }\r\n                    break;\r\n                case 'fill.color':\r\n                    this.allAttr(this.mapFill({ color: e.value }));\r\n                    break;\r\n                case 'stroke':\r\n                    if (e.value) {\r\n                        this.allAttr(this.mapStroke(e.value));\r\n                    } else {\r\n                        this.removeAttr('stroke');\r\n                    }\r\n                    break;\r\n                case TRANSFORM:\r\n                    this.transformChange(e.value);\r\n                    break;\r\n                default:\r\n                    var name = this.attributeMap[e.field];\r\n                    if (name) {\r\n                        this.attr(name, e.value);\r\n                    }\r\n                    break;\r\n                }\r\n                Node.fn.optionsChange.call(this, e);\r\n            },\r\n            attributeMap: {\r\n                'fill.opacity': 'fill-opacity',\r\n                'stroke.color': 'stroke',\r\n                'stroke.width': 'stroke-width',\r\n                'stroke.opacity': 'stroke-opacity'\r\n            },\r\n            content: function () {\r\n                if (this.element) {\r\n                    this.element.textContent = this.srcElement.content();\r\n                }\r\n            },\r\n            renderData: function () {\r\n                return this.printPath(this.srcElement);\r\n            },\r\n            printPath: function (path) {\r\n                var segments = path.segments, length = segments.length;\r\n                if (length > 0) {\r\n                    var parts = [], output, segmentType, currentType, i;\r\n                    for (i = 1; i < length; i++) {\r\n                        segmentType = this.segmentType(segments[i - 1], segments[i]);\r\n                        if (segmentType !== currentType) {\r\n                            currentType = segmentType;\r\n                            parts.push(segmentType);\r\n                        }\r\n                        if (segmentType === 'L') {\r\n                            parts.push(this.printPoints(segments[i].anchor()));\r\n                        } else {\r\n                            parts.push(this.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\r\n                        }\r\n                    }\r\n                    output = 'M' + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\r\n                    if (path.options.closed) {\r\n                        output += 'Z';\r\n                    }\r\n                    return output;\r\n                }\r\n            },\r\n            printPoints: function () {\r\n                var points = arguments, length = points.length, i, result = [];\r\n                for (i = 0; i < length; i++) {\r\n                    result.push(points[i].toString(3));\r\n                }\r\n                return result.join(SPACE);\r\n            },\r\n            segmentType: function (segmentStart, segmentEnd) {\r\n                return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L';\r\n            },\r\n            mapStroke: function (stroke) {\r\n                var attrs = [];\r\n                if (stroke && !isTransparent(stroke.color)) {\r\n                    attrs.push([\r\n                        'stroke',\r\n                        stroke.color\r\n                    ]);\r\n                    attrs.push([\r\n                        'stroke-width',\r\n                        stroke.width\r\n                    ]);\r\n                    attrs.push([\r\n                        'stroke-linecap',\r\n                        this.renderLinecap(stroke)\r\n                    ]);\r\n                    attrs.push([\r\n                        'stroke-linejoin',\r\n                        stroke.lineJoin\r\n                    ]);\r\n                    if (defined(stroke.opacity)) {\r\n                        attrs.push([\r\n                            'stroke-opacity',\r\n                            stroke.opacity\r\n                        ]);\r\n                    }\r\n                    if (defined(stroke.dashType)) {\r\n                        attrs.push([\r\n                            'stroke-dasharray',\r\n                            this.renderDashType(stroke)\r\n                        ]);\r\n                    }\r\n                } else {\r\n                    attrs.push([\r\n                        'stroke',\r\n                        NONE\r\n                    ]);\r\n                }\r\n                return attrs;\r\n            },\r\n            renderStroke: function () {\r\n                return renderAllAttr(this.mapStroke(this.srcElement.options.stroke));\r\n            },\r\n            renderDashType: function (stroke) {\r\n                var width = stroke.width || 1, dashType = stroke.dashType;\r\n                if (dashType && dashType != SOLID) {\r\n                    var dashArray = DASH_ARRAYS[dashType.toLowerCase()], result = [], i;\r\n                    for (i = 0; i < dashArray.length; i++) {\r\n                        result.push(dashArray[i] * width);\r\n                    }\r\n                    return result.join(' ');\r\n                }\r\n            },\r\n            renderLinecap: function (stroke) {\r\n                var dashType = stroke.dashType, lineCap = stroke.lineCap;\r\n                return dashType && dashType != SOLID ? BUTT : lineCap;\r\n            },\r\n            mapFill: function (fill) {\r\n                var attrs = [];\r\n                if (!(fill && fill.nodeType == GRADIENT)) {\r\n                    if (fill && !isTransparent(fill.color)) {\r\n                        attrs.push([\r\n                            'fill',\r\n                            fill.color\r\n                        ]);\r\n                        if (defined(fill.opacity)) {\r\n                            attrs.push([\r\n                                'fill-opacity',\r\n                                fill.opacity\r\n                            ]);\r\n                        }\r\n                    } else {\r\n                        attrs.push([\r\n                            'fill',\r\n                            NONE\r\n                        ]);\r\n                    }\r\n                }\r\n                return attrs;\r\n            },\r\n            renderFill: function () {\r\n                return renderAllAttr(this.mapFill(this.srcElement.options.fill));\r\n            },\r\n            template: renderTemplate('<path #= d.renderStyle() # #= d.renderOpacity() # ' + '#= kendo.util.renderAttr(\\'d\\', d.renderData()) # ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() #></path>')\r\n        });\r\n        var ArcNode = PathNode.extend({\r\n            renderData: function () {\r\n                return this.printPath(this.srcElement.toPath());\r\n            }\r\n        });\r\n        var MultiPathNode = PathNode.extend({\r\n            renderData: function () {\r\n                var paths = this.srcElement.paths;\r\n                if (paths.length > 0) {\r\n                    var result = [], i;\r\n                    for (i = 0; i < paths.length; i++) {\r\n                        result.push(this.printPath(paths[i]));\r\n                    }\r\n                    return result.join(' ');\r\n                }\r\n            }\r\n        });\r\n        var CircleNode = PathNode.extend({\r\n            geometryChange: function () {\r\n                var center = this.center();\r\n                this.attr('cx', center.x);\r\n                this.attr('cy', center.y);\r\n                this.attr('r', this.radius());\r\n                this.invalidate();\r\n            },\r\n            center: function () {\r\n                return this.srcElement.geometry().center;\r\n            },\r\n            radius: function () {\r\n                return this.srcElement.geometry().radius;\r\n            },\r\n            template: renderTemplate('<circle #= d.renderStyle() # #= d.renderOpacity() # ' + 'cx=\\'#= d.center().x #\\' cy=\\'#= d.center().y #\\' ' + 'r=\\'#= d.radius() #\\' ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # ></circle>')\r\n        });\r\n        var TextNode = PathNode.extend({\r\n            geometryChange: function () {\r\n                var pos = this.pos();\r\n                this.attr('x', pos.x);\r\n                this.attr('y', pos.y);\r\n                this.invalidate();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'font') {\r\n                    this.attr('style', util.renderStyle(this.mapStyle()));\r\n                    this.geometryChange();\r\n                } else if (e.field === 'content') {\r\n                    PathNode.fn.content.call(this, this.srcElement.content());\r\n                }\r\n                PathNode.fn.optionsChange.call(this, e);\r\n            },\r\n            mapStyle: function (encode) {\r\n                var style = PathNode.fn.mapStyle.call(this, encode);\r\n                var font = this.srcElement.options.font;\r\n                if (encode) {\r\n                    font = kendo.htmlEncode(font);\r\n                }\r\n                style.push([\r\n                    'font',\r\n                    font\r\n                ]);\r\n                return style;\r\n            },\r\n            pos: function () {\r\n                var pos = this.srcElement.position();\r\n                var size = this.srcElement.measure();\r\n                return pos.clone().setY(pos.y + size.baseline);\r\n            },\r\n            renderContent: function () {\r\n                var content = this.srcElement.content();\r\n                content = decodeEntities(content);\r\n                content = kendo.htmlEncode(content);\r\n                return content;\r\n            },\r\n            template: renderTemplate('<text #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= this.pos().x #\\' y=\\'#= this.pos().y #\\' ' + '#= d.renderStroke() # ' + '#= d.renderTransform() # ' + '#= d.renderDefinitions() # ' + '#= d.renderFill() #>#= d.renderContent() #</text>')\r\n        });\r\n        var ImageNode = PathNode.extend({\r\n            geometryChange: function () {\r\n                this.allAttr(this.mapPosition());\r\n                this.invalidate();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'src') {\r\n                    this.allAttr(this.mapSource());\r\n                }\r\n                PathNode.fn.optionsChange.call(this, e);\r\n            },\r\n            mapPosition: function () {\r\n                var rect = this.srcElement.rect();\r\n                var tl = rect.topLeft();\r\n                return [\r\n                    [\r\n                        'x',\r\n                        tl.x\r\n                    ],\r\n                    [\r\n                        'y',\r\n                        tl.y\r\n                    ],\r\n                    [\r\n                        'width',\r\n                        rect.width() + 'px'\r\n                    ],\r\n                    [\r\n                        'height',\r\n                        rect.height() + 'px'\r\n                    ]\r\n                ];\r\n            },\r\n            renderPosition: function () {\r\n                return renderAllAttr(this.mapPosition());\r\n            },\r\n            mapSource: function (encode) {\r\n                var src = this.srcElement.src();\r\n                if (encode) {\r\n                    src = kendo.htmlEncode(src);\r\n                }\r\n                return [[\r\n                        'xlink:href',\r\n                        src\r\n                    ]];\r\n            },\r\n            renderSource: function () {\r\n                return renderAllAttr(this.mapSource(true));\r\n            },\r\n            template: renderTemplate('<image preserveAspectRatio=\\'none\\' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # ' + '#= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#>' + '</image>')\r\n        });\r\n        var GradientStopNode = Node.extend({\r\n            template: renderTemplate('<stop #=d.renderOffset()# #=d.renderStyle()# />'),\r\n            renderOffset: function () {\r\n                return renderAttr('offset', this.srcElement.offset());\r\n            },\r\n            mapStyle: function () {\r\n                var srcElement = this.srcElement;\r\n                return [\r\n                    [\r\n                        'stop-color',\r\n                        srcElement.color()\r\n                    ],\r\n                    [\r\n                        'stop-opacity',\r\n                        srcElement.opacity()\r\n                    ]\r\n                ];\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'offset') {\r\n                    this.attr(e.field, e.value);\r\n                } else if (e.field == 'color' || e.field == 'opacity') {\r\n                    this.css('stop-' + e.field, e.value);\r\n                }\r\n            }\r\n        });\r\n        var GradientNode = Node.extend({\r\n            init: function (srcElement) {\r\n                Node.fn.init.call(this, srcElement);\r\n                this.id = srcElement.id;\r\n                this.loadStops();\r\n            },\r\n            loadStops: function () {\r\n                var srcElement = this.srcElement;\r\n                var stops = srcElement.stops;\r\n                var element = this.element;\r\n                var stopNode;\r\n                var idx;\r\n                for (idx = 0; idx < stops.length; idx++) {\r\n                    stopNode = new GradientStopNode(stops[idx]);\r\n                    this.append(stopNode);\r\n                    if (element) {\r\n                        stopNode.attachTo(element);\r\n                    }\r\n                }\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'gradient.stops') {\r\n                    BaseNode.fn.clear.call(this);\r\n                    this.loadStops();\r\n                } else if (e.field == GRADIENT) {\r\n                    this.allAttr(this.mapCoordinates());\r\n                }\r\n            },\r\n            renderCoordinates: function () {\r\n                return renderAllAttr(this.mapCoordinates());\r\n            },\r\n            mapSpace: function () {\r\n                return [\r\n                    'gradientUnits',\r\n                    this.srcElement.userSpace() ? 'userSpaceOnUse' : 'objectBoundingBox'\r\n                ];\r\n            }\r\n        });\r\n        var LinearGradientNode = GradientNode.extend({\r\n            template: renderTemplate('<linearGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</linearGradient>'),\r\n            mapCoordinates: function () {\r\n                var srcElement = this.srcElement;\r\n                var start = srcElement.start();\r\n                var end = srcElement.end();\r\n                var attrs = [\r\n                    [\r\n                        'x1',\r\n                        start.x\r\n                    ],\r\n                    [\r\n                        'y1',\r\n                        start.y\r\n                    ],\r\n                    [\r\n                        'x2',\r\n                        end.x\r\n                    ],\r\n                    [\r\n                        'y2',\r\n                        end.y\r\n                    ],\r\n                    this.mapSpace()\r\n                ];\r\n                return attrs;\r\n            }\r\n        });\r\n        var RadialGradientNode = GradientNode.extend({\r\n            template: renderTemplate('<radialGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</radialGradient>'),\r\n            mapCoordinates: function () {\r\n                var srcElement = this.srcElement;\r\n                var center = srcElement.center();\r\n                var radius = srcElement.radius();\r\n                var attrs = [\r\n                    [\r\n                        'cx',\r\n                        center.x\r\n                    ],\r\n                    [\r\n                        'cy',\r\n                        center.y\r\n                    ],\r\n                    [\r\n                        'r',\r\n                        radius\r\n                    ],\r\n                    this.mapSpace()\r\n                ];\r\n                return attrs;\r\n            }\r\n        });\r\n        var RectNode = PathNode.extend({\r\n            geometryChange: function () {\r\n                var geometry = this.srcElement.geometry();\r\n                this.attr('x', geometry.origin.x);\r\n                this.attr('y', geometry.origin.y);\r\n                this.attr('width', geometry.size.width);\r\n                this.attr('height', geometry.size.height);\r\n                this.invalidate();\r\n            },\r\n            size: function () {\r\n                return this.srcElement.geometry().size;\r\n            },\r\n            origin: function () {\r\n                return this.srcElement.geometry().origin;\r\n            },\r\n            template: renderTemplate('<rect #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= d.origin().x #\\' y=\\'#= d.origin().y #\\' ' + 'width=\\'#= d.size().width #\\' height=\\'#= d.size().height #\\'' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # />')\r\n        });\r\n        var nodeMap = {\r\n            Group: GroupNode,\r\n            Text: TextNode,\r\n            Path: PathNode,\r\n            MultiPath: MultiPathNode,\r\n            Circle: CircleNode,\r\n            Arc: ArcNode,\r\n            Image: ImageNode,\r\n            Rect: RectNode\r\n        };\r\n        var renderSVG = function (container, svg) {\r\n            container.innerHTML = svg;\r\n        };\r\n        (function () {\r\n            var testFragment = '<svg xmlns=\\'' + SVG_NS + '\\'></svg>', testContainer = doc.createElement('div'), hasParser = typeof DOMParser != UNDEFINED;\r\n            testContainer.innerHTML = testFragment;\r\n            if (hasParser && testContainer.firstChild.namespaceURI != SVG_NS) {\r\n                renderSVG = function (container, svg) {\r\n                    var parser = new DOMParser(), chartDoc = parser.parseFromString(svg, 'text/xml'), importedDoc = doc.adoptNode(chartDoc.documentElement);\r\n                    container.innerHTML = '';\r\n                    container.appendChild(importedDoc);\r\n                };\r\n            }\r\n        }());\r\n        function alignToScreen(element) {\r\n            var ctm;\r\n            try {\r\n                ctm = element.getScreenCTM ? element.getScreenCTM() : null;\r\n            } catch (e) {\r\n            }\r\n            if (ctm) {\r\n                var left = -ctm.e % 1, top = -ctm.f % 1, style = element.style;\r\n                if (left !== 0 || top !== 0) {\r\n                    style.left = left + 'px';\r\n                    style.top = top + 'px';\r\n                }\r\n            }\r\n        }\r\n        function baseUrl() {\r\n            var base = document.getElementsByTagName('base')[0], url = '', href = document.location.href, hashIndex = href.indexOf('#');\r\n            if (base && !kendo.support.browser.msie) {\r\n                if (hashIndex !== -1) {\r\n                    href = href.substring(0, hashIndex);\r\n                }\r\n                url = href;\r\n            }\r\n            return url;\r\n        }\r\n        function refUrl(id) {\r\n            return 'url(' + baseUrl() + '#' + id + ')';\r\n        }\r\n        function exportGroup(group) {\r\n            var root = new RootNode();\r\n            var bbox = group.clippedBBox();\r\n            if (bbox) {\r\n                var origin = bbox.getOrigin();\r\n                var exportRoot = new d.Group();\r\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\r\n                exportRoot.children.push(group);\r\n                group = exportRoot;\r\n            }\r\n            root.load([group]);\r\n            var svg = '<?xml version=\\'1.0\\' ?>' + '<svg xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>' + root.render() + '</svg>';\r\n            root.destroy();\r\n            return svg;\r\n        }\r\n        function exportSVG(group, options) {\r\n            var svg = exportGroup(group);\r\n            if (!options || !options.raw) {\r\n                svg = 'data:image/svg+xml;base64,' + util.encodeBase64(svg);\r\n            }\r\n            return $.Deferred().resolve(svg).promise();\r\n        }\r\n        function isDefinition(type, value) {\r\n            return type == 'clip' || type == 'fill' && (!value || value.nodeType == GRADIENT);\r\n        }\r\n        function decodeEntities(text) {\r\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\r\n                return text;\r\n            } else {\r\n                var element = decodeEntities._element;\r\n                element.innerHTML = text;\r\n                return element.textContent || element.innerText;\r\n            }\r\n        }\r\n        decodeEntities._element = document.createElement('span');\r\n        var DefinitionMap = {\r\n            clip: 'clip-path',\r\n            fill: 'fill'\r\n        };\r\n        kendo.support.svg = function () {\r\n            return doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1');\r\n        }();\r\n        if (kendo.support.svg) {\r\n            d.SurfaceFactory.current.register('svg', Surface, 10);\r\n        }\r\n        deepExtend(d, {\r\n            exportSVG: exportSVG,\r\n            svg: {\r\n                ArcNode: ArcNode,\r\n                CircleNode: CircleNode,\r\n                ClipNode: ClipNode,\r\n                DefinitionNode: DefinitionNode,\r\n                GradientStopNode: GradientStopNode,\r\n                GroupNode: GroupNode,\r\n                ImageNode: ImageNode,\r\n                LinearGradientNode: LinearGradientNode,\r\n                MultiPathNode: MultiPathNode,\r\n                Node: Node,\r\n                PathNode: PathNode,\r\n                RadialGradientNode: RadialGradientNode,\r\n                RectNode: RectNode,\r\n                RootNode: RootNode,\r\n                Surface: Surface,\r\n                TextNode: TextNode,\r\n                _exportGroup: exportGroup\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/canvas', [\r\n        'drawing/search',\r\n        'kendo.color'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, proxy = $.proxy;\r\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, FRAME_DELAY = 1000 / 60, SOLID = 'solid', NS = '.kendo';\r\n        var Surface = d.Surface.extend({\r\n            init: function (element, options) {\r\n                d.Surface.fn.init.call(this, element, options);\r\n                this.element[0].innerHTML = this._template(this);\r\n                var canvas = this.element[0].firstElementChild;\r\n                canvas.width = $(element).width();\r\n                canvas.height = $(element).height();\r\n                this._rootElement = canvas;\r\n                this._root = new RootNode(canvas);\r\n            },\r\n            destroy: function () {\r\n                d.Surface.fn.destroy.call(this);\r\n                if (this._root) {\r\n                    this._root.destroy();\r\n                    this._root = null;\r\n                }\r\n                if (this._searchTree) {\r\n                    this._searchTree.clear();\r\n                    delete this._searchTree;\r\n                }\r\n                this.element.off(NS);\r\n            },\r\n            type: 'canvas',\r\n            draw: function (element) {\r\n                d.Surface.fn.draw.call(this, element);\r\n                this._root.load([element], undefined, this.options.cors);\r\n                if (this._searchTree) {\r\n                    this._searchTree.add([element]);\r\n                }\r\n            },\r\n            clear: function () {\r\n                d.Surface.fn.clear.call(this);\r\n                this._root.clear();\r\n                if (this._searchTree) {\r\n                    this._searchTree.clear();\r\n                }\r\n            },\r\n            eventTarget: function (e) {\r\n                if (this._searchTree) {\r\n                    var point = this._surfacePoint(e);\r\n                    var shape = this._searchTree.pointShape(point);\r\n                    return shape;\r\n                }\r\n            },\r\n            image: function () {\r\n                var root = this._root;\r\n                var rootElement = this._rootElement;\r\n                var loadingStates = [];\r\n                root.traverse(function (childNode) {\r\n                    if (childNode.loading) {\r\n                        loadingStates.push(childNode.loading);\r\n                    }\r\n                });\r\n                var defer = $.Deferred();\r\n                $.when.apply($, loadingStates).done(function () {\r\n                    root._invalidate();\r\n                    try {\r\n                        var data = rootElement.toDataURL();\r\n                        defer.resolve(data);\r\n                    } catch (e) {\r\n                        defer.reject(e);\r\n                    }\r\n                }).fail(function (e) {\r\n                    defer.reject(e);\r\n                });\r\n                return defer.promise();\r\n            },\r\n            suspendTracking: function () {\r\n                d.Surface.fn.suspendTracking.call(this);\r\n                if (this._searchTree) {\r\n                    this._searchTree.clear();\r\n                    delete this._searchTree;\r\n                }\r\n            },\r\n            resumeTracking: function () {\r\n                d.Surface.fn.resumeTracking.call(this);\r\n                if (!this._searchTree) {\r\n                    this._searchTree = new d.ShapesQuadTree();\r\n                    var childNodes = this._root.childNodes;\r\n                    var rootElements = [];\r\n                    for (var idx = 0; idx < childNodes.length; idx++) {\r\n                        rootElements.push(childNodes[idx].srcElement);\r\n                    }\r\n                    this._searchTree.add(rootElements);\r\n                }\r\n            },\r\n            _resize: function () {\r\n                this._rootElement.width = this._size.width;\r\n                this._rootElement.height = this._size.height;\r\n                this._root.invalidate();\r\n            },\r\n            _template: renderTemplate('<canvas style=\\'width: 100%; height: 100%;\\'></canvas>'),\r\n            _enableTracking: function () {\r\n                this._searchTree = new d.ShapesQuadTree();\r\n                this._mouseTrackHandler = proxy(this._trackMouse, this);\r\n                this.element.on('click' + NS, this._mouseTrackHandler);\r\n                this.element.on('mousemove' + NS, this._mouseTrackHandler);\r\n                d.Surface.fn._enableTracking.call(this);\r\n            },\r\n            _trackMouse: function (e) {\r\n                if (this._suspendedTracking) {\r\n                    return;\r\n                }\r\n                var shape = this.eventTarget(e);\r\n                if (e.type != 'click') {\r\n                    var currentShape = this._currentShape;\r\n                    if (currentShape && currentShape !== shape) {\r\n                        this.trigger('mouseleave', {\r\n                            element: currentShape,\r\n                            originalEvent: e,\r\n                            type: 'mouseleave'\r\n                        });\r\n                    }\r\n                    if (shape && currentShape !== shape) {\r\n                        this.trigger('mouseenter', {\r\n                            element: shape,\r\n                            originalEvent: e,\r\n                            type: 'mouseenter'\r\n                        });\r\n                    }\r\n                    this.trigger('mousemove', {\r\n                        element: shape,\r\n                        originalEvent: e,\r\n                        type: 'mousemove'\r\n                    });\r\n                    this._currentShape = shape;\r\n                } else if (shape) {\r\n                    this.trigger('click', {\r\n                        element: shape,\r\n                        originalEvent: e,\r\n                        type: 'click'\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        var Node = BaseNode.extend({\r\n            init: function (srcElement) {\r\n                BaseNode.fn.init.call(this, srcElement);\r\n                if (srcElement) {\r\n                    this.initClip();\r\n                }\r\n            },\r\n            initClip: function () {\r\n                var clip = this.srcElement.clip();\r\n                if (clip) {\r\n                    this.clip = clip;\r\n                    clip.addObserver(this);\r\n                }\r\n            },\r\n            clear: function () {\r\n                if (this.srcElement) {\r\n                    this.srcElement.removeObserver(this);\r\n                }\r\n                this.clearClip();\r\n                BaseNode.fn.clear.call(this);\r\n            },\r\n            clearClip: function () {\r\n                if (this.clip) {\r\n                    this.clip.removeObserver(this);\r\n                    delete this.clip;\r\n                }\r\n            },\r\n            setClip: function (ctx) {\r\n                if (this.clip) {\r\n                    ctx.beginPath();\r\n                    PathNode.fn.renderPoints(ctx, this.clip);\r\n                    ctx.clip();\r\n                }\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'clip') {\r\n                    this.clearClip();\r\n                    this.initClip();\r\n                }\r\n                BaseNode.fn.optionsChange.call(this, e);\r\n            },\r\n            setTransform: function (ctx) {\r\n                if (this.srcElement) {\r\n                    var transform = this.srcElement.transform();\r\n                    if (transform) {\r\n                        ctx.transform.apply(ctx, transform.matrix().toArray(6));\r\n                    }\r\n                }\r\n            },\r\n            loadElements: function (elements, pos, cors) {\r\n                var node = this, childNode, srcElement, children, i;\r\n                for (i = 0; i < elements.length; i++) {\r\n                    srcElement = elements[i];\r\n                    children = srcElement.children;\r\n                    childNode = new nodeMap[srcElement.nodeType](srcElement, cors);\r\n                    if (children && children.length > 0) {\r\n                        childNode.load(children, pos, cors);\r\n                    }\r\n                    if (defined(pos)) {\r\n                        node.insertAt(childNode, pos);\r\n                    } else {\r\n                        node.append(childNode);\r\n                    }\r\n                }\r\n            },\r\n            load: function (elements, pos, cors) {\r\n                this.loadElements(elements, pos, cors);\r\n                this.invalidate();\r\n            },\r\n            setOpacity: function (ctx) {\r\n                if (this.srcElement) {\r\n                    var opacity = this.srcElement.opacity();\r\n                    if (defined(opacity)) {\r\n                        this.globalAlpha(ctx, opacity);\r\n                    }\r\n                }\r\n            },\r\n            globalAlpha: function (ctx, value) {\r\n                if (value && ctx.globalAlpha) {\r\n                    value *= ctx.globalAlpha;\r\n                }\r\n                ctx.globalAlpha = value;\r\n            },\r\n            visible: function () {\r\n                var src = this.srcElement;\r\n                return !src || src && src.options.visible !== false;\r\n            }\r\n        });\r\n        var GroupNode = Node.extend({\r\n            renderTo: function (ctx) {\r\n                if (!this.visible()) {\r\n                    return;\r\n                }\r\n                ctx.save();\r\n                this.setTransform(ctx);\r\n                this.setClip(ctx);\r\n                this.setOpacity(ctx);\r\n                var childNodes = this.childNodes;\r\n                for (var i = 0; i < childNodes.length; i++) {\r\n                    var child = childNodes[i];\r\n                    if (child.visible()) {\r\n                        child.renderTo(ctx);\r\n                    }\r\n                }\r\n                ctx.restore();\r\n            }\r\n        });\r\n        d.mixins.Traversable.extend(GroupNode.fn, 'childNodes');\r\n        var RootNode = GroupNode.extend({\r\n            init: function (canvas) {\r\n                GroupNode.fn.init.call(this);\r\n                this.canvas = canvas;\r\n                this.ctx = canvas.getContext('2d');\r\n                var invalidateHandler = proxy(this._invalidate, this);\r\n                this.invalidate = kendo.throttle(function () {\r\n                    kendo.animationFrame(invalidateHandler);\r\n                }, FRAME_DELAY);\r\n            },\r\n            destroy: function () {\r\n                GroupNode.fn.destroy.call(this);\r\n                this.canvas = null;\r\n                this.ctx = null;\r\n            },\r\n            load: function (elements, pos, cors) {\r\n                this.loadElements(elements, pos, cors);\r\n                this._invalidate();\r\n            },\r\n            _invalidate: function () {\r\n                if (!this.ctx) {\r\n                    return;\r\n                }\r\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n                this.renderTo(this.ctx);\r\n            }\r\n        });\r\n        d.mixins.Traversable.extend(RootNode.fn, 'childNodes');\r\n        var PathNode = Node.extend({\r\n            renderTo: function (ctx) {\r\n                ctx.save();\r\n                this.setTransform(ctx);\r\n                this.setClip(ctx);\r\n                this.setOpacity(ctx);\r\n                ctx.beginPath();\r\n                this.renderPoints(ctx, this.srcElement);\r\n                this.setLineDash(ctx);\r\n                this.setLineCap(ctx);\r\n                this.setLineJoin(ctx);\r\n                this.setFill(ctx);\r\n                this.setStroke(ctx);\r\n                ctx.restore();\r\n            },\r\n            setFill: function (ctx) {\r\n                var fill = this.srcElement.options.fill;\r\n                var hasFill = false;\r\n                if (fill) {\r\n                    if (fill.nodeType == 'gradient') {\r\n                        this.setGradientFill(ctx, fill);\r\n                        hasFill = true;\r\n                    } else if (!isTransparent(fill.color)) {\r\n                        ctx.fillStyle = fill.color;\r\n                        ctx.save();\r\n                        this.globalAlpha(ctx, fill.opacity);\r\n                        ctx.fill();\r\n                        ctx.restore();\r\n                        hasFill = true;\r\n                    }\r\n                }\r\n                return hasFill;\r\n            },\r\n            setGradientFill: function (ctx, fill) {\r\n                var bbox = this.srcElement.rawBBox();\r\n                var gradient;\r\n                if (fill instanceof d.LinearGradient) {\r\n                    var start = fill.start();\r\n                    var end = fill.end();\r\n                    gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\r\n                } else if (fill instanceof d.RadialGradient) {\r\n                    var center = fill.center();\r\n                    gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\r\n                }\r\n                addGradientStops(gradient, fill.stops);\r\n                ctx.save();\r\n                if (!fill.userSpace()) {\r\n                    ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\r\n                }\r\n                ctx.fillStyle = gradient;\r\n                ctx.fill();\r\n                ctx.restore();\r\n            },\r\n            setStroke: function (ctx) {\r\n                var stroke = this.srcElement.options.stroke;\r\n                if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\r\n                    ctx.strokeStyle = stroke.color;\r\n                    ctx.lineWidth = valueOrDefault(stroke.width, 1);\r\n                    ctx.save();\r\n                    this.globalAlpha(ctx, stroke.opacity);\r\n                    ctx.stroke();\r\n                    ctx.restore();\r\n                    return true;\r\n                }\r\n            },\r\n            dashType: function () {\r\n                var stroke = this.srcElement.options.stroke;\r\n                if (stroke && stroke.dashType) {\r\n                    return stroke.dashType.toLowerCase();\r\n                }\r\n            },\r\n            setLineDash: function (ctx) {\r\n                var dashType = this.dashType();\r\n                if (dashType && dashType != SOLID) {\r\n                    var dashArray = DASH_ARRAYS[dashType];\r\n                    if (ctx.setLineDash) {\r\n                        ctx.setLineDash(dashArray);\r\n                    } else {\r\n                        ctx.mozDash = dashArray;\r\n                        ctx.webkitLineDash = dashArray;\r\n                    }\r\n                }\r\n            },\r\n            setLineCap: function (ctx) {\r\n                var dashType = this.dashType();\r\n                var stroke = this.srcElement.options.stroke;\r\n                if (dashType && dashType !== SOLID) {\r\n                    ctx.lineCap = BUTT;\r\n                } else if (stroke && stroke.lineCap) {\r\n                    ctx.lineCap = stroke.lineCap;\r\n                }\r\n            },\r\n            setLineJoin: function (ctx) {\r\n                var stroke = this.srcElement.options.stroke;\r\n                if (stroke && stroke.lineJoin) {\r\n                    ctx.lineJoin = stroke.lineJoin;\r\n                }\r\n            },\r\n            renderPoints: function (ctx, path) {\r\n                var segments = path.segments;\r\n                if (segments.length === 0) {\r\n                    return;\r\n                }\r\n                var seg = segments[0];\r\n                var anchor = seg.anchor();\r\n                ctx.moveTo(anchor.x, anchor.y);\r\n                for (var i = 1; i < segments.length; i++) {\r\n                    seg = segments[i];\r\n                    anchor = seg.anchor();\r\n                    var prevSeg = segments[i - 1];\r\n                    var prevOut = prevSeg.controlOut();\r\n                    var controlIn = seg.controlIn();\r\n                    if (prevOut && controlIn) {\r\n                        ctx.bezierCurveTo(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\r\n                    } else {\r\n                        ctx.lineTo(anchor.x, anchor.y);\r\n                    }\r\n                }\r\n                if (path.options.closed) {\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n        });\r\n        var MultiPathNode = PathNode.extend({\r\n            renderPoints: function (ctx) {\r\n                var paths = this.srcElement.paths;\r\n                for (var i = 0; i < paths.length; i++) {\r\n                    PathNode.fn.renderPoints(ctx, paths[i]);\r\n                }\r\n            }\r\n        });\r\n        var CircleNode = PathNode.extend({\r\n            renderPoints: function (ctx) {\r\n                var geometry = this.srcElement.geometry();\r\n                var c = geometry.center;\r\n                var r = geometry.radius;\r\n                ctx.arc(c.x, c.y, r, 0, Math.PI * 2);\r\n            }\r\n        });\r\n        var ArcNode = PathNode.extend({\r\n            renderPoints: function (ctx) {\r\n                var path = this.srcElement.toPath();\r\n                PathNode.fn.renderPoints.call(this, ctx, path);\r\n            }\r\n        });\r\n        var TextNode = PathNode.extend({\r\n            renderTo: function (ctx) {\r\n                var text = this.srcElement;\r\n                var pos = text.position();\r\n                var size = text.measure();\r\n                ctx.save();\r\n                this.setTransform(ctx);\r\n                this.setClip(ctx);\r\n                this.setOpacity(ctx);\r\n                ctx.beginPath();\r\n                ctx.font = text.options.font;\r\n                if (this.setFill(ctx)) {\r\n                    ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\r\n                }\r\n                if (this.setStroke(ctx)) {\r\n                    this.setLineDash(ctx);\r\n                    ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\r\n                }\r\n                ctx.restore();\r\n            }\r\n        });\r\n        var ImageNode = PathNode.extend({\r\n            init: function (srcElement, cors) {\r\n                PathNode.fn.init.call(this, srcElement);\r\n                this.onLoad = proxy(this.onLoad, this);\r\n                this.onError = proxy(this.onError, this);\r\n                this.loading = $.Deferred();\r\n                var img = this.img = new Image();\r\n                if (cors && !/^data:/i.test(srcElement.src())) {\r\n                    img.crossOrigin = cors;\r\n                }\r\n                img.src = srcElement.src();\r\n                if (img.complete) {\r\n                    this.onLoad();\r\n                } else {\r\n                    img.onload = this.onLoad;\r\n                    img.onerror = this.onError;\r\n                }\r\n            },\r\n            renderTo: function (ctx) {\r\n                if (this.loading.state() === 'resolved') {\r\n                    ctx.save();\r\n                    this.setTransform(ctx);\r\n                    this.setClip(ctx);\r\n                    this.drawImage(ctx);\r\n                    ctx.restore();\r\n                }\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'src') {\r\n                    this.loading = $.Deferred();\r\n                    this.img.src = this.srcElement.src();\r\n                } else {\r\n                    PathNode.fn.optionsChange.call(this, e);\r\n                }\r\n            },\r\n            onLoad: function () {\r\n                this.loading.resolve();\r\n                this.invalidate();\r\n            },\r\n            onError: function () {\r\n                this.loading.reject(new Error('Unable to load image \\'' + this.img.src + '\\'. Check for connectivity and verify CORS headers.'));\r\n            },\r\n            drawImage: function (ctx) {\r\n                var rect = this.srcElement.rect();\r\n                var tl = rect.topLeft();\r\n                ctx.drawImage(this.img, tl.x, tl.y, rect.width(), rect.height());\r\n            }\r\n        });\r\n        var RectNode = PathNode.extend({\r\n            renderPoints: function (ctx) {\r\n                var geometry = this.srcElement.geometry();\r\n                var origin = geometry.origin;\r\n                var size = geometry.size;\r\n                ctx.rect(origin.x, origin.y, size.width, size.height);\r\n            }\r\n        });\r\n        function exportImage(group, options) {\r\n            var defaults = {\r\n                width: '800px',\r\n                height: '600px',\r\n                cors: 'Anonymous'\r\n            };\r\n            var bbox = group.clippedBBox();\r\n            if (bbox) {\r\n                var origin = bbox.getOrigin();\r\n                var exportRoot = new d.Group();\r\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\r\n                exportRoot.children.push(group);\r\n                group = exportRoot;\r\n                var size = bbox.getSize();\r\n                defaults.width = size.width + 'px';\r\n                defaults.height = size.height + 'px';\r\n            }\r\n            options = deepExtend(defaults, options);\r\n            var container = $('<div />').css({\r\n                display: 'none',\r\n                width: options.width,\r\n                height: options.height\r\n            }).appendTo(document.body);\r\n            var surface = new Surface(container, options);\r\n            surface.draw(group);\r\n            var promise = surface.image();\r\n            promise.always(function () {\r\n                surface.destroy();\r\n                container.remove();\r\n            });\r\n            return promise;\r\n        }\r\n        var nodeMap = {\r\n            Group: GroupNode,\r\n            Text: TextNode,\r\n            Path: PathNode,\r\n            MultiPath: MultiPathNode,\r\n            Circle: CircleNode,\r\n            Arc: ArcNode,\r\n            Image: ImageNode,\r\n            Rect: RectNode\r\n        };\r\n        function addGradientStops(gradient, stops) {\r\n            var color, stop, idx;\r\n            for (idx = 0; idx < stops.length; idx++) {\r\n                stop = stops[idx];\r\n                color = kendo.parseColor(stop.color());\r\n                color.a *= stop.opacity();\r\n                gradient.addColorStop(stop.offset(), color.toCssRgba());\r\n            }\r\n        }\r\n        kendo.support.canvas = function () {\r\n            return !!doc.createElement('canvas').getContext;\r\n        }();\r\n        if (kendo.support.canvas) {\r\n            d.SurfaceFactory.current.register('canvas', Surface, 20);\r\n        }\r\n        deepExtend(kendo.drawing, {\r\n            exportImage: exportImage,\r\n            canvas: {\r\n                ArcNode: ArcNode,\r\n                CircleNode: CircleNode,\r\n                GroupNode: GroupNode,\r\n                ImageNode: ImageNode,\r\n                MultiPathNode: MultiPathNode,\r\n                Node: Node,\r\n                PathNode: PathNode,\r\n                RectNode: RectNode,\r\n                RootNode: RootNode,\r\n                Surface: Surface,\r\n                TextNode: TextNode\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/vml', [\r\n        'drawing/shapes',\r\n        'kendo.color'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, math = Math, atan2 = math.atan2, ceil = math.ceil, sqrt = math.sqrt, kendo = window.kendo, deepExtend = kendo.deepExtend, noop = $.noop, d = kendo.drawing, BaseNode = d.BaseNode, g = kendo.geometry, toMatrix = g.toMatrix, Color = kendo.Color, util = kendo.util, isTransparent = util.isTransparent, defined = util.defined, deg = util.deg, round = util.round, valueOrDefault = util.valueOrDefault;\r\n        var NONE = 'none', NS = '.kendo', COORDINATE_MULTIPLE = 100, COORDINATE_SIZE = COORDINATE_MULTIPLE * COORDINATE_MULTIPLE, GRADIENT = 'gradient', TRANSFORM_PRECISION = 4;\r\n        var Surface = d.Surface.extend({\r\n            init: function (element, options) {\r\n                d.Surface.fn.init.call(this, element, options);\r\n                enableVML();\r\n                this.element.empty();\r\n                this._root = new RootNode();\r\n                this._root.attachTo(this.element[0]);\r\n                this.element.on('click' + NS, this._click);\r\n                this.element.on('mouseover' + NS, this._mouseenter);\r\n                this.element.on('mouseout' + NS, this._mouseleave);\r\n                this.element.on('mousemove' + NS, this._mousemove);\r\n            },\r\n            type: 'vml',\r\n            destroy: function () {\r\n                if (this._root) {\r\n                    this._root.destroy();\r\n                    this._root = null;\r\n                    this.element.off(NS);\r\n                }\r\n                d.Surface.fn.destroy.call(this);\r\n            },\r\n            draw: function (element) {\r\n                d.Surface.fn.draw.call(this, element);\r\n                this._root.load([element], undefined, null);\r\n            },\r\n            clear: function () {\r\n                d.Surface.fn.clear.call(this);\r\n                this._root.clear();\r\n            }\r\n        });\r\n        var Node = BaseNode.extend({\r\n            init: function (srcElement) {\r\n                BaseNode.fn.init.call(this, srcElement);\r\n                this.createElement();\r\n                this.attachReference();\r\n            },\r\n            observe: noop,\r\n            destroy: function () {\r\n                if (this.element) {\r\n                    this.element._kendoNode = null;\r\n                    this.element = null;\r\n                }\r\n                BaseNode.fn.destroy.call(this);\r\n            },\r\n            clear: function () {\r\n                if (this.element) {\r\n                    this.element.innerHTML = '';\r\n                }\r\n                var children = this.childNodes;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    children[i].destroy();\r\n                }\r\n                this.childNodes = [];\r\n            },\r\n            removeSelf: function () {\r\n                if (this.element) {\r\n                    this.element.parentNode.removeChild(this.element);\r\n                    this.element = null;\r\n                }\r\n                BaseNode.fn.removeSelf.call(this);\r\n            },\r\n            createElement: function () {\r\n                this.element = doc.createElement('div');\r\n            },\r\n            attachReference: function () {\r\n                this.element._kendoNode = this;\r\n            },\r\n            load: function (elements, pos, transform, opacity) {\r\n                opacity = valueOrDefault(opacity, 1);\r\n                if (this.srcElement) {\r\n                    opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\r\n                }\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    var srcElement = elements[i];\r\n                    var children = srcElement.children;\r\n                    var combinedTransform = srcElement.currentTransform(transform);\r\n                    var currentOpacity = opacity * valueOrDefault(srcElement.options.opacity, 1);\r\n                    var childNode = new nodeMap[srcElement.nodeType](srcElement, combinedTransform, currentOpacity);\r\n                    if (children && children.length > 0) {\r\n                        childNode.load(children, pos, combinedTransform, opacity);\r\n                    }\r\n                    if (defined(pos)) {\r\n                        this.insertAt(childNode, pos);\r\n                    } else {\r\n                        this.append(childNode);\r\n                    }\r\n                    childNode.attachTo(this.element, pos);\r\n                }\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                if (defined(pos)) {\r\n                    domElement.insertBefore(this.element, domElement.children[pos] || null);\r\n                } else {\r\n                    domElement.appendChild(this.element);\r\n                }\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'visible') {\r\n                    this.css('display', e.value !== false ? '' : NONE);\r\n                }\r\n            },\r\n            setStyle: function () {\r\n                this.allCss(this.mapStyle());\r\n            },\r\n            mapStyle: function () {\r\n                var style = [];\r\n                if (this.srcElement && this.srcElement.options.visible === false) {\r\n                    style.push([\r\n                        'display',\r\n                        NONE\r\n                    ]);\r\n                }\r\n                return style;\r\n            },\r\n            mapOpacityTo: function (attrs, multiplier) {\r\n                var opacity = valueOrDefault(this.opacity, 1);\r\n                opacity *= valueOrDefault(multiplier, 1);\r\n                attrs.push([\r\n                    'opacity',\r\n                    opacity\r\n                ]);\r\n            },\r\n            attr: function (name, value) {\r\n                if (this.element) {\r\n                    this.element[name] = value;\r\n                }\r\n            },\r\n            allAttr: function (attrs) {\r\n                for (var i = 0; i < attrs.length; i++) {\r\n                    this.attr(attrs[i][0], attrs[i][1]);\r\n                }\r\n            },\r\n            css: function (name, value) {\r\n                if (this.element) {\r\n                    this.element.style[name] = value;\r\n                }\r\n            },\r\n            allCss: function (styles) {\r\n                for (var i = 0; i < styles.length; i++) {\r\n                    this.css(styles[i][0], styles[i][1]);\r\n                }\r\n            }\r\n        });\r\n        var RootNode = Node.extend({\r\n            createElement: function () {\r\n                Node.fn.createElement.call(this);\r\n                this.allCss([\r\n                    [\r\n                        'width',\r\n                        '100%'\r\n                    ],\r\n                    [\r\n                        'height',\r\n                        '100%'\r\n                    ],\r\n                    [\r\n                        'position',\r\n                        'relative'\r\n                    ],\r\n                    [\r\n                        'visibility',\r\n                        'visible'\r\n                    ]\r\n                ]);\r\n            },\r\n            attachReference: noop\r\n        });\r\n        var ClipObserver = kendo.Class.extend({\r\n            init: function (srcElement, observer) {\r\n                this.srcElement = srcElement;\r\n                this.observer = observer;\r\n                srcElement.addObserver(this);\r\n            },\r\n            geometryChange: function () {\r\n                this.observer.optionsChange({\r\n                    field: 'clip',\r\n                    value: this.srcElement\r\n                });\r\n            },\r\n            clear: function () {\r\n                this.srcElement.removeObserver(this);\r\n            }\r\n        });\r\n        var ObserverNode = Node.extend({\r\n            init: function (srcElement) {\r\n                Node.fn.init.call(this, srcElement);\r\n                if (srcElement) {\r\n                    this.initClip();\r\n                }\r\n            },\r\n            observe: function () {\r\n                BaseNode.fn.observe.call(this);\r\n            },\r\n            mapStyle: function () {\r\n                var style = Node.fn.mapStyle.call(this);\r\n                if (this.srcElement && this.srcElement.clip()) {\r\n                    style.push([\r\n                        'clip',\r\n                        this.clipRect()\r\n                    ]);\r\n                }\r\n                return style;\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field == 'clip') {\r\n                    this.clearClip();\r\n                    this.initClip();\r\n                    this.setClip();\r\n                }\r\n                Node.fn.optionsChange.call(this, e);\r\n            },\r\n            clear: function () {\r\n                this.clearClip();\r\n                Node.fn.clear.call(this);\r\n            },\r\n            initClip: function () {\r\n                if (this.srcElement.clip()) {\r\n                    this.clip = new ClipObserver(this.srcElement.clip(), this);\r\n                    this.clip.observer = this;\r\n                }\r\n            },\r\n            clearClip: function () {\r\n                if (this.clip) {\r\n                    this.clip.clear();\r\n                    this.clip = null;\r\n                    this.css('clip', this.clipRect());\r\n                }\r\n            },\r\n            setClip: function () {\r\n                if (this.clip) {\r\n                    this.css('clip', this.clipRect());\r\n                }\r\n            },\r\n            clipRect: function () {\r\n                var clipRect = EMPTY_CLIP;\r\n                var clip = this.srcElement.clip();\r\n                if (clip) {\r\n                    var bbox = this.clipBBox(clip);\r\n                    var topLeft = bbox.topLeft();\r\n                    var bottomRight = bbox.bottomRight();\r\n                    clipRect = kendo.format('rect({0}px {1}px {2}px {3}px)', topLeft.y, bottomRight.x, bottomRight.y, topLeft.x);\r\n                }\r\n                return clipRect;\r\n            },\r\n            clipBBox: function (clip) {\r\n                var topLeft = this.srcElement.rawBBox().topLeft();\r\n                var clipBBox = clip.rawBBox();\r\n                clipBBox.origin.translate(-topLeft.x, -topLeft.y);\r\n                return clipBBox;\r\n            }\r\n        });\r\n        var GroupNode = ObserverNode.extend({\r\n            createElement: function () {\r\n                Node.fn.createElement.call(this);\r\n                this.setStyle();\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                this.css('display', NONE);\r\n                Node.fn.attachTo.call(this, domElement, pos);\r\n                if (this.srcElement.options.visible !== false) {\r\n                    this.css('display', '');\r\n                }\r\n            },\r\n            _attachTo: function (domElement) {\r\n                var frag = document.createDocumentFragment();\r\n                frag.appendChild(this.element);\r\n                domElement.appendChild(frag);\r\n            },\r\n            mapStyle: function () {\r\n                var style = ObserverNode.fn.mapStyle.call(this);\r\n                style.push([\r\n                    'position',\r\n                    'absolute'\r\n                ]);\r\n                style.push([\r\n                    'white-space',\r\n                    'nowrap'\r\n                ]);\r\n                return style;\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'transform') {\r\n                    this.refreshTransform();\r\n                }\r\n                if (e.field === 'opacity') {\r\n                    this.refreshOpacity();\r\n                }\r\n                ObserverNode.fn.optionsChange.call(this, e);\r\n            },\r\n            refreshTransform: function (transform) {\r\n                var currentTransform = this.srcElement.currentTransform(transform), children = this.childNodes, length = children.length, i;\r\n                this.setClip();\r\n                for (i = 0; i < length; i++) {\r\n                    children[i].refreshTransform(currentTransform);\r\n                }\r\n            },\r\n            currentOpacity: function () {\r\n                var opacity = valueOrDefault(this.srcElement.options.opacity, 1);\r\n                if (this.parent && this.parent.currentOpacity) {\r\n                    opacity *= this.parent.currentOpacity();\r\n                }\r\n                return opacity;\r\n            },\r\n            refreshOpacity: function () {\r\n                var children = this.childNodes, length = children.length, i;\r\n                var opacity = this.currentOpacity();\r\n                for (i = 0; i < length; i++) {\r\n                    children[i].refreshOpacity(opacity);\r\n                }\r\n            },\r\n            initClip: function () {\r\n                ObserverNode.fn.initClip.call(this);\r\n                if (this.clip) {\r\n                    var bbox = this.clip.srcElement.bbox(this.srcElement.currentTransform());\r\n                    if (bbox) {\r\n                        this.css('width', bbox.width() + bbox.origin.x);\r\n                        this.css('height', bbox.height() + bbox.origin.y);\r\n                    }\r\n                }\r\n            },\r\n            clipBBox: function (clip) {\r\n                return clip.bbox(this.srcElement.currentTransform());\r\n            },\r\n            clearClip: function () {\r\n                ObserverNode.fn.clearClip.call(this);\r\n            }\r\n        });\r\n        var StrokeNode = Node.extend({\r\n            init: function (srcElement, opacity) {\r\n                this.opacity = opacity;\r\n                Node.fn.init.call(this, srcElement);\r\n            },\r\n            createElement: function () {\r\n                this.element = createElementVML('stroke');\r\n                this.setOpacity();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field.indexOf('stroke') === 0) {\r\n                    this.setStroke();\r\n                }\r\n            },\r\n            refreshOpacity: function (opacity) {\r\n                this.opacity = opacity;\r\n                this.setStroke();\r\n            },\r\n            setStroke: function () {\r\n                this.allAttr(this.mapStroke());\r\n            },\r\n            setOpacity: function () {\r\n                this.setStroke();\r\n            },\r\n            mapStroke: function () {\r\n                var stroke = this.srcElement.options.stroke;\r\n                var attrs = [];\r\n                if (stroke && !isTransparent(stroke.color) && stroke.width !== 0) {\r\n                    attrs.push([\r\n                        'on',\r\n                        'true'\r\n                    ]);\r\n                    attrs.push([\r\n                        'color',\r\n                        stroke.color\r\n                    ]);\r\n                    attrs.push([\r\n                        'weight',\r\n                        (stroke.width || 1) + 'px'\r\n                    ]);\r\n                    this.mapOpacityTo(attrs, stroke.opacity);\r\n                    if (defined(stroke.dashType)) {\r\n                        attrs.push([\r\n                            'dashstyle',\r\n                            stroke.dashType\r\n                        ]);\r\n                    }\r\n                    if (defined(stroke.lineJoin)) {\r\n                        attrs.push([\r\n                            'joinstyle',\r\n                            stroke.lineJoin\r\n                        ]);\r\n                    }\r\n                    if (defined(stroke.lineCap)) {\r\n                        var lineCap = stroke.lineCap.toLowerCase();\r\n                        if (lineCap === 'butt') {\r\n                            lineCap = lineCap === 'butt' ? 'flat' : lineCap;\r\n                        }\r\n                        attrs.push([\r\n                            'endcap',\r\n                            lineCap\r\n                        ]);\r\n                    }\r\n                } else {\r\n                    attrs.push([\r\n                        'on',\r\n                        'false'\r\n                    ]);\r\n                }\r\n                return attrs;\r\n            }\r\n        });\r\n        var FillNode = Node.extend({\r\n            init: function (srcElement, transform, opacity) {\r\n                this.opacity = opacity;\r\n                Node.fn.init.call(this, srcElement);\r\n            },\r\n            createElement: function () {\r\n                this.element = createElementVML('fill');\r\n                this.setFill();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (fillField(e.field)) {\r\n                    this.setFill();\r\n                }\r\n            },\r\n            refreshOpacity: function (opacity) {\r\n                this.opacity = opacity;\r\n                this.setOpacity();\r\n            },\r\n            setFill: function () {\r\n                this.allAttr(this.mapFill());\r\n            },\r\n            setOpacity: function () {\r\n                this.setFill();\r\n            },\r\n            attr: function (name, value) {\r\n                var element = this.element;\r\n                if (element) {\r\n                    var fields = name.split('.');\r\n                    while (fields.length > 1) {\r\n                        element = element[fields.shift()];\r\n                    }\r\n                    element[fields[0]] = value;\r\n                }\r\n            },\r\n            mapFill: function () {\r\n                var fill = this.srcElement.fill();\r\n                var attrs = [[\r\n                        'on',\r\n                        'false'\r\n                    ]];\r\n                if (fill) {\r\n                    if (fill.nodeType == GRADIENT) {\r\n                        attrs = this.mapGradient(fill);\r\n                    } else if (!isTransparent(fill.color)) {\r\n                        attrs = this.mapFillColor(fill);\r\n                    }\r\n                }\r\n                return attrs;\r\n            },\r\n            mapFillColor: function (fill) {\r\n                var attrs = [\r\n                    [\r\n                        'on',\r\n                        'true'\r\n                    ],\r\n                    [\r\n                        'color',\r\n                        fill.color\r\n                    ]\r\n                ];\r\n                this.mapOpacityTo(attrs, fill.opacity);\r\n                return attrs;\r\n            },\r\n            mapGradient: function (fill) {\r\n                var options = this.srcElement.options;\r\n                var fallbackFill = options.fallbackFill || fill.fallbackFill && fill.fallbackFill();\r\n                var attrs;\r\n                if (fill instanceof d.LinearGradient) {\r\n                    attrs = this.mapLinearGradient(fill);\r\n                } else if (fill instanceof d.RadialGradient && fill.supportVML) {\r\n                    attrs = this.mapRadialGradient(fill);\r\n                } else if (fallbackFill) {\r\n                    attrs = this.mapFillColor(fallbackFill);\r\n                } else {\r\n                    attrs = [[\r\n                            'on',\r\n                            'false'\r\n                        ]];\r\n                }\r\n                return attrs;\r\n            },\r\n            mapLinearGradient: function (fill) {\r\n                var start = fill.start();\r\n                var end = fill.end();\r\n                var angle = util.deg(atan2(end.y - start.y, end.x - start.x));\r\n                var attrs = [\r\n                    [\r\n                        'on',\r\n                        'true'\r\n                    ],\r\n                    [\r\n                        'type',\r\n                        GRADIENT\r\n                    ],\r\n                    [\r\n                        'focus',\r\n                        0\r\n                    ],\r\n                    [\r\n                        'method',\r\n                        'none'\r\n                    ],\r\n                    [\r\n                        'angle',\r\n                        270 - angle\r\n                    ]\r\n                ];\r\n                this.addColors(attrs);\r\n                return attrs;\r\n            },\r\n            mapRadialGradient: function (fill) {\r\n                var bbox = this.srcElement.rawBBox();\r\n                var center = fill.center();\r\n                var focusx = (center.x - bbox.origin.x) / bbox.width();\r\n                var focusy = (center.y - bbox.origin.y) / bbox.height();\r\n                var attrs = [\r\n                    [\r\n                        'on',\r\n                        'true'\r\n                    ],\r\n                    [\r\n                        'type',\r\n                        'gradienttitle'\r\n                    ],\r\n                    [\r\n                        'focus',\r\n                        '100%'\r\n                    ],\r\n                    [\r\n                        'focusposition',\r\n                        focusx + ' ' + focusy\r\n                    ],\r\n                    [\r\n                        'method',\r\n                        'none'\r\n                    ]\r\n                ];\r\n                this.addColors(attrs);\r\n                return attrs;\r\n            },\r\n            addColors: function (attrs) {\r\n                var options = this.srcElement.options;\r\n                var opacity = valueOrDefault(this.opacity, 1);\r\n                var stopColors = [];\r\n                var stops = options.fill.stops;\r\n                var baseColor = options.baseColor;\r\n                var colorsField = this.element.colors ? 'colors.value' : 'colors';\r\n                var color = stopColor(baseColor, stops[0], opacity);\r\n                var color2 = stopColor(baseColor, stops[stops.length - 1], opacity);\r\n                var stop;\r\n                for (var idx = 0; idx < stops.length; idx++) {\r\n                    stop = stops[idx];\r\n                    stopColors.push(math.round(stop.offset() * 100) + '% ' + stopColor(baseColor, stop, opacity));\r\n                }\r\n                attrs.push([\r\n                    colorsField,\r\n                    stopColors.join(',')\r\n                ], [\r\n                    'color',\r\n                    color\r\n                ], [\r\n                    'color2',\r\n                    color2\r\n                ]);\r\n            }\r\n        });\r\n        var TransformNode = Node.extend({\r\n            init: function (srcElement, transform) {\r\n                this.transform = transform;\r\n                Node.fn.init.call(this, srcElement);\r\n            },\r\n            createElement: function () {\r\n                this.element = createElementVML('skew');\r\n                this.setTransform();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'transform') {\r\n                    this.refresh(this.srcElement.currentTransform());\r\n                }\r\n            },\r\n            refresh: function (transform) {\r\n                this.transform = transform;\r\n                this.setTransform();\r\n            },\r\n            transformOrigin: function () {\r\n                return '-0.5,-0.5';\r\n            },\r\n            setTransform: function () {\r\n                this.allAttr(this.mapTransform());\r\n            },\r\n            mapTransform: function () {\r\n                var transform = this.transform;\r\n                var attrs = [], matrix = toMatrix(transform);\r\n                if (matrix) {\r\n                    matrix.round(TRANSFORM_PRECISION);\r\n                    attrs.push([\r\n                        'on',\r\n                        'true'\r\n                    ], [\r\n                        'matrix',\r\n                        [\r\n                            matrix.a,\r\n                            matrix.c,\r\n                            matrix.b,\r\n                            matrix.d,\r\n                            0,\r\n                            0\r\n                        ].join(',')\r\n                    ], [\r\n                        'offset',\r\n                        matrix.e + 'px,' + matrix.f + 'px'\r\n                    ], [\r\n                        'origin',\r\n                        this.transformOrigin()\r\n                    ]);\r\n                } else {\r\n                    attrs.push([\r\n                        'on',\r\n                        'false'\r\n                    ]);\r\n                }\r\n                return attrs;\r\n            }\r\n        });\r\n        var ShapeNode = ObserverNode.extend({\r\n            init: function (srcElement, transform, opacity) {\r\n                this.fill = this.createFillNode(srcElement, transform, opacity);\r\n                this.stroke = new StrokeNode(srcElement, opacity);\r\n                this.transform = this.createTransformNode(srcElement, transform);\r\n                ObserverNode.fn.init.call(this, srcElement);\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                this.fill.attachTo(this.element);\r\n                this.stroke.attachTo(this.element);\r\n                this.transform.attachTo(this.element);\r\n                Node.fn.attachTo.call(this, domElement, pos);\r\n            },\r\n            createFillNode: function (srcElement, transform, opacity) {\r\n                return new FillNode(srcElement, transform, opacity);\r\n            },\r\n            createTransformNode: function (srcElement, transform) {\r\n                return new TransformNode(srcElement, transform);\r\n            },\r\n            createElement: function () {\r\n                this.element = createElementVML('shape');\r\n                this.setCoordsize();\r\n                this.setStyle();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (fillField(e.field)) {\r\n                    this.fill.optionsChange(e);\r\n                } else if (e.field.indexOf('stroke') === 0) {\r\n                    this.stroke.optionsChange(e);\r\n                } else if (e.field === 'transform') {\r\n                    this.transform.optionsChange(e);\r\n                } else if (e.field === 'opacity') {\r\n                    this.fill.setOpacity();\r\n                    this.stroke.setOpacity();\r\n                }\r\n                ObserverNode.fn.optionsChange.call(this, e);\r\n            },\r\n            refreshTransform: function (transform) {\r\n                this.transform.refresh(this.srcElement.currentTransform(transform));\r\n            },\r\n            refreshOpacity: function (opacity) {\r\n                opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\r\n                this.fill.refreshOpacity(opacity);\r\n                this.stroke.refreshOpacity(opacity);\r\n            },\r\n            mapStyle: function (width, height) {\r\n                var styles = ObserverNode.fn.mapStyle.call(this);\r\n                if (!width || !height) {\r\n                    width = height = COORDINATE_MULTIPLE;\r\n                }\r\n                styles.push([\r\n                    'position',\r\n                    'absolute'\r\n                ], [\r\n                    'width',\r\n                    width + 'px'\r\n                ], [\r\n                    'height',\r\n                    height + 'px'\r\n                ]);\r\n                var cursor = this.srcElement.options.cursor;\r\n                if (cursor) {\r\n                    styles.push([\r\n                        'cursor',\r\n                        cursor\r\n                    ]);\r\n                }\r\n                return styles;\r\n            },\r\n            setCoordsize: function () {\r\n                this.allAttr([\r\n                    [\r\n                        'coordorigin',\r\n                        '0 0'\r\n                    ],\r\n                    [\r\n                        'coordsize',\r\n                        COORDINATE_SIZE + ' ' + COORDINATE_SIZE\r\n                    ]\r\n                ]);\r\n            }\r\n        });\r\n        var PathDataNode = Node.extend({\r\n            createElement: function () {\r\n                this.element = createElementVML('path');\r\n                this.setPathData();\r\n            },\r\n            geometryChange: function () {\r\n                this.setPathData();\r\n            },\r\n            setPathData: function () {\r\n                this.attr('v', this.renderData());\r\n            },\r\n            renderData: function () {\r\n                return printPath(this.srcElement);\r\n            }\r\n        });\r\n        var PathNode = ShapeNode.extend({\r\n            init: function (srcElement, transform, opacity) {\r\n                this.pathData = this.createDataNode(srcElement);\r\n                ShapeNode.fn.init.call(this, srcElement, transform, opacity);\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                this.pathData.attachTo(this.element);\r\n                ShapeNode.fn.attachTo.call(this, domElement, pos);\r\n            },\r\n            createDataNode: function (srcElement) {\r\n                return new PathDataNode(srcElement);\r\n            },\r\n            geometryChange: function () {\r\n                this.pathData.geometryChange();\r\n                ShapeNode.fn.geometryChange.call(this);\r\n            }\r\n        });\r\n        var MultiPathDataNode = PathDataNode.extend({\r\n            renderData: function () {\r\n                var paths = this.srcElement.paths;\r\n                if (paths.length > 0) {\r\n                    var result = [], i, open;\r\n                    for (i = 0; i < paths.length; i++) {\r\n                        open = i < paths.length - 1;\r\n                        result.push(printPath(paths[i], open));\r\n                    }\r\n                    return result.join(' ');\r\n                }\r\n            }\r\n        });\r\n        var MultiPathNode = PathNode.extend({\r\n            createDataNode: function (srcElement) {\r\n                return new MultiPathDataNode(srcElement);\r\n            }\r\n        });\r\n        var CircleTransformNode = TransformNode.extend({\r\n            transformOrigin: function () {\r\n                var boundingBox = this.srcElement.geometry().bbox(), center = boundingBox.center(), originX = -ceil(center.x) / ceil(boundingBox.width()), originY = -ceil(center.y) / ceil(boundingBox.height());\r\n                return originX + ',' + originY;\r\n            }\r\n        });\r\n        var CircleNode = ShapeNode.extend({\r\n            createElement: function () {\r\n                this.element = createElementVML('oval');\r\n                this.setStyle();\r\n            },\r\n            createTransformNode: function (srcElement, transform) {\r\n                return new CircleTransformNode(srcElement, transform);\r\n            },\r\n            geometryChange: function () {\r\n                ShapeNode.fn.geometryChange.call(this);\r\n                this.setStyle();\r\n                this.refreshTransform();\r\n            },\r\n            mapStyle: function () {\r\n                var geometry = this.srcElement.geometry();\r\n                var radius = geometry.radius;\r\n                var center = geometry.center;\r\n                var diameter = ceil(radius * 2);\r\n                var styles = ShapeNode.fn.mapStyle.call(this, diameter, diameter);\r\n                styles.push([\r\n                    'left',\r\n                    ceil(center.x - radius) + 'px'\r\n                ], [\r\n                    'top',\r\n                    ceil(center.y - radius) + 'px'\r\n                ]);\r\n                return styles;\r\n            }\r\n        });\r\n        var ArcDataNode = PathDataNode.extend({\r\n            renderData: function () {\r\n                return printPath(this.srcElement.toPath());\r\n            }\r\n        });\r\n        var ArcNode = PathNode.extend({\r\n            createDataNode: function (srcElement) {\r\n                return new ArcDataNode(srcElement);\r\n            }\r\n        });\r\n        var TextPathDataNode = PathDataNode.extend({\r\n            createElement: function () {\r\n                PathDataNode.fn.createElement.call(this);\r\n                this.attr('textpathok', true);\r\n            },\r\n            renderData: function () {\r\n                var rect = this.srcElement.rect();\r\n                var center = rect.center();\r\n                return 'm ' + printPoints([new g.Point(rect.topLeft().x, center.y)]) + ' l ' + printPoints([new g.Point(rect.bottomRight().x, center.y)]);\r\n            }\r\n        });\r\n        var TextPathNode = Node.extend({\r\n            createElement: function () {\r\n                this.element = createElementVML('textpath');\r\n                this.attr('on', true);\r\n                this.attr('fitpath', false);\r\n                this.setStyle();\r\n                this.setString();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'content') {\r\n                    this.setString();\r\n                } else {\r\n                    this.setStyle();\r\n                }\r\n                Node.fn.optionsChange.call(this, e);\r\n            },\r\n            mapStyle: function () {\r\n                return [[\r\n                        'font',\r\n                        this.srcElement.options.font\r\n                    ]];\r\n            },\r\n            setString: function () {\r\n                this.attr('string', this.srcElement.content());\r\n            }\r\n        });\r\n        var TextNode = PathNode.extend({\r\n            init: function (srcElement, transform, opacity) {\r\n                this.path = new TextPathNode(srcElement);\r\n                PathNode.fn.init.call(this, srcElement, transform, opacity);\r\n            },\r\n            createDataNode: function (srcElement) {\r\n                return new TextPathDataNode(srcElement);\r\n            },\r\n            attachTo: function (domElement, pos) {\r\n                this.path.attachTo(this.element);\r\n                PathNode.fn.attachTo.call(this, domElement, pos);\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'font' || e.field === 'content') {\r\n                    this.path.optionsChange(e);\r\n                    this.pathData.geometryChange(e);\r\n                }\r\n                PathNode.fn.optionsChange.call(this, e);\r\n            }\r\n        });\r\n        var ImagePathDataNode = PathDataNode.extend({\r\n            renderData: function () {\r\n                var rect = this.srcElement.rect();\r\n                var path = new d.Path().moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\r\n                return printPath(path);\r\n            }\r\n        });\r\n        var ImageFillNode = TransformNode.extend({\r\n            init: function (srcElement, transform, opacity) {\r\n                this.opacity = opacity;\r\n                TransformNode.fn.init.call(this, srcElement, transform);\r\n            },\r\n            createElement: function () {\r\n                this.element = createElementVML('fill');\r\n                this.attr('type', 'frame');\r\n                this.attr('rotate', true);\r\n                this.setOpacity();\r\n                this.setSrc();\r\n                this.setTransform();\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'src') {\r\n                    this.setSrc();\r\n                }\r\n                TransformNode.fn.optionsChange.call(this, e);\r\n            },\r\n            geometryChange: function () {\r\n                this.refresh();\r\n            },\r\n            refreshOpacity: function (opacity) {\r\n                this.opacity = opacity;\r\n                this.setOpacity();\r\n            },\r\n            setOpacity: function () {\r\n                var attrs = [];\r\n                this.mapOpacityTo(attrs, this.srcElement.options.opacity);\r\n                this.allAttr(attrs);\r\n            },\r\n            setSrc: function () {\r\n                this.attr('src', this.srcElement.src());\r\n            },\r\n            mapTransform: function () {\r\n                var img = this.srcElement;\r\n                var rawbbox = img.rawBBox();\r\n                var rawcenter = rawbbox.center();\r\n                var fillOrigin = COORDINATE_MULTIPLE / 2;\r\n                var fillSize = COORDINATE_MULTIPLE;\r\n                var x;\r\n                var y;\r\n                var width = rawbbox.width() / fillSize;\r\n                var height = rawbbox.height() / fillSize;\r\n                var angle = 0;\r\n                var transform = this.transform;\r\n                if (transform) {\r\n                    var matrix = toMatrix(transform);\r\n                    var sx = sqrt(matrix.a * matrix.a + matrix.b * matrix.b);\r\n                    var sy = sqrt(matrix.c * matrix.c + matrix.d * matrix.d);\r\n                    width *= sx;\r\n                    height *= sy;\r\n                    var ax = deg(atan2(matrix.b, matrix.d));\r\n                    var ay = deg(atan2(-matrix.c, matrix.a));\r\n                    angle = (ax + ay) / 2;\r\n                    if (angle !== 0) {\r\n                        var center = img.bbox().center();\r\n                        x = (center.x - fillOrigin) / fillSize;\r\n                        y = (center.y - fillOrigin) / fillSize;\r\n                    } else {\r\n                        x = (rawcenter.x * sx + matrix.e - fillOrigin) / fillSize;\r\n                        y = (rawcenter.y * sy + matrix.f - fillOrigin) / fillSize;\r\n                    }\r\n                } else {\r\n                    x = (rawcenter.x - fillOrigin) / fillSize;\r\n                    y = (rawcenter.y - fillOrigin) / fillSize;\r\n                }\r\n                width = round(width, TRANSFORM_PRECISION);\r\n                height = round(height, TRANSFORM_PRECISION);\r\n                x = round(x, TRANSFORM_PRECISION);\r\n                y = round(y, TRANSFORM_PRECISION);\r\n                angle = round(angle, TRANSFORM_PRECISION);\r\n                return [\r\n                    [\r\n                        'size',\r\n                        width + ',' + height\r\n                    ],\r\n                    [\r\n                        'position',\r\n                        x + ',' + y\r\n                    ],\r\n                    [\r\n                        'angle',\r\n                        angle\r\n                    ]\r\n                ];\r\n            }\r\n        });\r\n        var ImageNode = PathNode.extend({\r\n            createFillNode: function (srcElement, transform, opacity) {\r\n                return new ImageFillNode(srcElement, transform, opacity);\r\n            },\r\n            createDataNode: function (srcElement) {\r\n                return new ImagePathDataNode(srcElement);\r\n            },\r\n            optionsChange: function (e) {\r\n                if (e.field === 'src' || e.field === 'transform') {\r\n                    this.fill.optionsChange(e);\r\n                }\r\n                PathNode.fn.optionsChange.call(this, e);\r\n            },\r\n            geometryChange: function () {\r\n                this.fill.geometryChange();\r\n                PathNode.fn.geometryChange.call(this);\r\n            },\r\n            refreshTransform: function (transform) {\r\n                PathNode.fn.refreshTransform.call(this, transform);\r\n                this.fill.refresh(this.srcElement.currentTransform(transform));\r\n            }\r\n        });\r\n        var RectDataNode = PathDataNode.extend({\r\n            renderData: function () {\r\n                var rect = this.srcElement.geometry();\r\n                var parts = [\r\n                    'm',\r\n                    printPoints([rect.topLeft()]),\r\n                    'l',\r\n                    printPoints([\r\n                        rect.topRight(),\r\n                        rect.bottomRight(),\r\n                        rect.bottomLeft()\r\n                    ]),\r\n                    'x e'\r\n                ];\r\n                return parts.join(' ');\r\n            }\r\n        });\r\n        var RectNode = PathNode.extend({\r\n            createDataNode: function (srcElement) {\r\n                return new RectDataNode(srcElement);\r\n            }\r\n        });\r\n        var nodeMap = {\r\n            Group: GroupNode,\r\n            Text: TextNode,\r\n            Path: PathNode,\r\n            MultiPath: MultiPathNode,\r\n            Circle: CircleNode,\r\n            Arc: ArcNode,\r\n            Image: ImageNode,\r\n            Rect: RectNode\r\n        };\r\n        function enableVML() {\r\n            if (doc.namespaces && !doc.namespaces.kvml) {\r\n                doc.namespaces.add('kvml', 'urn:schemas-microsoft-com:vml');\r\n                var stylesheet = doc.styleSheets.length > 30 ? doc.styleSheets[0] : doc.createStyleSheet();\r\n                stylesheet.addRule('.kvml', 'behavior:url(#default#VML)');\r\n            }\r\n        }\r\n        function createElementVML(type) {\r\n            var element = doc.createElement('kvml:' + type);\r\n            element.className = 'kvml';\r\n            return element;\r\n        }\r\n        function printPoints(points) {\r\n            var length = points.length;\r\n            var result = [];\r\n            for (var i = 0; i < length; i++) {\r\n                result.push(points[i].scaleCopy(COORDINATE_MULTIPLE).toString(0, ','));\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function printPath(path, open) {\r\n            var segments = path.segments, length = segments.length;\r\n            if (length > 0) {\r\n                var parts = [], output, type, currentType, i;\r\n                for (i = 1; i < length; i++) {\r\n                    type = segmentType(segments[i - 1], segments[i]);\r\n                    if (type !== currentType) {\r\n                        currentType = type;\r\n                        parts.push(type);\r\n                    }\r\n                    if (type === 'l') {\r\n                        parts.push(printPoints([segments[i].anchor()]));\r\n                    } else {\r\n                        parts.push(printPoints([\r\n                            segments[i - 1].controlOut(),\r\n                            segments[i].controlIn(),\r\n                            segments[i].anchor()\r\n                        ]));\r\n                    }\r\n                }\r\n                output = 'm ' + printPoints([segments[0].anchor()]) + ' ' + parts.join(' ');\r\n                if (path.options.closed) {\r\n                    output += ' x';\r\n                }\r\n                if (open !== true) {\r\n                    output += ' e';\r\n                }\r\n                return output;\r\n            }\r\n        }\r\n        function segmentType(segmentStart, segmentEnd) {\r\n            return segmentStart.controlOut() && segmentEnd.controlIn() ? 'c' : 'l';\r\n        }\r\n        function fillField(field) {\r\n            return field.indexOf('fill') === 0 || field.indexOf(GRADIENT) === 0;\r\n        }\r\n        function stopColor(baseColor, stop, baseOpacity) {\r\n            var opacity = baseOpacity * valueOrDefault(stop.opacity(), 1);\r\n            var color;\r\n            if (baseColor) {\r\n                color = blendColors(baseColor, stop.color(), opacity);\r\n            } else {\r\n                color = blendColors(stop.color(), '#fff', 1 - opacity);\r\n            }\r\n            return color;\r\n        }\r\n        function blendColors(base, overlay, alpha) {\r\n            var baseColor = new Color(base), overlayColor = new Color(overlay), r = blendChannel(baseColor.r, overlayColor.r, alpha), g = blendChannel(baseColor.g, overlayColor.g, alpha), b = blendChannel(baseColor.b, overlayColor.b, alpha);\r\n            return new Color(r, g, b).toHex();\r\n        }\r\n        function blendChannel(a, b, alpha) {\r\n            return math.round(alpha * b + (1 - alpha) * a);\r\n        }\r\n        kendo.support.vml = function () {\r\n            var browser = kendo.support.browser;\r\n            return browser.msie && browser.version < 9;\r\n        }();\r\n        var EMPTY_CLIP = 'inherit';\r\n        if (kendo.support.browser.msie && kendo.support.browser.version < 8) {\r\n            EMPTY_CLIP = 'rect(auto auto auto auto)';\r\n        }\r\n        if (kendo.support.vml) {\r\n            d.SurfaceFactory.current.register('vml', Surface, 30);\r\n        }\r\n        deepExtend(d, {\r\n            vml: {\r\n                ArcDataNode: ArcDataNode,\r\n                ArcNode: ArcNode,\r\n                CircleTransformNode: CircleTransformNode,\r\n                CircleNode: CircleNode,\r\n                FillNode: FillNode,\r\n                GroupNode: GroupNode,\r\n                ImageNode: ImageNode,\r\n                ImageFillNode: ImageFillNode,\r\n                ImagePathDataNode: ImagePathDataNode,\r\n                MultiPathDataNode: MultiPathDataNode,\r\n                MultiPathNode: MultiPathNode,\r\n                Node: Node,\r\n                PathDataNode: PathDataNode,\r\n                PathNode: PathNode,\r\n                RectDataNode: RectDataNode,\r\n                RectNode: RectNode,\r\n                RootNode: RootNode,\r\n                StrokeNode: StrokeNode,\r\n                Surface: Surface,\r\n                TextNode: TextNode,\r\n                TextPathNode: TextPathNode,\r\n                TextPathDataNode: TextPathDataNode,\r\n                TransformNode: TransformNode\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/html', [\r\n        'kendo.color',\r\n        'drawing/shapes',\r\n        'util/main',\r\n        'util/text-metrics'\r\n    ], f);\r\n}(function () {\r\n    (function ($, parseFloat, Math) {\r\n        'use strict';\r\n        var drawing = kendo.drawing;\r\n        var geo = kendo.geometry;\r\n        var slice = Array.prototype.slice;\r\n        var browser = kendo.support.browser;\r\n        var romanNumeral = kendo.util.arabicToRoman;\r\n        var KENDO_PSEUDO_ELEMENT = 'KENDO-PSEUDO-ELEMENT';\r\n        var IMAGE_CACHE = {};\r\n        var nodeInfo = {};\r\n        nodeInfo._root = nodeInfo;\r\n        var TextRect = drawing.Text.extend({\r\n            nodeType: 'Text',\r\n            init: function (str, rect, options) {\r\n                drawing.Text.fn.init.call(this, str, rect.getOrigin(), options);\r\n                this._pdfRect = rect;\r\n            },\r\n            rect: function () {\r\n                return this._pdfRect;\r\n            },\r\n            rawBBox: function () {\r\n                return this._pdfRect;\r\n            }\r\n        });\r\n        function getXY(thing) {\r\n            if (typeof thing == 'number') {\r\n                return {\r\n                    x: thing,\r\n                    y: thing\r\n                };\r\n            }\r\n            if (Array.isArray(thing)) {\r\n                return {\r\n                    x: thing[0],\r\n                    y: thing[1]\r\n                };\r\n            }\r\n            return {\r\n                x: thing.x,\r\n                y: thing.y\r\n            };\r\n        }\r\n        function drawDOM(element, options) {\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n            var defer = $.Deferred();\r\n            element = $(element)[0];\r\n            if (!element) {\r\n                return defer.reject('No element to export');\r\n            }\r\n            if (typeof window.getComputedStyle != 'function') {\r\n                throw new Error('window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.');\r\n            }\r\n            if (kendo.pdf) {\r\n                kendo.pdf.defineFont(getFontFaces(element.ownerDocument));\r\n            }\r\n            var scale = getXY(options.scale || 1);\r\n            function doOne(element) {\r\n                var group = new drawing.Group();\r\n                var pos = element.getBoundingClientRect();\r\n                setTransform(group, [\r\n                    scale.x,\r\n                    0,\r\n                    0,\r\n                    scale.y,\r\n                    -pos.left * scale.x,\r\n                    -pos.top * scale.y\r\n                ]);\r\n                nodeInfo._clipbox = false;\r\n                nodeInfo._matrix = geo.Matrix.unit();\r\n                nodeInfo._stackingContext = {\r\n                    element: element,\r\n                    group: group\r\n                };\r\n                if (options.avoidLinks === true) {\r\n                    nodeInfo._avoidLinks = 'a';\r\n                } else {\r\n                    nodeInfo._avoidLinks = options.avoidLinks;\r\n                }\r\n                $(element).addClass('k-pdf-export');\r\n                renderElement(element, group);\r\n                $(element).removeClass('k-pdf-export');\r\n                return group;\r\n            }\r\n            cacheImages(element, function () {\r\n                var forceBreak = options && options.forcePageBreak;\r\n                var hasPaperSize = options && options.paperSize && options.paperSize != 'auto';\r\n                var paperOptions = kendo.pdf.getPaperOptions(function (key, def) {\r\n                    if (key == 'paperSize') {\r\n                        return hasPaperSize ? options[key] : 'A4';\r\n                    }\r\n                    return key in options ? options[key] : def;\r\n                });\r\n                var pageWidth = hasPaperSize && paperOptions.paperSize[0];\r\n                var pageHeight = hasPaperSize && paperOptions.paperSize[1];\r\n                var margin = options.margin && paperOptions.margin;\r\n                var hasMargin = !!margin;\r\n                if (forceBreak || pageHeight) {\r\n                    if (!margin) {\r\n                        margin = {\r\n                            left: 0,\r\n                            top: 0,\r\n                            right: 0,\r\n                            bottom: 0\r\n                        };\r\n                    }\r\n                    if (pageWidth) {\r\n                        pageWidth /= scale.x;\r\n                    }\r\n                    if (pageHeight) {\r\n                        pageHeight /= scale.y;\r\n                    }\r\n                    margin.left /= scale.x;\r\n                    margin.right /= scale.x;\r\n                    margin.top /= scale.y;\r\n                    margin.bottom /= scale.y;\r\n                    var group = new drawing.Group({\r\n                        pdf: {\r\n                            multiPage: true,\r\n                            paperSize: hasPaperSize ? paperOptions.paperSize : 'auto',\r\n                            _ignoreMargin: hasMargin\r\n                        }\r\n                    });\r\n                    handlePageBreaks(function (x) {\r\n                        if (options.progress) {\r\n                            var canceled = false, pageNum = 0;\r\n                            (function next() {\r\n                                if (pageNum < x.pages.length) {\r\n                                    group.append(doOne(x.pages[pageNum]));\r\n                                    options.progress({\r\n                                        pageNum: ++pageNum,\r\n                                        totalPages: x.pages.length,\r\n                                        cancel: function () {\r\n                                            canceled = true;\r\n                                        }\r\n                                    });\r\n                                    if (!canceled) {\r\n                                        setTimeout(next);\r\n                                    } else {\r\n                                        x.container.parentNode.removeChild(x.container);\r\n                                    }\r\n                                } else {\r\n                                    x.container.parentNode.removeChild(x.container);\r\n                                    defer.resolve(group);\r\n                                }\r\n                            }());\r\n                        } else {\r\n                            x.pages.forEach(function (page) {\r\n                                group.append(doOne(page));\r\n                            });\r\n                            x.container.parentNode.removeChild(x.container);\r\n                            defer.resolve(group);\r\n                        }\r\n                    }, element, forceBreak, pageWidth ? pageWidth - margin.left - margin.right : null, pageHeight ? pageHeight - margin.top - margin.bottom : null, margin, options);\r\n                } else {\r\n                    defer.resolve(doOne(element));\r\n                }\r\n            });\r\n            function makeTemplate(template) {\r\n                if (template != null) {\r\n                    if (typeof template == 'string') {\r\n                        template = kendo.template(template.replace(/^\\s+|\\s+$/g, ''));\r\n                    }\r\n                    if (typeof template == 'function') {\r\n                        return function (data) {\r\n                            var el = template(data);\r\n                            if (el) {\r\n                                if (typeof el == 'string') {\r\n                                    el = el.replace(/^\\s+|\\s+$/g, '');\r\n                                }\r\n                                return $(el)[0];\r\n                            }\r\n                        };\r\n                    }\r\n                    return function () {\r\n                        return $(template).clone()[0];\r\n                    };\r\n                }\r\n            }\r\n            function cloneNodes(el) {\r\n                var clone = el.cloneNode(false);\r\n                if (el.nodeType == 1) {\r\n                    var $el = $(el), $clone = $(clone), i;\r\n                    var data = $el.data();\r\n                    for (i in data) {\r\n                        $clone.data(i, data[i]);\r\n                    }\r\n                    if (/^canvas$/i.test(el.tagName)) {\r\n                        clone.getContext('2d').drawImage(el, 0, 0);\r\n                    } else if (/^input$/i.test(el.tagName)) {\r\n                        el.removeAttribute('name');\r\n                    } else {\r\n                        for (i = el.firstChild; i; i = i.nextSibling) {\r\n                            clone.appendChild(cloneNodes(i));\r\n                        }\r\n                    }\r\n                }\r\n                return clone;\r\n            }\r\n            function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\r\n                var template = makeTemplate(options.template);\r\n                var doc = element.ownerDocument;\r\n                var pages = [];\r\n                var copy = options._destructive ? element : cloneNodes(element);\r\n                var container = doc.createElement('KENDO-PDF-DOCUMENT');\r\n                var adjust = 0;\r\n                $(copy).find('tfoot').each(function () {\r\n                    this.parentNode.appendChild(this);\r\n                });\r\n                $(copy).find('ol').each(function () {\r\n                    $(this).children().each(function (index) {\r\n                        this.setAttribute('kendo-split-index', index);\r\n                    });\r\n                });\r\n                $(container).css({\r\n                    display: 'block',\r\n                    position: 'absolute',\r\n                    boxSizing: 'content-box',\r\n                    left: '-10000px',\r\n                    top: '-10000px'\r\n                });\r\n                if (pageWidth) {\r\n                    $(container).css({\r\n                        width: pageWidth,\r\n                        paddingLeft: margin.left,\r\n                        paddingRight: margin.right\r\n                    });\r\n                    $(copy).css({ overflow: 'hidden' });\r\n                }\r\n                element.parentNode.insertBefore(container, element);\r\n                container.appendChild(copy);\r\n                if (options.beforePageBreak) {\r\n                    setTimeout(function () {\r\n                        options.beforePageBreak(container, doPageBreak);\r\n                    }, 15);\r\n                } else {\r\n                    setTimeout(doPageBreak, 15);\r\n                }\r\n                function doPageBreak() {\r\n                    if (forceBreak != '-' || pageHeight) {\r\n                        splitElement(copy);\r\n                    }\r\n                    var page = makePage();\r\n                    copy.parentNode.insertBefore(page, copy);\r\n                    page.appendChild(copy);\r\n                    if (template) {\r\n                        var count = pages.length;\r\n                        pages.forEach(function (page, i) {\r\n                            var el = template({\r\n                                element: page,\r\n                                pageNum: i + 1,\r\n                                totalPages: pages.length\r\n                            });\r\n                            if (el) {\r\n                                page.appendChild(el);\r\n                                cacheImages(el, function () {\r\n                                    if (--count === 0) {\r\n                                        next();\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    } else {\r\n                        next();\r\n                    }\r\n                    function next() {\r\n                        whenImagesAreActuallyLoaded(pages, function () {\r\n                            callback({\r\n                                pages: pages,\r\n                                container: container\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n                function keepTogether(jqel) {\r\n                    if (options.keepTogether && jqel.is(options.keepTogether) && jqel.height() <= pageHeight - adjust) {\r\n                        return true;\r\n                    }\r\n                    return jqel.data('kendoChart') || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(jqel[0].tagName);\r\n                }\r\n                function splitElement(element) {\r\n                    var style = getComputedStyle(element);\r\n                    var bottomPadding = parseFloat(getPropertyValue(style, 'padding-bottom'));\r\n                    var bottomBorder = parseFloat(getPropertyValue(style, 'border-bottom-width'));\r\n                    var saveAdjust = adjust;\r\n                    adjust += bottomPadding + bottomBorder;\r\n                    var isFirst = true;\r\n                    for (var el = element.firstChild; el; el = el.nextSibling) {\r\n                        if (el.nodeType == 1) {\r\n                            isFirst = false;\r\n                            var jqel = $(el);\r\n                            if (jqel.is(forceBreak)) {\r\n                                breakAtElement(el);\r\n                                continue;\r\n                            }\r\n                            if (!pageHeight) {\r\n                                splitElement(el);\r\n                                continue;\r\n                            }\r\n                            if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), 'position'))) {\r\n                                continue;\r\n                            }\r\n                            var fall = fallsOnMargin(el);\r\n                            if (fall == 1) {\r\n                                breakAtElement(el);\r\n                            } else if (fall) {\r\n                                if (keepTogether(jqel)) {\r\n                                    breakAtElement(el);\r\n                                } else {\r\n                                    splitElement(el);\r\n                                }\r\n                            } else {\r\n                                splitElement(el);\r\n                            }\r\n                        } else if (el.nodeType == 3 && pageHeight) {\r\n                            splitText(el, isFirst);\r\n                            isFirst = false;\r\n                        }\r\n                    }\r\n                    adjust = saveAdjust;\r\n                }\r\n                function firstInParent(el) {\r\n                    var p = el.parentNode, first = p.firstChild;\r\n                    if (el === first) {\r\n                        return true;\r\n                    }\r\n                    if (el === p.children[0]) {\r\n                        if (first.nodeType == 7 || first.nodeType == 8) {\r\n                            return true;\r\n                        }\r\n                        if (first.nodeType == 3) {\r\n                            return !/\\S/.test(first.data);\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n                function breakAtElement(el) {\r\n                    if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\r\n                        return breakAtElement(el.parentNode);\r\n                    }\r\n                    var table, colgroup, thead, grid, gridHead;\r\n                    table = $(el).closest('table');\r\n                    colgroup = table.find('colgroup:first');\r\n                    if (options.repeatHeaders) {\r\n                        thead = table.find('thead:first');\r\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\r\n                        if (grid[0] && grid[0].querySelector('.k-auto-scrollable')) {\r\n                            gridHead = grid.find('.k-grid-header:first');\r\n                        }\r\n                    }\r\n                    var page = makePage();\r\n                    var range = doc.createRange();\r\n                    range.setStartBefore(copy);\r\n                    range.setEndBefore(el);\r\n                    page.appendChild(range.extractContents());\r\n                    copy.parentNode.insertBefore(page, copy);\r\n                    if (table[0]) {\r\n                        table = $(el).closest('table');\r\n                        if (options.repeatHeaders && thead[0]) {\r\n                            thead.clone().prependTo(table);\r\n                        }\r\n                        if (colgroup[0]) {\r\n                            colgroup.clone().prependTo(table);\r\n                        }\r\n                    }\r\n                    if (options.repeatHeaders && gridHead && gridHead[0]) {\r\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\r\n                        if (gridHead[0]) {\r\n                            gridHead.clone().prependTo(grid);\r\n                        }\r\n                    }\r\n                }\r\n                function makePage() {\r\n                    var page = doc.createElement('KENDO-PDF-PAGE');\r\n                    $(page).css({\r\n                        display: 'block',\r\n                        boxSizing: 'content-box',\r\n                        width: pageWidth || 'auto',\r\n                        padding: margin.top + 'px ' + margin.right + 'px ' + margin.bottom + 'px ' + margin.left + 'px',\r\n                        position: 'relative',\r\n                        height: pageHeight || 'auto',\r\n                        overflow: pageHeight || pageWidth ? 'hidden' : 'visible',\r\n                        clear: 'both'\r\n                    });\r\n                    if (options && options.pageClassName) {\r\n                        page.className = options.pageClassName;\r\n                    }\r\n                    pages.push(page);\r\n                    return page;\r\n                }\r\n                function fallsOnMargin(thing) {\r\n                    var box = thing.getBoundingClientRect();\r\n                    if (box.width === 0 || box.height === 0) {\r\n                        return 0;\r\n                    }\r\n                    var top = copy.getBoundingClientRect().top;\r\n                    var available = pageHeight - adjust;\r\n                    return box.height > available ? 3 : box.top - top > available ? 1 : box.bottom - top > available ? 2 : 0;\r\n                }\r\n                function splitText(node, isFirst) {\r\n                    if (!/\\S/.test(node.data)) {\r\n                        return;\r\n                    }\r\n                    var len = node.data.length;\r\n                    var range = doc.createRange();\r\n                    range.selectNodeContents(node);\r\n                    var fall = fallsOnMargin(range);\r\n                    if (!fall) {\r\n                        return;\r\n                    }\r\n                    var nextnode = node;\r\n                    if (fall == 1) {\r\n                        if (isFirst) {\r\n                            breakAtElement(node.parentNode);\r\n                        } else {\r\n                            breakAtElement(node);\r\n                        }\r\n                    } else {\r\n                        (function findEOP(min, pos, max) {\r\n                            range.setEnd(node, pos);\r\n                            if (min == pos || pos == max) {\r\n                                return pos;\r\n                            }\r\n                            if (fallsOnMargin(range)) {\r\n                                return findEOP(min, min + pos >> 1, pos);\r\n                            } else {\r\n                                return findEOP(pos, pos + max >> 1, max);\r\n                            }\r\n                        }(0, len >> 1, len));\r\n                        if (!/\\S/.test(range.toString()) && isFirst) {\r\n                            breakAtElement(node.parentNode);\r\n                        } else {\r\n                            nextnode = node.splitText(range.endOffset);\r\n                            var page = makePage();\r\n                            range.setStartBefore(copy);\r\n                            page.appendChild(range.extractContents());\r\n                            copy.parentNode.insertBefore(page, copy);\r\n                        }\r\n                    }\r\n                    splitText(nextnode);\r\n                }\r\n            }\r\n            return defer.promise();\r\n        }\r\n        drawing.drawDOM = drawDOM;\r\n        drawDOM.getFontFaces = getFontFaces;\r\n        var parseBackgroundImage = function () {\r\n            var tok_linear_gradient = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\r\n            var tok_percent = /^([-0-9.]+%)/;\r\n            var tok_length = /^([-0-9.]+px)/;\r\n            var tok_keyword = /^(left|right|top|bottom|to|center)\\W/;\r\n            var tok_angle = /^([-0-9.]+(deg|grad|rad|turn))/;\r\n            var tok_whitespace = /^(\\s+)/;\r\n            var tok_popen = /^(\\()/;\r\n            var tok_pclose = /^(\\))/;\r\n            var tok_comma = /^(,)/;\r\n            var tok_url = /^(url)\\(/;\r\n            var tok_content = /^(.*?)\\)/;\r\n            var cache1 = {}, cache2 = {};\r\n            function parse(input) {\r\n                var orig = input;\r\n                if (hasOwnProperty(cache1, orig)) {\r\n                    return cache1[orig];\r\n                }\r\n                function skip_ws() {\r\n                    var m = tok_whitespace.exec(input);\r\n                    if (m) {\r\n                        input = input.substr(m[1].length);\r\n                    }\r\n                }\r\n                function read(token) {\r\n                    skip_ws();\r\n                    var m = token.exec(input);\r\n                    if (m) {\r\n                        input = input.substr(m[1].length);\r\n                        return m[1];\r\n                    }\r\n                }\r\n                function read_stop() {\r\n                    var color = kendo.parseColor(input, true);\r\n                    var length, percent;\r\n                    if (color) {\r\n                        input = input.substr(color.match[0].length);\r\n                        color = color.toRGB();\r\n                        if (!(length = read(tok_length))) {\r\n                            percent = read(tok_percent);\r\n                        }\r\n                        return {\r\n                            color: color,\r\n                            length: length,\r\n                            percent: percent\r\n                        };\r\n                    }\r\n                }\r\n                function read_linear_gradient(propName) {\r\n                    var angle;\r\n                    var to1, to2;\r\n                    var stops = [];\r\n                    var reverse = false;\r\n                    if (read(tok_popen)) {\r\n                        angle = read(tok_angle);\r\n                        if (angle) {\r\n                            angle = parseAngle(angle);\r\n                            read(tok_comma);\r\n                        } else {\r\n                            to1 = read(tok_keyword);\r\n                            if (to1 == 'to') {\r\n                                to1 = read(tok_keyword);\r\n                            } else if (to1 && /^-/.test(propName)) {\r\n                                reverse = true;\r\n                            }\r\n                            to2 = read(tok_keyword);\r\n                            read(tok_comma);\r\n                        }\r\n                        if (/-moz-/.test(propName) && angle == null && to1 == null) {\r\n                            var x = read(tok_percent), y = read(tok_percent);\r\n                            reverse = true;\r\n                            if (x == '0%') {\r\n                                to1 = 'left';\r\n                            } else if (x == '100%') {\r\n                                to1 = 'right';\r\n                            }\r\n                            if (y == '0%') {\r\n                                to2 = 'top';\r\n                            } else if (y == '100%') {\r\n                                to2 = 'bottom';\r\n                            }\r\n                            read(tok_comma);\r\n                        }\r\n                        while (input && !read(tok_pclose)) {\r\n                            var stop = read_stop();\r\n                            if (!stop) {\r\n                                break;\r\n                            }\r\n                            stops.push(stop);\r\n                            read(tok_comma);\r\n                        }\r\n                        return {\r\n                            type: 'linear',\r\n                            angle: angle,\r\n                            to: to1 && to2 ? to1 + ' ' + to2 : to1 ? to1 : to2 ? to2 : null,\r\n                            stops: stops,\r\n                            reverse: reverse\r\n                        };\r\n                    }\r\n                }\r\n                function read_url() {\r\n                    if (read(tok_popen)) {\r\n                        var url = read(tok_content);\r\n                        url = url.replace(/^['\"]+|[\"']+$/g, '');\r\n                        read(tok_pclose);\r\n                        return {\r\n                            type: 'url',\r\n                            url: url\r\n                        };\r\n                    }\r\n                }\r\n                var tok;\r\n                if (tok = read(tok_linear_gradient)) {\r\n                    tok = read_linear_gradient(tok);\r\n                } else if (tok = read(tok_url)) {\r\n                    tok = read_url();\r\n                }\r\n                return cache1[orig] = tok || { type: 'none' };\r\n            }\r\n            return function (input) {\r\n                if (hasOwnProperty(cache2, input)) {\r\n                    return cache2[input];\r\n                }\r\n                return cache2[input] = splitProperty(input).map(parse);\r\n            };\r\n        }();\r\n        var splitProperty = function () {\r\n            var cache = {};\r\n            return function (input, separator) {\r\n                if (!separator) {\r\n                    separator = /^\\s*,\\s*/;\r\n                }\r\n                var cacheKey = input + separator;\r\n                if (hasOwnProperty(cache, cacheKey)) {\r\n                    return cache[cacheKey];\r\n                }\r\n                var ret = [];\r\n                var last = 0, pos = 0;\r\n                var in_paren = 0;\r\n                var in_string = false;\r\n                var m;\r\n                function looking_at(rx) {\r\n                    return m = rx.exec(input.substr(pos));\r\n                }\r\n                function trim(str) {\r\n                    return str.replace(/^\\s+|\\s+$/g, '');\r\n                }\r\n                while (pos < input.length) {\r\n                    if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\r\n                        in_paren++;\r\n                        pos++;\r\n                    } else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\r\n                        in_paren--;\r\n                        pos++;\r\n                    } else if (!in_string && looking_at(/^[\\\"\\']/)) {\r\n                        in_string = m[0];\r\n                        pos++;\r\n                    } else if (in_string == '\\'' && looking_at(/^\\\\\\'/)) {\r\n                        pos += 2;\r\n                    } else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\r\n                        pos += 2;\r\n                    } else if (in_string == '\\'' && looking_at(/^\\'/)) {\r\n                        in_string = false;\r\n                        pos++;\r\n                    } else if (in_string == '\"' && looking_at(/^\\\"/)) {\r\n                        in_string = false;\r\n                        pos++;\r\n                    } else if (looking_at(separator)) {\r\n                        if (!in_string && !in_paren && pos > last) {\r\n                            ret.push(trim(input.substring(last, pos)));\r\n                            last = pos + m[0].length;\r\n                        }\r\n                        pos += m[0].length;\r\n                    } else {\r\n                        pos++;\r\n                    }\r\n                }\r\n                if (last < pos) {\r\n                    ret.push(trim(input.substring(last, pos)));\r\n                }\r\n                return cache[cacheKey] = ret;\r\n            };\r\n        }();\r\n        var getFontURL = function () {\r\n            var cache = {};\r\n            return function (el) {\r\n                var url = cache[el];\r\n                if (!url) {\r\n                    var m;\r\n                    if (m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el)) {\r\n                        url = cache[el] = m[2];\r\n                    } else if (m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el)) {\r\n                        url = cache[el] = m[2];\r\n                    }\r\n                }\r\n                return url;\r\n            };\r\n        }();\r\n        function getFontFaces(doc) {\r\n            if (doc == null) {\r\n                doc = document;\r\n            }\r\n            var result = {};\r\n            for (var i = 0; i < doc.styleSheets.length; ++i) {\r\n                doStylesheet(doc.styleSheets[i]);\r\n            }\r\n            return result;\r\n            function doStylesheet(ss) {\r\n                if (ss) {\r\n                    var rules = null;\r\n                    try {\r\n                        rules = ss.cssRules;\r\n                    } catch (ex) {\r\n                    }\r\n                    if (rules) {\r\n                        addRules(ss, rules);\r\n                    }\r\n                }\r\n            }\r\n            function findFonts(rule) {\r\n                var src = getPropertyValue(rule.style, 'src');\r\n                if (src) {\r\n                    return splitProperty(src).reduce(function (a, el) {\r\n                        var font = getFontURL(el);\r\n                        if (font) {\r\n                            a.push(font);\r\n                        }\r\n                        return a;\r\n                    }, []);\r\n                } else {\r\n                    var font = getFontURL(rule.cssText);\r\n                    return font ? [font] : [];\r\n                }\r\n            }\r\n            function addRules(styleSheet, rules) {\r\n                for (var i = 0; i < rules.length; ++i) {\r\n                    var r = rules[i];\r\n                    switch (r.type) {\r\n                    case 3:\r\n                        doStylesheet(r.styleSheet);\r\n                        break;\r\n                    case 5:\r\n                        var style = r.style;\r\n                        var family = splitProperty(getPropertyValue(style, 'font-family'));\r\n                        var bold = /^([56789]00|bold)$/i.test(getPropertyValue(style, 'font-weight'));\r\n                        var italic = 'italic' == getPropertyValue(style, 'font-style');\r\n                        var src = findFonts(r);\r\n                        if (src.length > 0) {\r\n                            addRule(styleSheet, family, bold, italic, src[0]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function addRule(styleSheet, names, bold, italic, url) {\r\n                if (!/^data:/i.test(url)) {\r\n                    if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\r\n                        url = String(styleSheet.href).replace(/[^\\/]*$/, '') + url;\r\n                    }\r\n                }\r\n                names.forEach(function (name) {\r\n                    name = name.replace(/^(['\"]?)(.*?)\\1$/, '$2');\r\n                    if (bold) {\r\n                        name += '|bold';\r\n                    }\r\n                    if (italic) {\r\n                        name += '|italic';\r\n                    }\r\n                    result[name] = url;\r\n                });\r\n            }\r\n        }\r\n        function hasOwnProperty(obj, key) {\r\n            return Object.prototype.hasOwnProperty.call(obj, key);\r\n        }\r\n        function getCounter(name) {\r\n            name = '_counter_' + name;\r\n            return nodeInfo[name];\r\n        }\r\n        function getAllCounters(name) {\r\n            var values = [], p = nodeInfo;\r\n            name = '_counter_' + name;\r\n            while (p) {\r\n                if (hasOwnProperty(p, name)) {\r\n                    values.push(p[name]);\r\n                }\r\n                p = Object.getPrototypeOf(p);\r\n            }\r\n            return values.reverse();\r\n        }\r\n        function incCounter(name, inc) {\r\n            var p = nodeInfo;\r\n            name = '_counter_' + name;\r\n            while (p && !hasOwnProperty(p, name)) {\r\n                p = Object.getPrototypeOf(p);\r\n            }\r\n            if (!p) {\r\n                p = nodeInfo._root;\r\n            }\r\n            p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\r\n        }\r\n        function resetCounter(name, val) {\r\n            name = '_counter_' + name;\r\n            nodeInfo[name] = val == null ? 0 : val;\r\n        }\r\n        function doCounters(a, f, def) {\r\n            for (var i = 0; i < a.length;) {\r\n                var name = a[i++];\r\n                var val = parseFloat(a[i]);\r\n                if (isNaN(val)) {\r\n                    f(name, def);\r\n                } else {\r\n                    f(name, val);\r\n                    ++i;\r\n                }\r\n            }\r\n        }\r\n        function parseColor(str, css) {\r\n            var color = kendo.parseColor(str);\r\n            if (color) {\r\n                color = color.toRGB();\r\n                if (css) {\r\n                    color = color.toCssRgba();\r\n                } else if (color.a === 0) {\r\n                    color = null;\r\n                }\r\n            }\r\n            return color;\r\n        }\r\n        function whenImagesAreActuallyLoaded(elements, callback) {\r\n            var pending = 0;\r\n            elements.forEach(function (el) {\r\n                var images = el.querySelectorAll('img');\r\n                for (var i = 0; i < images.length; ++i) {\r\n                    var img = images[i];\r\n                    if (!img.complete) {\r\n                        pending++;\r\n                        img.onload = img.onerror = next;\r\n                    }\r\n                }\r\n            });\r\n            if (!pending) {\r\n                next();\r\n            }\r\n            function next() {\r\n                if (--pending <= 0) {\r\n                    callback();\r\n                }\r\n            }\r\n        }\r\n        function cacheImages(element, callback) {\r\n            var urls = [];\r\n            function add(url) {\r\n                if (!IMAGE_CACHE[url]) {\r\n                    IMAGE_CACHE[url] = true;\r\n                    urls.push(url);\r\n                }\r\n            }\r\n            (function dive(element) {\r\n                if (/^img$/i.test(element.tagName)) {\r\n                    add(element.src);\r\n                }\r\n                parseBackgroundImage(getPropertyValue(getComputedStyle(element), 'background-image')).forEach(function (bg) {\r\n                    if (bg.type == 'url') {\r\n                        add(bg.url);\r\n                    }\r\n                });\r\n                if (element.children) {\r\n                    slice.call(element.children).forEach(dive);\r\n                }\r\n            }(element));\r\n            var count = urls.length;\r\n            function next() {\r\n                if (--count <= 0) {\r\n                    callback();\r\n                }\r\n            }\r\n            if (count === 0) {\r\n                next();\r\n            }\r\n            urls.forEach(function (url) {\r\n                var img = IMAGE_CACHE[url] = new Image();\r\n                if (!/^data:/i.test(url)) {\r\n                    img.crossOrigin = 'Anonymous';\r\n                }\r\n                img.src = url;\r\n                if (img.complete) {\r\n                    next();\r\n                } else {\r\n                    img.onload = next;\r\n                    img.onerror = function () {\r\n                        IMAGE_CACHE[url] = null;\r\n                        next();\r\n                    };\r\n                }\r\n            });\r\n        }\r\n        function alphaNumeral(n) {\r\n            var result = '';\r\n            do {\r\n                var r = n % 26;\r\n                result = String.fromCharCode(97 + r) + result;\r\n                n = Math.floor(n / 26);\r\n            } while (n > 0);\r\n            return result;\r\n        }\r\n        function pushNodeInfo(element, style, group) {\r\n            nodeInfo = Object.create(nodeInfo);\r\n            nodeInfo[element.tagName.toLowerCase()] = {\r\n                element: element,\r\n                style: style\r\n            };\r\n            var decoration = getPropertyValue(style, 'text-decoration');\r\n            if (decoration && decoration != 'none') {\r\n                var color = getPropertyValue(style, 'color');\r\n                decoration.split(/\\s+/g).forEach(function (name) {\r\n                    if (!nodeInfo[name]) {\r\n                        nodeInfo[name] = color;\r\n                    }\r\n                });\r\n            }\r\n            if (createsStackingContext(style)) {\r\n                nodeInfo._stackingContext = {\r\n                    element: element,\r\n                    group: group\r\n                };\r\n            }\r\n        }\r\n        function popNodeInfo() {\r\n            nodeInfo = Object.getPrototypeOf(nodeInfo);\r\n        }\r\n        function updateClipbox(path) {\r\n            if (nodeInfo._clipbox != null) {\r\n                var box = path.bbox(nodeInfo._matrix);\r\n                if (nodeInfo._clipbox) {\r\n                    nodeInfo._clipbox = geo.Rect.intersect(nodeInfo._clipbox, box);\r\n                } else {\r\n                    nodeInfo._clipbox = box;\r\n                }\r\n            }\r\n        }\r\n        function emptyClipbox() {\r\n            var cb = nodeInfo._clipbox;\r\n            if (cb == null) {\r\n                return true;\r\n            }\r\n            if (cb) {\r\n                return cb.width() === 0 || cb.height() === 0;\r\n            }\r\n        }\r\n        function createsStackingContext(style) {\r\n            function prop(name) {\r\n                return getPropertyValue(style, name);\r\n            }\r\n            if (prop('transform') != 'none' || prop('position') != 'static' && prop('z-index') != 'auto' || prop('opacity') < 1) {\r\n                return true;\r\n            }\r\n        }\r\n        function getComputedStyle(element, pseudoElt) {\r\n            return window.getComputedStyle(element, pseudoElt || null);\r\n        }\r\n        function getPropertyValue(style, prop) {\r\n            return style.getPropertyValue(prop) || browser.webkit && style.getPropertyValue('-webkit-' + prop) || browser.mozilla && style.getPropertyValue('-moz-' + prop) || browser.opera && style.getPropertyValue('-o-' + prop) || browser.msie && style.getPropertyValue('-ms-' + prop);\r\n        }\r\n        function pleaseSetPropertyValue(style, prop, value, important) {\r\n            style.setProperty(prop, value, important);\r\n            if (browser.webkit) {\r\n                style.setProperty('-webkit-' + prop, value, important);\r\n            } else if (browser.mozilla) {\r\n                style.setProperty('-moz-' + prop, value, important);\r\n            } else if (browser.opera) {\r\n                style.setProperty('-o-' + prop, value, important);\r\n            } else if (browser.msie) {\r\n                style.setProperty('-ms-' + prop, value, important);\r\n                prop = 'ms' + prop.replace(/(^|-)([a-z])/g, function (s, p1, p2) {\r\n                    return p1 + p2.toUpperCase();\r\n                });\r\n                style[prop] = value;\r\n            }\r\n        }\r\n        function getBorder(style, side) {\r\n            side = 'border-' + side;\r\n            return {\r\n                width: parseFloat(getPropertyValue(style, side + '-width')),\r\n                style: getPropertyValue(style, side + '-style'),\r\n                color: parseColor(getPropertyValue(style, side + '-color'), true)\r\n            };\r\n        }\r\n        function saveStyle(element, func) {\r\n            var prev = element.style.cssText;\r\n            var result = func();\r\n            element.style.cssText = prev;\r\n            return result;\r\n        }\r\n        function getBorderRadius(style, side) {\r\n            var r = getPropertyValue(style, 'border-' + side + '-radius').split(/\\s+/g).map(parseFloat);\r\n            if (r.length == 1) {\r\n                r.push(r[0]);\r\n            }\r\n            return sanitizeRadius({\r\n                x: r[0],\r\n                y: r[1]\r\n            });\r\n        }\r\n        function getContentBox(element) {\r\n            var box = element.getBoundingClientRect();\r\n            box = innerBox(box, 'border-*-width', element);\r\n            box = innerBox(box, 'padding-*', element);\r\n            return box;\r\n        }\r\n        function innerBox(box, prop, element) {\r\n            var style, wt, wr, wb, wl;\r\n            if (typeof prop == 'string') {\r\n                style = getComputedStyle(element);\r\n                wt = parseFloat(getPropertyValue(style, prop.replace('*', 'top')));\r\n                wr = parseFloat(getPropertyValue(style, prop.replace('*', 'right')));\r\n                wb = parseFloat(getPropertyValue(style, prop.replace('*', 'bottom')));\r\n                wl = parseFloat(getPropertyValue(style, prop.replace('*', 'left')));\r\n            } else if (typeof prop == 'number') {\r\n                wt = wr = wb = wl = prop;\r\n            }\r\n            return {\r\n                top: box.top + wt,\r\n                right: box.right - wr,\r\n                bottom: box.bottom - wb,\r\n                left: box.left + wl,\r\n                width: box.right - box.left - wr - wl,\r\n                height: box.bottom - box.top - wb - wt\r\n            };\r\n        }\r\n        function getTransform(style) {\r\n            var transform = getPropertyValue(style, 'transform');\r\n            if (transform == 'none') {\r\n                return null;\r\n            }\r\n            var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform);\r\n            if (matrix) {\r\n                var origin = getPropertyValue(style, 'transform-origin');\r\n                matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\r\n                origin = origin.split(/\\s+/g).map(parseFloat);\r\n                return {\r\n                    matrix: matrix,\r\n                    origin: origin\r\n                };\r\n            }\r\n        }\r\n        function radiansToDegrees(radians) {\r\n            return 180 * radians / Math.PI % 360;\r\n        }\r\n        function parseAngle(angle) {\r\n            var num = parseFloat(angle);\r\n            if (/grad$/.test(angle)) {\r\n                return Math.PI * num / 200;\r\n            } else if (/rad$/.test(angle)) {\r\n                return num;\r\n            } else if (/turn$/.test(angle)) {\r\n                return Math.PI * num * 2;\r\n            } else if (/deg$/.test(angle)) {\r\n                return Math.PI * num / 180;\r\n            }\r\n        }\r\n        function setTransform(shape, m) {\r\n            m = new geo.Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\r\n            shape.transform(m);\r\n            return m;\r\n        }\r\n        function setClipping(shape, clipPath) {\r\n            shape.clip(clipPath);\r\n        }\r\n        function addArcToPath(path, x, y, options) {\r\n            var points = new geo.Arc([\r\n                    x,\r\n                    y\r\n                ], options).curvePoints(), i = 1;\r\n            while (i < points.length) {\r\n                path.curveTo(points[i++], points[i++], points[i++]);\r\n            }\r\n        }\r\n        function sanitizeRadius(r) {\r\n            if (r.x <= 0 || r.y <= 0) {\r\n                r.x = r.y = 0;\r\n            }\r\n            return r;\r\n        }\r\n        function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\r\n            var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\r\n            var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\r\n            var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\r\n            var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\r\n            var f = Math.min(box.width / (tl_x + tr_x), box.height / (tr_y + br_y), box.width / (br_x + bl_x), box.height / (bl_y + tl_y));\r\n            if (f < 1) {\r\n                tl_x *= f;\r\n                tl_y *= f;\r\n                tr_x *= f;\r\n                tr_y *= f;\r\n                br_x *= f;\r\n                br_y *= f;\r\n                bl_x *= f;\r\n                bl_y *= f;\r\n            }\r\n            return {\r\n                tl: {\r\n                    x: tl_x,\r\n                    y: tl_y\r\n                },\r\n                tr: {\r\n                    x: tr_x,\r\n                    y: tr_y\r\n                },\r\n                br: {\r\n                    x: br_x,\r\n                    y: br_y\r\n                },\r\n                bl: {\r\n                    x: bl_x,\r\n                    y: bl_y\r\n                }\r\n            };\r\n        }\r\n        function elementRoundBox(element, box, type) {\r\n            var style = getComputedStyle(element);\r\n            var rTL = getBorderRadius(style, 'top-left');\r\n            var rTR = getBorderRadius(style, 'top-right');\r\n            var rBL = getBorderRadius(style, 'bottom-left');\r\n            var rBR = getBorderRadius(style, 'bottom-right');\r\n            if (type == 'padding' || type == 'content') {\r\n                var bt = getBorder(style, 'top');\r\n                var br = getBorder(style, 'right');\r\n                var bb = getBorder(style, 'bottom');\r\n                var bl = getBorder(style, 'left');\r\n                rTL.x -= bl.width;\r\n                rTL.y -= bt.width;\r\n                rTR.x -= br.width;\r\n                rTR.y -= bt.width;\r\n                rBR.x -= br.width;\r\n                rBR.y -= bb.width;\r\n                rBL.x -= bl.width;\r\n                rBL.y -= bb.width;\r\n                if (type == 'content') {\r\n                    var pt = parseFloat(getPropertyValue(style, 'padding-top'));\r\n                    var pr = parseFloat(getPropertyValue(style, 'padding-right'));\r\n                    var pb = parseFloat(getPropertyValue(style, 'padding-bottom'));\r\n                    var pl = parseFloat(getPropertyValue(style, 'padding-left'));\r\n                    rTL.x -= pl;\r\n                    rTL.y -= pt;\r\n                    rTR.x -= pr;\r\n                    rTR.y -= pt;\r\n                    rBR.x -= pr;\r\n                    rBR.y -= pb;\r\n                    rBL.x -= pl;\r\n                    rBL.y -= pb;\r\n                }\r\n            }\r\n            if (typeof type == 'number') {\r\n                rTL.x -= type;\r\n                rTL.y -= type;\r\n                rTR.x -= type;\r\n                rTR.y -= type;\r\n                rBR.x -= type;\r\n                rBR.y -= type;\r\n                rBL.x -= type;\r\n                rBL.y -= type;\r\n            }\r\n            return roundBox(box, rTL, rTR, rBR, rBL);\r\n        }\r\n        function roundBox(box, rTL0, rTR0, rBR0, rBL0) {\r\n            var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\r\n            var rTL = tmp.tl;\r\n            var rTR = tmp.tr;\r\n            var rBR = tmp.br;\r\n            var rBL = tmp.bl;\r\n            var path = new drawing.Path({\r\n                fill: null,\r\n                stroke: null\r\n            });\r\n            path.moveTo(box.left, box.top + rTL.y);\r\n            if (rTL.x) {\r\n                addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\r\n                    startAngle: -180,\r\n                    endAngle: -90,\r\n                    radiusX: rTL.x,\r\n                    radiusY: rTL.y\r\n                });\r\n            }\r\n            path.lineTo(box.right - rTR.x, box.top);\r\n            if (rTR.x) {\r\n                addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\r\n                    startAngle: -90,\r\n                    endAngle: 0,\r\n                    radiusX: rTR.x,\r\n                    radiusY: rTR.y\r\n                });\r\n            }\r\n            path.lineTo(box.right, box.bottom - rBR.y);\r\n            if (rBR.x) {\r\n                addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\r\n                    startAngle: 0,\r\n                    endAngle: 90,\r\n                    radiusX: rBR.x,\r\n                    radiusY: rBR.y\r\n                });\r\n            }\r\n            path.lineTo(box.left + rBL.x, box.bottom);\r\n            if (rBL.x) {\r\n                addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\r\n                    startAngle: 90,\r\n                    endAngle: 180,\r\n                    radiusX: rBL.x,\r\n                    radiusY: rBL.y\r\n                });\r\n            }\r\n            return path.close();\r\n        }\r\n        function formatCounter(val, style) {\r\n            var str = parseFloat(val) + '';\r\n            switch (style) {\r\n            case 'decimal-leading-zero':\r\n                if (str.length < 2) {\r\n                    str = '0' + str;\r\n                }\r\n                return str;\r\n            case 'lower-roman':\r\n                return romanNumeral(val).toLowerCase();\r\n            case 'upper-roman':\r\n                return romanNumeral(val).toUpperCase();\r\n            case 'lower-latin':\r\n            case 'lower-alpha':\r\n                return alphaNumeral(val - 1);\r\n            case 'upper-latin':\r\n            case 'upper-alpha':\r\n                return alphaNumeral(val - 1).toUpperCase();\r\n            default:\r\n                return str;\r\n            }\r\n        }\r\n        function evalPseudoElementContent(element, content) {\r\n            function displayCounter(name, style, separator) {\r\n                if (!separator) {\r\n                    return formatCounter(getCounter(name) || 0, style);\r\n                }\r\n                separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, '$2');\r\n                return getAllCounters(name).map(function (val) {\r\n                    return formatCounter(val, style);\r\n                }).join(separator);\r\n            }\r\n            var a = splitProperty(content, /^\\s+/);\r\n            var result = [], m;\r\n            a.forEach(function (el) {\r\n                var tmp;\r\n                if (m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el)) {\r\n                    result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function (s, p) {\r\n                        return String.fromCharCode(parseInt(p, 16));\r\n                    }));\r\n                } else if (m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el)) {\r\n                    tmp = splitProperty(m[1]);\r\n                    result.push(displayCounter(tmp[0], tmp[1]));\r\n                } else if (m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el)) {\r\n                    tmp = splitProperty(m[1]);\r\n                    result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\r\n                } else if (m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el)) {\r\n                    result.push(element.getAttribute(m[1]) || '');\r\n                } else {\r\n                    result.push(el);\r\n                }\r\n            });\r\n            return result.join('');\r\n        }\r\n        function getCssText(style) {\r\n            if (style.cssText) {\r\n                return style.cssText;\r\n            }\r\n            var result = [];\r\n            for (var i = 0; i < style.length; ++i) {\r\n                result.push(style[i] + ': ' + getPropertyValue(style, style[i]));\r\n            }\r\n            return result.join(';\\n');\r\n        }\r\n        function _renderWithPseudoElements(element, group) {\r\n            if (element.tagName == KENDO_PSEUDO_ELEMENT) {\r\n                _renderElement(element, group);\r\n                return;\r\n            }\r\n            var fake = [];\r\n            function pseudo(kind, place) {\r\n                var style = getComputedStyle(element, kind);\r\n                if (style.content && style.content != 'normal' && style.content != 'none' && style.width != '0px') {\r\n                    var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\r\n                    psel.style.cssText = getCssText(style);\r\n                    psel.textContent = evalPseudoElementContent(element, style.content);\r\n                    element.insertBefore(psel, place);\r\n                    fake.push(psel);\r\n                }\r\n            }\r\n            pseudo(':before', element.firstChild);\r\n            pseudo(':after', null);\r\n            var saveClass = element.className;\r\n            element.className += ' kendo-pdf-hide-pseudo-elements';\r\n            _renderElement(element, group);\r\n            element.className = saveClass;\r\n            fake.forEach(function (el) {\r\n                element.removeChild(el);\r\n            });\r\n        }\r\n        function _renderElement(element, group) {\r\n            var style = getComputedStyle(element);\r\n            var top = getBorder(style, 'top');\r\n            var right = getBorder(style, 'right');\r\n            var bottom = getBorder(style, 'bottom');\r\n            var left = getBorder(style, 'left');\r\n            var rTL0 = getBorderRadius(style, 'top-left');\r\n            var rTR0 = getBorderRadius(style, 'top-right');\r\n            var rBL0 = getBorderRadius(style, 'bottom-left');\r\n            var rBR0 = getBorderRadius(style, 'bottom-right');\r\n            var dir = getPropertyValue(style, 'direction');\r\n            var backgroundColor = getPropertyValue(style, 'background-color');\r\n            backgroundColor = parseColor(backgroundColor);\r\n            var backgroundImage = parseBackgroundImage(getPropertyValue(style, 'background-image'));\r\n            var backgroundRepeat = splitProperty(getPropertyValue(style, 'background-repeat'));\r\n            var backgroundPosition = splitProperty(getPropertyValue(style, 'background-position'));\r\n            var backgroundOrigin = splitProperty(getPropertyValue(style, 'background-origin'));\r\n            var backgroundSize = splitProperty(getPropertyValue(style, 'background-size'));\r\n            if (browser.msie && browser.version < 10) {\r\n                backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\r\n            }\r\n            var innerbox = innerBox(element.getBoundingClientRect(), 'border-*-width', element);\r\n            (function () {\r\n                var clip = getPropertyValue(style, 'clip');\r\n                var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\r\n                if (m) {\r\n                    var a = m[1].split(/[ ,]+/g);\r\n                    var top = a[0] == 'auto' ? innerbox.top : parseFloat(a[0]) + innerbox.top;\r\n                    var right = a[1] == 'auto' ? innerbox.right : parseFloat(a[1]) + innerbox.left;\r\n                    var bottom = a[2] == 'auto' ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\r\n                    var left = a[3] == 'auto' ? innerbox.left : parseFloat(a[3]) + innerbox.left;\r\n                    var tmp = new drawing.Group();\r\n                    var clipPath = new drawing.Path().moveTo(left, top).lineTo(right, top).lineTo(right, bottom).lineTo(left, bottom).close();\r\n                    setClipping(tmp, clipPath);\r\n                    group.append(tmp);\r\n                    group = tmp;\r\n                    updateClipbox(clipPath);\r\n                }\r\n            }());\r\n            var boxes, i, cells;\r\n            var display = getPropertyValue(style, 'display');\r\n            if (display == 'table-row') {\r\n                boxes = [];\r\n                for (i = 0, cells = element.children; i < cells.length; ++i) {\r\n                    boxes.push(cells[i].getBoundingClientRect());\r\n                }\r\n            } else {\r\n                boxes = element.getClientRects();\r\n                if (boxes.length == 1) {\r\n                    boxes = [element.getBoundingClientRect()];\r\n                }\r\n            }\r\n            boxes = adjustBoxes(boxes);\r\n            for (i = 0; i < boxes.length; ++i) {\r\n                drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\r\n            }\r\n            if (boxes.length > 0 && display == 'list-item') {\r\n                drawBullet(boxes[0]);\r\n            }\r\n            (function () {\r\n                function clipit() {\r\n                    var clipPath = elementRoundBox(element, innerbox, 'padding');\r\n                    var tmp = new drawing.Group();\r\n                    setClipping(tmp, clipPath);\r\n                    group.append(tmp);\r\n                    group = tmp;\r\n                    updateClipbox(clipPath);\r\n                }\r\n                if (isFormField(element)) {\r\n                    clipit();\r\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow'))) {\r\n                    clipit();\r\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-x'))) {\r\n                    clipit();\r\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-y'))) {\r\n                    clipit();\r\n                }\r\n            }());\r\n            if (!maybeRenderWidget(element, group)) {\r\n                renderContents(element, group);\r\n            }\r\n            return group;\r\n            function adjustBoxes(boxes) {\r\n                if (/^td$/i.test(element.tagName)) {\r\n                    var table = nodeInfo.table;\r\n                    if (table && getPropertyValue(table.style, 'border-collapse') == 'collapse') {\r\n                        var tableBorderLeft = getBorder(table.style, 'left').width;\r\n                        var tableBorderTop = getBorder(table.style, 'top').width;\r\n                        if (tableBorderLeft === 0 && tableBorderTop === 0) {\r\n                            return boxes;\r\n                        }\r\n                        var tableBox = table.element.getBoundingClientRect();\r\n                        var firstCell = table.element.rows[0].cells[0];\r\n                        var firstCellBox = firstCell.getBoundingClientRect();\r\n                        if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\r\n                            return slice.call(boxes).map(function (box) {\r\n                                return {\r\n                                    left: box.left + tableBorderLeft,\r\n                                    top: box.top + tableBorderTop,\r\n                                    right: box.right + tableBorderLeft,\r\n                                    bottom: box.bottom + tableBorderTop,\r\n                                    height: box.height,\r\n                                    width: box.width\r\n                                };\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                return boxes;\r\n            }\r\n            function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform) {\r\n                if (Wtop <= 0) {\r\n                    return;\r\n                }\r\n                var path, edge = new drawing.Group();\r\n                setTransform(edge, transform);\r\n                group.append(edge);\r\n                sanitizeRadius(rl);\r\n                sanitizeRadius(rr);\r\n                path = new drawing.Path({\r\n                    fill: { color: color },\r\n                    stroke: null\r\n                });\r\n                edge.append(path);\r\n                path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0).lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0).lineTo(len - Math.max(rr.x, Wright), Wtop).lineTo(Math.max(rl.x, Wleft), Wtop).close();\r\n                if (rl.x) {\r\n                    drawRoundCorner(Wleft, rl, [\r\n                        -1,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        rl.x,\r\n                        0\r\n                    ]);\r\n                }\r\n                if (rr.x) {\r\n                    drawRoundCorner(Wright, rr, [\r\n                        1,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        len - rr.x,\r\n                        0\r\n                    ]);\r\n                }\r\n                function drawRoundCorner(Wright, r, transform) {\r\n                    var angle = Math.PI / 2 * Wright / (Wright + Wtop);\r\n                    var ri = {\r\n                        x: r.x - Wright,\r\n                        y: r.y - Wtop\r\n                    };\r\n                    var path = new drawing.Path({\r\n                        fill: { color: color },\r\n                        stroke: null\r\n                    }).moveTo(0, 0);\r\n                    setTransform(path, transform);\r\n                    addArcToPath(path, 0, r.y, {\r\n                        startAngle: -90,\r\n                        endAngle: -radiansToDegrees(angle),\r\n                        radiusX: r.x,\r\n                        radiusY: r.y\r\n                    });\r\n                    if (ri.x > 0 && ri.y > 0) {\r\n                        path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\r\n                        addArcToPath(path, 0, r.y, {\r\n                            startAngle: -radiansToDegrees(angle),\r\n                            endAngle: -90,\r\n                            radiusX: ri.x,\r\n                            radiusY: ri.y,\r\n                            anticlockwise: true\r\n                        });\r\n                    } else if (ri.x > 0) {\r\n                        path.lineTo(ri.x, Wtop).lineTo(0, Wtop);\r\n                    } else {\r\n                        path.lineTo(ri.x, Wtop).lineTo(ri.x, 0);\r\n                    }\r\n                    edge.append(path.close());\r\n                }\r\n            }\r\n            function drawBackground(box) {\r\n                var background = new drawing.Group();\r\n                setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\r\n                group.append(background);\r\n                if (element.tagName == 'A' && element.href && !/^#?$/.test($(element).attr('href'))) {\r\n                    if (!nodeInfo._avoidLinks || !$(element).is(nodeInfo._avoidLinks)) {\r\n                        background._pdfLink = {\r\n                            url: element.href,\r\n                            top: box.top,\r\n                            right: box.right,\r\n                            bottom: box.bottom,\r\n                            left: box.left\r\n                        };\r\n                    }\r\n                }\r\n                if (backgroundColor) {\r\n                    var path = new drawing.Path({\r\n                        fill: { color: backgroundColor.toCssRgba() },\r\n                        stroke: null\r\n                    });\r\n                    path.moveTo(box.left, box.top).lineTo(box.right, box.top).lineTo(box.right, box.bottom).lineTo(box.left, box.bottom).close();\r\n                    background.append(path);\r\n                }\r\n                for (var i = backgroundImage.length; --i >= 0;) {\r\n                    drawOneBackground(background, box, backgroundImage[i], backgroundRepeat[i % backgroundRepeat.length], backgroundPosition[i % backgroundPosition.length], backgroundOrigin[i % backgroundOrigin.length], backgroundSize[i % backgroundSize.length]);\r\n                }\r\n            }\r\n            function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\r\n                if (!background || background == 'none') {\r\n                    return;\r\n                }\r\n                if (background.type == 'url') {\r\n                    if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\r\n                        return;\r\n                    }\r\n                    var img = IMAGE_CACHE[background.url];\r\n                    if (img && img.width > 0 && img.height > 0) {\r\n                        drawBackgroundImage(group, box, img.width, img.height, function (group, rect) {\r\n                            group.append(new drawing.Image(background.url, rect));\r\n                        });\r\n                    }\r\n                } else if (background.type == 'linear') {\r\n                    drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\r\n                } else {\r\n                    return;\r\n                }\r\n                function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\r\n                    var aspect_ratio = img_width / img_height, f;\r\n                    var orgBox = box;\r\n                    if (backgroundOrigin == 'content-box') {\r\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\r\n                        orgBox = innerBox(orgBox, 'padding-*', element);\r\n                    } else if (backgroundOrigin == 'padding-box') {\r\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\r\n                    }\r\n                    if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\r\n                        if (backgroundSize == 'contain') {\r\n                            f = Math.min(orgBox.width / img_width, orgBox.height / img_height);\r\n                            img_width *= f;\r\n                            img_height *= f;\r\n                        } else if (backgroundSize == 'cover') {\r\n                            f = Math.max(orgBox.width / img_width, orgBox.height / img_height);\r\n                            img_width *= f;\r\n                            img_height *= f;\r\n                        } else {\r\n                            var size = backgroundSize.split(/\\s+/g);\r\n                            if (/%$/.test(size[0])) {\r\n                                img_width = orgBox.width * parseFloat(size[0]) / 100;\r\n                            } else {\r\n                                img_width = parseFloat(size[0]);\r\n                            }\r\n                            if (size.length == 1 || size[1] == 'auto') {\r\n                                img_height = img_width / aspect_ratio;\r\n                            } else if (/%$/.test(size[1])) {\r\n                                img_height = orgBox.height * parseFloat(size[1]) / 100;\r\n                            } else {\r\n                                img_height = parseFloat(size[1]);\r\n                            }\r\n                        }\r\n                    }\r\n                    var pos = (backgroundPosition + '').split(/\\s+/);\r\n                    if (pos.length == 1) {\r\n                        pos[1] = '50%';\r\n                    }\r\n                    if (/%$/.test(pos[0])) {\r\n                        pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\r\n                    } else {\r\n                        pos[0] = parseFloat(pos[0]);\r\n                    }\r\n                    if (/%$/.test(pos[1])) {\r\n                        pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\r\n                    } else {\r\n                        pos[1] = parseFloat(pos[1]);\r\n                    }\r\n                    var rect = new geo.Rect([\r\n                        orgBox.left + pos[0],\r\n                        orgBox.top + pos[1]\r\n                    ], [\r\n                        img_width,\r\n                        img_height\r\n                    ]);\r\n                    function rewX() {\r\n                        while (rect.origin.x > box.left) {\r\n                            rect.origin.x -= img_width;\r\n                        }\r\n                    }\r\n                    function rewY() {\r\n                        while (rect.origin.y > box.top) {\r\n                            rect.origin.y -= img_height;\r\n                        }\r\n                    }\r\n                    function repeatX() {\r\n                        while (rect.origin.x < box.right) {\r\n                            renderBG(group, rect.clone());\r\n                            rect.origin.x += img_width;\r\n                        }\r\n                    }\r\n                    if (backgroundRepeat == 'no-repeat') {\r\n                        renderBG(group, rect);\r\n                    } else if (backgroundRepeat == 'repeat-x') {\r\n                        rewX();\r\n                        repeatX();\r\n                    } else if (backgroundRepeat == 'repeat-y') {\r\n                        rewY();\r\n                        while (rect.origin.y < box.bottom) {\r\n                            renderBG(group, rect.clone());\r\n                            rect.origin.y += img_height;\r\n                        }\r\n                    } else if (backgroundRepeat == 'repeat') {\r\n                        rewX();\r\n                        rewY();\r\n                        var origin = rect.origin.clone();\r\n                        while (rect.origin.y < box.bottom) {\r\n                            rect.origin.x = origin.x;\r\n                            repeatX();\r\n                            rect.origin.y += img_height;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function drawBullet() {\r\n                var listStyleType = getPropertyValue(style, 'list-style-type');\r\n                if (listStyleType == 'none') {\r\n                    return;\r\n                }\r\n                var listStylePosition = getPropertyValue(style, 'list-style-position');\r\n                function _drawBullet(f) {\r\n                    saveStyle(element, function () {\r\n                        element.style.position = 'relative';\r\n                        var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\r\n                        bullet.style.position = 'absolute';\r\n                        bullet.style.boxSizing = 'border-box';\r\n                        if (listStylePosition == 'outside') {\r\n                            bullet.style.width = '6em';\r\n                            bullet.style.left = '-6.8em';\r\n                            bullet.style.textAlign = 'right';\r\n                        } else {\r\n                            bullet.style.left = '0px';\r\n                        }\r\n                        f(bullet);\r\n                        element.insertBefore(bullet, element.firstChild);\r\n                        renderElement(bullet, group);\r\n                        element.removeChild(bullet);\r\n                    });\r\n                }\r\n                function elementIndex(f) {\r\n                    var a = element.parentNode.children;\r\n                    var k = element.getAttribute('kendo-split-index');\r\n                    if (k != null) {\r\n                        return f(k | 0, a.length);\r\n                    }\r\n                    for (var i = 0; i < a.length; ++i) {\r\n                        if (a[i] === element) {\r\n                            return f(i, a.length);\r\n                        }\r\n                    }\r\n                }\r\n                switch (listStyleType) {\r\n                case 'circle':\r\n                case 'disc':\r\n                case 'square':\r\n                    _drawBullet(function (bullet) {\r\n                        bullet.style.fontSize = '60%';\r\n                        bullet.style.lineHeight = '200%';\r\n                        bullet.style.paddingRight = '0.5em';\r\n                        bullet.style.fontFamily = 'DejaVu Serif';\r\n                        bullet.innerHTML = {\r\n                            'disc': '\\u25CF',\r\n                            'circle': '\\u25EF',\r\n                            'square': '\\u25A0'\r\n                        }[listStyleType];\r\n                    });\r\n                    break;\r\n                case 'decimal':\r\n                case 'decimal-leading-zero':\r\n                    _drawBullet(function (bullet) {\r\n                        elementIndex(function (idx) {\r\n                            ++idx;\r\n                            if (listStyleType == 'decimal-leading-zero' && (idx + '').length < 2) {\r\n                                idx = '0' + idx;\r\n                            }\r\n                            bullet.innerHTML = idx + '.';\r\n                        });\r\n                    });\r\n                    break;\r\n                case 'lower-roman':\r\n                case 'upper-roman':\r\n                    _drawBullet(function (bullet) {\r\n                        elementIndex(function (idx) {\r\n                            idx = romanNumeral(idx + 1);\r\n                            if (listStyleType == 'upper-roman') {\r\n                                idx = idx.toUpperCase();\r\n                            }\r\n                            bullet.innerHTML = idx + '.';\r\n                        });\r\n                    });\r\n                    break;\r\n                case 'lower-latin':\r\n                case 'lower-alpha':\r\n                case 'upper-latin':\r\n                case 'upper-alpha':\r\n                    _drawBullet(function (bullet) {\r\n                        elementIndex(function (idx) {\r\n                            idx = alphaNumeral(idx);\r\n                            if (/^upper/i.test(listStyleType)) {\r\n                                idx = idx.toUpperCase();\r\n                            }\r\n                            bullet.innerHTML = idx + '.';\r\n                        });\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n            function drawOneBox(box, isFirst, isLast) {\r\n                if (box.width === 0 || box.height === 0) {\r\n                    return;\r\n                }\r\n                drawBackground(box);\r\n                var shouldDrawLeft = left.width > 0 && (isFirst && dir == 'ltr' || isLast && dir == 'rtl');\r\n                var shouldDrawRight = right.width > 0 && (isLast && dir == 'ltr' || isFirst && dir == 'rtl');\r\n                if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\r\n                    return;\r\n                }\r\n                if (true) {\r\n                    if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\r\n                        if (top.width == right.width && top.width == bottom.width && top.width == left.width) {\r\n                            if (shouldDrawLeft && shouldDrawRight) {\r\n                                box = innerBox(box, top.width / 2);\r\n                                var path = elementRoundBox(element, box, top.width / 2);\r\n                                path.options.stroke = {\r\n                                    color: top.color,\r\n                                    width: top.width\r\n                                };\r\n                                group.append(path);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\r\n                        if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\r\n                            if (top.width > 0) {\r\n                                group.append(new drawing.Path({\r\n                                    stroke: {\r\n                                        width: top.width,\r\n                                        color: top.color\r\n                                    }\r\n                                }).moveTo(box.left, box.top + top.width / 2).lineTo(box.right, box.top + top.width / 2));\r\n                            }\r\n                            if (bottom.width > 0) {\r\n                                group.append(new drawing.Path({\r\n                                    stroke: {\r\n                                        width: bottom.width,\r\n                                        color: bottom.color\r\n                                    }\r\n                                }).moveTo(box.left, box.bottom - bottom.width / 2).lineTo(box.right, box.bottom - bottom.width / 2));\r\n                            }\r\n                            if (shouldDrawLeft) {\r\n                                group.append(new drawing.Path({\r\n                                    stroke: {\r\n                                        width: left.width,\r\n                                        color: left.color\r\n                                    }\r\n                                }).moveTo(box.left + left.width / 2, box.top).lineTo(box.left + left.width / 2, box.bottom));\r\n                            }\r\n                            if (shouldDrawRight) {\r\n                                group.append(new drawing.Path({\r\n                                    stroke: {\r\n                                        width: right.width,\r\n                                        color: right.color\r\n                                    }\r\n                                }).moveTo(box.right - right.width / 2, box.top).lineTo(box.right - right.width / 2, box.bottom));\r\n                            }\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\r\n                var rTL = tmp.tl;\r\n                var rTR = tmp.tr;\r\n                var rBR = tmp.br;\r\n                var rBL = tmp.bl;\r\n                drawEdge(top.color, box.width, top.width, left.width, right.width, rTL, rTR, [\r\n                    1,\r\n                    0,\r\n                    0,\r\n                    1,\r\n                    box.left,\r\n                    box.top\r\n                ]);\r\n                drawEdge(bottom.color, box.width, bottom.width, right.width, left.width, rBR, rBL, [\r\n                    -1,\r\n                    0,\r\n                    0,\r\n                    -1,\r\n                    box.right,\r\n                    box.bottom\r\n                ]);\r\n                function inv(p) {\r\n                    return {\r\n                        x: p.y,\r\n                        y: p.x\r\n                    };\r\n                }\r\n                drawEdge(left.color, box.height, left.width, bottom.width, top.width, inv(rBL), inv(rTL), [\r\n                    0,\r\n                    -1,\r\n                    1,\r\n                    0,\r\n                    box.left,\r\n                    box.bottom\r\n                ]);\r\n                drawEdge(right.color, box.height, right.width, top.width, bottom.width, inv(rTR), inv(rBR), [\r\n                    0,\r\n                    1,\r\n                    -1,\r\n                    0,\r\n                    box.right,\r\n                    box.top\r\n                ]);\r\n            }\r\n        }\r\n        function gradientRenderer(gradient) {\r\n            return function (group, rect) {\r\n                var width = rect.width(), height = rect.height();\r\n                switch (gradient.type) {\r\n                case 'linear':\r\n                    var angle = gradient.angle != null ? gradient.angle : Math.PI;\r\n                    switch (gradient.to) {\r\n                    case 'top':\r\n                        angle = 0;\r\n                        break;\r\n                    case 'left':\r\n                        angle = -Math.PI / 2;\r\n                        break;\r\n                    case 'bottom':\r\n                        angle = Math.PI;\r\n                        break;\r\n                    case 'right':\r\n                        angle = Math.PI / 2;\r\n                        break;\r\n                    case 'top left':\r\n                    case 'left top':\r\n                        angle = -Math.atan2(height, width);\r\n                        break;\r\n                    case 'top right':\r\n                    case 'right top':\r\n                        angle = Math.atan2(height, width);\r\n                        break;\r\n                    case 'bottom left':\r\n                    case 'left bottom':\r\n                        angle = Math.PI + Math.atan2(height, width);\r\n                        break;\r\n                    case 'bottom right':\r\n                    case 'right bottom':\r\n                        angle = Math.PI - Math.atan2(height, width);\r\n                        break;\r\n                    }\r\n                    if (gradient.reverse) {\r\n                        angle -= Math.PI;\r\n                    }\r\n                    angle %= 2 * Math.PI;\r\n                    if (angle < 0) {\r\n                        angle += 2 * Math.PI;\r\n                    }\r\n                    var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\r\n                    var scaledAngle = Math.atan(width * Math.tan(angle) / height);\r\n                    var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\r\n                    var len = Math.abs(sin) + Math.abs(cos);\r\n                    var x = len / 2 * sin;\r\n                    var y = len / 2 * cos;\r\n                    if (angle > Math.PI / 2 && angle <= 3 * Math.PI / 2) {\r\n                        x = -x;\r\n                        y = -y;\r\n                    }\r\n                    var implicit = [], right = 0;\r\n                    var stops = gradient.stops.map(function (s, i) {\r\n                        var offset = s.percent;\r\n                        if (offset) {\r\n                            offset = parseFloat(offset) / 100;\r\n                        } else if (s.length) {\r\n                            offset = parseFloat(s.length) / pxlen;\r\n                        } else if (i === 0) {\r\n                            offset = 0;\r\n                        } else if (i == gradient.stops.length - 1) {\r\n                            offset = 1;\r\n                        }\r\n                        var stop = {\r\n                            color: s.color.toCssRgba(),\r\n                            offset: offset\r\n                        };\r\n                        if (offset != null) {\r\n                            right = offset;\r\n                            implicit.forEach(function (s, i) {\r\n                                var stop = s.stop;\r\n                                stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\r\n                            });\r\n                            implicit = [];\r\n                        } else {\r\n                            implicit.push({\r\n                                left: right,\r\n                                stop: stop\r\n                            });\r\n                        }\r\n                        return stop;\r\n                    });\r\n                    var start = [\r\n                        0.5 - x,\r\n                        0.5 + y\r\n                    ];\r\n                    var end = [\r\n                        0.5 + x,\r\n                        0.5 - y\r\n                    ];\r\n                    group.append(drawing.Path.fromRect(rect).stroke(null).fill(new drawing.LinearGradient({\r\n                        start: start,\r\n                        end: end,\r\n                        stops: stops,\r\n                        userSpace: false\r\n                    })));\r\n                    break;\r\n                case 'radial':\r\n                    if (window.console && window.console.log) {\r\n                        window.console.log('Radial gradients are not yet supported in HTML renderer');\r\n                    }\r\n                    break;\r\n                }\r\n            };\r\n        }\r\n        function maybeRenderWidget(element, group) {\r\n            if (element.getAttribute(kendo.attr('role'))) {\r\n                var widget = kendo.widgetInstance($(element));\r\n                if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\r\n                    var visual;\r\n                    if (widget.exportDOMVisual) {\r\n                        visual = widget.exportDOMVisual();\r\n                    } else {\r\n                        visual = widget.exportVisual();\r\n                    }\r\n                    if (!visual) {\r\n                        return false;\r\n                    }\r\n                    var wrap = new drawing.Group();\r\n                    wrap.children.push(visual);\r\n                    var bbox = element.getBoundingClientRect();\r\n                    wrap.transform(geo.transform().translate(bbox.left, bbox.top));\r\n                    group.append(wrap);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        function renderImage(element, url, group) {\r\n            var box = getContentBox(element);\r\n            var rect = new geo.Rect([\r\n                box.left,\r\n                box.top\r\n            ], [\r\n                box.width,\r\n                box.height\r\n            ]);\r\n            var image = new drawing.Image(url, rect);\r\n            setClipping(image, elementRoundBox(element, box, 'content'));\r\n            group.append(image);\r\n        }\r\n        function zIndexSort(a, b) {\r\n            var sa = getComputedStyle(a);\r\n            var sb = getComputedStyle(b);\r\n            var za = parseFloat(getPropertyValue(sa, 'z-index'));\r\n            var zb = parseFloat(getPropertyValue(sb, 'z-index'));\r\n            var pa = getPropertyValue(sa, 'position');\r\n            var pb = getPropertyValue(sb, 'position');\r\n            if (isNaN(za) && isNaN(zb)) {\r\n                if (/static|absolute/.test(pa) && /static|absolute/.test(pb)) {\r\n                    return 0;\r\n                }\r\n                if (pa == 'static') {\r\n                    return -1;\r\n                }\r\n                if (pb == 'static') {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            }\r\n            if (isNaN(za)) {\r\n                return zb === 0 ? 0 : zb > 0 ? -1 : 1;\r\n            }\r\n            if (isNaN(zb)) {\r\n                return za === 0 ? 0 : za > 0 ? 1 : -1;\r\n            }\r\n            return parseFloat(za) - parseFloat(zb);\r\n        }\r\n        function isFormField(element) {\r\n            return /^(?:textarea|select|input)$/i.test(element.tagName);\r\n        }\r\n        function getSelectedOption(element) {\r\n            if (element.selectedOptions && element.selectedOptions.length > 0) {\r\n                return element.selectedOptions[0];\r\n            }\r\n            return element.options[element.selectedIndex];\r\n        }\r\n        function renderCheckbox(element, group) {\r\n            var style = getComputedStyle(element);\r\n            var color = getPropertyValue(style, 'color');\r\n            var box = element.getBoundingClientRect();\r\n            if (element.type == 'checkbox') {\r\n                group.append(drawing.Path.fromRect(new geo.Rect([\r\n                    box.left + 1,\r\n                    box.top + 1\r\n                ], [\r\n                    box.width - 2,\r\n                    box.height - 2\r\n                ])).stroke(color, 1));\r\n                if (element.checked) {\r\n                    group.append(new drawing.Path().stroke(color, 1.2).moveTo(box.left + 0.22 * box.width, box.top + 0.55 * box.height).lineTo(box.left + 0.45 * box.width, box.top + 0.75 * box.height).lineTo(box.left + 0.78 * box.width, box.top + 0.22 * box.width));\r\n                }\r\n            } else {\r\n                group.append(new drawing.Circle(new geo.Circle([\r\n                    (box.left + box.right) / 2,\r\n                    (box.top + box.bottom) / 2\r\n                ], Math.min(box.width - 2, box.height - 2) / 2)).stroke(color, 1));\r\n                if (element.checked) {\r\n                    group.append(new drawing.Circle(new geo.Circle([\r\n                        (box.left + box.right) / 2,\r\n                        (box.top + box.bottom) / 2\r\n                    ], Math.min(box.width - 8, box.height - 8) / 2)).fill(color).stroke(null));\r\n                }\r\n            }\r\n        }\r\n        function renderFormField(element, group) {\r\n            var tag = element.tagName.toLowerCase();\r\n            if (tag == 'input' && (element.type == 'checkbox' || element.type == 'radio')) {\r\n                return renderCheckbox(element, group);\r\n            }\r\n            var p = element.parentNode;\r\n            var doc = element.ownerDocument;\r\n            var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\r\n            var option;\r\n            el.style.cssText = getCssText(getComputedStyle(element));\r\n            if (tag == 'input') {\r\n                el.style.whiteSpace = 'pre';\r\n            }\r\n            if (tag == 'select' || tag == 'textarea') {\r\n                el.style.overflow = 'auto';\r\n            }\r\n            if (tag == 'select') {\r\n                if (element.multiple) {\r\n                    for (var i = 0; i < element.options.length; ++i) {\r\n                        option = doc.createElement(KENDO_PSEUDO_ELEMENT);\r\n                        option.style.cssText = getCssText(getComputedStyle(element.options[i]));\r\n                        option.style.display = 'block';\r\n                        option.textContent = element.options[i].textContent;\r\n                        el.appendChild(option);\r\n                    }\r\n                } else {\r\n                    option = getSelectedOption(element);\r\n                    if (option) {\r\n                        el.textContent = option.textContent;\r\n                    }\r\n                }\r\n            } else {\r\n                el.textContent = element.value;\r\n            }\r\n            p.insertBefore(el, element);\r\n            el.scrollLeft = element.scrollLeft;\r\n            el.scrollTop = element.scrollTop;\r\n            element.style.display = 'none';\r\n            renderContents(el, group);\r\n            element.style.display = '';\r\n            p.removeChild(el);\r\n        }\r\n        function renderContents(element, group) {\r\n            if (nodeInfo._stackingContext.element === element) {\r\n                nodeInfo._stackingContext.group = group;\r\n            }\r\n            switch (element.tagName.toLowerCase()) {\r\n            case 'img':\r\n                renderImage(element, element.src, group);\r\n                break;\r\n            case 'canvas':\r\n                try {\r\n                    renderImage(element, element.toDataURL('image/png'), group);\r\n                } catch (ex) {\r\n                }\r\n                break;\r\n            case 'textarea':\r\n            case 'input':\r\n            case 'select':\r\n                renderFormField(element, group);\r\n                break;\r\n            default:\r\n                var blocks = [], floats = [], inline = [], positioned = [];\r\n                for (var i = element.firstChild; i; i = i.nextSibling) {\r\n                    switch (i.nodeType) {\r\n                    case 3:\r\n                        if (/\\S/.test(i.data)) {\r\n                            renderText(element, i, group);\r\n                        }\r\n                        break;\r\n                    case 1:\r\n                        var style = getComputedStyle(i);\r\n                        var display = getPropertyValue(style, 'display');\r\n                        var floating = getPropertyValue(style, 'float');\r\n                        var position = getPropertyValue(style, 'position');\r\n                        if (position != 'static') {\r\n                            positioned.push(i);\r\n                        } else if (display != 'inline') {\r\n                            if (floating != 'none') {\r\n                                floats.push(i);\r\n                            } else {\r\n                                blocks.push(i);\r\n                            }\r\n                        } else {\r\n                            inline.push(i);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                blocks.sort(zIndexSort).forEach(function (el) {\r\n                    renderElement(el, group);\r\n                });\r\n                floats.sort(zIndexSort).forEach(function (el) {\r\n                    renderElement(el, group);\r\n                });\r\n                inline.sort(zIndexSort).forEach(function (el) {\r\n                    renderElement(el, group);\r\n                });\r\n                positioned.sort(zIndexSort).forEach(function (el) {\r\n                    renderElement(el, group);\r\n                });\r\n            }\r\n        }\r\n        function renderText(element, node, group) {\r\n            if (emptyClipbox()) {\r\n                return;\r\n            }\r\n            var style = getComputedStyle(element);\r\n            if (parseFloat(getPropertyValue(style, 'text-indent')) < -500) {\r\n                return;\r\n            }\r\n            var text = node.data;\r\n            var start = 0;\r\n            var end = text.search(/\\S\\s*$/) + 1;\r\n            if (!end) {\r\n                return;\r\n            }\r\n            var fontSize = getPropertyValue(style, 'font-size');\r\n            var lineHeight = getPropertyValue(style, 'line-height');\r\n            var font = [\r\n                getPropertyValue(style, 'font-style'),\r\n                getPropertyValue(style, 'font-variant'),\r\n                getPropertyValue(style, 'font-weight'),\r\n                fontSize,\r\n                getPropertyValue(style, 'font-family')\r\n            ].join(' ');\r\n            fontSize = parseFloat(fontSize);\r\n            lineHeight = parseFloat(lineHeight);\r\n            if (fontSize === 0) {\r\n                return;\r\n            }\r\n            var color = getPropertyValue(style, 'color');\r\n            var range = element.ownerDocument.createRange();\r\n            var align = getPropertyValue(style, 'text-align');\r\n            var isJustified = align == 'justify';\r\n            var whiteSpace = getPropertyValue(style, 'white-space');\r\n            var textOverflow, saveTextOverflow;\r\n            if (browser.msie) {\r\n                textOverflow = style.textOverflow;\r\n                if (textOverflow == 'ellipsis') {\r\n                    saveTextOverflow = element.style.textOverflow;\r\n                    element.style.textOverflow = 'clip';\r\n                }\r\n            }\r\n            var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\r\n            if (estimateLineLength === 0) {\r\n                estimateLineLength = 500;\r\n            }\r\n            var prevLineBottom = null;\r\n            while (!doChunk()) {\r\n            }\r\n            if (browser.msie && textOverflow == 'ellipsis') {\r\n                element.style.textOverflow = saveTextOverflow;\r\n            }\r\n            return;\r\n            function actuallyGetRangeBoundingRect(range) {\r\n                if (browser.msie || browser.chrome) {\r\n                    var rectangles = range.getClientRects(), box = {\r\n                            top: +Infinity,\r\n                            right: -Infinity,\r\n                            bottom: -Infinity,\r\n                            left: +Infinity\r\n                        };\r\n                    for (var i = 0; i < rectangles.length; ++i) {\r\n                        var b = rectangles[i];\r\n                        if (b.width <= 1 || b.bottom === prevLineBottom) {\r\n                            continue;\r\n                        }\r\n                        box.left = Math.min(b.left, box.left);\r\n                        box.top = Math.min(b.top, box.top);\r\n                        box.right = Math.max(b.right, box.right);\r\n                        box.bottom = Math.max(b.bottom, box.bottom);\r\n                    }\r\n                    box.width = box.right - box.left;\r\n                    box.height = box.bottom - box.top;\r\n                    return box;\r\n                }\r\n                return range.getBoundingClientRect();\r\n            }\r\n            function doChunk() {\r\n                var origStart = start;\r\n                var box, pos = text.substr(start).search(/\\S/);\r\n                start += pos;\r\n                if (pos < 0 || start >= end) {\r\n                    return true;\r\n                }\r\n                range.setStart(node, start);\r\n                range.setEnd(node, start + 1);\r\n                box = actuallyGetRangeBoundingRect(range);\r\n                var found = false;\r\n                if (isJustified) {\r\n                    pos = text.substr(start).search(/\\s/);\r\n                    if (pos >= 0) {\r\n                        range.setEnd(node, start + pos);\r\n                        var r = actuallyGetRangeBoundingRect(range);\r\n                        if (r.bottom == box.bottom) {\r\n                            box = r;\r\n                            found = true;\r\n                            start += pos;\r\n                        }\r\n                    }\r\n                }\r\n                if (!found) {\r\n                    pos = function findEOL(min, eol, max) {\r\n                        range.setEnd(node, eol);\r\n                        var r = actuallyGetRangeBoundingRect(range);\r\n                        if (r.bottom != box.bottom && min < eol) {\r\n                            return findEOL(min, min + eol >> 1, eol);\r\n                        } else if (r.right != box.right) {\r\n                            box = r;\r\n                            if (eol < max) {\r\n                                return findEOL(eol, eol + max >> 1, max);\r\n                            } else {\r\n                                return eol;\r\n                            }\r\n                        } else {\r\n                            return eol;\r\n                        }\r\n                    }(start, Math.min(end, start + estimateLineLength), end);\r\n                    if (pos == start) {\r\n                        return true;\r\n                    }\r\n                    start = pos;\r\n                    pos = range.toString().search(/\\s+$/);\r\n                    if (pos === 0) {\r\n                        return;\r\n                    }\r\n                    if (pos > 0) {\r\n                        range.setEnd(node, range.startOffset + pos);\r\n                        box = actuallyGetRangeBoundingRect(range);\r\n                    }\r\n                }\r\n                if (browser.msie) {\r\n                    box = range.getClientRects()[0];\r\n                }\r\n                var str = range.toString();\r\n                if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\r\n                    str = str.replace(/\\s+/g, ' ');\r\n                } else if (/\\t/.test(str)) {\r\n                    var cc = 0;\r\n                    for (pos = origStart; pos < range.startOffset; ++pos) {\r\n                        var code = text.charCodeAt(pos);\r\n                        if (code == 9) {\r\n                            cc += 8 - cc % 8;\r\n                        } else if (code == 10 || code == 13) {\r\n                            cc = 0;\r\n                        } else {\r\n                            cc++;\r\n                        }\r\n                    }\r\n                    while ((pos = str.search('\\t')) >= 0) {\r\n                        var indent = '        '.substr(0, 8 - (cc + pos) % 8);\r\n                        str = str.substr(0, pos) + indent + str.substr(pos + 1);\r\n                    }\r\n                }\r\n                if (!found) {\r\n                    prevLineBottom = box.bottom;\r\n                }\r\n                drawText(str, box);\r\n            }\r\n            function drawText(str, box) {\r\n                if (browser.msie && !isNaN(lineHeight)) {\r\n                    var size = kendo.util.measureText(str, { font: font });\r\n                    var top = (box.top + box.bottom - size.height) / 2;\r\n                    box = {\r\n                        top: top,\r\n                        right: box.right,\r\n                        bottom: top + size.height,\r\n                        left: box.left,\r\n                        height: size.height,\r\n                        width: box.right - box.left\r\n                    };\r\n                }\r\n                var text = new TextRect(str, new geo.Rect([\r\n                    box.left,\r\n                    box.top\r\n                ], [\r\n                    box.width,\r\n                    box.height\r\n                ]), {\r\n                    font: font,\r\n                    fill: { color: color }\r\n                });\r\n                group.append(text);\r\n                decorate(box);\r\n            }\r\n            function decorate(box) {\r\n                line(nodeInfo['underline'], box.bottom);\r\n                line(nodeInfo['line-through'], box.bottom - box.height / 2.7);\r\n                line(nodeInfo['overline'], box.top);\r\n                function line(color, ypos) {\r\n                    if (color) {\r\n                        var width = fontSize / 12;\r\n                        var path = new drawing.Path({\r\n                            stroke: {\r\n                                width: width,\r\n                                color: color\r\n                            }\r\n                        });\r\n                        ypos -= width;\r\n                        path.moveTo(box.left, ypos).lineTo(box.right, ypos);\r\n                        group.append(path);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function groupInStackingContext(element, group, zIndex) {\r\n            var main;\r\n            if (zIndex != 'auto') {\r\n                main = nodeInfo._stackingContext.group;\r\n                zIndex = parseFloat(zIndex);\r\n            } else {\r\n                main = group;\r\n                zIndex = 0;\r\n            }\r\n            var a = main.children;\r\n            for (var i = 0; i < a.length; ++i) {\r\n                if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\r\n                    break;\r\n                }\r\n            }\r\n            var tmp = new drawing.Group();\r\n            main.insertAt(tmp, i);\r\n            tmp._dom_zIndex = zIndex;\r\n            if (main !== group) {\r\n                if (nodeInfo._clipbox) {\r\n                    var m = nodeInfo._matrix.invert();\r\n                    var r = nodeInfo._clipbox.transformCopy(m);\r\n                    setClipping(tmp, drawing.Path.fromRect(r));\r\n                }\r\n            }\r\n            return tmp;\r\n        }\r\n        function renderElement(element, container) {\r\n            var style = getComputedStyle(element);\r\n            var counterReset = getPropertyValue(style, 'counter-reset');\r\n            if (counterReset) {\r\n                doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\r\n            }\r\n            var counterIncrement = getPropertyValue(style, 'counter-increment');\r\n            if (counterIncrement) {\r\n                doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\r\n            }\r\n            if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\r\n                return;\r\n            }\r\n            if (nodeInfo._clipbox == null) {\r\n                return;\r\n            }\r\n            var opacity = parseFloat(getPropertyValue(style, 'opacity'));\r\n            var visibility = getPropertyValue(style, 'visibility');\r\n            var display = getPropertyValue(style, 'display');\r\n            if (opacity === 0 || visibility == 'hidden' || display == 'none') {\r\n                return;\r\n            }\r\n            var tr = getTransform(style);\r\n            var group;\r\n            var zIndex = getPropertyValue(style, 'z-index');\r\n            if ((tr || opacity < 1) && zIndex == 'auto') {\r\n                zIndex = 0;\r\n            }\r\n            group = groupInStackingContext(element, container, zIndex);\r\n            if (opacity < 1) {\r\n                group.opacity(opacity * group.opacity());\r\n            }\r\n            pushNodeInfo(element, style, group);\r\n            if (!tr) {\r\n                _renderWithPseudoElements(element, group);\r\n            } else {\r\n                saveStyle(element, function () {\r\n                    pleaseSetPropertyValue(element.style, 'transform', 'none', 'important');\r\n                    pleaseSetPropertyValue(element.style, 'transition', 'none', 'important');\r\n                    if (getPropertyValue(style, 'position') == 'static') {\r\n                        pleaseSetPropertyValue(element.style, 'position', 'relative', 'important');\r\n                    }\r\n                    var bbox = element.getBoundingClientRect();\r\n                    var x = bbox.left + tr.origin[0];\r\n                    var y = bbox.top + tr.origin[1];\r\n                    var m = [\r\n                        1,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        -x,\r\n                        -y\r\n                    ];\r\n                    m = mmul(m, tr.matrix);\r\n                    m = mmul(m, [\r\n                        1,\r\n                        0,\r\n                        0,\r\n                        1,\r\n                        x,\r\n                        y\r\n                    ]);\r\n                    m = setTransform(group, m);\r\n                    nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\r\n                    _renderWithPseudoElements(element, group);\r\n                });\r\n            }\r\n            popNodeInfo();\r\n        }\r\n        function mmul(a, b) {\r\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\r\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\r\n            return [\r\n                a1 * a2 + b1 * c2,\r\n                a1 * b2 + b1 * d2,\r\n                c1 * a2 + d1 * c2,\r\n                c1 * b2 + d1 * d2,\r\n                e1 * a2 + f1 * c2 + e2,\r\n                e1 * b2 + f1 * d2 + f2\r\n            ];\r\n        }\r\n    }(window.kendo.jQuery, parseFloat, Math));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('drawing/animation', [\r\n        'drawing/geometry',\r\n        'drawing/core'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var noop = $.noop, kendo = window.kendo, Class = kendo.Class, util = kendo.util, animationFrame = kendo.animationFrame, deepExtend = kendo.deepExtend;\r\n        var Animation = Class.extend({\r\n            init: function (element, options) {\r\n                var anim = this;\r\n                anim.options = deepExtend({}, anim.options, options);\r\n                anim.element = element;\r\n            },\r\n            options: {\r\n                duration: 500,\r\n                easing: 'swing'\r\n            },\r\n            setup: noop,\r\n            step: noop,\r\n            play: function () {\r\n                var anim = this, options = anim.options, easing = $.easing[options.easing], duration = options.duration, delay = options.delay || 0, start = util.now() + delay, finish = start + duration;\r\n                if (duration === 0) {\r\n                    anim.step(1);\r\n                    anim.abort();\r\n                } else {\r\n                    setTimeout(function () {\r\n                        var loop = function () {\r\n                            if (anim._stopped) {\r\n                                return;\r\n                            }\r\n                            var wallTime = util.now();\r\n                            var time = util.limitValue(wallTime - start, 0, duration);\r\n                            var pos = time / duration;\r\n                            var easingPos = easing(pos, time, 0, 1, duration);\r\n                            anim.step(easingPos);\r\n                            if (wallTime < finish) {\r\n                                animationFrame(loop);\r\n                            } else {\r\n                                anim.abort();\r\n                            }\r\n                        };\r\n                        loop();\r\n                    }, delay);\r\n                }\r\n            },\r\n            abort: function () {\r\n                this._stopped = true;\r\n            },\r\n            destroy: function () {\r\n                this.abort();\r\n            }\r\n        });\r\n        var AnimationFactory = function () {\r\n            this._items = [];\r\n        };\r\n        AnimationFactory.prototype = {\r\n            register: function (name, type) {\r\n                this._items.push({\r\n                    name: name,\r\n                    type: type\r\n                });\r\n            },\r\n            create: function (element, options) {\r\n                var items = this._items;\r\n                var match;\r\n                if (options && options.type) {\r\n                    var type = options.type.toLowerCase();\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        if (items[i].name.toLowerCase() === type) {\r\n                            match = items[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (match) {\r\n                    return new match.type(element, options);\r\n                }\r\n            }\r\n        };\r\n        AnimationFactory.current = new AnimationFactory();\r\n        Animation.create = function (type, element, options) {\r\n            return AnimationFactory.current.create(type, element, options);\r\n        };\r\n        deepExtend(kendo.drawing, {\r\n            Animation: Animation,\r\n            AnimationFactory: AnimationFactory\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.drawing', [\r\n        'kendo.color',\r\n        'util/main',\r\n        'util/text-metrics',\r\n        'util/base64',\r\n        'mixins/observers',\r\n        'drawing/geometry',\r\n        'drawing/core',\r\n        'drawing/mixins',\r\n        'drawing/shapes',\r\n        'drawing/parser',\r\n        'drawing/search',\r\n        'drawing/svg',\r\n        'drawing/canvas',\r\n        'drawing/vml',\r\n        'drawing/html',\r\n        'drawing/animation'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'drawing',\r\n        name: 'Drawing API',\r\n        category: 'framework',\r\n        description: 'The Kendo UI low-level drawing API',\r\n        depends: [\r\n            'core',\r\n            'color'\r\n        ]\r\n    };\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.core', [\r\n        'kendo.core',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.core',\r\n        name: 'Core',\r\n        description: 'The DataViz core functions',\r\n        category: 'dataviz',\r\n        depends: [\r\n            'core',\r\n            'drawing'\r\n        ],\r\n        hidden: true\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, util = kendo.util, append = util.append, defined = util.defined, last = util.last, valueOrDefault = util.valueOrDefault, dataviz = kendo.dataviz, geom = dataviz.geometry, draw = dataviz.drawing, measureText = draw.util.measureText, Class = kendo.Class, template = kendo.template, noop = $.noop, indexOf = $.inArray, isPlainObject = $.isPlainObject, trim = $.trim, math = Math, deepExtend = kendo.deepExtend;\r\n        var AXIS_LABEL_CLICK = 'axisLabelClick', BLACK = '#000', BOTTOM = 'bottom', CENTER = 'center', COORD_PRECISION = 3, CLIP = 'clip', CIRCLE = 'circle', CROSS = 'cross', DEFAULT_FONT = '12px sans-serif', DEFAULT_HEIGHT = 400, DEFAULT_ICON_SIZE = 7, DEFAULT_PRECISION = 10, DEFAULT_WIDTH = 600, DEG_TO_RAD = math.PI / 180, FORMAT_REGEX = /\\{\\d+:?/, HEIGHT = 'height', COORDINATE_LIMIT = 100000, INITIAL_ANIMATION_DURATION = 600, INSIDE = 'inside', LEFT = 'left', LINEAR = 'linear', MAX_VALUE = Number.MAX_VALUE, MIN_VALUE = -Number.MAX_VALUE, NONE = 'none', NOTE_CLICK = 'noteClick', NOTE_HOVER = 'noteHover', OUTSIDE = 'outside', RADIAL = 'radial', RIGHT = 'right', TOP = 'top', TRIANGLE = 'triangle', WIDTH = 'width', WHITE = '#fff', X = 'x', Y = 'y', ZERO_THRESHOLD = 0.2;\r\n        function getSpacing(value, defaultSpacing) {\r\n            var spacing = {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0\r\n            };\r\n            defaultSpacing = defaultSpacing || 0;\r\n            if (typeof value === 'number') {\r\n                spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;\r\n            } else {\r\n                spacing[TOP] = value[TOP] || defaultSpacing;\r\n                spacing[RIGHT] = value[RIGHT] || defaultSpacing;\r\n                spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;\r\n                spacing[LEFT] = value[LEFT] || defaultSpacing;\r\n            }\r\n            return spacing;\r\n        }\r\n        var Point2D = function (x, y) {\r\n            var point = this;\r\n            if (!(point instanceof Point2D)) {\r\n                return new Point2D(x, y);\r\n            }\r\n            point.x = x || 0;\r\n            point.y = y || 0;\r\n        };\r\n        Point2D.fn = Point2D.prototype = {\r\n            clone: function () {\r\n                var point = this;\r\n                return new Point2D(point.x, point.y);\r\n            },\r\n            equals: function (point) {\r\n                return point && point.x === this.x && point.y === this.y;\r\n            },\r\n            rotate: function (center, degrees) {\r\n                var point = this, theta = degrees * DEG_TO_RAD, cosT = math.cos(theta), sinT = math.sin(theta), cx = center.x, cy = center.y, x = point.x, y = point.y;\r\n                point.x = round(cx + (x - cx) * cosT + (y - cy) * sinT, COORD_PRECISION);\r\n                point.y = round(cy + (y - cy) * cosT - (x - cx) * sinT, COORD_PRECISION);\r\n                return point;\r\n            },\r\n            multiply: function (a) {\r\n                var point = this;\r\n                point.x *= a;\r\n                point.y *= a;\r\n                return point;\r\n            },\r\n            distanceTo: function (point) {\r\n                var dx = this.x - point.x, dy = this.y - point.y;\r\n                return math.sqrt(dx * dx + dy * dy);\r\n            }\r\n        };\r\n        Point2D.onCircle = function (c, a, r) {\r\n            a *= DEG_TO_RAD;\r\n            return new Point2D(c.x - r * math.cos(a), c.y - r * math.sin(a));\r\n        };\r\n        var Box2D = function (x1, y1, x2, y2) {\r\n            var box = this;\r\n            if (!(box instanceof Box2D)) {\r\n                return new Box2D(x1, y1, x2, y2);\r\n            }\r\n            box.x1 = x1 || 0;\r\n            box.x2 = x2 || 0;\r\n            box.y1 = y1 || 0;\r\n            box.y2 = y2 || 0;\r\n        };\r\n        Box2D.fn = Box2D.prototype = {\r\n            width: function () {\r\n                return this.x2 - this.x1;\r\n            },\r\n            height: function () {\r\n                return this.y2 - this.y1;\r\n            },\r\n            translate: function (dx, dy) {\r\n                var box = this;\r\n                box.x1 += dx;\r\n                box.x2 += dx;\r\n                box.y1 += dy;\r\n                box.y2 += dy;\r\n                return box;\r\n            },\r\n            move: function (x, y) {\r\n                var box = this, height = box.height(), width = box.width();\r\n                if (defined(x)) {\r\n                    box.x1 = x;\r\n                    box.x2 = box.x1 + width;\r\n                }\r\n                if (defined(y)) {\r\n                    box.y1 = y;\r\n                    box.y2 = box.y1 + height;\r\n                }\r\n                return box;\r\n            },\r\n            wrap: function (targetBox) {\r\n                var box = this;\r\n                box.x1 = math.min(box.x1, targetBox.x1);\r\n                box.y1 = math.min(box.y1, targetBox.y1);\r\n                box.x2 = math.max(box.x2, targetBox.x2);\r\n                box.y2 = math.max(box.y2, targetBox.y2);\r\n                return box;\r\n            },\r\n            wrapPoint: function (point) {\r\n                this.wrap(new Box2D(point.x, point.y, point.x, point.y));\r\n                return this;\r\n            },\r\n            snapTo: function (targetBox, axis) {\r\n                var box = this;\r\n                if (axis == X || !axis) {\r\n                    box.x1 = targetBox.x1;\r\n                    box.x2 = targetBox.x2;\r\n                }\r\n                if (axis == Y || !axis) {\r\n                    box.y1 = targetBox.y1;\r\n                    box.y2 = targetBox.y2;\r\n                }\r\n                return box;\r\n            },\r\n            alignTo: function (targetBox, anchor) {\r\n                var box = this, height = box.height(), width = box.width(), axis = anchor == TOP || anchor == BOTTOM ? Y : X, offset = axis == Y ? height : width;\r\n                if (anchor === CENTER) {\r\n                    var targetCenter = targetBox.center();\r\n                    var center = box.center();\r\n                    box.x1 += targetCenter.x - center.x;\r\n                    box.y1 += targetCenter.y - center.y;\r\n                } else if (anchor === TOP || anchor === LEFT) {\r\n                    box[axis + 1] = targetBox[axis + 1] - offset;\r\n                } else {\r\n                    box[axis + 1] = targetBox[axis + 2];\r\n                }\r\n                box.x2 = box.x1 + width;\r\n                box.y2 = box.y1 + height;\r\n                return box;\r\n            },\r\n            shrink: function (dw, dh) {\r\n                var box = this;\r\n                box.x2 -= dw;\r\n                box.y2 -= dh;\r\n                return box;\r\n            },\r\n            expand: function (dw, dh) {\r\n                this.shrink(-dw, -dh);\r\n                return this;\r\n            },\r\n            pad: function (padding) {\r\n                var box = this, spacing = getSpacing(padding);\r\n                box.x1 -= spacing.left;\r\n                box.x2 += spacing.right;\r\n                box.y1 -= spacing.top;\r\n                box.y2 += spacing.bottom;\r\n                return box;\r\n            },\r\n            unpad: function (padding) {\r\n                var box = this, spacing = getSpacing(padding);\r\n                spacing.left = -spacing.left;\r\n                spacing.top = -spacing.top;\r\n                spacing.right = -spacing.right;\r\n                spacing.bottom = -spacing.bottom;\r\n                return box.pad(spacing);\r\n            },\r\n            clone: function () {\r\n                var box = this;\r\n                return new Box2D(box.x1, box.y1, box.x2, box.y2);\r\n            },\r\n            center: function () {\r\n                var box = this;\r\n                return new Point2D(box.x1 + box.width() / 2, box.y1 + box.height() / 2);\r\n            },\r\n            containsPoint: function (point) {\r\n                var box = this;\r\n                return point.x >= box.x1 && point.x <= box.x2 && point.y >= box.y1 && point.y <= box.y2;\r\n            },\r\n            points: function () {\r\n                var box = this;\r\n                return [\r\n                    new Point2D(box.x1, box.y1),\r\n                    new Point2D(box.x2, box.y1),\r\n                    new Point2D(box.x2, box.y2),\r\n                    new Point2D(box.x1, box.y2)\r\n                ];\r\n            },\r\n            getHash: function () {\r\n                var box = this;\r\n                return [\r\n                    box.x1,\r\n                    box.y1,\r\n                    box.x2,\r\n                    box.y2\r\n                ].join(',');\r\n            },\r\n            overlaps: function (box) {\r\n                return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);\r\n            },\r\n            rotate: function (rotation) {\r\n                var box = this;\r\n                var width = box.width();\r\n                var height = box.height();\r\n                var center = box.center();\r\n                var cx = center.x;\r\n                var cy = center.y;\r\n                var r1 = rotatePoint(0, 0, cx, cy, rotation);\r\n                var r2 = rotatePoint(width, 0, cx, cy, rotation);\r\n                var r3 = rotatePoint(width, height, cx, cy, rotation);\r\n                var r4 = rotatePoint(0, height, cx, cy, rotation);\r\n                width = math.max(r1.x, r2.x, r3.x, r4.x) - math.min(r1.x, r2.x, r3.x, r4.x);\r\n                height = math.max(r1.y, r2.y, r3.y, r4.y) - math.min(r1.y, r2.y, r3.y, r4.y);\r\n                box.x2 = box.x1 + width;\r\n                box.y2 = box.y1 + height;\r\n                return box;\r\n            },\r\n            toRect: function () {\r\n                return new geom.Rect([\r\n                    this.x1,\r\n                    this.y1\r\n                ], [\r\n                    this.width(),\r\n                    this.height()\r\n                ]);\r\n            },\r\n            hasSize: function () {\r\n                return this.width() !== 0 && this.height() !== 0;\r\n            },\r\n            align: function (targetBox, axis, alignment) {\r\n                var box = this, c1 = axis + 1, c2 = axis + 2, sizeFunc = axis === X ? WIDTH : HEIGHT, size = box[sizeFunc]();\r\n                if (inArray(alignment, [\r\n                        LEFT,\r\n                        TOP\r\n                    ])) {\r\n                    box[c1] = targetBox[c1];\r\n                    box[c2] = box[c1] + size;\r\n                } else if (inArray(alignment, [\r\n                        RIGHT,\r\n                        BOTTOM\r\n                    ])) {\r\n                    box[c2] = targetBox[c2];\r\n                    box[c1] = box[c2] - size;\r\n                } else if (alignment == CENTER) {\r\n                    box[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;\r\n                    box[c2] = box[c1] + size;\r\n                }\r\n            }\r\n        };\r\n        var Ring = Class.extend({\r\n            init: function (center, innerRadius, radius, startAngle, angle) {\r\n                var ring = this;\r\n                ring.c = center;\r\n                ring.ir = innerRadius;\r\n                ring.r = radius;\r\n                ring.startAngle = startAngle;\r\n                ring.angle = angle;\r\n            },\r\n            clone: function () {\r\n                var r = this;\r\n                return new Ring(r.c, r.ir, r.r, r.startAngle, r.angle);\r\n            },\r\n            middle: function () {\r\n                return this.startAngle + this.angle / 2;\r\n            },\r\n            radius: function (newRadius, innerRadius) {\r\n                var that = this;\r\n                if (innerRadius) {\r\n                    that.ir = newRadius;\r\n                } else {\r\n                    that.r = newRadius;\r\n                }\r\n                return that;\r\n            },\r\n            point: function (angle, innerRadius) {\r\n                var ring = this, radianAngle = angle * DEG_TO_RAD, ax = math.cos(radianAngle), ay = math.sin(radianAngle), radius = innerRadius ? ring.ir : ring.r, x = round(ring.c.x - ax * radius, COORD_PRECISION), y = round(ring.c.y - ay * radius, COORD_PRECISION);\r\n                return new Point2D(x, y);\r\n            },\r\n            adjacentBox: function (distance, width, height) {\r\n                var sector = this.clone().expand(distance), midAndle = sector.middle(), midPoint = sector.point(midAndle), hw = width / 2, hh = height / 2, x = midPoint.x - hw, y = midPoint.y - hh, sa = math.sin(midAndle * DEG_TO_RAD), ca = math.cos(midAndle * DEG_TO_RAD);\r\n                if (math.abs(sa) < 0.9) {\r\n                    x += hw * -ca / math.abs(ca);\r\n                }\r\n                if (math.abs(ca) < 0.9) {\r\n                    y += hh * -sa / math.abs(sa);\r\n                }\r\n                return new Box2D(x, y, x + width, y + height);\r\n            },\r\n            containsPoint: function (p) {\r\n                var ring = this, c = ring.c, ir = ring.ir, r = ring.r, startAngle = ring.startAngle, endAngle = ring.startAngle + ring.angle, dx = p.x - c.x, dy = p.y - c.y, vector = new Point2D(dx, dy), startPoint = ring.point(startAngle), startVector = new Point2D(startPoint.x - c.x, startPoint.y - c.y), endPoint = ring.point(endAngle), endVector = new Point2D(endPoint.x - c.x, endPoint.y - c.y), dist = round(dx * dx + dy * dy, COORD_PRECISION);\r\n                return (startVector.equals(vector) || clockwise(startVector, vector)) && !clockwise(endVector, vector) && dist >= ir * ir && dist <= r * r;\r\n            },\r\n            getBBox: function () {\r\n                var ring = this, box = new Box2D(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE), sa = round(ring.startAngle % 360), ea = round((sa + ring.angle) % 360), innerRadius = ring.ir, allAngles = [\r\n                        0,\r\n                        90,\r\n                        180,\r\n                        270,\r\n                        sa,\r\n                        ea\r\n                    ].sort(numericComparer), saIndex = indexOf(sa, allAngles), eaIndex = indexOf(ea, allAngles), angles, i, point;\r\n                if (sa == ea) {\r\n                    angles = allAngles;\r\n                } else {\r\n                    if (saIndex < eaIndex) {\r\n                        angles = allAngles.slice(saIndex, eaIndex + 1);\r\n                    } else {\r\n                        angles = [].concat(allAngles.slice(0, eaIndex + 1), allAngles.slice(saIndex, allAngles.length));\r\n                    }\r\n                }\r\n                for (i = 0; i < angles.length; i++) {\r\n                    point = ring.point(angles[i]);\r\n                    box.wrapPoint(point);\r\n                    box.wrapPoint(point, innerRadius);\r\n                }\r\n                if (!innerRadius) {\r\n                    box.wrapPoint(ring.c);\r\n                }\r\n                return box;\r\n            },\r\n            expand: function (value) {\r\n                this.r += value;\r\n                return this;\r\n            }\r\n        });\r\n        var Sector = Ring.extend({\r\n            init: function (center, radius, startAngle, angle) {\r\n                Ring.fn.init.call(this, center, 0, radius, startAngle, angle);\r\n            },\r\n            expand: function (value) {\r\n                return Ring.fn.expand.call(this, value);\r\n            },\r\n            clone: function () {\r\n                var sector = this;\r\n                return new Sector(sector.c, sector.r, sector.startAngle, sector.angle);\r\n            },\r\n            radius: function (newRadius) {\r\n                return Ring.fn.radius.call(this, newRadius);\r\n            },\r\n            point: function (angle) {\r\n                return Ring.fn.point.call(this, angle);\r\n            }\r\n        });\r\n        var ShapeBuilder = function () {\r\n        };\r\n        ShapeBuilder.fn = ShapeBuilder.prototype = {\r\n            createRing: function (sector, options) {\r\n                var startAngle = sector.startAngle + 180;\r\n                var endAngle = sector.angle + startAngle;\r\n                var center = new geom.Point(sector.c.x, sector.c.y);\r\n                var radius = math.max(sector.r, 0);\r\n                var innerRadius = math.max(sector.ir, 0);\r\n                var arc = new geom.Arc(center, {\r\n                    startAngle: startAngle,\r\n                    endAngle: endAngle,\r\n                    radiusX: radius,\r\n                    radiusY: radius\r\n                });\r\n                var path = draw.Path.fromArc(arc, options).close();\r\n                if (innerRadius) {\r\n                    arc.radiusX = arc.radiusY = innerRadius;\r\n                    var innerEnd = arc.pointAt(endAngle);\r\n                    path.lineTo(innerEnd.x, innerEnd.y);\r\n                    path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\r\n                } else {\r\n                    path.lineTo(center.x, center.y);\r\n                }\r\n                return path;\r\n            }\r\n        };\r\n        ShapeBuilder.current = new ShapeBuilder();\r\n        var ChartElement = Class.extend({\r\n            init: function (options) {\r\n                var element = this;\r\n                element.children = [];\r\n                element.options = deepExtend({}, element.options, options);\r\n            },\r\n            reflow: function (targetBox) {\r\n                var element = this, children = element.children, box, i, currentChild;\r\n                for (i = 0; i < children.length; i++) {\r\n                    currentChild = children[i];\r\n                    currentChild.reflow(targetBox);\r\n                    box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\r\n                }\r\n                element.box = box || targetBox;\r\n            },\r\n            destroy: function () {\r\n                var element = this, children = element.children, i;\r\n                if (this.animation) {\r\n                    this.animation.destroy();\r\n                }\r\n                for (i = 0; i < children.length; i++) {\r\n                    children[i].destroy();\r\n                }\r\n            },\r\n            getRoot: function () {\r\n                var parent = this.parent;\r\n                return parent ? parent.getRoot() : null;\r\n            },\r\n            getChart: function () {\r\n                var root = this.getRoot();\r\n                if (root) {\r\n                    return root.chart;\r\n                }\r\n            },\r\n            translateChildren: function (dx, dy) {\r\n                var element = this, children = element.children, childrenCount = children.length, i;\r\n                for (i = 0; i < childrenCount; i++) {\r\n                    children[i].box.translate(dx, dy);\r\n                }\r\n            },\r\n            append: function () {\r\n                append(this.children, arguments);\r\n                for (var i = 0; i < arguments.length; i++) {\r\n                    arguments[i].parent = this;\r\n                }\r\n            },\r\n            renderVisual: function () {\r\n                if (this.options.visible === false) {\r\n                    return;\r\n                }\r\n                this.createVisual();\r\n                this.addVisual();\r\n                this.renderChildren();\r\n                this.createAnimation();\r\n                this.renderComplete();\r\n            },\r\n            addVisual: function () {\r\n                if (this.visual) {\r\n                    this.visual.chartElement = this;\r\n                    if (this.parent) {\r\n                        this.parent.appendVisual(this.visual);\r\n                    }\r\n                }\r\n            },\r\n            renderChildren: function () {\r\n                var children = this.children;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    children[i].renderVisual();\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                this.visual = new dataviz.drawing.Group({\r\n                    zIndex: this.options.zIndex,\r\n                    visible: valueOrDefault(this.options.visible, true)\r\n                });\r\n            },\r\n            createAnimation: function () {\r\n                if (this.visual) {\r\n                    this.animation = draw.Animation.create(this.visual, this.options.animation);\r\n                }\r\n            },\r\n            appendVisual: function (childVisual) {\r\n                if (!childVisual.chartElement) {\r\n                    childVisual.chartElement = this;\r\n                }\r\n                if (childVisual.options.noclip) {\r\n                    this.clipRoot().visual.append(childVisual);\r\n                } else if (defined(childVisual.options.zIndex)) {\r\n                    this.stackRoot().stackVisual(childVisual);\r\n                } else if (this.visual) {\r\n                    this.visual.append(childVisual);\r\n                } else {\r\n                    this.parent.appendVisual(childVisual);\r\n                }\r\n            },\r\n            clipRoot: function () {\r\n                if (this.parent) {\r\n                    return this.parent.clipRoot();\r\n                }\r\n                return this;\r\n            },\r\n            stackRoot: function () {\r\n                if (this.parent) {\r\n                    return this.parent.stackRoot();\r\n                }\r\n                return this;\r\n            },\r\n            stackVisual: function (childVisual) {\r\n                var zIndex = childVisual.options.zIndex || 0;\r\n                var visuals = this.visual.children;\r\n                for (var pos = 0; pos < visuals.length; pos++) {\r\n                    var sibling = visuals[pos];\r\n                    var here = valueOrDefault(sibling.options.zIndex, 0);\r\n                    if (here > zIndex) {\r\n                        break;\r\n                    }\r\n                }\r\n                this.visual.insertAt(childVisual, pos);\r\n            },\r\n            traverse: function (callback) {\r\n                var children = this.children;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    var child = children[i];\r\n                    callback(child);\r\n                    if (child.traverse) {\r\n                        child.traverse(callback);\r\n                    }\r\n                }\r\n            },\r\n            closest: function (match) {\r\n                var element = this;\r\n                var matched = false;\r\n                while (element && !matched) {\r\n                    matched = match(element);\r\n                    if (!matched) {\r\n                        element = element.parent;\r\n                    }\r\n                }\r\n                if (matched) {\r\n                    return element;\r\n                }\r\n            },\r\n            renderComplete: $.noop,\r\n            hasHighlight: function () {\r\n                var options = (this.options || {}).highlight;\r\n                return !(!this.createHighlight || options && options.visible === false);\r\n            },\r\n            toggleHighlight: function (show) {\r\n                var that = this;\r\n                var highlight = that._highlight;\r\n                var options = (that.options || {}).highlight;\r\n                var customVisual = (options || {}).visual;\r\n                if (!highlight) {\r\n                    var highlightOptions = {\r\n                        fill: {\r\n                            color: WHITE,\r\n                            opacity: 0.2\r\n                        },\r\n                        stroke: {\r\n                            color: WHITE,\r\n                            width: 1,\r\n                            opacity: 0.2\r\n                        }\r\n                    };\r\n                    if (customVisual) {\r\n                        highlight = that._highlight = customVisual($.extend(that.highlightVisualArgs(), {\r\n                            createVisual: function () {\r\n                                return that.createHighlight(highlightOptions);\r\n                            },\r\n                            sender: that.getChart(),\r\n                            series: that.series,\r\n                            dataItem: that.dataItem,\r\n                            category: that.category,\r\n                            value: that.value,\r\n                            percentage: that.percentage,\r\n                            runningTotal: that.runningTotal,\r\n                            total: that.total\r\n                        }));\r\n                        if (!highlight) {\r\n                            return;\r\n                        }\r\n                    } else {\r\n                        highlight = that._highlight = that.createHighlight(highlightOptions);\r\n                    }\r\n                    highlight.options.zIndex = that.options.zIndex;\r\n                    that.appendVisual(highlight);\r\n                }\r\n                highlight.visible(show);\r\n            },\r\n            createGradientOverlay: function (element, options, gradientOptions) {\r\n                var overlay = new draw.Path(deepExtend({\r\n                    stroke: { color: NONE },\r\n                    fill: this.createGradient(gradientOptions),\r\n                    closed: element.options.closed\r\n                }, options));\r\n                overlay.segments.elements(element.segments.elements());\r\n                return overlay;\r\n            },\r\n            createGradient: function (options) {\r\n                if (this.parent) {\r\n                    return this.parent.createGradient(options);\r\n                }\r\n            }\r\n        });\r\n        var RootElement = ChartElement.extend({\r\n            init: function (options) {\r\n                var root = this;\r\n                root.gradients = {};\r\n                ChartElement.fn.init.call(root, options);\r\n            },\r\n            options: {\r\n                width: DEFAULT_WIDTH,\r\n                height: DEFAULT_HEIGHT,\r\n                background: WHITE,\r\n                border: {\r\n                    color: BLACK,\r\n                    width: 0\r\n                },\r\n                margin: getSpacing(5),\r\n                zIndex: -2\r\n            },\r\n            reflow: function () {\r\n                var root = this, options = root.options, children = root.children, currentBox = new Box2D(0, 0, options.width, options.height);\r\n                root.box = currentBox.unpad(options.margin);\r\n                for (var i = 0; i < children.length; i++) {\r\n                    children[i].reflow(currentBox);\r\n                    currentBox = boxDiff(currentBox, children[i].box) || Box2D();\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                this.visual = new draw.Group();\r\n                this.createBackground();\r\n            },\r\n            createBackground: function () {\r\n                var options = this.options;\r\n                var border = options.border || {};\r\n                var box = this.box.clone().pad(options.margin).unpad(border.width);\r\n                var background = draw.Path.fromRect(box.toRect(), {\r\n                    stroke: {\r\n                        color: border.width ? border.color : '',\r\n                        width: border.width,\r\n                        dashType: border.dashType\r\n                    },\r\n                    fill: {\r\n                        color: options.background,\r\n                        opacity: options.opacity\r\n                    },\r\n                    zIndex: -10\r\n                });\r\n                this.visual.append(background);\r\n            },\r\n            getRoot: function () {\r\n                return this;\r\n            },\r\n            createGradient: function (options) {\r\n                var gradients = this.gradients;\r\n                var hashCode = util.objectKey(options);\r\n                var gradient = dataviz.Gradients[options.gradient];\r\n                var drawingGradient;\r\n                if (gradients[hashCode]) {\r\n                    drawingGradient = gradients[hashCode];\r\n                } else {\r\n                    var gradientOptions = deepExtend({}, gradient, options);\r\n                    if (gradient.type == 'linear') {\r\n                        drawingGradient = new draw.LinearGradient(gradientOptions);\r\n                    } else {\r\n                        if (options.innerRadius) {\r\n                            gradientOptions.stops = innerRadialStops(gradientOptions);\r\n                        }\r\n                        drawingGradient = new draw.RadialGradient(gradientOptions);\r\n                        drawingGradient.supportVML = gradient.supportVML !== false;\r\n                    }\r\n                    gradients[hashCode] = drawingGradient;\r\n                }\r\n                return drawingGradient;\r\n            }\r\n        });\r\n        var BoxElement = ChartElement.extend({\r\n            options: {\r\n                align: LEFT,\r\n                vAlign: TOP,\r\n                margin: {},\r\n                padding: {},\r\n                border: {\r\n                    color: BLACK,\r\n                    width: 0\r\n                },\r\n                background: '',\r\n                shrinkToFit: false,\r\n                width: 0,\r\n                height: 0,\r\n                visible: true\r\n            },\r\n            reflow: function (targetBox) {\r\n                var element = this, box, contentBox, options = element.options, width = options.width, height = options.height, hasSetSize = width && height, shrinkToFit = options.shrinkToFit, margin = getSpacing(options.margin), padding = getSpacing(options.padding), borderWidth = options.border.width, children = element.children, i, item;\r\n                function reflowPaddingBox() {\r\n                    element.align(targetBox, X, options.align);\r\n                    element.align(targetBox, Y, options.vAlign);\r\n                    element.paddingBox = box.clone().unpad(margin).unpad(borderWidth);\r\n                }\r\n                contentBox = targetBox.clone();\r\n                if (hasSetSize) {\r\n                    contentBox.x2 = contentBox.x1 + width;\r\n                    contentBox.y2 = contentBox.y1 + height;\r\n                }\r\n                if (shrinkToFit) {\r\n                    contentBox.unpad(margin).unpad(borderWidth).unpad(padding);\r\n                }\r\n                ChartElement.fn.reflow.call(element, contentBox);\r\n                if (hasSetSize) {\r\n                    box = element.box = Box2D(0, 0, width, height);\r\n                } else {\r\n                    box = element.box;\r\n                }\r\n                if (shrinkToFit && hasSetSize) {\r\n                    reflowPaddingBox();\r\n                    contentBox = element.contentBox = element.paddingBox.clone().unpad(padding);\r\n                } else {\r\n                    contentBox = element.contentBox = box.clone();\r\n                    box.pad(padding).pad(borderWidth).pad(margin);\r\n                    reflowPaddingBox();\r\n                }\r\n                element.translateChildren(box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left, box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top);\r\n                for (i = 0; i < children.length; i++) {\r\n                    item = children[i];\r\n                    item.reflow(item.box);\r\n                }\r\n            },\r\n            align: function (targetBox, axis, alignment) {\r\n                this.box.align(targetBox, axis, alignment);\r\n            },\r\n            hasBox: function () {\r\n                var options = this.options;\r\n                return options.border.width || options.background;\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                var options = this.options;\r\n                if (options.visible && this.hasBox()) {\r\n                    this.visual.append(draw.Path.fromRect(this.paddingBox.toRect(), this.visualStyle()));\r\n                }\r\n            },\r\n            visualStyle: function () {\r\n                var boxElement = this, options = boxElement.options, border = options.border || {};\r\n                return {\r\n                    stroke: {\r\n                        width: border.width,\r\n                        color: border.color,\r\n                        opacity: valueOrDefault(border.opacity, options.opacity),\r\n                        dashType: border.dashType\r\n                    },\r\n                    fill: {\r\n                        color: options.background,\r\n                        opacity: options.opacity\r\n                    },\r\n                    cursor: options.cursor\r\n                };\r\n            }\r\n        });\r\n        var Text = ChartElement.extend({\r\n            init: function (content, options) {\r\n                var text = this;\r\n                ChartElement.fn.init.call(text, options);\r\n                text.content = content;\r\n                text.reflow(Box2D());\r\n            },\r\n            options: {\r\n                font: DEFAULT_FONT,\r\n                color: BLACK,\r\n                align: LEFT,\r\n                vAlign: ''\r\n            },\r\n            reflow: function (targetBox) {\r\n                var text = this, options = text.options, size;\r\n                size = options.size = measureText(text.content, { font: options.font });\r\n                text.baseline = size.baseline;\r\n                text.box = Box2D(targetBox.x1, targetBox.y1, targetBox.x1 + size.width, targetBox.y1 + size.height);\r\n            },\r\n            createVisual: function () {\r\n                var opt = this.options;\r\n                this.visual = new draw.Text(this.content, this.box.toRect().topLeft(), {\r\n                    font: opt.font,\r\n                    fill: {\r\n                        color: opt.color,\r\n                        opacity: opt.opacity\r\n                    },\r\n                    cursor: opt.cursor\r\n                });\r\n            }\r\n        });\r\n        var FloatElement = ChartElement.extend({\r\n            init: function (options) {\r\n                ChartElement.fn.init.call(this, options);\r\n                this._initDirection();\r\n            },\r\n            _initDirection: function () {\r\n                var options = this.options;\r\n                if (options.vertical) {\r\n                    this.groupAxis = X;\r\n                    this.elementAxis = Y;\r\n                    this.groupSizeField = WIDTH;\r\n                    this.elementSizeField = HEIGHT;\r\n                    this.groupSpacing = options.spacing;\r\n                    this.elementSpacing = options.vSpacing;\r\n                } else {\r\n                    this.groupAxis = Y;\r\n                    this.elementAxis = X;\r\n                    this.groupSizeField = HEIGHT;\r\n                    this.elementSizeField = WIDTH;\r\n                    this.groupSpacing = options.vSpacing;\r\n                    this.elementSpacing = options.spacing;\r\n                }\r\n            },\r\n            options: {\r\n                vertical: true,\r\n                wrap: true,\r\n                vSpacing: 0,\r\n                spacing: 0\r\n            },\r\n            reflow: function (targetBox) {\r\n                this.box = targetBox.clone();\r\n                this.reflowChildren();\r\n            },\r\n            reflowChildren: function () {\r\n                var floatElement = this;\r\n                var box = floatElement.box;\r\n                var elementAxis = floatElement.elementAxis;\r\n                var groupAxis = floatElement.groupAxis;\r\n                var elementSizeField = floatElement.elementSizeField;\r\n                var groupSizeField = floatElement.groupSizeField;\r\n                var groupOptions = floatElement.groupOptions();\r\n                var groups = groupOptions.groups;\r\n                var groupsCount = groups.length;\r\n                var groupsStart = box[groupAxis + 1] + floatElement.alignStart(groupOptions.groupsSize, box[groupSizeField]());\r\n                var groupStart = groupsStart;\r\n                var elementStart;\r\n                var groupElementStart;\r\n                var group;\r\n                var groupElements;\r\n                var groupElementsCount;\r\n                var idx;\r\n                var groupIdx;\r\n                var element;\r\n                var elementBox;\r\n                var elementSize;\r\n                if (groupsCount) {\r\n                    for (groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\r\n                        group = groups[groupIdx];\r\n                        groupElements = group.groupElements;\r\n                        groupElementsCount = groupElements.length;\r\n                        elementStart = box[elementAxis + 1];\r\n                        for (idx = 0; idx < groupElementsCount; idx++) {\r\n                            element = groupElements[idx];\r\n                            elementSize = floatElement.elementSize(element);\r\n                            groupElementStart = groupStart + floatElement.alignStart(elementSize[groupSizeField], group.groupSize);\r\n                            elementBox = Box2D();\r\n                            elementBox[groupAxis + 1] = groupElementStart;\r\n                            elementBox[groupAxis + 2] = groupElementStart + elementSize[groupSizeField];\r\n                            elementBox[elementAxis + 1] = elementStart;\r\n                            elementBox[elementAxis + 2] = elementStart + elementSize[elementSizeField];\r\n                            element.reflow(elementBox);\r\n                            elementStart += elementSize[elementSizeField] + floatElement.elementSpacing;\r\n                        }\r\n                        groupStart += group.groupSize + floatElement.groupSpacing;\r\n                    }\r\n                    box[groupAxis + 1] = groupsStart;\r\n                    box[groupAxis + 2] = groupsStart + groupOptions.groupsSize;\r\n                    box[elementAxis + 2] = box[elementAxis + 1] + groupOptions.maxGroupElementsSize;\r\n                }\r\n            },\r\n            alignStart: function (size, maxSize) {\r\n                var start = 0;\r\n                var align = this.options.align;\r\n                if (align == RIGHT || align == BOTTOM) {\r\n                    start = maxSize - size;\r\n                } else if (align == CENTER) {\r\n                    start = (maxSize - size) / 2;\r\n                }\r\n                return start;\r\n            },\r\n            groupOptions: function () {\r\n                var floatElement = this;\r\n                var box = floatElement.box;\r\n                var children = floatElement.children;\r\n                var childrenCount = children.length;\r\n                var elementSizeField = this.elementSizeField;\r\n                var groupSizeField = this.groupSizeField;\r\n                var elementSpacing = this.elementSpacing;\r\n                var groupSpacing = this.groupSpacing;\r\n                var maxSize = round(box[elementSizeField]());\r\n                var idx = 0;\r\n                var groupSize = 0;\r\n                var elementSize;\r\n                var element;\r\n                var groupElementsSize = 0;\r\n                var groupsSize = 0;\r\n                var groups = [];\r\n                var groupElements = [];\r\n                var maxGroupElementsSize = 0;\r\n                for (idx = 0; idx < childrenCount; idx++) {\r\n                    element = children[idx];\r\n                    if (!element.box) {\r\n                        element.reflow(box);\r\n                    }\r\n                    elementSize = this.elementSize(element);\r\n                    if (floatElement.options.wrap && round(groupElementsSize + elementSpacing + elementSize[elementSizeField]) > maxSize) {\r\n                        groups.push({\r\n                            groupElements: groupElements,\r\n                            groupSize: groupSize,\r\n                            groupElementsSize: groupElementsSize\r\n                        });\r\n                        maxGroupElementsSize = math.max(maxGroupElementsSize, groupElementsSize);\r\n                        groupsSize += groupSpacing + groupSize;\r\n                        groupSize = 0;\r\n                        groupElementsSize = 0;\r\n                        groupElements = [];\r\n                    }\r\n                    groupSize = math.max(groupSize, elementSize[groupSizeField]);\r\n                    if (groupElementsSize > 0) {\r\n                        groupElementsSize += elementSpacing;\r\n                    }\r\n                    groupElementsSize += elementSize[elementSizeField];\r\n                    groupElements.push(element);\r\n                }\r\n                groups.push({\r\n                    groupElements: groupElements,\r\n                    groupSize: groupSize,\r\n                    groupElementsSize: groupElementsSize\r\n                });\r\n                maxGroupElementsSize = math.max(maxGroupElementsSize, groupElementsSize);\r\n                groupsSize += groupSize;\r\n                return {\r\n                    groups: groups,\r\n                    groupsSize: groupsSize,\r\n                    maxGroupElementsSize: maxGroupElementsSize\r\n                };\r\n            },\r\n            elementSize: function (element) {\r\n                return {\r\n                    width: element.box.width(),\r\n                    height: element.box.height()\r\n                };\r\n            },\r\n            createVisual: noop\r\n        });\r\n        var TextBox = BoxElement.extend({\r\n            ROWS_SPLIT_REGEX: /\\n|\\\\n/m,\r\n            init: function (content, options) {\r\n                var textbox = this;\r\n                textbox.content = content;\r\n                BoxElement.fn.init.call(textbox, options);\r\n                textbox._initContainer();\r\n                textbox.reflow(Box2D());\r\n            },\r\n            _initContainer: function () {\r\n                var textbox = this;\r\n                var options = textbox.options;\r\n                var rows = (textbox.content + '').split(textbox.ROWS_SPLIT_REGEX);\r\n                var floatElement = new FloatElement({\r\n                    vertical: true,\r\n                    align: options.align,\r\n                    wrap: false\r\n                });\r\n                var textOptions = deepExtend({}, options, {\r\n                    opacity: 1,\r\n                    animation: null\r\n                });\r\n                var text;\r\n                var rowIdx;\r\n                textbox.container = floatElement;\r\n                textbox.append(floatElement);\r\n                for (rowIdx = 0; rowIdx < rows.length; rowIdx++) {\r\n                    text = new Text(trim(rows[rowIdx]), textOptions);\r\n                    floatElement.append(text);\r\n                }\r\n            },\r\n            reflow: function (targetBox) {\r\n                var options = this.options;\r\n                var visualFn = options.visual;\r\n                this.container.options.align = options.align;\r\n                if (visualFn && !this._boxReflow) {\r\n                    if (!targetBox.hasSize()) {\r\n                        this._boxReflow = true;\r\n                        this.reflow(targetBox);\r\n                        this._boxReflow = false;\r\n                        targetBox = this.box;\r\n                    }\r\n                    this.visual = visualFn(this.visualContext(targetBox));\r\n                    var visualBox = targetBox;\r\n                    if (this.visual) {\r\n                        visualBox = rectToBox(this.visual.clippedBBox() || new geom.Rect());\r\n                        this.visual.options.zIndex = options.zIndex;\r\n                        this.visual.options.noclip = options.noclip;\r\n                    }\r\n                    this.box = this.contentBox = this.paddingBox = visualBox;\r\n                } else {\r\n                    BoxElement.fn.reflow.call(this, targetBox);\r\n                    if (options.rotation) {\r\n                        var margin = getSpacing(options.margin);\r\n                        var box = this.box.unpad(margin);\r\n                        this.targetBox = targetBox;\r\n                        this.normalBox = box.clone();\r\n                        box = this.rotate();\r\n                        box.translate(margin.left - margin.right, margin.top - margin.bottom);\r\n                        this.rotatedBox = box.clone();\r\n                        box.pad(margin);\r\n                    }\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                var options = this.options;\r\n                if (!options.visible) {\r\n                    return;\r\n                }\r\n                this.visual = new dataviz.drawing.Group({\r\n                    transform: this.rotationTransform(),\r\n                    zIndex: options.zIndex,\r\n                    noclip: options.noclip\r\n                });\r\n                if (this.hasBox()) {\r\n                    var box = draw.Path.fromRect(this.paddingBox.toRect(), this.visualStyle());\r\n                    this.visual.append(box);\r\n                }\r\n            },\r\n            renderVisual: function () {\r\n                if (this.options.visual) {\r\n                    this.addVisual();\r\n                    this.createAnimation();\r\n                } else {\r\n                    BoxElement.fn.renderVisual.call(this);\r\n                }\r\n            },\r\n            visualOptions: function () {\r\n                var options = this.options;\r\n                return {\r\n                    background: options.background,\r\n                    border: options.border,\r\n                    color: options.color,\r\n                    font: options.font,\r\n                    margin: options.margin,\r\n                    padding: options.padding,\r\n                    visible: options.visible\r\n                };\r\n            },\r\n            visualContext: function (targetBox) {\r\n                var textbox = this;\r\n                return {\r\n                    text: textbox.content,\r\n                    rect: targetBox.toRect(),\r\n                    sender: this.getChart(),\r\n                    options: textbox.visualOptions(),\r\n                    createVisual: function () {\r\n                        textbox._boxReflow = true;\r\n                        textbox.reflow(targetBox);\r\n                        textbox._boxReflow = false;\r\n                        return textbox.getDefaultVisual();\r\n                    }\r\n                };\r\n            },\r\n            getDefaultVisual: function () {\r\n                this.createVisual();\r\n                this.renderChildren();\r\n                var visual = this.visual;\r\n                delete this.visual;\r\n                return visual;\r\n            },\r\n            rotate: function () {\r\n                var options = this.options;\r\n                this.box.rotate(options.rotation);\r\n                this.align(this.targetBox, X, options.align);\r\n                this.align(this.targetBox, Y, options.vAlign);\r\n                return this.box;\r\n            },\r\n            rotationTransform: function () {\r\n                var rotation = this.options.rotation;\r\n                if (!rotation) {\r\n                    return null;\r\n                }\r\n                var center = this.normalBox.center();\r\n                var cx = center.x;\r\n                var cy = center.y;\r\n                var boxCenter = this.rotatedBox.center();\r\n                return geom.transform().translate(boxCenter.x - cx, boxCenter.y - cy).rotate(rotation, [\r\n                    cx,\r\n                    cy\r\n                ]);\r\n            }\r\n        });\r\n        var Title = ChartElement.extend({\r\n            init: function (options) {\r\n                var title = this;\r\n                ChartElement.fn.init.call(title, options);\r\n                options = title.options;\r\n                title.append(new TextBox(options.text, deepExtend({}, options, { vAlign: options.position })));\r\n            },\r\n            options: {\r\n                color: BLACK,\r\n                position: TOP,\r\n                align: CENTER,\r\n                margin: getSpacing(5),\r\n                padding: getSpacing(5)\r\n            },\r\n            reflow: function (targetBox) {\r\n                var title = this;\r\n                ChartElement.fn.reflow.call(title, targetBox);\r\n                title.box.snapTo(targetBox, X);\r\n            }\r\n        });\r\n        Title.buildTitle = function (options, parent, defaultOptions) {\r\n            var title;\r\n            if (typeof options === 'string') {\r\n                options = { text: options };\r\n            }\r\n            options = deepExtend({ visible: true }, defaultOptions, options);\r\n            if (options && options.visible && options.text) {\r\n                title = new Title(options);\r\n                parent.append(title);\r\n            }\r\n            return title;\r\n        };\r\n        var AxisLabel = TextBox.extend({\r\n            init: function (value, text, index, dataItem, options) {\r\n                var label = this;\r\n                label.text = text;\r\n                label.value = value;\r\n                label.index = index;\r\n                label.dataItem = dataItem;\r\n                TextBox.fn.init.call(label, text, options);\r\n            },\r\n            visualContext: function (targetBox) {\r\n                var context = TextBox.fn.visualContext.call(this, targetBox);\r\n                context.value = this.value;\r\n                context.dataItem = this.dataItem;\r\n                context.format = this.options.format;\r\n                context.culture = this.options.culture;\r\n                return context;\r\n            },\r\n            click: function (widget, e) {\r\n                var label = this;\r\n                widget.trigger(AXIS_LABEL_CLICK, {\r\n                    element: eventTargetElement(e),\r\n                    value: label.value,\r\n                    text: label.text,\r\n                    index: label.index,\r\n                    dataItem: label.dataItem,\r\n                    axis: label.parent.options\r\n                });\r\n            },\r\n            rotate: function () {\r\n                if (this.options.alignRotation != CENTER) {\r\n                    var box = this.normalBox.toRect();\r\n                    var transform = this.rotationTransform();\r\n                    this.box = rectToBox(box.bbox(transform.matrix()));\r\n                } else {\r\n                    TextBox.fn.rotate.call(this);\r\n                }\r\n                return this.box;\r\n            },\r\n            rotationTransform: function () {\r\n                var options = this.options;\r\n                var rotation = options.rotation;\r\n                if (!rotation) {\r\n                    return null;\r\n                }\r\n                if (options.alignRotation == CENTER) {\r\n                    return TextBox.fn.rotationTransform.call(this);\r\n                }\r\n                var rotationMatrix = geom.transform().rotate(rotation).matrix();\r\n                var box = this.normalBox.toRect();\r\n                var rect = this.targetBox.toRect();\r\n                var rotationOrigin = options.rotationOrigin || TOP;\r\n                var alignAxis = rotationOrigin == TOP || rotationOrigin == BOTTOM ? X : Y;\r\n                var distanceAxis = rotationOrigin == TOP || rotationOrigin == BOTTOM ? Y : X;\r\n                var axisAnchor = rotationOrigin == TOP || rotationOrigin == LEFT ? rect.origin : rect.bottomRight();\r\n                var topLeft = box.topLeft().transformCopy(rotationMatrix);\r\n                var topRight = box.topRight().transformCopy(rotationMatrix);\r\n                var bottomRight = box.bottomRight().transformCopy(rotationMatrix);\r\n                var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);\r\n                var rotatedBox = geom.Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);\r\n                var translate = {};\r\n                translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];\r\n                var distanceLeft = math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\r\n                var distanceRight = math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\r\n                var alignStart;\r\n                var alignEnd;\r\n                if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {\r\n                    alignStart = topLeft;\r\n                    alignEnd = topRight;\r\n                } else if (distanceRight < distanceLeft) {\r\n                    alignStart = topRight;\r\n                    alignEnd = bottomRight;\r\n                } else {\r\n                    alignStart = topLeft;\r\n                    alignEnd = bottomLeft;\r\n                }\r\n                var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;\r\n                translate[alignAxis] = rect.center()[alignAxis] - alignCenter;\r\n                return geom.transform().translate(translate.x, translate.y).rotate(rotation);\r\n            }\r\n        });\r\n        function createAxisTick(options, tickOptions) {\r\n            var tickX = options.tickX, tickY = options.tickY, position = options.position;\r\n            var tick = new draw.Path({\r\n                stroke: {\r\n                    width: tickOptions.width,\r\n                    color: tickOptions.color\r\n                }\r\n            });\r\n            if (options.vertical) {\r\n                tick.moveTo(tickX, position).lineTo(tickX + tickOptions.size, position);\r\n            } else {\r\n                tick.moveTo(position, tickY).lineTo(position, tickY + tickOptions.size);\r\n            }\r\n            alignPathToPixel(tick);\r\n            return tick;\r\n        }\r\n        function createAxisGridLine(options, gridLine) {\r\n            var lineStart = options.lineStart, lineEnd = options.lineEnd, position = options.position;\r\n            var line = new draw.Path({\r\n                stroke: {\r\n                    width: gridLine.width,\r\n                    color: gridLine.color,\r\n                    dashType: gridLine.dashType\r\n                }\r\n            });\r\n            if (options.vertical) {\r\n                line.moveTo(lineStart, position).lineTo(lineEnd, position);\r\n            } else {\r\n                line.moveTo(position, lineStart).lineTo(position, lineEnd);\r\n            }\r\n            alignPathToPixel(line);\r\n            return line;\r\n        }\r\n        var Axis = ChartElement.extend({\r\n            init: function (options) {\r\n                var axis = this;\r\n                ChartElement.fn.init.call(axis, options);\r\n                if (!axis.options.visible) {\r\n                    axis.options = deepExtend({}, axis.options, {\r\n                        labels: { visible: false },\r\n                        line: { visible: false },\r\n                        margin: 0,\r\n                        majorTickSize: 0,\r\n                        minorTickSize: 0\r\n                    });\r\n                }\r\n                axis.options.minorTicks = deepExtend({}, {\r\n                    color: axis.options.line.color,\r\n                    width: axis.options.line.width,\r\n                    visible: axis.options.minorTickType != NONE\r\n                }, axis.options.minorTicks, {\r\n                    size: axis.options.minorTickSize,\r\n                    align: axis.options.minorTickType\r\n                });\r\n                axis.options.majorTicks = deepExtend({}, {\r\n                    color: axis.options.line.color,\r\n                    width: axis.options.line.width,\r\n                    visible: axis.options.majorTickType != NONE\r\n                }, axis.options.majorTicks, {\r\n                    size: axis.options.majorTickSize,\r\n                    align: axis.options.majorTickType\r\n                });\r\n                if (!this.options._deferLabels) {\r\n                    axis.createLabels();\r\n                }\r\n                axis.createTitle();\r\n                axis.createNotes();\r\n            },\r\n            options: {\r\n                labels: {\r\n                    visible: true,\r\n                    rotation: 0,\r\n                    mirror: false,\r\n                    step: 1,\r\n                    skip: 0\r\n                },\r\n                line: {\r\n                    width: 1,\r\n                    color: BLACK,\r\n                    visible: true\r\n                },\r\n                title: {\r\n                    visible: true,\r\n                    position: CENTER\r\n                },\r\n                majorTicks: {\r\n                    align: OUTSIDE,\r\n                    size: 4,\r\n                    skip: 0,\r\n                    step: 1\r\n                },\r\n                minorTicks: {\r\n                    align: OUTSIDE,\r\n                    size: 3,\r\n                    skip: 0,\r\n                    step: 1\r\n                },\r\n                axisCrossingValue: 0,\r\n                majorTickType: OUTSIDE,\r\n                minorTickType: NONE,\r\n                majorGridLines: {\r\n                    skip: 0,\r\n                    step: 1\r\n                },\r\n                minorGridLines: {\r\n                    visible: false,\r\n                    width: 1,\r\n                    color: BLACK,\r\n                    skip: 0,\r\n                    step: 1\r\n                },\r\n                margin: 5,\r\n                visible: true,\r\n                reverse: false,\r\n                justified: true,\r\n                notes: { label: { text: '' } },\r\n                _alignLines: true,\r\n                _deferLabels: false\r\n            },\r\n            labelsRange: function () {\r\n                return {\r\n                    min: this.options.labels.skip,\r\n                    max: this.labelsCount()\r\n                };\r\n            },\r\n            createLabels: function () {\r\n                var axis = this, options = axis.options, align = options.vertical ? RIGHT : CENTER, labelOptions = deepExtend({}, options.labels, {\r\n                        align: align,\r\n                        zIndex: options.zIndex\r\n                    }), step = math.max(1, labelOptions.step);\r\n                axis.children = $.grep(axis.children, function (child) {\r\n                    return !(child instanceof AxisLabel);\r\n                });\r\n                axis.labels = [];\r\n                if (labelOptions.visible) {\r\n                    var range = axis.labelsRange(), rotation = labelOptions.rotation, label, i;\r\n                    if (isPlainObject(rotation)) {\r\n                        labelOptions.alignRotation = rotation.align;\r\n                        labelOptions.rotation = rotation.angle;\r\n                    }\r\n                    if (labelOptions.rotation == 'auto') {\r\n                        labelOptions.rotation = 0;\r\n                        options.autoRotateLabels = true;\r\n                    }\r\n                    for (i = range.min; i < range.max; i += step) {\r\n                        label = axis.createAxisLabel(i, labelOptions);\r\n                        if (label) {\r\n                            axis.append(label);\r\n                            axis.labels.push(label);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            lineBox: function () {\r\n                var axis = this, options = axis.options, box = axis.box, vertical = options.vertical, mirror = options.labels.mirror, axisX = mirror ? box.x1 : box.x2, axisY = mirror ? box.y2 : box.y1, lineWidth = options.line.width || 0;\r\n                return vertical ? Box2D(axisX, box.y1, axisX, box.y2 - lineWidth) : Box2D(box.x1, axisY, box.x2 - lineWidth, axisY);\r\n            },\r\n            createTitle: function () {\r\n                var axis = this, options = axis.options, titleOptions = deepExtend({\r\n                        rotation: options.vertical ? -90 : 0,\r\n                        text: '',\r\n                        zIndex: 1,\r\n                        visualSize: true\r\n                    }, options.title), title;\r\n                if (titleOptions.visible && titleOptions.text) {\r\n                    title = new TextBox(titleOptions.text, titleOptions);\r\n                    axis.append(title);\r\n                    axis.title = title;\r\n                }\r\n            },\r\n            createNotes: function () {\r\n                var axis = this, options = axis.options, notes = options.notes, items = notes.data || [], i, item, note;\r\n                axis.notes = [];\r\n                for (i = 0; i < items.length; i++) {\r\n                    item = deepExtend({}, notes, items[i]);\r\n                    item.value = axis.parseNoteValue(item.value);\r\n                    note = new Note(item.value, item.label.text, item, null, null, item);\r\n                    if (note.options.visible) {\r\n                        if (defined(note.options.position)) {\r\n                            if (options.vertical && !inArray(note.options.position, [\r\n                                    LEFT,\r\n                                    RIGHT\r\n                                ])) {\r\n                                note.options.position = options.reverse ? LEFT : RIGHT;\r\n                            } else if (!options.vertical && !inArray(note.options.position, [\r\n                                    TOP,\r\n                                    BOTTOM\r\n                                ])) {\r\n                                note.options.position = options.reverse ? BOTTOM : TOP;\r\n                            }\r\n                        } else {\r\n                            if (options.vertical) {\r\n                                note.options.position = options.reverse ? LEFT : RIGHT;\r\n                            } else {\r\n                                note.options.position = options.reverse ? BOTTOM : TOP;\r\n                            }\r\n                        }\r\n                        axis.append(note);\r\n                        axis.notes.push(note);\r\n                    }\r\n                }\r\n            },\r\n            parseNoteValue: function (value) {\r\n                return value;\r\n            },\r\n            renderVisual: function () {\r\n                ChartElement.fn.renderVisual.call(this);\r\n                this.createPlotBands();\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                this.createBackground();\r\n                this.createLine();\r\n            },\r\n            gridLinesVisual: function () {\r\n                var gridLines = this._gridLines;\r\n                if (!gridLines) {\r\n                    gridLines = this._gridLines = new draw.Group({ zIndex: -2 });\r\n                    this.appendVisual(this._gridLines);\r\n                }\r\n                return gridLines;\r\n            },\r\n            createTicks: function (lineGroup) {\r\n                var axis = this, options = axis.options, lineBox = axis.lineBox(), mirror = options.labels.mirror, majorUnit = options.majorTicks.visible ? options.majorUnit : 0, tickLineOptions = { vertical: options.vertical };\r\n                function render(tickPositions, tickOptions, skipUnit) {\r\n                    var count = tickPositions.length;\r\n                    var step = math.max(1, tickOptions.step);\r\n                    if (tickOptions.visible) {\r\n                        for (var i = tickOptions.skip; i < count; i += step) {\r\n                            if (defined(skipUnit) && i % skipUnit === 0) {\r\n                                continue;\r\n                            }\r\n                            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\r\n                            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\r\n                            tickLineOptions.position = tickPositions[i];\r\n                            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\r\n                        }\r\n                    }\r\n                }\r\n                render(axis.getMajorTickPositions(), options.majorTicks);\r\n                render(axis.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);\r\n            },\r\n            createLine: function () {\r\n                var axis = this, options = axis.options, line = options.line, lineBox = axis.lineBox();\r\n                if (line.width > 0 && line.visible) {\r\n                    var path = new draw.Path({\r\n                        stroke: {\r\n                            width: line.width,\r\n                            color: line.color,\r\n                            dashType: line.dashType\r\n                        }\r\n                    });\r\n                    path.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\r\n                    if (options._alignLines) {\r\n                        alignPathToPixel(path);\r\n                    }\r\n                    var group = this._lineGroup = new draw.Group();\r\n                    group.append(path);\r\n                    this.visual.append(group);\r\n                    this.createTicks(group);\r\n                }\r\n            },\r\n            getActualTickSize: function () {\r\n                var axis = this, options = axis.options, tickSize = 0;\r\n                if (options.majorTicks.visible && options.minorTicks.visible) {\r\n                    tickSize = math.max(options.majorTicks.size, options.minorTicks.size);\r\n                } else if (options.majorTicks.visible) {\r\n                    tickSize = options.majorTicks.size;\r\n                } else if (options.minorTicks.visible) {\r\n                    tickSize = options.minorTicks.size;\r\n                }\r\n                return tickSize;\r\n            },\r\n            createBackground: function () {\r\n                var axis = this, options = axis.options, background = options.background, box = axis.box;\r\n                if (background) {\r\n                    axis._backgroundPath = draw.Path.fromRect(box.toRect(), {\r\n                        fill: { color: background },\r\n                        stroke: null\r\n                    });\r\n                    this.visual.append(axis._backgroundPath);\r\n                }\r\n            },\r\n            createPlotBands: function () {\r\n                var axis = this, options = axis.options, plotBands = options.plotBands || [], vertical = options.vertical, plotArea = axis.plotArea, slotX, slotY, from, to;\r\n                if (plotBands.length === 0) {\r\n                    return;\r\n                }\r\n                var group = this._plotbandGroup = new draw.Group({ zIndex: -1 });\r\n                var altAxis = $.grep(axis.pane.axes, function (a) {\r\n                    return a.options.vertical !== axis.options.vertical;\r\n                })[0];\r\n                $.each(plotBands, function (i, item) {\r\n                    from = valueOrDefault(item.from, MIN_VALUE);\r\n                    to = valueOrDefault(item.to, MAX_VALUE);\r\n                    if (vertical) {\r\n                        slotX = (altAxis || plotArea.axisX).lineBox();\r\n                        slotY = axis.getSlot(item.from, item.to, true);\r\n                    } else {\r\n                        slotX = axis.getSlot(item.from, item.to, true);\r\n                        slotY = (altAxis || plotArea.axisY).lineBox();\r\n                    }\r\n                    if (slotX.width() !== 0 && slotY.height() !== 0) {\r\n                        var bandRect = new geom.Rect([\r\n                            slotX.x1,\r\n                            slotY.y1\r\n                        ], [\r\n                            slotX.width(),\r\n                            slotY.height()\r\n                        ]);\r\n                        var path = draw.Path.fromRect(bandRect, {\r\n                            fill: {\r\n                                color: item.color,\r\n                                opacity: item.opacity\r\n                            },\r\n                            stroke: null\r\n                        });\r\n                        group.append(path);\r\n                    }\r\n                });\r\n                axis.appendVisual(group);\r\n            },\r\n            createGridLines: function (altAxis) {\r\n                var axis = this, options = axis.options, axisLineVisible = altAxis.options.line.visible, majorGridLines = options.majorGridLines, majorUnit = majorGridLines.visible ? options.majorUnit : 0, vertical = options.vertical, lineBox = altAxis.lineBox(), linePos = lineBox[vertical ? 'y1' : 'x1'], lineOptions = {\r\n                        lineStart: lineBox[vertical ? 'x1' : 'y1'],\r\n                        lineEnd: lineBox[vertical ? 'x2' : 'y2'],\r\n                        vertical: vertical\r\n                    }, pos, majorTicks = [];\r\n                var container = this.gridLinesVisual();\r\n                function render(tickPositions, gridLine, skipUnit) {\r\n                    var count = tickPositions.length;\r\n                    var step = math.max(1, gridLine.step);\r\n                    if (gridLine.visible) {\r\n                        for (var i = gridLine.skip; i < count; i += step) {\r\n                            pos = round(tickPositions[i]);\r\n                            if (!inArray(pos, majorTicks)) {\r\n                                if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {\r\n                                    lineOptions.position = pos;\r\n                                    container.append(createAxisGridLine(lineOptions, gridLine));\r\n                                    majorTicks.push(pos);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                render(axis.getMajorTickPositions(), options.majorGridLines);\r\n                render(axis.getMinorTickPositions(), options.minorGridLines, majorUnit / options.minorUnit);\r\n                return container.children;\r\n            },\r\n            reflow: function (box) {\r\n                var axis = this, options = axis.options, vertical = options.vertical, labels = axis.labels, count = labels.length, title = axis.title, sizeFn = vertical ? WIDTH : HEIGHT, titleSize = title ? title.box[sizeFn]() : 0, space = axis.getActualTickSize() + options.margin + titleSize, maxLabelSize = 0, rootBox = (this.getRoot() || {}).box || box, boxSize = rootBox[sizeFn](), labelSize, i;\r\n                for (i = 0; i < count; i++) {\r\n                    labelSize = labels[i].box[sizeFn]();\r\n                    if (labelSize + space <= boxSize) {\r\n                        maxLabelSize = math.max(maxLabelSize, labelSize);\r\n                    }\r\n                }\r\n                if (vertical) {\r\n                    axis.box = Box2D(box.x1, box.y1, box.x1 + maxLabelSize + space, box.y2);\r\n                } else {\r\n                    axis.box = Box2D(box.x1, box.y1, box.x2, box.y1 + maxLabelSize + space);\r\n                }\r\n                axis.arrangeTitle();\r\n                axis.arrangeLabels();\r\n                axis.arrangeNotes();\r\n            },\r\n            getLabelsTickPositions: function () {\r\n                return this.getMajorTickPositions();\r\n            },\r\n            labelTickIndex: function (label) {\r\n                return label.index;\r\n            },\r\n            arrangeLabels: function () {\r\n                var axis = this, options = axis.options, labels = axis.labels, labelsBetweenTicks = !options.justified, vertical = options.vertical, lineBox = axis.lineBox(), mirror = options.labels.mirror, tickPositions = axis.getLabelsTickPositions(), labelOffset = axis.getActualTickSize() + options.margin, labelBox, labelY, i;\r\n                for (i = 0; i < labels.length; i++) {\r\n                    var label = labels[i], tickIx = axis.labelTickIndex(label), labelSize = vertical ? label.box.height() : label.box.width(), labelPos = tickPositions[tickIx] - labelSize / 2, firstTickPosition, nextTickPosition, middle, labelX;\r\n                    if (vertical) {\r\n                        if (labelsBetweenTicks) {\r\n                            firstTickPosition = tickPositions[tickIx];\r\n                            nextTickPosition = tickPositions[tickIx + 1];\r\n                            middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;\r\n                            labelPos = middle - labelSize / 2;\r\n                        }\r\n                        labelX = lineBox.x2;\r\n                        if (mirror) {\r\n                            labelX += labelOffset;\r\n                            label.options.rotationOrigin = LEFT;\r\n                        } else {\r\n                            labelX -= labelOffset + label.box.width();\r\n                            label.options.rotationOrigin = RIGHT;\r\n                        }\r\n                        labelBox = label.box.move(labelX, labelPos);\r\n                    } else {\r\n                        if (labelsBetweenTicks) {\r\n                            firstTickPosition = tickPositions[tickIx];\r\n                            nextTickPosition = tickPositions[tickIx + 1];\r\n                        } else {\r\n                            firstTickPosition = labelPos;\r\n                            nextTickPosition = labelPos + labelSize;\r\n                        }\r\n                        labelY = lineBox.y1;\r\n                        if (mirror) {\r\n                            labelY -= labelOffset + label.box.height();\r\n                            label.options.rotationOrigin = BOTTOM;\r\n                        } else {\r\n                            labelY += labelOffset;\r\n                            label.options.rotationOrigin = TOP;\r\n                        }\r\n                        labelBox = Box2D(firstTickPosition, labelY, nextTickPosition, labelY + label.box.height());\r\n                    }\r\n                    label.reflow(labelBox);\r\n                }\r\n            },\r\n            autoRotateLabels: function () {\r\n                if (this.options.autoRotateLabels && !this.options.vertical) {\r\n                    var tickPositions = this.getMajorTickPositions();\r\n                    var labels = this.labels;\r\n                    var labelBox, angle, width, idx;\r\n                    for (idx = 0; idx < labels.length; idx++) {\r\n                        width = tickPositions[idx + 1] - tickPositions[idx];\r\n                        labelBox = labels[idx].box;\r\n                        if (labelBox.width() > width) {\r\n                            if (labelBox.height() > width) {\r\n                                angle = -90;\r\n                                break;\r\n                            }\r\n                            angle = -45;\r\n                        }\r\n                    }\r\n                    if (angle) {\r\n                        for (idx = 0; idx < labels.length; idx++) {\r\n                            labels[idx].options.rotation = angle;\r\n                            labels[idx].reflow(Box2D());\r\n                        }\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            arrangeTitle: function () {\r\n                var axis = this, options = axis.options, mirror = options.labels.mirror, vertical = options.vertical, title = axis.title;\r\n                if (title) {\r\n                    if (vertical) {\r\n                        title.options.align = mirror ? RIGHT : LEFT;\r\n                        title.options.vAlign = title.options.position;\r\n                    } else {\r\n                        title.options.align = title.options.position;\r\n                        title.options.vAlign = mirror ? TOP : BOTTOM;\r\n                    }\r\n                    title.reflow(axis.box);\r\n                }\r\n            },\r\n            arrangeNotes: function () {\r\n                var axis = this, i, item, slot, value;\r\n                for (i = 0; i < axis.notes.length; i++) {\r\n                    item = axis.notes[i];\r\n                    value = item.options.value;\r\n                    if (defined(value)) {\r\n                        if (axis.shouldRenderNote(value)) {\r\n                            item.show();\r\n                        } else {\r\n                            item.hide();\r\n                        }\r\n                        slot = axis.getSlot(value);\r\n                    } else {\r\n                        item.hide();\r\n                    }\r\n                    item.reflow(slot || axis.lineBox());\r\n                }\r\n            },\r\n            alignTo: function (secondAxis) {\r\n                var axis = this, lineBox = secondAxis.lineBox(), vertical = axis.options.vertical, pos = vertical ? Y : X;\r\n                axis.box.snapTo(lineBox, pos);\r\n                if (vertical) {\r\n                    axis.box.shrink(0, axis.lineBox().height() - lineBox.height());\r\n                } else {\r\n                    axis.box.shrink(axis.lineBox().width() - lineBox.width(), 0);\r\n                }\r\n                axis.box[pos + 1] -= axis.lineBox()[pos + 1] - lineBox[pos + 1];\r\n                axis.box[pos + 2] -= axis.lineBox()[pos + 2] - lineBox[pos + 2];\r\n            },\r\n            axisLabelText: function (value, dataItem, options) {\r\n                var text = value;\r\n                if (options.template) {\r\n                    var tmpl = template(options.template);\r\n                    text = tmpl({\r\n                        value: value,\r\n                        dataItem: dataItem,\r\n                        format: options.format,\r\n                        culture: options.culture\r\n                    });\r\n                } else if (options.format) {\r\n                    if (options.format.match(FORMAT_REGEX)) {\r\n                        text = kendo.format(options.format, value);\r\n                    } else {\r\n                        text = kendo.toString(value, options.format, options.culture);\r\n                    }\r\n                }\r\n                return text;\r\n            },\r\n            slot: function (from, to, limit) {\r\n                var slot = this.getSlot(from, to, limit);\r\n                if (slot) {\r\n                    return slot.toRect();\r\n                }\r\n            },\r\n            contentBox: function () {\r\n                var box = this.box.clone();\r\n                var labels = this.labels;\r\n                if (labels.length) {\r\n                    if (labels[0].options.visible) {\r\n                        box.wrap(labels[0].box);\r\n                    }\r\n                    if (last(labels).options.visible) {\r\n                        box.wrap(last(labels).box);\r\n                    }\r\n                }\r\n                return box;\r\n            },\r\n            limitRange: function (from, to, min, max, offset) {\r\n                var options = this.options;\r\n                if (from < min && offset < 0 && (!defined(options.min) || options.min <= min) || max < to && offset > 0 && (!defined(options.max) || max <= options.max)) {\r\n                    return;\r\n                }\r\n                if (to < min && offset > 0 || max < from && offset < 0) {\r\n                    return {\r\n                        min: from,\r\n                        max: to\r\n                    };\r\n                }\r\n                var rangeSize = to - from;\r\n                if (from < min) {\r\n                    from = util.limitValue(from, min, max);\r\n                    to = util.limitValue(from + rangeSize, min + rangeSize, max);\r\n                } else if (to > max) {\r\n                    to = util.limitValue(to, min, max);\r\n                    from = util.limitValue(to - rangeSize, min, max - rangeSize);\r\n                }\r\n                return {\r\n                    min: from,\r\n                    max: to\r\n                };\r\n            }\r\n        });\r\n        var Note = BoxElement.extend({\r\n            init: function (value, text, dataItem, category, series, options) {\r\n                var note = this;\r\n                BoxElement.fn.init.call(note, options);\r\n                note.value = value;\r\n                note.text = text;\r\n                note.dataItem = dataItem;\r\n                note.category = category;\r\n                note.series = series;\r\n                note.render();\r\n            },\r\n            options: {\r\n                icon: {\r\n                    visible: true,\r\n                    type: CIRCLE\r\n                },\r\n                label: {\r\n                    position: INSIDE,\r\n                    visible: true,\r\n                    align: CENTER,\r\n                    vAlign: CENTER\r\n                },\r\n                line: { visible: true },\r\n                visible: true,\r\n                position: TOP,\r\n                zIndex: 2\r\n            },\r\n            hide: function () {\r\n                this.options.visible = false;\r\n            },\r\n            show: function () {\r\n                this.options.visible = true;\r\n            },\r\n            render: function () {\r\n                var note = this, options = note.options, label = options.label, text = note.text, icon = options.icon, size = icon.size, box = Box2D(), marker, width, height, noteTemplate;\r\n                if (options.visible) {\r\n                    if (defined(label) && label.visible) {\r\n                        if (label.template) {\r\n                            noteTemplate = template(label.template);\r\n                            text = noteTemplate({\r\n                                dataItem: note.dataItem,\r\n                                category: note.category,\r\n                                value: note.value,\r\n                                text: text,\r\n                                series: note.series\r\n                            });\r\n                        } else if (label.format) {\r\n                            text = autoFormat(label.format, text);\r\n                        }\r\n                        note.label = new TextBox(text, deepExtend({}, label));\r\n                        if (label.position === INSIDE && !defined(size)) {\r\n                            if (icon.type === CIRCLE) {\r\n                                size = math.max(note.label.box.width(), note.label.box.height());\r\n                            } else {\r\n                                width = note.label.box.width();\r\n                                height = note.label.box.height();\r\n                            }\r\n                            box.wrap(note.label.box);\r\n                        }\r\n                    }\r\n                    icon.width = width || size || DEFAULT_ICON_SIZE;\r\n                    icon.height = height || size || DEFAULT_ICON_SIZE;\r\n                    marker = new ShapeElement(deepExtend({}, icon));\r\n                    note.marker = marker;\r\n                    note.append(marker);\r\n                    if (note.label) {\r\n                        note.append(note.label);\r\n                    }\r\n                    marker.reflow(Box2D());\r\n                    note.wrapperBox = box.wrap(marker.box);\r\n                }\r\n            },\r\n            reflow: function (targetBox) {\r\n                var note = this, options = note.options, center = targetBox.center(), wrapperBox = note.wrapperBox, length = options.line.length, position = options.position, label = note.label, marker = note.marker, lineStart, box, contentBox;\r\n                if (options.visible) {\r\n                    if (inArray(position, [\r\n                            LEFT,\r\n                            RIGHT\r\n                        ])) {\r\n                        if (position === LEFT) {\r\n                            contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);\r\n                            if (options.line.visible) {\r\n                                lineStart = [\r\n                                    targetBox.x1,\r\n                                    center.y\r\n                                ];\r\n                                note.linePoints = [\r\n                                    lineStart,\r\n                                    [\r\n                                        contentBox.x2,\r\n                                        center.y\r\n                                    ]\r\n                                ];\r\n                                box = contentBox.clone().wrapPoint(lineStart);\r\n                            }\r\n                        } else {\r\n                            contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);\r\n                            if (options.line.visible) {\r\n                                lineStart = [\r\n                                    targetBox.x2,\r\n                                    center.y\r\n                                ];\r\n                                note.linePoints = [\r\n                                    lineStart,\r\n                                    [\r\n                                        contentBox.x1,\r\n                                        center.y\r\n                                    ]\r\n                                ];\r\n                                box = contentBox.clone().wrapPoint(lineStart);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position === BOTTOM) {\r\n                            contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);\r\n                            if (options.line.visible) {\r\n                                lineStart = [\r\n                                    center.x,\r\n                                    targetBox.y2\r\n                                ];\r\n                                note.linePoints = [\r\n                                    lineStart,\r\n                                    [\r\n                                        center.x,\r\n                                        contentBox.y1\r\n                                    ]\r\n                                ];\r\n                                box = contentBox.clone().wrapPoint(lineStart);\r\n                            }\r\n                        } else {\r\n                            contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);\r\n                            if (options.line.visible) {\r\n                                lineStart = [\r\n                                    center.x,\r\n                                    targetBox.y1\r\n                                ];\r\n                                note.linePoints = [\r\n                                    lineStart,\r\n                                    [\r\n                                        center.x,\r\n                                        contentBox.y2\r\n                                    ]\r\n                                ];\r\n                                box = contentBox.clone().wrapPoint(lineStart);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (marker) {\r\n                        marker.reflow(contentBox);\r\n                    }\r\n                    if (label) {\r\n                        label.reflow(contentBox);\r\n                        if (marker) {\r\n                            if (options.label.position === OUTSIDE) {\r\n                                label.box.alignTo(marker.box, position);\r\n                            }\r\n                            label.reflow(label.box);\r\n                        }\r\n                    }\r\n                    note.contentBox = contentBox;\r\n                    note.targetBox = targetBox;\r\n                    note.box = box || contentBox;\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                BoxElement.fn.createVisual.call(this);\r\n                this.visual.options.noclip = this.options.noclip;\r\n                if (this.options.visible) {\r\n                    this.createLine();\r\n                }\r\n            },\r\n            renderVisual: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var customVisual = options.visual;\r\n                if (options.visible && customVisual) {\r\n                    that.visual = customVisual({\r\n                        dataItem: that.dataItem,\r\n                        category: that.category,\r\n                        value: that.value,\r\n                        text: that.text,\r\n                        sender: that.getChart(),\r\n                        series: that.series,\r\n                        rect: that.targetBox.toRect(),\r\n                        options: {\r\n                            background: options.background,\r\n                            border: options.background,\r\n                            icon: options.icon,\r\n                            label: options.label,\r\n                            line: options.line,\r\n                            position: options.position,\r\n                            visible: options.visible\r\n                        },\r\n                        createVisual: function () {\r\n                            that.createVisual();\r\n                            that.renderChildren();\r\n                            var defaultVisual = that.visual;\r\n                            delete that.visual;\r\n                            return defaultVisual;\r\n                        }\r\n                    });\r\n                    that.addVisual();\r\n                } else {\r\n                    BoxElement.fn.renderVisual.call(that);\r\n                }\r\n            },\r\n            createLine: function () {\r\n                var options = this.options.line;\r\n                if (this.linePoints) {\r\n                    var path = draw.Path.fromPoints(this.linePoints, {\r\n                        stroke: {\r\n                            color: options.color,\r\n                            width: options.width,\r\n                            dashType: options.dashType\r\n                        }\r\n                    });\r\n                    alignPathToPixel(path);\r\n                    this.visual.append(path);\r\n                }\r\n            },\r\n            click: function (widget, e) {\r\n                var args = this.eventArgs(e);\r\n                if (!widget.trigger(NOTE_CLICK, args)) {\r\n                    e.preventDefault();\r\n                }\r\n            },\r\n            hover: function (widget, e) {\r\n                var args = this.eventArgs(e);\r\n                if (!widget.trigger(NOTE_HOVER, args)) {\r\n                    e.preventDefault();\r\n                }\r\n            },\r\n            leave: function (widget) {\r\n                widget._unsetActivePoint();\r\n            },\r\n            eventArgs: function (e) {\r\n                var note = this, options = note.options;\r\n                return {\r\n                    element: eventTargetElement(e),\r\n                    text: defined(options.label) ? options.label.text : '',\r\n                    dataItem: note.dataItem,\r\n                    series: note.series,\r\n                    value: note.value,\r\n                    category: note.category,\r\n                    visual: note.visual\r\n                };\r\n            }\r\n        });\r\n        var ShapeElement = BoxElement.extend({\r\n            init: function (options, pointData) {\r\n                this.pointData = pointData;\r\n                BoxElement.fn.init.call(this, options);\r\n            },\r\n            options: {\r\n                type: CIRCLE,\r\n                align: CENTER,\r\n                vAlign: CENTER\r\n            },\r\n            getElement: function () {\r\n                var marker = this, options = marker.options, type = options.type, rotation = options.rotation, box = marker.paddingBox, element, center = box.center(), halfWidth = box.width() / 2;\r\n                if (!options.visible || !marker.hasBox()) {\r\n                    return;\r\n                }\r\n                var style = marker.visualStyle();\r\n                if (type === CIRCLE) {\r\n                    element = new draw.Circle(new geom.Circle([\r\n                        round(box.x1 + halfWidth, COORD_PRECISION),\r\n                        round(box.y1 + box.height() / 2, COORD_PRECISION)\r\n                    ], halfWidth), style);\r\n                } else if (type === TRIANGLE) {\r\n                    element = draw.Path.fromPoints([\r\n                        [\r\n                            box.x1 + halfWidth,\r\n                            box.y1\r\n                        ],\r\n                        [\r\n                            box.x1,\r\n                            box.y2\r\n                        ],\r\n                        [\r\n                            box.x2,\r\n                            box.y2\r\n                        ]\r\n                    ], style).close();\r\n                } else if (type === CROSS) {\r\n                    element = new draw.MultiPath(style);\r\n                    element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);\r\n                    element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);\r\n                } else {\r\n                    element = draw.Path.fromRect(box.toRect(), style);\r\n                }\r\n                if (rotation) {\r\n                    element.transform(geom.transform().rotate(-rotation, [\r\n                        center.x,\r\n                        center.y\r\n                    ]));\r\n                }\r\n                element.options.zIndex = this.options.zIndex;\r\n                return element;\r\n            },\r\n            createElement: function () {\r\n                var that = this;\r\n                var customVisual = that.options.visual;\r\n                var pointData = that.pointData || {};\r\n                var visual;\r\n                if (customVisual) {\r\n                    visual = customVisual({\r\n                        value: pointData.value,\r\n                        dataItem: pointData.dataItem,\r\n                        sender: that.getChart(),\r\n                        series: pointData.series,\r\n                        category: pointData.category,\r\n                        rect: that.paddingBox.toRect(),\r\n                        options: that.visualOptions(),\r\n                        createVisual: function () {\r\n                            return that.getElement();\r\n                        }\r\n                    });\r\n                } else {\r\n                    visual = that.getElement();\r\n                }\r\n                return visual;\r\n            },\r\n            visualOptions: function () {\r\n                var options = this.options;\r\n                return {\r\n                    background: options.background,\r\n                    border: options.border,\r\n                    margin: options.margin,\r\n                    padding: options.padding,\r\n                    type: options.type,\r\n                    size: options.width,\r\n                    visible: options.visible\r\n                };\r\n            },\r\n            createVisual: function () {\r\n                this.visual = this.createElement();\r\n            }\r\n        });\r\n        var NumericAxis = Axis.extend({\r\n            init: function (seriesMin, seriesMax, options) {\r\n                var axis = this, defaultOptions = axis.initDefaults(seriesMin, seriesMax, options);\r\n                Axis.fn.init.call(axis, defaultOptions);\r\n            },\r\n            startValue: function () {\r\n                return 0;\r\n            },\r\n            options: {\r\n                type: 'numeric',\r\n                min: 0,\r\n                max: 1,\r\n                vertical: true,\r\n                majorGridLines: {\r\n                    visible: true,\r\n                    width: 1,\r\n                    color: BLACK\r\n                },\r\n                labels: { format: '#.####################' },\r\n                zIndex: 1\r\n            },\r\n            initDefaults: function (seriesMin, seriesMax, options) {\r\n                var axis = this, narrowRange = options.narrowRange, autoMin = axis.autoAxisMin(seriesMin, seriesMax, narrowRange), autoMax = axis.autoAxisMax(seriesMin, seriesMax, narrowRange), majorUnit = autoMajorUnit(autoMin, autoMax), autoOptions = { majorUnit: majorUnit }, userSetLimits;\r\n                if (options.roundToMajorUnit !== false) {\r\n                    if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {\r\n                        autoMin -= majorUnit;\r\n                    }\r\n                    if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {\r\n                        autoMax += majorUnit;\r\n                    }\r\n                }\r\n                autoOptions.min = floor(autoMin, majorUnit);\r\n                autoOptions.max = ceil(autoMax, majorUnit);\r\n                this.totalMin = defined(options.min) ? math.min(autoOptions.min, options.min) : autoOptions.min;\r\n                this.totalMax = defined(options.max) ? math.max(autoOptions.max, options.max) : autoOptions.max;\r\n                this.totalMajorUnit = majorUnit;\r\n                if (options) {\r\n                    userSetLimits = defined(options.min) || defined(options.max);\r\n                    if (userSetLimits) {\r\n                        if (options.min === options.max) {\r\n                            if (options.min > 0) {\r\n                                options.min = 0;\r\n                            } else {\r\n                                options.max = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (options.majorUnit) {\r\n                        autoOptions.min = floor(autoOptions.min, options.majorUnit);\r\n                        autoOptions.max = ceil(autoOptions.max, options.majorUnit);\r\n                    } else if (userSetLimits) {\r\n                        options = deepExtend(autoOptions, options);\r\n                        autoOptions.majorUnit = autoMajorUnit(options.min, options.max);\r\n                    }\r\n                }\r\n                autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;\r\n                return deepExtend(autoOptions, options);\r\n            },\r\n            range: function () {\r\n                var options = this.options;\r\n                return {\r\n                    min: options.min,\r\n                    max: options.max\r\n                };\r\n            },\r\n            autoAxisMax: function (min, max, narrow) {\r\n                var axisMax, diff;\r\n                if (!min && !max) {\r\n                    return 1;\r\n                }\r\n                if (min <= 0 && max <= 0) {\r\n                    max = min == max ? 0 : max;\r\n                    diff = math.abs((max - min) / max);\r\n                    if (narrow === false || !narrow && diff > ZERO_THRESHOLD) {\r\n                        return 0;\r\n                    }\r\n                    axisMax = math.min(0, max - (min - max) / 2);\r\n                } else {\r\n                    min = min == max ? 0 : min;\r\n                    axisMax = max;\r\n                }\r\n                return axisMax;\r\n            },\r\n            autoAxisMin: function (min, max, narrow) {\r\n                var axisMin, diff;\r\n                if (!min && !max) {\r\n                    return 0;\r\n                }\r\n                if (min >= 0 && max >= 0) {\r\n                    min = min == max ? 0 : min;\r\n                    diff = (max - min) / max;\r\n                    if (narrow === false || !narrow && diff > ZERO_THRESHOLD) {\r\n                        return 0;\r\n                    }\r\n                    axisMin = math.max(0, min - (max - min) / 2);\r\n                } else {\r\n                    max = min == max ? 0 : max;\r\n                    axisMin = min;\r\n                }\r\n                return axisMin;\r\n            },\r\n            getDivisions: function (stepValue) {\r\n                if (stepValue === 0) {\r\n                    return 1;\r\n                }\r\n                var options = this.options, range = options.max - options.min;\r\n                return math.floor(round(range / stepValue, COORD_PRECISION)) + 1;\r\n            },\r\n            getTickPositions: function (unit, skipUnit) {\r\n                var axis = this, options = axis.options, vertical = options.vertical, reverse = options.reverse, lineBox = axis.lineBox(), lineSize = vertical ? lineBox.height() : lineBox.width(), range = options.max - options.min, scale = lineSize / range, step = unit * scale, skipStep = 0, divisions = axis.getDivisions(unit), dir = (vertical ? -1 : 1) * (reverse ? -1 : 1), startEdge = dir === 1 ? 1 : 2, pos = lineBox[(vertical ? Y : X) + startEdge], positions = [], i;\r\n                if (skipUnit) {\r\n                    skipStep = skipUnit / unit;\r\n                }\r\n                for (i = 0; i < divisions; i++) {\r\n                    if (i % skipStep !== 0) {\r\n                        positions.push(round(pos, COORD_PRECISION));\r\n                    }\r\n                    pos = pos + step * dir;\r\n                }\r\n                return positions;\r\n            },\r\n            getMajorTickPositions: function () {\r\n                var axis = this;\r\n                return axis.getTickPositions(axis.options.majorUnit);\r\n            },\r\n            getMinorTickPositions: function () {\r\n                var axis = this;\r\n                return axis.getTickPositions(axis.options.minorUnit);\r\n            },\r\n            getSlot: function (a, b, limit) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, vertical = options.vertical, valueAxis = vertical ? Y : X, lineBox = axis.lineBox(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)], lineSize = vertical ? lineBox.height() : lineBox.width(), dir = reverse ? -1 : 1, step = dir * (lineSize / (options.max - options.min)), p1, p2, slotBox = new Box2D(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\r\n                if (!defined(a)) {\r\n                    a = b || 0;\r\n                }\r\n                if (!defined(b)) {\r\n                    b = a || 0;\r\n                }\r\n                if (limit) {\r\n                    a = math.max(math.min(a, options.max), options.min);\r\n                    b = math.max(math.min(b, options.max), options.min);\r\n                }\r\n                if (vertical) {\r\n                    p1 = options.max - math.max(a, b);\r\n                    p2 = options.max - math.min(a, b);\r\n                } else {\r\n                    p1 = math.min(a, b) - options.min;\r\n                    p2 = math.max(a, b) - options.min;\r\n                }\r\n                slotBox[valueAxis + 1] = math.max(math.min(lineStart + step * (reverse ? p2 : p1), COORDINATE_LIMIT), -COORDINATE_LIMIT);\r\n                slotBox[valueAxis + 2] = math.max(math.min(lineStart + step * (reverse ? p1 : p2), COORDINATE_LIMIT), -COORDINATE_LIMIT);\r\n                return slotBox;\r\n            },\r\n            getValue: function (point) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, vertical = options.vertical, max = options.max * 1, min = options.min * 1, valueAxis = vertical ? Y : X, lineBox = axis.lineBox(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)], lineSize = vertical ? lineBox.height() : lineBox.width(), dir = reverse ? -1 : 1, offset = dir * (point[valueAxis] - lineStart), step = (max - min) / lineSize, valueOffset = offset * step, value;\r\n                if (offset < 0 || offset > lineSize) {\r\n                    return null;\r\n                }\r\n                value = vertical ? max - valueOffset : min + valueOffset;\r\n                return round(value, DEFAULT_PRECISION);\r\n            },\r\n            translateRange: function (delta) {\r\n                var axis = this, options = axis.options, lineBox = axis.lineBox(), vertical = options.vertical, reverse = options.reverse, size = vertical ? lineBox.height() : lineBox.width(), range = options.max - options.min, scale = size / range, offset = round(delta / scale, DEFAULT_PRECISION);\r\n                if ((vertical || reverse) && !(vertical && reverse)) {\r\n                    offset = -offset;\r\n                }\r\n                return {\r\n                    min: options.min + offset,\r\n                    max: options.max + offset\r\n                };\r\n            },\r\n            scaleRange: function (delta) {\r\n                var axis = this, options = axis.options, offset = -delta * options.majorUnit;\r\n                return {\r\n                    min: options.min - offset,\r\n                    max: options.max + offset\r\n                };\r\n            },\r\n            labelsCount: function () {\r\n                return this.getDivisions(this.options.majorUnit);\r\n            },\r\n            createAxisLabel: function (index, labelOptions) {\r\n                var axis = this, options = axis.options, value = round(options.min + index * options.majorUnit, DEFAULT_PRECISION), text = axis.axisLabelText(value, null, labelOptions);\r\n                return new AxisLabel(value, text, index, null, labelOptions);\r\n            },\r\n            shouldRenderNote: function (value) {\r\n                var range = this.range();\r\n                return range.min <= value && value <= range.max;\r\n            },\r\n            pan: function (delta) {\r\n                var range = this.translateRange(delta);\r\n                return this.limitRange(range.min, range.max, this.totalMin, this.totalMax);\r\n            },\r\n            pointsRange: function (start, end) {\r\n                var startValue = this.getValue(start);\r\n                var endValue = this.getValue(end);\r\n                var min = math.min(startValue, endValue);\r\n                var max = math.max(startValue, endValue);\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            zoomRange: function (delta) {\r\n                var newRange = this.scaleRange(delta);\r\n                var totalMax = this.totalMax;\r\n                var totalMin = this.totalMin;\r\n                var min = util.limitValue(newRange.min, totalMin, totalMax);\r\n                var max = util.limitValue(newRange.max, totalMin, totalMax);\r\n                var optionsRange = this.options.max - this.options.min;\r\n                if (optionsRange < this.totalMajorUnit || max - min >= this.totalMajorUnit) {\r\n                    return {\r\n                        min: min,\r\n                        max: max\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        var LogarithmicAxis = Axis.extend({\r\n            init: function (seriesMin, seriesMax, options) {\r\n                this.options = this._initOptions(seriesMin, seriesMax, options);\r\n                Axis.fn.init.call(this, options);\r\n            },\r\n            startValue: function () {\r\n                return this.options.min;\r\n            },\r\n            options: {\r\n                type: 'log',\r\n                majorUnit: 10,\r\n                minorUnit: 1,\r\n                axisCrossingValue: 1,\r\n                vertical: true,\r\n                majorGridLines: {\r\n                    visible: true,\r\n                    width: 1,\r\n                    color: BLACK\r\n                },\r\n                zIndex: 1\r\n            },\r\n            getSlot: function (a, b, limit) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, vertical = options.vertical, valueAxis = vertical ? Y : X, lineBox = axis.lineBox(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)], lineSize = vertical ? lineBox.height() : lineBox.width(), dir = reverse ? -1 : 1, base = options.majorUnit, logMin = axis.logMin, logMax = axis.logMax, step = dir * (lineSize / (logMax - logMin)), p1, p2, slotBox = new Box2D(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\r\n                if (!defined(a)) {\r\n                    a = b || 1;\r\n                }\r\n                if (!defined(b)) {\r\n                    b = a || 1;\r\n                }\r\n                if (a <= 0 || b <= 0) {\r\n                    return;\r\n                }\r\n                if (limit) {\r\n                    a = math.max(math.min(a, options.max), options.min);\r\n                    b = math.max(math.min(b, options.max), options.min);\r\n                }\r\n                a = log(a, base);\r\n                b = log(b, base);\r\n                if (vertical) {\r\n                    p1 = logMax - math.max(a, b);\r\n                    p2 = logMax - math.min(a, b);\r\n                } else {\r\n                    p1 = math.min(a, b) - logMin;\r\n                    p2 = math.max(a, b) - logMin;\r\n                }\r\n                slotBox[valueAxis + 1] = lineStart + step * (reverse ? p2 : p1);\r\n                slotBox[valueAxis + 2] = lineStart + step * (reverse ? p1 : p2);\r\n                return slotBox;\r\n            },\r\n            getValue: function (point) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, vertical = options.vertical, lineBox = axis.lineBox(), base = options.majorUnit, logMin = axis.logMin, logMax = axis.logMax, dir = vertical === reverse ? 1 : -1, startEdge = dir === 1 ? 1 : 2, lineSize = vertical ? lineBox.height() : lineBox.width(), step = (logMax - logMin) / lineSize, valueAxis = vertical ? Y : X, lineStart = lineBox[valueAxis + startEdge], offset = dir * (point[valueAxis] - lineStart), valueOffset = offset * step, value;\r\n                if (offset < 0 || offset > lineSize) {\r\n                    return null;\r\n                }\r\n                value = logMin + valueOffset;\r\n                return round(math.pow(base, value), DEFAULT_PRECISION);\r\n            },\r\n            range: function () {\r\n                var options = this.options;\r\n                return {\r\n                    min: options.min,\r\n                    max: options.max\r\n                };\r\n            },\r\n            scaleRange: function (delta) {\r\n                var axis = this, options = axis.options, base = options.majorUnit, offset = -delta;\r\n                return {\r\n                    min: math.pow(base, axis.logMin - offset),\r\n                    max: math.pow(base, axis.logMax + offset)\r\n                };\r\n            },\r\n            translateRange: function (delta) {\r\n                var axis = this, options = axis.options, base = options.majorUnit, lineBox = axis.lineBox(), vertical = options.vertical, reverse = options.reverse, size = vertical ? lineBox.height() : lineBox.width(), scale = size / (axis.logMax - axis.logMin), offset = round(delta / scale, DEFAULT_PRECISION);\r\n                if ((vertical || reverse) && !(vertical && reverse)) {\r\n                    offset = -offset;\r\n                }\r\n                return {\r\n                    min: math.pow(base, axis.logMin + offset),\r\n                    max: math.pow(base, axis.logMax + offset)\r\n                };\r\n            },\r\n            labelsCount: function () {\r\n                var axis = this, floorMax = math.floor(axis.logMax), count = math.floor(floorMax - axis.logMin) + 1;\r\n                return count;\r\n            },\r\n            getMajorTickPositions: function () {\r\n                var axis = this, ticks = [];\r\n                axis.traverseMajorTicksPositions(function (position) {\r\n                    ticks.push(position);\r\n                }, {\r\n                    step: 1,\r\n                    skip: 0\r\n                });\r\n                return ticks;\r\n            },\r\n            createTicks: function (lineGroup) {\r\n                var axis = this, ticks = [], options = axis.options, lineBox = axis.lineBox(), mirror = options.labels.mirror, majorTicks = options.majorTicks, minorTicks = options.minorTicks, tickLineOptions = { vertical: options.vertical };\r\n                function render(tickPosition, tickOptions) {\r\n                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\r\n                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\r\n                    tickLineOptions.position = tickPosition;\r\n                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\r\n                }\r\n                if (majorTicks.visible) {\r\n                    axis.traverseMajorTicksPositions(render, majorTicks);\r\n                }\r\n                if (minorTicks.visible) {\r\n                    axis.traverseMinorTicksPositions(render, minorTicks);\r\n                }\r\n                return ticks;\r\n            },\r\n            createGridLines: function (altAxis) {\r\n                var axis = this, options = axis.options, majorGridLines = options.majorGridLines, minorGridLines = options.minorGridLines, vertical = options.vertical, lineBox = altAxis.lineBox(), lineOptions = {\r\n                        lineStart: lineBox[vertical ? 'x1' : 'y1'],\r\n                        lineEnd: lineBox[vertical ? 'x2' : 'y2'],\r\n                        vertical: vertical\r\n                    }, majorTicks = [];\r\n                var container = this.gridLinesVisual();\r\n                function render(tickPosition, gridLine) {\r\n                    if (!inArray(tickPosition, majorTicks)) {\r\n                        lineOptions.position = tickPosition;\r\n                        container.append(createAxisGridLine(lineOptions, gridLine));\r\n                        majorTicks.push(tickPosition);\r\n                    }\r\n                }\r\n                if (majorGridLines.visible) {\r\n                    axis.traverseMajorTicksPositions(render, majorGridLines);\r\n                }\r\n                if (minorGridLines.visible) {\r\n                    axis.traverseMinorTicksPositions(render, minorGridLines);\r\n                }\r\n                return container.children;\r\n            },\r\n            traverseMajorTicksPositions: function (callback, tickOptions) {\r\n                var axis = this, lineOptions = axis._lineOptions(), lineStart = lineOptions.lineStart, step = lineOptions.step, logMin = axis.logMin, logMax = axis.logMax, power, position;\r\n                for (power = math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {\r\n                    position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);\r\n                    callback(position, tickOptions);\r\n                }\r\n            },\r\n            traverseMinorTicksPositions: function (callback, tickOptions) {\r\n                var axis = this, options = axis.options, lineOptions = axis._lineOptions(), lineStart = lineOptions.lineStart, lineStep = lineOptions.step, base = options.majorUnit, logMin = axis.logMin, logMax = axis.logMax, start = math.floor(logMin), max = options.max, min = options.min, minorUnit = options.minorUnit, power, value, position, minorOptions;\r\n                for (power = start; power < logMax; power++) {\r\n                    minorOptions = axis._minorIntervalOptions(power);\r\n                    for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {\r\n                        value = minorOptions.value + idx * minorOptions.minorStep;\r\n                        if (value > max) {\r\n                            break;\r\n                        }\r\n                        if (value >= min) {\r\n                            position = round(lineStart + lineStep * (log(value, base) - logMin), DEFAULT_PRECISION);\r\n                            callback(position, tickOptions);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            createAxisLabel: function (index, labelOptions) {\r\n                var axis = this, options = axis.options, power = math.ceil(axis.logMin + index), value = Math.pow(options.majorUnit, power), text = axis.axisLabelText(value, null, labelOptions);\r\n                return new AxisLabel(value, text, index, null, labelOptions);\r\n            },\r\n            shouldRenderNote: function (value) {\r\n                var range = this.range();\r\n                return range.min <= value && value <= range.max;\r\n            },\r\n            _throwNegativeValuesError: function () {\r\n                throw new Error('Non positive values cannot be used for a logarithmic axis');\r\n            },\r\n            _initOptions: function (seriesMin, seriesMax, options) {\r\n                var axis = this, axisOptions = deepExtend({}, axis.options, {\r\n                        min: seriesMin,\r\n                        max: seriesMax\r\n                    }, options), min = axisOptions.min, max = axisOptions.max, base = axisOptions.majorUnit, autoMax = this._autoMax(seriesMax, base), autoMin = this._autoMin(seriesMin, seriesMax, axisOptions);\r\n                if (axisOptions.axisCrossingValue <= 0) {\r\n                    axis._throwNegativeValuesError();\r\n                }\r\n                if (!defined(options.max)) {\r\n                    max = autoMax;\r\n                } else if (options.max <= 0) {\r\n                    axis._throwNegativeValuesError();\r\n                }\r\n                if (!defined(options.min)) {\r\n                    min = autoMin;\r\n                } else if (options.min <= 0) {\r\n                    axis._throwNegativeValuesError();\r\n                }\r\n                this.totalMin = defined(options.min) ? math.min(autoMin, options.min) : autoMin;\r\n                this.totalMax = defined(options.max) ? math.max(autoMax, options.max) : autoMax;\r\n                axis.logMin = round(log(min, base), DEFAULT_PRECISION);\r\n                axis.logMax = round(log(max, base), DEFAULT_PRECISION);\r\n                axisOptions.max = max;\r\n                axisOptions.min = min;\r\n                axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);\r\n                return axisOptions;\r\n            },\r\n            _autoMin: function (min, max, options) {\r\n                var autoMin = min;\r\n                var base = options.majorUnit;\r\n                if (min <= 0) {\r\n                    autoMin = max <= 1 ? math.pow(base, -2) : 1;\r\n                } else if (!options.narrowRange) {\r\n                    autoMin = math.pow(base, math.floor(log(min, base)));\r\n                }\r\n                return autoMin;\r\n            },\r\n            _autoMax: function (max, base) {\r\n                var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;\r\n                var autoMax;\r\n                if (max <= 0) {\r\n                    autoMax = base;\r\n                } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {\r\n                    autoMax = math.pow(base, log(max, base) + 0.2);\r\n                } else {\r\n                    autoMax = math.pow(base, math.ceil(log(max, base)));\r\n                }\r\n                return autoMax;\r\n            },\r\n            pan: function (delta) {\r\n                var range = this.translateRange(delta);\r\n                return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, -delta);\r\n            },\r\n            pointsRange: function (start, end) {\r\n                var startValue = this.getValue(start);\r\n                var endValue = this.getValue(end);\r\n                var min = math.min(startValue, endValue);\r\n                var max = math.max(startValue, endValue);\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            zoomRange: function (delta) {\r\n                var options = this.options;\r\n                var newRange = this.scaleRange(delta);\r\n                var totalMax = this.totalMax;\r\n                var totalMin = this.totalMin;\r\n                var min = util.limitValue(newRange.min, totalMin, totalMax);\r\n                var max = util.limitValue(newRange.max, totalMin, totalMax);\r\n                var base = options.majorUnit;\r\n                var acceptOptionsRange = max > min && options.min && options.max && round(log(options.max, base) - log(options.min, base), DEFAULT_PRECISION) < 1;\r\n                var acceptNewRange = !(options.min === totalMin && options.max === totalMax) && round(log(max, base) - log(min, base), DEFAULT_PRECISION) >= 1;\r\n                if (acceptOptionsRange || acceptNewRange) {\r\n                    return {\r\n                        min: min,\r\n                        max: max\r\n                    };\r\n                }\r\n            },\r\n            _minorIntervalOptions: function (power) {\r\n                var base = this.options.majorUnit, value = math.pow(base, power), nextValue = math.pow(base, power + 1), difference = nextValue - value, minorStep = difference / this.options.minorUnit;\r\n                return {\r\n                    value: value,\r\n                    minorStep: minorStep\r\n                };\r\n            },\r\n            _lineOptions: function () {\r\n                var axis = this, options = axis.options, reverse = options.reverse, vertical = options.vertical, valueAxis = vertical ? Y : X, lineBox = axis.lineBox(), dir = vertical === reverse ? 1 : -1, startEdge = dir === 1 ? 1 : 2, lineSize = vertical ? lineBox.height() : lineBox.width(), step = dir * (lineSize / (axis.logMax - axis.logMin)), lineStart = lineBox[valueAxis + startEdge];\r\n                return {\r\n                    step: step,\r\n                    lineStart: lineStart,\r\n                    lineBox: lineBox\r\n                };\r\n            }\r\n        });\r\n        dataviz.Gradients = {\r\n            glass: {\r\n                type: LINEAR,\r\n                rotation: 0,\r\n                stops: [\r\n                    {\r\n                        offset: 0,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    },\r\n                    {\r\n                        offset: 0.25,\r\n                        color: WHITE,\r\n                        opacity: 0.3\r\n                    },\r\n                    {\r\n                        offset: 1,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    }\r\n                ]\r\n            },\r\n            sharpBevel: {\r\n                type: RADIAL,\r\n                stops: [\r\n                    {\r\n                        offset: 0,\r\n                        color: WHITE,\r\n                        opacity: 0.55\r\n                    },\r\n                    {\r\n                        offset: 0.65,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    },\r\n                    {\r\n                        offset: 0.95,\r\n                        color: WHITE,\r\n                        opacity: 0.25\r\n                    }\r\n                ]\r\n            },\r\n            roundedBevel: {\r\n                type: RADIAL,\r\n                stops: [\r\n                    {\r\n                        offset: 0.33,\r\n                        color: WHITE,\r\n                        opacity: 0.06\r\n                    },\r\n                    {\r\n                        offset: 0.83,\r\n                        color: WHITE,\r\n                        opacity: 0.2\r\n                    },\r\n                    {\r\n                        offset: 0.95,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    }\r\n                ]\r\n            },\r\n            roundedGlass: {\r\n                type: RADIAL,\r\n                supportVML: false,\r\n                stops: [\r\n                    {\r\n                        offset: 0,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    },\r\n                    {\r\n                        offset: 0.5,\r\n                        color: WHITE,\r\n                        opacity: 0.3\r\n                    },\r\n                    {\r\n                        offset: 0.99,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    }\r\n                ]\r\n            },\r\n            sharpGlass: {\r\n                type: RADIAL,\r\n                supportVML: false,\r\n                stops: [\r\n                    {\r\n                        offset: 0,\r\n                        color: WHITE,\r\n                        opacity: 0.2\r\n                    },\r\n                    {\r\n                        offset: 0.15,\r\n                        color: WHITE,\r\n                        opacity: 0.15\r\n                    },\r\n                    {\r\n                        offset: 0.17,\r\n                        color: WHITE,\r\n                        opacity: 0.35\r\n                    },\r\n                    {\r\n                        offset: 0.85,\r\n                        color: WHITE,\r\n                        opacity: 0.05\r\n                    },\r\n                    {\r\n                        offset: 0.87,\r\n                        color: WHITE,\r\n                        opacity: 0.15\r\n                    },\r\n                    {\r\n                        offset: 0.99,\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n        var ExportMixin = {\r\n            extend: function (proto, skipLegacy) {\r\n                if (!proto.exportVisual) {\r\n                    throw new Error('Mixin target has no exportVisual method defined.');\r\n                }\r\n                proto.exportSVG = this.exportSVG;\r\n                proto.exportImage = this.exportImage;\r\n                proto.exportPDF = this.exportPDF;\r\n                if (!skipLegacy) {\r\n                    proto.svg = this.svg;\r\n                    proto.imageDataURL = this.imageDataURL;\r\n                }\r\n            },\r\n            exportSVG: function (options) {\r\n                return draw.exportSVG(this.exportVisual(), options);\r\n            },\r\n            exportImage: function (options) {\r\n                return draw.exportImage(this.exportVisual(options), options);\r\n            },\r\n            exportPDF: function (options) {\r\n                return draw.exportPDF(this.exportVisual(), options);\r\n            },\r\n            svg: function () {\r\n                if (draw.svg.Surface) {\r\n                    return draw.svg._exportGroup(this.exportVisual());\r\n                } else {\r\n                    throw new Error('SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface');\r\n                }\r\n            },\r\n            imageDataURL: function () {\r\n                if (!kendo.support.canvas) {\r\n                    return null;\r\n                }\r\n                if (draw.canvas.Surface) {\r\n                    var container = $('<div />').css({\r\n                        display: 'none',\r\n                        width: this.element.width(),\r\n                        height: this.element.height()\r\n                    }).appendTo(document.body);\r\n                    var surface = new draw.canvas.Surface(container);\r\n                    surface.draw(this.exportVisual());\r\n                    var image = surface._rootElement.toDataURL();\r\n                    surface.destroy();\r\n                    container.remove();\r\n                    return image;\r\n                } else {\r\n                    throw new Error('Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface');\r\n                }\r\n            }\r\n        };\r\n        function autoMajorUnit(min, max) {\r\n            var diff = round(max - min, DEFAULT_PRECISION - 1);\r\n            if (diff === 0) {\r\n                if (max === 0) {\r\n                    return 0.1;\r\n                }\r\n                diff = math.abs(max);\r\n            }\r\n            var scale = math.pow(10, math.floor(math.log(diff) / math.log(10))), relativeValue = round(diff / scale, DEFAULT_PRECISION), scaleMultiplier = 1;\r\n            if (relativeValue < 1.904762) {\r\n                scaleMultiplier = 0.2;\r\n            } else if (relativeValue < 4.761904) {\r\n                scaleMultiplier = 0.5;\r\n            } else if (relativeValue < 9.523809) {\r\n                scaleMultiplier = 1;\r\n            } else {\r\n                scaleMultiplier = 2;\r\n            }\r\n            return round(scale * scaleMultiplier, DEFAULT_PRECISION);\r\n        }\r\n        function rotatePoint(x, y, cx, cy, angle) {\r\n            var theta = angle * DEG_TO_RAD;\r\n            return new Point2D(cx + (x - cx) * math.cos(theta) + (y - cy) * math.sin(theta), cy - (x - cx) * math.sin(theta) + (y - cy) * math.cos(theta));\r\n        }\r\n        function boxDiff(r, s) {\r\n            if (r.x1 == s.x1 && r.y1 == s.y1 && r.x2 == s.x2 && r.y2 == s.y2) {\r\n                return s;\r\n            }\r\n            var a = math.min(r.x1, s.x1), b = math.max(r.x1, s.x1), c = math.min(r.x2, s.x2), d = math.max(r.x2, s.x2), e = math.min(r.y1, s.y1), f = math.max(r.y1, s.y1), g = math.min(r.y2, s.y2), h = math.max(r.y2, s.y2), result = [];\r\n            result[0] = Box2D(b, e, c, f);\r\n            result[1] = Box2D(a, f, b, g);\r\n            result[2] = Box2D(c, f, d, g);\r\n            result[3] = Box2D(b, g, c, h);\r\n            if (r.x1 == a && r.y1 == e || s.x1 == a && s.y1 == e) {\r\n                result[4] = Box2D(a, e, b, f);\r\n                result[5] = Box2D(c, g, d, h);\r\n            } else {\r\n                result[4] = Box2D(c, e, d, f);\r\n                result[5] = Box2D(a, g, b, h);\r\n            }\r\n            return $.grep(result, function (box) {\r\n                return box.height() > 0 && box.width() > 0;\r\n            })[0];\r\n        }\r\n        function inArray(value, array) {\r\n            return indexOf(value, array) != -1;\r\n        }\r\n        function ceil(value, step) {\r\n            return round(math.ceil(value / step) * step, DEFAULT_PRECISION);\r\n        }\r\n        function floor(value, step) {\r\n            return round(math.floor(value / step) * step, DEFAULT_PRECISION);\r\n        }\r\n        function round(value, precision) {\r\n            var power = math.pow(10, precision || 0);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function log(y, x) {\r\n            return math.log(y) / math.log(x);\r\n        }\r\n        function remainderClose(value, divisor, ratio) {\r\n            var remainder = round(math.abs(value % divisor), DEFAULT_PRECISION), threshold = divisor * (1 - ratio);\r\n            return remainder === 0 || remainder > threshold;\r\n        }\r\n        function interpolateValue(start, end, progress) {\r\n            return round(start + (end - start) * progress, COORD_PRECISION);\r\n        }\r\n        function numericComparer(a, b) {\r\n            return a - b;\r\n        }\r\n        function autoFormat(format, value) {\r\n            if (format.match(FORMAT_REGEX)) {\r\n                return kendo.format.apply(this, arguments);\r\n            }\r\n            return kendo.toString(value, format);\r\n        }\r\n        function clockwise(v1, v2) {\r\n            return -v1.x * v2.y + v1.y * v2.x < 0;\r\n        }\r\n        function dateComparer(a, b) {\r\n            if (a && b) {\r\n                return a.getTime() - b.getTime();\r\n            }\r\n            return -1;\r\n        }\r\n        var CurveProcessor = function (closed) {\r\n            this.closed = closed;\r\n        };\r\n        CurveProcessor.prototype = CurveProcessor.fn = {\r\n            WEIGHT: 0.333,\r\n            EXTREMUM_ALLOWED_DEVIATION: 0.01,\r\n            process: function (dataPoints) {\r\n                var that = this, closed = that.closed, points = dataPoints.slice(0), length = points.length, segments = [], p0, p1, p2, controlPoints, initialControlPoint, lastControlPoint, tangent;\r\n                if (length > 2) {\r\n                    that.removeDuplicates(0, points);\r\n                    length = points.length;\r\n                }\r\n                if (length < 2 || length == 2 && points[0].equals(points[1])) {\r\n                    return segments;\r\n                }\r\n                p0 = points[0];\r\n                p1 = points[1];\r\n                p2 = points[2];\r\n                segments.push(new draw.Segment(p0));\r\n                while (p0.equals(points[length - 1])) {\r\n                    closed = true;\r\n                    points.pop();\r\n                    length--;\r\n                }\r\n                if (length == 2) {\r\n                    tangent = that.tangent(p0, p1, X, Y);\r\n                    last(segments).controlOut(that.firstControlPoint(tangent, p0, p1, X, Y));\r\n                    segments.push(new draw.Segment(p1, that.secondControlPoint(tangent, p0, p1, X, Y)));\r\n                    return segments;\r\n                }\r\n                if (closed) {\r\n                    p0 = points[length - 1];\r\n                    p1 = points[0];\r\n                    p2 = points[1];\r\n                    controlPoints = that.controlPoints(p0, p1, p2);\r\n                    initialControlPoint = controlPoints[1];\r\n                    lastControlPoint = controlPoints[0];\r\n                } else {\r\n                    tangent = that.tangent(p0, p1, X, Y);\r\n                    initialControlPoint = that.firstControlPoint(tangent, p0, p1, X, Y);\r\n                }\r\n                var cp0 = initialControlPoint;\r\n                for (var idx = 0; idx <= length - 3; idx++) {\r\n                    that.removeDuplicates(idx, points);\r\n                    length = points.length;\r\n                    if (idx + 3 <= length) {\r\n                        p0 = points[idx];\r\n                        p1 = points[idx + 1];\r\n                        p2 = points[idx + 2];\r\n                        controlPoints = that.controlPoints(p0, p1, p2);\r\n                        last(segments).controlOut(cp0);\r\n                        cp0 = controlPoints[1];\r\n                        var cp1 = controlPoints[0];\r\n                        segments.push(new draw.Segment(p1, cp1));\r\n                    }\r\n                }\r\n                if (closed) {\r\n                    p0 = points[length - 2];\r\n                    p1 = points[length - 1];\r\n                    p2 = points[0];\r\n                    controlPoints = that.controlPoints(p0, p1, p2);\r\n                    last(segments).controlOut(cp0);\r\n                    segments.push(new draw.Segment(p1, controlPoints[0]));\r\n                    last(segments).controlOut(controlPoints[1]);\r\n                    segments.push(new draw.Segment(p2, lastControlPoint));\r\n                } else {\r\n                    tangent = that.tangent(p1, p2, X, Y);\r\n                    last(segments).controlOut(cp0);\r\n                    segments.push(new draw.Segment(p2, that.secondControlPoint(tangent, p1, p2, X, Y)));\r\n                }\r\n                return segments;\r\n            },\r\n            removeDuplicates: function (idx, points) {\r\n                while (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2])) {\r\n                    points.splice(idx + 1, 1);\r\n                }\r\n            },\r\n            invertAxis: function (p0, p1, p2) {\r\n                var that = this, fn, y2, invertAxis = false;\r\n                if (p0.x === p1.x) {\r\n                    invertAxis = true;\r\n                } else if (p1.x === p2.x) {\r\n                    if (p1.y < p2.y && p0.y <= p1.y || p2.y < p1.y && p1.y <= p0.y) {\r\n                        invertAxis = true;\r\n                    }\r\n                } else {\r\n                    fn = that.lineFunction(p0, p1);\r\n                    y2 = that.calculateFunction(fn, p2.x);\r\n                    if (!(p0.y <= p1.y && p2.y <= y2) && !(p1.y <= p0.y && p2.y >= y2)) {\r\n                        invertAxis = true;\r\n                    }\r\n                }\r\n                return invertAxis;\r\n            },\r\n            isLine: function (p0, p1, p2) {\r\n                var that = this, fn = that.lineFunction(p0, p1), y2 = that.calculateFunction(fn, p2.x);\r\n                return p0.x == p1.x && p1.x == p2.x || round(y2, 1) === round(p2.y, 1);\r\n            },\r\n            lineFunction: function (p1, p2) {\r\n                var a = (p2.y - p1.y) / (p2.x - p1.x), b = p1.y - a * p1.x;\r\n                return [\r\n                    b,\r\n                    a\r\n                ];\r\n            },\r\n            controlPoints: function (p0, p1, p2) {\r\n                var that = this, xField = X, yField = Y, restrict = false, switchOrientation = false, tangent, monotonic, firstControlPoint, secondControlPoint, allowedDeviation = that.EXTREMUM_ALLOWED_DEVIATION;\r\n                if (that.isLine(p0, p1, p2)) {\r\n                    tangent = that.tangent(p0, p1, X, Y);\r\n                } else {\r\n                    monotonic = {\r\n                        x: that.isMonotonicByField(p0, p1, p2, X),\r\n                        y: that.isMonotonicByField(p0, p1, p2, Y)\r\n                    };\r\n                    if (monotonic.x && monotonic.y) {\r\n                        tangent = that.tangent(p0, p2, X, Y);\r\n                        restrict = true;\r\n                    } else {\r\n                        if (that.invertAxis(p0, p1, p2)) {\r\n                            xField = Y;\r\n                            yField = X;\r\n                        }\r\n                        if (monotonic[xField]) {\r\n                            tangent = 0;\r\n                        } else {\r\n                            var sign;\r\n                            if (p2[yField] < p0[yField] && p0[yField] <= p1[yField] || p0[yField] < p2[yField] && p1[yField] <= p0[yField]) {\r\n                                sign = that.sign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));\r\n                            } else {\r\n                                sign = -that.sign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));\r\n                            }\r\n                            tangent = allowedDeviation * sign;\r\n                            switchOrientation = true;\r\n                        }\r\n                    }\r\n                }\r\n                secondControlPoint = that.secondControlPoint(tangent, p0, p1, xField, yField);\r\n                if (switchOrientation) {\r\n                    var oldXField = xField;\r\n                    xField = yField;\r\n                    yField = oldXField;\r\n                }\r\n                firstControlPoint = that.firstControlPoint(tangent, p1, p2, xField, yField);\r\n                if (restrict) {\r\n                    that.restrictControlPoint(p0, p1, secondControlPoint, tangent);\r\n                    that.restrictControlPoint(p1, p2, firstControlPoint, tangent);\r\n                }\r\n                return [\r\n                    secondControlPoint,\r\n                    firstControlPoint\r\n                ];\r\n            },\r\n            sign: function (x) {\r\n                return x <= 0 ? -1 : 1;\r\n            },\r\n            restrictControlPoint: function (p1, p2, cp, tangent) {\r\n                if (p1.y < p2.y) {\r\n                    if (p2.y < cp.y) {\r\n                        cp.x = p1.x + (p2.y - p1.y) / tangent;\r\n                        cp.y = p2.y;\r\n                    } else if (cp.y < p1.y) {\r\n                        cp.x = p2.x - (p2.y - p1.y) / tangent;\r\n                        cp.y = p1.y;\r\n                    }\r\n                } else {\r\n                    if (cp.y < p2.y) {\r\n                        cp.x = p1.x - (p1.y - p2.y) / tangent;\r\n                        cp.y = p2.y;\r\n                    } else if (p1.y < cp.y) {\r\n                        cp.x = p2.x + (p1.y - p2.y) / tangent;\r\n                        cp.y = p1.y;\r\n                    }\r\n                }\r\n            },\r\n            tangent: function (p0, p1, xField, yField) {\r\n                var tangent, x = p1[xField] - p0[xField], y = p1[yField] - p0[yField];\r\n                if (x === 0) {\r\n                    tangent = 0;\r\n                } else {\r\n                    tangent = y / x;\r\n                }\r\n                return tangent;\r\n            },\r\n            isMonotonicByField: function (p0, p1, p2, field) {\r\n                return p2[field] > p1[field] && p1[field] > p0[field] || p2[field] < p1[field] && p1[field] < p0[field];\r\n            },\r\n            firstControlPoint: function (tangent, p0, p3, xField, yField) {\r\n                var that = this, t1 = p0[xField], t2 = p3[xField], distance = (t2 - t1) * that.WEIGHT;\r\n                return that.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);\r\n            },\r\n            secondControlPoint: function (tangent, p0, p3, xField, yField) {\r\n                var that = this, t1 = p0[xField], t2 = p3[xField], distance = (t2 - t1) * that.WEIGHT;\r\n                return that.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);\r\n            },\r\n            point: function (xValue, yValue, xField, yField) {\r\n                var controlPoint = new geom.Point();\r\n                controlPoint[xField] = xValue;\r\n                controlPoint[yField] = yValue;\r\n                return controlPoint;\r\n            },\r\n            calculateFunction: function (fn, x) {\r\n                var result = 0, length = fn.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    result += Math.pow(x, i) * fn[i];\r\n                }\r\n                return result;\r\n            }\r\n        };\r\n        function mwDelta(e) {\r\n            var origEvent = e.originalEvent, delta = 0;\r\n            if (origEvent.wheelDelta) {\r\n                delta = -origEvent.wheelDelta / 120;\r\n                delta = delta > 0 ? math.ceil(delta) : math.floor(delta);\r\n            }\r\n            if (origEvent.detail) {\r\n                delta = round(origEvent.detail / 3);\r\n            }\r\n            return delta;\r\n        }\r\n        function decodeEntities(text) {\r\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\r\n                return text;\r\n            } else {\r\n                var element = decodeEntities._element;\r\n                element.innerHTML = text;\r\n                return element.textContent || element.innerText;\r\n            }\r\n        }\r\n        function alignPathToPixel(path) {\r\n            if (!kendo.support.vml) {\r\n                var offset = 0.5;\r\n                if (path.options.stroke && defined(path.options.stroke.width)) {\r\n                    if (path.options.stroke.width % 2 === 0) {\r\n                        offset = 0;\r\n                    }\r\n                }\r\n                for (var i = 0; i < path.segments.length; i++) {\r\n                    path.segments[i].anchor().round(0).translate(offset, offset);\r\n                }\r\n            }\r\n            return path;\r\n        }\r\n        function innerRadialStops(options) {\r\n            var stops = options.stops, usedSpace = options.innerRadius / options.radius * 100, i, length = stops.length, currentStop, currentStops = [];\r\n            for (i = 0; i < length; i++) {\r\n                currentStop = deepExtend({}, stops[i]);\r\n                currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;\r\n                currentStops.push(currentStop);\r\n            }\r\n            return currentStops;\r\n        }\r\n        function rectToBox(rect) {\r\n            var origin = rect.origin;\r\n            var bottomRight = rect.bottomRight();\r\n            return new Box2D(origin.x, origin.y, bottomRight.x, bottomRight.y);\r\n        }\r\n        function eventTargetElement(e) {\r\n            e = e || {};\r\n            var element = $(e.touch ? e.touch.initialTouch : e.target);\r\n            return element;\r\n        }\r\n        decodeEntities._element = document.createElement('span');\r\n        deepExtend(kendo.dataviz, {\r\n            AXIS_LABEL_CLICK: AXIS_LABEL_CLICK,\r\n            COORD_PRECISION: COORD_PRECISION,\r\n            DEFAULT_PRECISION: DEFAULT_PRECISION,\r\n            DEFAULT_WIDTH: DEFAULT_WIDTH,\r\n            DEFAULT_HEIGHT: DEFAULT_HEIGHT,\r\n            DEFAULT_FONT: DEFAULT_FONT,\r\n            INITIAL_ANIMATION_DURATION: INITIAL_ANIMATION_DURATION,\r\n            NOTE_CLICK: NOTE_CLICK,\r\n            NOTE_HOVER: NOTE_HOVER,\r\n            CLIP: CLIP,\r\n            Axis: Axis,\r\n            AxisLabel: AxisLabel,\r\n            Box2D: Box2D,\r\n            BoxElement: BoxElement,\r\n            ChartElement: ChartElement,\r\n            CurveProcessor: CurveProcessor,\r\n            ExportMixin: ExportMixin,\r\n            FloatElement: FloatElement,\r\n            LogarithmicAxis: LogarithmicAxis,\r\n            Note: Note,\r\n            NumericAxis: NumericAxis,\r\n            Point2D: Point2D,\r\n            Ring: Ring,\r\n            RootElement: RootElement,\r\n            Sector: Sector,\r\n            ShapeBuilder: ShapeBuilder,\r\n            ShapeElement: ShapeElement,\r\n            Text: Text,\r\n            TextBox: TextBox,\r\n            Title: Title,\r\n            alignPathToPixel: alignPathToPixel,\r\n            autoFormat: autoFormat,\r\n            autoMajorUnit: autoMajorUnit,\r\n            boxDiff: boxDiff,\r\n            dateComparer: dateComparer,\r\n            decodeEntities: decodeEntities,\r\n            eventTargetElement: eventTargetElement,\r\n            getSpacing: getSpacing,\r\n            inArray: inArray,\r\n            interpolateValue: interpolateValue,\r\n            mwDelta: mwDelta,\r\n            rectToBox: rectToBox,\r\n            rotatePoint: rotatePoint,\r\n            round: round,\r\n            ceil: ceil,\r\n            floor: floor\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.themes', ['kendo.dataviz.core'], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.themes',\r\n        name: 'Themes',\r\n        description: 'Built-in themes for the DataViz widgets',\r\n        category: 'dataviz',\r\n        depends: ['dataviz.core'],\r\n        hidden: true\r\n    };\r\n    (function ($) {\r\n        var kendo = window.kendo, ui = kendo.dataviz.ui, deepExtend = kendo.deepExtend;\r\n        var BAR_GAP = 1.5, BAR_SPACING = 0.4, BLACK = '#000', SANS = 'Arial,Helvetica,sans-serif', SANS11 = '11px ' + SANS, SANS12 = '12px ' + SANS, SANS16 = '16px ' + SANS, WHITE = '#fff';\r\n        var chartBaseTheme = {\r\n            title: { font: SANS16 },\r\n            legend: { labels: { font: SANS12 } },\r\n            seriesDefaults: {\r\n                visible: true,\r\n                labels: { font: SANS11 },\r\n                donut: { margin: 1 },\r\n                line: { width: 2 },\r\n                vericalLine: { width: 2 },\r\n                scatterLine: { width: 1 },\r\n                area: {\r\n                    opacity: 0.4,\r\n                    markers: {\r\n                        visible: false,\r\n                        size: 6\r\n                    },\r\n                    highlight: {\r\n                        markers: {\r\n                            border: {\r\n                                color: '#fff',\r\n                                opacity: 1,\r\n                                width: 1\r\n                            }\r\n                        }\r\n                    },\r\n                    line: {\r\n                        opacity: 1,\r\n                        width: 0\r\n                    }\r\n                },\r\n                verticalArea: {\r\n                    opacity: 0.4,\r\n                    markers: {\r\n                        visible: false,\r\n                        size: 6\r\n                    },\r\n                    line: {\r\n                        opacity: 1,\r\n                        width: 0\r\n                    }\r\n                },\r\n                radarLine: {\r\n                    width: 2,\r\n                    markers: { visible: false }\r\n                },\r\n                radarArea: {\r\n                    opacity: 0.5,\r\n                    markers: {\r\n                        visible: false,\r\n                        size: 6\r\n                    },\r\n                    line: {\r\n                        opacity: 1,\r\n                        width: 0\r\n                    }\r\n                },\r\n                candlestick: {\r\n                    line: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    },\r\n                    border: {\r\n                        width: 1,\r\n                        _brightness: 0.8\r\n                    },\r\n                    gap: 1,\r\n                    spacing: 0.3,\r\n                    downColor: WHITE,\r\n                    highlight: {\r\n                        line: { width: 2 },\r\n                        border: {\r\n                            width: 2,\r\n                            opacity: 1\r\n                        }\r\n                    }\r\n                },\r\n                ohlc: {\r\n                    line: { width: 1 },\r\n                    gap: 1,\r\n                    spacing: 0.3,\r\n                    highlight: {\r\n                        line: {\r\n                            width: 3,\r\n                            opacity: 1\r\n                        }\r\n                    }\r\n                },\r\n                bubble: {\r\n                    opacity: 0.6,\r\n                    border: { width: 0 },\r\n                    labels: { background: 'transparent' }\r\n                },\r\n                bar: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING\r\n                },\r\n                column: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING\r\n                },\r\n                rangeColumn: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING\r\n                },\r\n                rangeBar: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING\r\n                },\r\n                waterfall: {\r\n                    gap: 0.5,\r\n                    spacing: BAR_SPACING,\r\n                    line: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    }\r\n                },\r\n                horizontalWaterfall: {\r\n                    gap: 0.5,\r\n                    spacing: BAR_SPACING,\r\n                    line: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    }\r\n                },\r\n                bullet: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING,\r\n                    target: { color: '#ff0000' }\r\n                },\r\n                verticalBullet: {\r\n                    gap: BAR_GAP,\r\n                    spacing: BAR_SPACING,\r\n                    target: { color: '#ff0000' }\r\n                },\r\n                boxPlot: {\r\n                    outliersField: '',\r\n                    meanField: '',\r\n                    whiskers: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    },\r\n                    mean: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    },\r\n                    median: {\r\n                        width: 1,\r\n                        color: BLACK\r\n                    },\r\n                    border: {\r\n                        width: 1,\r\n                        _brightness: 0.8\r\n                    },\r\n                    gap: 1,\r\n                    spacing: 0.3,\r\n                    downColor: WHITE,\r\n                    highlight: {\r\n                        whiskers: { width: 2 },\r\n                        border: {\r\n                            width: 2,\r\n                            opacity: 1\r\n                        }\r\n                    }\r\n                },\r\n                funnel: {\r\n                    labels: {\r\n                        color: '',\r\n                        background: ''\r\n                    }\r\n                },\r\n                notes: {\r\n                    icon: { border: { width: 1 } },\r\n                    label: {\r\n                        padding: 3,\r\n                        font: SANS12\r\n                    },\r\n                    line: {\r\n                        length: 10,\r\n                        width: 1\r\n                    },\r\n                    visible: true\r\n                }\r\n            },\r\n            categoryAxis: { majorGridLines: { visible: true } },\r\n            axisDefaults: {\r\n                labels: { font: SANS12 },\r\n                title: {\r\n                    font: SANS16,\r\n                    margin: 5\r\n                },\r\n                crosshair: { tooltip: { font: SANS12 } },\r\n                notes: {\r\n                    icon: {\r\n                        size: 7,\r\n                        border: { width: 1 }\r\n                    },\r\n                    label: {\r\n                        padding: 3,\r\n                        font: SANS12\r\n                    },\r\n                    line: {\r\n                        length: 10,\r\n                        width: 1\r\n                    },\r\n                    visible: true\r\n                }\r\n            },\r\n            tooltip: { font: SANS12 },\r\n            navigator: {\r\n                pane: {\r\n                    height: 90,\r\n                    margin: { top: 10 }\r\n                }\r\n            }\r\n        };\r\n        var gaugeBaseTheme = { scale: { labels: { font: SANS12 } } };\r\n        var diagramBaseTheme = {\r\n            shapeDefaults: {\r\n                hover: { opacity: 0.2 },\r\n                stroke: { width: 0 }\r\n            },\r\n            editable: {\r\n                resize: {\r\n                    handles: {\r\n                        width: 7,\r\n                        height: 7\r\n                    }\r\n                }\r\n            },\r\n            selectable: {\r\n                stroke: {\r\n                    width: 1,\r\n                    dashType: 'dot'\r\n                }\r\n            },\r\n            connectionDefaults: {\r\n                stroke: { width: 2 },\r\n                selection: {\r\n                    handles: {\r\n                        width: 8,\r\n                        height: 8\r\n                    }\r\n                },\r\n                editable: {\r\n                    tools: [\r\n                        'edit',\r\n                        'delete'\r\n                    ]\r\n                }\r\n            }\r\n        };\r\n        var themes = ui.themes, registerTheme = ui.registerTheme = function (themeName, options) {\r\n                var result = {};\r\n                result.chart = deepExtend({}, chartBaseTheme, options.chart);\r\n                result.gauge = deepExtend({}, gaugeBaseTheme, options.gauge);\r\n                result.diagram = deepExtend({}, diagramBaseTheme, options.diagram);\r\n                result.treeMap = deepExtend({}, options.treeMap);\r\n                var defaults = result.chart.seriesDefaults;\r\n                defaults.verticalLine = deepExtend({}, defaults.line);\r\n                defaults.verticalArea = deepExtend({}, defaults.area);\r\n                defaults.verticalBoxPlot = deepExtend({}, defaults.boxPlot);\r\n                defaults.polarArea = deepExtend({}, defaults.radarArea);\r\n                defaults.polarLine = deepExtend({}, defaults.radarLine);\r\n                themes[themeName] = result;\r\n            };\r\n        registerTheme('black', {\r\n            chart: {\r\n                title: { color: WHITE },\r\n                legend: {\r\n                    labels: { color: WHITE },\r\n                    inactiveItems: {\r\n                        labels: { color: '#919191' },\r\n                        markers: { color: '#919191' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: WHITE },\r\n                    errorBars: { color: WHITE },\r\n                    notes: {\r\n                        icon: {\r\n                            background: '#3b3b3b',\r\n                            border: { color: '#8e8e8e' }\r\n                        },\r\n                        label: { color: WHITE },\r\n                        line: { color: '#8e8e8e' }\r\n                    },\r\n                    pie: { overlay: { gradient: 'sharpBevel' } },\r\n                    donut: { overlay: { gradient: 'sharpGlass' } },\r\n                    line: { markers: { background: '#3d3d3d' } },\r\n                    scatter: { markers: { background: '#3d3d3d' } },\r\n                    scatterLine: { markers: { background: '#3d3d3d' } },\r\n                    waterfall: { line: { color: '#8e8e8e' } },\r\n                    horizontalWaterfall: { line: { color: '#8e8e8e' } },\r\n                    candlestick: {\r\n                        downColor: '#555',\r\n                        line: { color: WHITE },\r\n                        border: {\r\n                            _brightness: 1.5,\r\n                            opacity: 1\r\n                        },\r\n                        highlight: {\r\n                            border: {\r\n                                color: WHITE,\r\n                                opacity: 0.2\r\n                            }\r\n                        }\r\n                    },\r\n                    ohlc: { line: { color: WHITE } }\r\n                },\r\n                chartArea: { background: '#3d3d3d' },\r\n                seriesColors: [\r\n                    '#0081da',\r\n                    '#3aafff',\r\n                    '#99c900',\r\n                    '#ffeb3d',\r\n                    '#b20753',\r\n                    '#ff4195'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#8e8e8e' },\r\n                    labels: { color: WHITE },\r\n                    majorGridLines: { color: '#545454' },\r\n                    minorGridLines: { color: '#454545' },\r\n                    title: { color: WHITE },\r\n                    crosshair: { color: '#8e8e8e' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: '#3b3b3b',\r\n                            border: { color: '#8e8e8e' }\r\n                        },\r\n                        label: { color: WHITE },\r\n                        line: { color: '#8e8e8e' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#0070e4' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#1d1d1d',\r\n                    labels: { color: WHITE },\r\n                    minorTicks: { color: WHITE },\r\n                    majorTicks: { color: WHITE },\r\n                    line: { color: WHITE }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#0066cc' },\r\n                    connectorDefaults: {\r\n                        fill: { color: WHITE },\r\n                        stroke: { color: '#384049' },\r\n                        hover: {\r\n                            fill: { color: '#3d3d3d' },\r\n                            stroke: { color: '#efefef' }\r\n                        }\r\n                    },\r\n                    content: { color: WHITE }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: '#3d3d3d' },\r\n                            stroke: { color: WHITE },\r\n                            hover: {\r\n                                fill: { color: WHITE },\r\n                                stroke: { color: WHITE }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: WHITE },\r\n                            fill: { color: WHITE }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: WHITE } },\r\n                connectionDefaults: {\r\n                    stroke: { color: WHITE },\r\n                    content: { color: WHITE },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: '#3d3d3d' },\r\n                            stroke: { color: '#efefef' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#0081da',\r\n                        '#314b5c'\r\n                    ],\r\n                    [\r\n                        '#3aafff',\r\n                        '#3c5464'\r\n                    ],\r\n                    [\r\n                        '#99c900',\r\n                        '#4f5931'\r\n                    ],\r\n                    [\r\n                        '#ffeb3d',\r\n                        '#64603d'\r\n                    ],\r\n                    [\r\n                        '#b20753',\r\n                        '#543241'\r\n                    ],\r\n                    [\r\n                        '#ff4195',\r\n                        '#643e4f'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('blueopal', {\r\n            chart: {\r\n                title: { color: '#293135' },\r\n                legend: {\r\n                    labels: { color: '#293135' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#27A5BA' },\r\n                        markers: { color: '#27A5BA' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: {\r\n                        color: BLACK,\r\n                        background: WHITE,\r\n                        opacity: 0.5\r\n                    },\r\n                    errorBars: { color: '#293135' },\r\n                    candlestick: {\r\n                        downColor: '#c4d0d5',\r\n                        line: { color: '#9aabb2' }\r\n                    },\r\n                    waterfall: { line: { color: '#9aabb2' } },\r\n                    horizontalWaterfall: { line: { color: '#9aabb2' } },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#9aabb2' }\r\n                        },\r\n                        label: { color: '#293135' },\r\n                        line: { color: '#9aabb2' }\r\n                    }\r\n                },\r\n                seriesColors: [\r\n                    '#0069a5',\r\n                    '#0098ee',\r\n                    '#7bd2f6',\r\n                    '#ffb800',\r\n                    '#ff8517',\r\n                    '#e34a00'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#9aabb2' },\r\n                    labels: { color: '#293135' },\r\n                    majorGridLines: { color: '#c4d0d5' },\r\n                    minorGridLines: { color: '#edf1f2' },\r\n                    title: { color: '#293135' },\r\n                    crosshair: { color: '#9aabb2' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#9aabb2' }\r\n                        },\r\n                        label: { color: '#293135' },\r\n                        line: { color: '#9aabb2' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#005c83' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#daecf4',\r\n                    labels: { color: '#293135' },\r\n                    minorTicks: { color: '#293135' },\r\n                    majorTicks: { color: '#293135' },\r\n                    line: { color: '#293135' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#7ec6e3' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#003f59' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#003f59' }\r\n                        }\r\n                    },\r\n                    content: { color: '#293135' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#003f59' },\r\n                            hover: {\r\n                                fill: { color: '#003f59' },\r\n                                stroke: { color: '#003f59' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#003f59' },\r\n                            fill: { color: '#003f59' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#003f59' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#003f59' },\r\n                    content: { color: '#293135' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: '#3d3d3d' },\r\n                            stroke: { color: '#efefef' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#0069a5',\r\n                        '#bad7e7'\r\n                    ],\r\n                    [\r\n                        '#0098ee',\r\n                        '#b9e0f5'\r\n                    ],\r\n                    [\r\n                        '#7bd2f6',\r\n                        '#ceeaf6'\r\n                    ],\r\n                    [\r\n                        '#ffb800',\r\n                        '#e6e3c4'\r\n                    ],\r\n                    [\r\n                        '#ff8517',\r\n                        '#e4d8c8'\r\n                    ],\r\n                    [\r\n                        '#e34a00',\r\n                        '#ddccc2'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('highcontrast', {\r\n            chart: {\r\n                title: { color: '#ffffff' },\r\n                legend: {\r\n                    labels: { color: '#ffffff' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#66465B' },\r\n                        markers: { color: '#66465B' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#ffffff' },\r\n                    errorBars: { color: '#ffffff' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#ffffff' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#ffffff' }\r\n                    },\r\n                    pie: { overlay: { gradient: 'sharpGlass' } },\r\n                    donut: { overlay: { gradient: 'sharpGlass' } },\r\n                    line: { markers: { background: '#2c232b' } },\r\n                    scatter: { markers: { background: '#2c232b' } },\r\n                    scatterLine: { markers: { background: '#2c232b' } },\r\n                    area: { opacity: 0.5 },\r\n                    waterfall: { line: { color: '#ffffff' } },\r\n                    horizontalWaterfall: { line: { color: '#ffffff' } },\r\n                    candlestick: {\r\n                        downColor: '#664e62',\r\n                        line: { color: '#ffffff' },\r\n                        border: {\r\n                            _brightness: 1.5,\r\n                            opacity: 1\r\n                        },\r\n                        highlight: {\r\n                            border: {\r\n                                color: '#ffffff',\r\n                                opacity: 1\r\n                            }\r\n                        }\r\n                    },\r\n                    ohlc: { line: { color: '#ffffff' } }\r\n                },\r\n                chartArea: { background: '#2c232b' },\r\n                seriesColors: [\r\n                    '#a7008f',\r\n                    '#ffb800',\r\n                    '#3aafff',\r\n                    '#99c900',\r\n                    '#b20753',\r\n                    '#ff4195'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#ffffff' },\r\n                    labels: { color: '#ffffff' },\r\n                    majorGridLines: { color: '#664e62' },\r\n                    minorGridLines: { color: '#4f394b' },\r\n                    title: { color: '#ffffff' },\r\n                    crosshair: { color: '#ffffff' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#ffffff' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#ffffff' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#a7008f' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#2c232b',\r\n                    labels: { color: '#ffffff' },\r\n                    minorTicks: { color: '#2c232b' },\r\n                    majorTicks: { color: '#664e62' },\r\n                    line: { color: '#ffffff' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#a7018f' },\r\n                    connectorDefaults: {\r\n                        fill: { color: WHITE },\r\n                        stroke: { color: '#2c232b' },\r\n                        hover: {\r\n                            fill: { color: '#2c232b' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    },\r\n                    content: { color: WHITE }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: '#2c232b' },\r\n                            stroke: { color: WHITE },\r\n                            hover: {\r\n                                fill: { color: WHITE },\r\n                                stroke: { color: WHITE }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: WHITE },\r\n                            fill: { color: WHITE }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: WHITE } },\r\n                connectionDefaults: {\r\n                    stroke: { color: WHITE },\r\n                    content: { color: WHITE },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: '#2c232b' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#a7008f',\r\n                        '#451c3f'\r\n                    ],\r\n                    [\r\n                        '#ffb800',\r\n                        '#564122'\r\n                    ],\r\n                    [\r\n                        '#3aafff',\r\n                        '#2f3f55'\r\n                    ],\r\n                    [\r\n                        '#99c900',\r\n                        '#424422'\r\n                    ],\r\n                    [\r\n                        '#b20753',\r\n                        '#471d33'\r\n                    ],\r\n                    [\r\n                        '#ff4195',\r\n                        '#562940'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('default', {\r\n            chart: {\r\n                title: { color: '#8e8e8e' },\r\n                legend: {\r\n                    labels: { color: '#232323' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#919191' },\r\n                        markers: { color: '#919191' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: {\r\n                        color: BLACK,\r\n                        background: WHITE,\r\n                        opacity: 0.5\r\n                    },\r\n                    errorBars: { color: '#232323' },\r\n                    candlestick: {\r\n                        downColor: '#dedede',\r\n                        line: { color: '#8d8d8d' }\r\n                    },\r\n                    waterfall: { line: { color: '#8e8e8e' } },\r\n                    horizontalWaterfall: { line: { color: '#8e8e8e' } },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#8e8e8e' }\r\n                        },\r\n                        label: { color: '#232323' },\r\n                        line: { color: '#8e8e8e' }\r\n                    }\r\n                },\r\n                seriesColors: [\r\n                    '#ff6800',\r\n                    '#a0a700',\r\n                    '#ff8d00',\r\n                    '#678900',\r\n                    '#ffb53c',\r\n                    '#396000'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#8e8e8e' },\r\n                    labels: { color: '#232323' },\r\n                    minorGridLines: { color: '#f0f0f0' },\r\n                    majorGridLines: { color: '#dfdfdf' },\r\n                    title: { color: '#232323' },\r\n                    crosshair: { color: '#8e8e8e' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#8e8e8e' }\r\n                        },\r\n                        label: { color: '#232323' },\r\n                        line: { color: '#8e8e8e' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#ea7001' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#dedede',\r\n                    labels: { color: '#2e2e2e' },\r\n                    minorTicks: { color: '#2e2e2e' },\r\n                    majorTicks: { color: '#2e2e2e' },\r\n                    line: { color: '#2e2e2e' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#e15613' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#282828' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#282828' }\r\n                        }\r\n                    },\r\n                    content: { color: '#2e2e2e' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#282828' },\r\n                            hover: {\r\n                                fill: { color: '#282828' },\r\n                                stroke: { color: '#282828' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#282828' },\r\n                            fill: { color: '#282828' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#a7018f' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#282828' },\r\n                    content: { color: '#2e2e2e' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#282828' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#ff6800',\r\n                        '#edcfba'\r\n                    ],\r\n                    [\r\n                        '#a0a700',\r\n                        '#dadcba'\r\n                    ],\r\n                    [\r\n                        '#ff8d00',\r\n                        '#edd7ba'\r\n                    ],\r\n                    [\r\n                        '#678900',\r\n                        '#cfd6ba'\r\n                    ],\r\n                    [\r\n                        '#ffb53c',\r\n                        '#eddfc6'\r\n                    ],\r\n                    [\r\n                        '#396000',\r\n                        '#c6ceba'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('silver', {\r\n            chart: {\r\n                title: { color: '#4e5968' },\r\n                legend: {\r\n                    labels: { color: '#4e5968' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#B1BCC8' },\r\n                        markers: { color: '#B1BCC8' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: {\r\n                        color: '#293135',\r\n                        background: '#eaeaec',\r\n                        opacity: 0.5\r\n                    },\r\n                    errorBars: { color: '#4e5968' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#4e5968' }\r\n                        },\r\n                        label: { color: '#4e5968' },\r\n                        line: { color: '#4e5968' }\r\n                    },\r\n                    line: { markers: { background: '#eaeaec' } },\r\n                    scatter: { markers: { background: '#eaeaec' } },\r\n                    scatterLine: { markers: { background: '#eaeaec' } },\r\n                    pie: { connectors: { color: '#A6B1C0' } },\r\n                    donut: { connectors: { color: '#A6B1C0' } },\r\n                    waterfall: { line: { color: '#a6b1c0' } },\r\n                    horizontalWaterfall: { line: { color: '#a6b1c0' } },\r\n                    candlestick: { downColor: '#a6afbe' }\r\n                },\r\n                chartArea: { background: '#eaeaec' },\r\n                seriesColors: [\r\n                    '#007bc3',\r\n                    '#76b800',\r\n                    '#ffae00',\r\n                    '#ef4c00',\r\n                    '#a419b7',\r\n                    '#430B62'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#a6b1c0' },\r\n                    labels: { color: '#4e5968' },\r\n                    majorGridLines: { color: '#dcdcdf' },\r\n                    minorGridLines: { color: '#eeeeef' },\r\n                    title: { color: '#4e5968' },\r\n                    crosshair: { color: '#a6b1c0' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#4e5968' }\r\n                        },\r\n                        label: { color: '#4e5968' },\r\n                        line: { color: '#4e5968' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#0879c0' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#f3f3f4',\r\n                    labels: { color: '#515967' },\r\n                    minorTicks: { color: '#515967' },\r\n                    majorTicks: { color: '#515967' },\r\n                    line: { color: '#515967' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#1c82c2' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#515967' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#282828' }\r\n                        }\r\n                    },\r\n                    content: { color: '#515967' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#515967' },\r\n                            hover: {\r\n                                fill: { color: '#515967' },\r\n                                stroke: { color: '#515967' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#515967' },\r\n                            fill: { color: '#515967' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#515967' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#515967' },\r\n                    content: { color: '#515967' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#515967' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#007bc3',\r\n                        '#c2dbea'\r\n                    ],\r\n                    [\r\n                        '#76b800',\r\n                        '#dae7c3'\r\n                    ],\r\n                    [\r\n                        '#ffae00',\r\n                        '#f5e5c3'\r\n                    ],\r\n                    [\r\n                        '#ef4c00',\r\n                        '#f2d2c3'\r\n                    ],\r\n                    [\r\n                        '#a419b7',\r\n                        '#e3c7e8'\r\n                    ],\r\n                    [\r\n                        '#430b62',\r\n                        '#d0c5d7'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('metro', {\r\n            chart: {\r\n                title: { color: '#777777' },\r\n                legend: {\r\n                    labels: { color: '#777777' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#CBCBCB' },\r\n                        markers: { color: '#CBCBCB' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: BLACK },\r\n                    errorBars: { color: '#777777' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#777777' }\r\n                        },\r\n                        label: { color: '#777777' },\r\n                        line: { color: '#777777' }\r\n                    },\r\n                    candlestick: {\r\n                        downColor: '#c7c7c7',\r\n                        line: { color: '#787878' }\r\n                    },\r\n                    waterfall: { line: { color: '#c7c7c7' } },\r\n                    horizontalWaterfall: { line: { color: '#c7c7c7' } },\r\n                    overlay: { gradient: 'none' },\r\n                    border: { _brightness: 1 }\r\n                },\r\n                seriesColors: [\r\n                    '#8ebc00',\r\n                    '#309b46',\r\n                    '#25a0da',\r\n                    '#ff6900',\r\n                    '#e61e26',\r\n                    '#d8e404',\r\n                    '#16aba9',\r\n                    '#7e51a1',\r\n                    '#313131',\r\n                    '#ed1691'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#c7c7c7' },\r\n                    labels: { color: '#777777' },\r\n                    minorGridLines: { color: '#c7c7c7' },\r\n                    majorGridLines: { color: '#c7c7c7' },\r\n                    title: { color: '#777777' },\r\n                    crosshair: { color: '#c7c7c7' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#777777' }\r\n                        },\r\n                        label: { color: '#777777' },\r\n                        line: { color: '#777777' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#8ebc00' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#e6e6e6',\r\n                    labels: { color: '#777' },\r\n                    minorTicks: { color: '#777' },\r\n                    majorTicks: { color: '#777' },\r\n                    line: { color: '#777' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#8ebc00' },\r\n                    connectorDefaults: {\r\n                        fill: { color: BLACK },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: BLACK }\r\n                        }\r\n                    },\r\n                    content: { color: '#777' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#787878' },\r\n                            hover: {\r\n                                fill: { color: '#787878' },\r\n                                stroke: { color: '#787878' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#787878' },\r\n                            fill: { color: '#787878' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#515967' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#787878' },\r\n                    content: { color: '#777' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#787878' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#8ebc00',\r\n                        '#e8f2cc'\r\n                    ],\r\n                    [\r\n                        '#309b46',\r\n                        '#d6ebda'\r\n                    ],\r\n                    [\r\n                        '#25a0da',\r\n                        '#d3ecf8'\r\n                    ],\r\n                    [\r\n                        '#ff6900',\r\n                        '#ffe1cc'\r\n                    ],\r\n                    [\r\n                        '#e61e26',\r\n                        '#fad2d4'\r\n                    ],\r\n                    [\r\n                        '#d8e404',\r\n                        '#f7facd'\r\n                    ],\r\n                    [\r\n                        '#16aba9',\r\n                        '#d0eeee'\r\n                    ],\r\n                    [\r\n                        '#7e51a1',\r\n                        '#e5dcec'\r\n                    ],\r\n                    [\r\n                        '#313131',\r\n                        '#d6d6d6'\r\n                    ],\r\n                    [\r\n                        '#ed1691',\r\n                        '#fbd0e9'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('metroblack', {\r\n            chart: {\r\n                title: { color: '#ffffff' },\r\n                legend: {\r\n                    labels: { color: '#ffffff' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#797979' },\r\n                        markers: { color: '#797979' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    border: { _brightness: 1 },\r\n                    labels: { color: '#ffffff' },\r\n                    errorBars: { color: '#ffffff' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#cecece' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#cecece' }\r\n                    },\r\n                    line: { markers: { background: '#0e0e0e' } },\r\n                    bubble: { opacity: 0.6 },\r\n                    scatter: { markers: { background: '#0e0e0e' } },\r\n                    scatterLine: { markers: { background: '#0e0e0e' } },\r\n                    candlestick: {\r\n                        downColor: '#828282',\r\n                        line: { color: '#ffffff' }\r\n                    },\r\n                    waterfall: { line: { color: '#cecece' } },\r\n                    horizontalWaterfall: { line: { color: '#cecece' } },\r\n                    overlay: { gradient: 'none' }\r\n                },\r\n                chartArea: { background: '#0e0e0e' },\r\n                seriesColors: [\r\n                    '#00aba9',\r\n                    '#309b46',\r\n                    '#8ebc00',\r\n                    '#ff6900',\r\n                    '#e61e26',\r\n                    '#d8e404',\r\n                    '#25a0da',\r\n                    '#7e51a1',\r\n                    '#313131',\r\n                    '#ed1691'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#cecece' },\r\n                    labels: { color: '#ffffff' },\r\n                    minorGridLines: { color: '#2d2d2d' },\r\n                    majorGridLines: { color: '#333333' },\r\n                    title: { color: '#ffffff' },\r\n                    crosshair: { color: '#cecece' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#cecece' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#cecece' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#00aba9' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#2d2d2d',\r\n                    labels: { color: '#ffffff' },\r\n                    minorTicks: { color: '#333333' },\r\n                    majorTicks: { color: '#cecece' },\r\n                    line: { color: '#cecece' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#00aba9' },\r\n                    connectorDefaults: {\r\n                        fill: { color: WHITE },\r\n                        stroke: { color: '#0e0e0e' },\r\n                        hover: {\r\n                            fill: { color: '#0e0e0e' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    },\r\n                    content: { color: WHITE }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: '#0e0e0e' },\r\n                            stroke: { color: '#787878' },\r\n                            hover: {\r\n                                fill: { color: '#787878' },\r\n                                stroke: { color: '#787878' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: WHITE },\r\n                            fill: { color: WHITE }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#787878' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: WHITE },\r\n                    content: { color: WHITE },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: '#0e0e0e' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#00aba9',\r\n                        '#0b2d2d'\r\n                    ],\r\n                    [\r\n                        '#309b46',\r\n                        '#152a19'\r\n                    ],\r\n                    [\r\n                        '#8ebc00',\r\n                        '#28310b'\r\n                    ],\r\n                    [\r\n                        '#ff6900',\r\n                        '#3e200b'\r\n                    ],\r\n                    [\r\n                        '#e61e26',\r\n                        '#391113'\r\n                    ],\r\n                    [\r\n                        '#d8e404',\r\n                        '#36390c'\r\n                    ],\r\n                    [\r\n                        '#25a0da',\r\n                        '#132b37'\r\n                    ],\r\n                    [\r\n                        '#7e51a1',\r\n                        '#241b2b'\r\n                    ],\r\n                    [\r\n                        '#313131',\r\n                        '#151515'\r\n                    ],\r\n                    [\r\n                        '#ed1691',\r\n                        '#3b1028'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('moonlight', {\r\n            chart: {\r\n                title: { color: '#ffffff' },\r\n                legend: {\r\n                    labels: { color: '#ffffff' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#A1A7AB' },\r\n                        markers: { color: '#A1A7AB' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#ffffff' },\r\n                    errorBars: { color: '#ffffff' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#8c909e' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#8c909e' }\r\n                    },\r\n                    pie: { overlay: { gradient: 'sharpBevel' } },\r\n                    donut: { overlay: { gradient: 'sharpGlass' } },\r\n                    line: { markers: { background: '#212a33' } },\r\n                    bubble: { opacity: 0.6 },\r\n                    scatter: { markers: { background: '#212a33' } },\r\n                    scatterLine: { markers: { background: '#212a33' } },\r\n                    area: { opacity: 0.3 },\r\n                    candlestick: {\r\n                        downColor: '#757d87',\r\n                        line: { color: '#ea9d06' },\r\n                        border: {\r\n                            _brightness: 1.5,\r\n                            opacity: 1\r\n                        },\r\n                        highlight: {\r\n                            border: {\r\n                                color: WHITE,\r\n                                opacity: 0.2\r\n                            }\r\n                        }\r\n                    },\r\n                    waterfall: { line: { color: '#8c909e' } },\r\n                    horizontalWaterfall: { line: { color: '#8c909e' } },\r\n                    ohlc: { line: { color: '#ea9d06' } }\r\n                },\r\n                chartArea: { background: '#212a33' },\r\n                seriesColors: [\r\n                    '#ffca08',\r\n                    '#ff710f',\r\n                    '#ed2e24',\r\n                    '#ff9f03',\r\n                    '#e13c02',\r\n                    '#a00201'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#8c909e' },\r\n                    minorTicks: { color: '#8c909e' },\r\n                    majorTicks: { color: '#8c909e' },\r\n                    labels: { color: '#ffffff' },\r\n                    majorGridLines: { color: '#3e424d' },\r\n                    minorGridLines: { color: '#2f3640' },\r\n                    title: { color: '#ffffff' },\r\n                    crosshair: { color: '#8c909e' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#8c909e' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#8c909e' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#f4af03' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#2f3640',\r\n                    labels: { color: WHITE },\r\n                    minorTicks: { color: '#8c909e' },\r\n                    majorTicks: { color: '#8c909e' },\r\n                    line: { color: '#8c909e' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#f3ae03' },\r\n                    connectorDefaults: {\r\n                        fill: { color: WHITE },\r\n                        stroke: { color: '#414550' },\r\n                        hover: {\r\n                            fill: { color: '#414550' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    },\r\n                    content: { color: WHITE }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: '#414550' },\r\n                            stroke: { color: WHITE },\r\n                            hover: {\r\n                                fill: { color: WHITE },\r\n                                stroke: { color: WHITE }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: WHITE },\r\n                            fill: { color: WHITE }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: WHITE } },\r\n                connectionDefaults: {\r\n                    stroke: { color: WHITE },\r\n                    content: { color: WHITE },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: '#414550' },\r\n                            stroke: { color: WHITE }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#ffca08',\r\n                        '#4e4b2b'\r\n                    ],\r\n                    [\r\n                        '#ff710f',\r\n                        '#4e392d'\r\n                    ],\r\n                    [\r\n                        '#ed2e24',\r\n                        '#4b2c31'\r\n                    ],\r\n                    [\r\n                        '#ff9f03',\r\n                        '#4e422a'\r\n                    ],\r\n                    [\r\n                        '#e13c02',\r\n                        '#482e2a'\r\n                    ],\r\n                    [\r\n                        '#a00201',\r\n                        '#3b232a'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('uniform', {\r\n            chart: {\r\n                title: { color: '#686868' },\r\n                legend: {\r\n                    labels: { color: '#686868' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#B6B6B6' },\r\n                        markers: { color: '#B6B6B6' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#686868' },\r\n                    errorBars: { color: '#686868' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#9e9e9e' }\r\n                        },\r\n                        label: { color: '#686868' },\r\n                        line: { color: '#9e9e9e' }\r\n                    },\r\n                    pie: { overlay: { gradient: 'sharpBevel' } },\r\n                    donut: { overlay: { gradient: 'sharpGlass' } },\r\n                    line: { markers: { background: '#ffffff' } },\r\n                    bubble: { opacity: 0.6 },\r\n                    scatter: { markers: { background: '#ffffff' } },\r\n                    scatterLine: { markers: { background: '#ffffff' } },\r\n                    area: { opacity: 0.3 },\r\n                    candlestick: {\r\n                        downColor: '#cccccc',\r\n                        line: { color: '#cccccc' },\r\n                        border: {\r\n                            _brightness: 1.5,\r\n                            opacity: 1\r\n                        },\r\n                        highlight: {\r\n                            border: {\r\n                                color: '#cccccc',\r\n                                opacity: 0.2\r\n                            }\r\n                        }\r\n                    },\r\n                    waterfall: { line: { color: '#9e9e9e' } },\r\n                    horizontalWaterfall: { line: { color: '#9e9e9e' } },\r\n                    ohlc: { line: { color: '#cccccc' } }\r\n                },\r\n                chartArea: { background: '#ffffff' },\r\n                seriesColors: [\r\n                    '#527aa3',\r\n                    '#6f91b3',\r\n                    '#8ca7c2',\r\n                    '#a8bdd1',\r\n                    '#c5d3e0',\r\n                    '#e2e9f0'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#9e9e9e' },\r\n                    minorTicks: { color: '#aaaaaa' },\r\n                    majorTicks: { color: '#888888' },\r\n                    labels: { color: '#686868' },\r\n                    majorGridLines: { color: '#dadada' },\r\n                    minorGridLines: { color: '#e7e7e7' },\r\n                    title: { color: '#686868' },\r\n                    crosshair: { color: '#9e9e9e' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#9e9e9e' }\r\n                        },\r\n                        label: { color: '#686868' },\r\n                        line: { color: '#9e9e9e' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#527aa3' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#e7e7e7',\r\n                    labels: { color: '#686868' },\r\n                    minorTicks: { color: '#aaaaaa' },\r\n                    majorTicks: { color: '#888888' },\r\n                    line: { color: '#9e9e9e' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#d1d1d1' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#686868' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#686868' }\r\n                        }\r\n                    },\r\n                    content: { color: '#686868' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#686868' },\r\n                            hover: {\r\n                                fill: { color: '#686868' },\r\n                                stroke: { color: '#686868' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#686868' },\r\n                            fill: { color: '#686868' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#686868' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#686868' },\r\n                    content: { color: '#686868' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#686868' }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#527aa3',\r\n                        '#d0d8e1'\r\n                    ],\r\n                    [\r\n                        '#6f91b3',\r\n                        '#d6dde4'\r\n                    ],\r\n                    [\r\n                        '#8ca7c2',\r\n                        '#dce1e7'\r\n                    ],\r\n                    [\r\n                        '#a8bdd1',\r\n                        '#e2e6ea'\r\n                    ],\r\n                    [\r\n                        '#c5d3e0',\r\n                        '#e7eaed'\r\n                    ],\r\n                    [\r\n                        '#e2e9f0',\r\n                        '#edeff0'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('bootstrap', {\r\n            chart: {\r\n                title: { color: '#333333' },\r\n                legend: {\r\n                    labels: { color: '#333333' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#999999' },\r\n                        markers: { color: '#9A9A9A' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#333333' },\r\n                    overlay: { gradient: 'none' },\r\n                    errorBars: { color: '#343434' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: '#000000',\r\n                            border: { color: '#000000' }\r\n                        },\r\n                        label: { color: '#333333' },\r\n                        line: { color: '#000000' }\r\n                    },\r\n                    pie: { overlay: { gradient: 'none' } },\r\n                    donut: { overlay: { gradient: 'none' } },\r\n                    line: { markers: { background: '#ffffff' } },\r\n                    bubble: { opacity: 0.6 },\r\n                    scatter: { markers: { background: '#ffffff' } },\r\n                    scatterLine: { markers: { background: '#ffffff' } },\r\n                    area: { opacity: 0.8 },\r\n                    candlestick: {\r\n                        downColor: '#d0d0d0',\r\n                        line: { color: '#333333' },\r\n                        border: {\r\n                            _brightness: 1.5,\r\n                            opacity: 1\r\n                        },\r\n                        highlight: {\r\n                            border: {\r\n                                color: '#b8b8b8',\r\n                                opacity: 0.2\r\n                            }\r\n                        }\r\n                    },\r\n                    waterfall: { line: { color: '#cccccc' } },\r\n                    horizontalWaterfall: { line: { color: '#cccccc' } },\r\n                    ohlc: { line: { color: '#333333' } }\r\n                },\r\n                chartArea: { background: '#ffffff' },\r\n                seriesColors: [\r\n                    '#428bca',\r\n                    '#5bc0de',\r\n                    '#5cb85c',\r\n                    '#f2b661',\r\n                    '#e67d4a',\r\n                    '#da3b36'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#cccccc' },\r\n                    minorTicks: { color: '#ebebeb' },\r\n                    majorTicks: { color: '#cccccc' },\r\n                    labels: { color: '#333333' },\r\n                    majorGridLines: { color: '#cccccc' },\r\n                    minorGridLines: { color: '#ebebeb' },\r\n                    title: { color: '#333333' },\r\n                    crosshair: { color: '#000000' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: '#000000',\r\n                            border: { color: '#000000' }\r\n                        },\r\n                        label: { color: '#ffffff' },\r\n                        line: { color: '#000000' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#428bca' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#cccccc',\r\n                    labels: { color: '#333333' },\r\n                    minorTicks: { color: '#ebebeb' },\r\n                    majorTicks: { color: '#cccccc' },\r\n                    line: { color: '#cccccc' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#428bca' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#333333' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#333333' }\r\n                        }\r\n                    },\r\n                    content: { color: '#333333' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#333333' },\r\n                            hover: {\r\n                                fill: { color: '#333333' },\r\n                                stroke: { color: '#333333' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#333333' },\r\n                            fill: { color: '#333333' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#333333' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#c4c4c4' },\r\n                    content: { color: '#333333' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#333333' }\r\n                        },\r\n                        stroke: { color: '#333333' }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#428bca',\r\n                        '#d1e0ec'\r\n                    ],\r\n                    [\r\n                        '#5bc0de',\r\n                        '#d6eaf0'\r\n                    ],\r\n                    [\r\n                        '#5cb85c',\r\n                        '#d6e9d6'\r\n                    ],\r\n                    [\r\n                        '#5cb85c',\r\n                        '#f4e8d7'\r\n                    ],\r\n                    [\r\n                        '#e67d4a',\r\n                        '#f2ddd3'\r\n                    ],\r\n                    [\r\n                        '#da3b36',\r\n                        '#f0d0cf'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('flat', {\r\n            chart: {\r\n                title: { color: '#4c5356' },\r\n                legend: {\r\n                    labels: { color: '#4c5356' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#CBCBCB' },\r\n                        markers: { color: '#CBCBCB' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#4c5356' },\r\n                    errorBars: { color: '#4c5356' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#cdcdcd' }\r\n                        },\r\n                        label: { color: '#4c5356' },\r\n                        line: { color: '#cdcdcd' }\r\n                    },\r\n                    candlestick: {\r\n                        downColor: '#c7c7c7',\r\n                        line: { color: '#787878' }\r\n                    },\r\n                    area: { opacity: 0.9 },\r\n                    waterfall: { line: { color: '#cdcdcd' } },\r\n                    horizontalWaterfall: { line: { color: '#cdcdcd' } },\r\n                    overlay: { gradient: 'none' },\r\n                    border: { _brightness: 1 }\r\n                },\r\n                seriesColors: [\r\n                    '#10c4b2',\r\n                    '#ff7663',\r\n                    '#ffb74f',\r\n                    '#a2df53',\r\n                    '#1c9ec4',\r\n                    '#ff63a5',\r\n                    '#1cc47b'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#cdcdcd' },\r\n                    labels: { color: '#4c5356' },\r\n                    minorGridLines: { color: '#cdcdcd' },\r\n                    majorGridLines: { color: '#cdcdcd' },\r\n                    title: { color: '#4c5356' },\r\n                    crosshair: { color: '#cdcdcd' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#cdcdcd' }\r\n                        },\r\n                        label: { color: '#4c5356' },\r\n                        line: { color: '#cdcdcd' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#10c4b2' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#cdcdcd',\r\n                    labels: { color: '#4c5356' },\r\n                    minorTicks: { color: '#4c5356' },\r\n                    majorTicks: { color: '#4c5356' },\r\n                    line: { color: '#4c5356' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#10c4b2' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#363940' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#363940' }\r\n                        }\r\n                    },\r\n                    content: { color: '#4c5356' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#363940' },\r\n                            hover: {\r\n                                fill: { color: '#363940' },\r\n                                stroke: { color: '#363940' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#363940' },\r\n                            fill: { color: '#363940' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#363940' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#cdcdcd' },\r\n                    content: { color: '#4c5356' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#363940' }\r\n                        },\r\n                        stroke: { color: '#363940' }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#10c4b2',\r\n                        '#cff3f0'\r\n                    ],\r\n                    [\r\n                        '#ff7663',\r\n                        '#ffe4e0'\r\n                    ],\r\n                    [\r\n                        '#ffb74f',\r\n                        '#fff1dc'\r\n                    ],\r\n                    [\r\n                        '#a2df53',\r\n                        '#ecf9dd'\r\n                    ],\r\n                    [\r\n                        '#1c9ec4',\r\n                        '#d2ecf3'\r\n                    ],\r\n                    [\r\n                        '#ff63a5',\r\n                        '#ffe0ed'\r\n                    ],\r\n                    [\r\n                        '#1cc47b',\r\n                        '#d2f3e5'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('material', {\r\n            chart: {\r\n                title: { color: '#444444' },\r\n                legend: {\r\n                    labels: { color: '#444444' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#CBCBCB' },\r\n                        markers: { color: '#CBCBCB' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#444444' },\r\n                    errorBars: { color: '#444444' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#e5e5e5' }\r\n                        },\r\n                        label: { color: '#444444' },\r\n                        line: { color: '#e5e5e5' }\r\n                    },\r\n                    candlestick: {\r\n                        downColor: '#c7c7c7',\r\n                        line: { color: '#787878' }\r\n                    },\r\n                    area: { opacity: 0.9 },\r\n                    waterfall: { line: { color: '#e5e5e5' } },\r\n                    horizontalWaterfall: { line: { color: '#e5e5e5' } },\r\n                    overlay: { gradient: 'none' },\r\n                    border: { _brightness: 1 }\r\n                },\r\n                seriesColors: [\r\n                    '#3f51b5',\r\n                    '#03a9f4',\r\n                    '#4caf50',\r\n                    '#f9ce1d',\r\n                    '#ff9800',\r\n                    '#ff5722'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#e5e5e5' },\r\n                    labels: { color: '#444444' },\r\n                    minorGridLines: { color: '#e5e5e5' },\r\n                    majorGridLines: { color: '#e5e5e5' },\r\n                    title: { color: '#444444' },\r\n                    crosshair: { color: '#7f7f7f' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#e5e5e5' }\r\n                        },\r\n                        label: { color: '#444444' },\r\n                        line: { color: '#e5e5e5' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#3f51b5' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#e5e5e5',\r\n                    labels: { color: '#444444' },\r\n                    minorTicks: { color: '#444444' },\r\n                    majorTicks: { color: '#444444' },\r\n                    line: { color: '#444444' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#3f51b5' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#7f7f7f' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#7f7f7f' }\r\n                        }\r\n                    },\r\n                    content: { color: '#444444' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#444444' },\r\n                            hover: {\r\n                                fill: { color: '#444444' },\r\n                                stroke: { color: '#444444' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#444444' },\r\n                            fill: { color: '#444444' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#444444' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#7f7f7f' },\r\n                    content: { color: '#444444' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#444444' }\r\n                        },\r\n                        stroke: { color: '#444444' }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#3f51b5',\r\n                        '#cff3f0'\r\n                    ],\r\n                    [\r\n                        '#03a9f4',\r\n                        '#e5f6fe'\r\n                    ],\r\n                    [\r\n                        '#4caf50',\r\n                        '#edf7ed'\r\n                    ],\r\n                    [\r\n                        '#f9ce1d',\r\n                        '#fefae8'\r\n                    ],\r\n                    [\r\n                        '#ff9800',\r\n                        '#fff4e5'\r\n                    ],\r\n                    [\r\n                        '#ff5722',\r\n                        '#ffeee8'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        registerTheme('materialblack', {\r\n            chart: {\r\n                title: { color: '#fff' },\r\n                legend: {\r\n                    labels: { color: '#fff' },\r\n                    inactiveItems: {\r\n                        labels: { color: '#CBCBCB' },\r\n                        markers: { color: '#CBCBCB' }\r\n                    }\r\n                },\r\n                seriesDefaults: {\r\n                    labels: { color: '#fff' },\r\n                    errorBars: { color: '#fff' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#e5e5e5' }\r\n                        },\r\n                        label: { color: '#fff' },\r\n                        line: { color: '#e5e5e5' }\r\n                    },\r\n                    candlestick: {\r\n                        downColor: '#c7c7c7',\r\n                        line: { color: '#787878' }\r\n                    },\r\n                    area: { opacity: 0.9 },\r\n                    waterfall: { line: { color: '#4d4d4d' } },\r\n                    horizontalWaterfall: { line: { color: '#4d4d4d' } },\r\n                    overlay: { gradient: 'none' },\r\n                    border: { _brightness: 1 }\r\n                },\r\n                chartArea: { background: '#1c1c1c' },\r\n                seriesColors: [\r\n                    '#3f51b5',\r\n                    '#03a9f4',\r\n                    '#4caf50',\r\n                    '#f9ce1d',\r\n                    '#ff9800',\r\n                    '#ff5722'\r\n                ],\r\n                axisDefaults: {\r\n                    line: { color: '#4d4d4d' },\r\n                    labels: { color: '#fff' },\r\n                    minorGridLines: { color: '#4d4d4d' },\r\n                    majorGridLines: { color: '#4d4d4d' },\r\n                    title: { color: '#fff' },\r\n                    crosshair: { color: '#7f7f7f' },\r\n                    notes: {\r\n                        icon: {\r\n                            background: 'transparent',\r\n                            border: { color: '#4d4d4d' }\r\n                        },\r\n                        label: { color: '#fff' },\r\n                        line: { color: '#4d4d4d' }\r\n                    }\r\n                }\r\n            },\r\n            gauge: {\r\n                pointer: { color: '#3f51b5' },\r\n                scale: {\r\n                    rangePlaceholderColor: '#4d4d4d',\r\n                    labels: { color: '#fff' },\r\n                    minorTicks: { color: '#fff' },\r\n                    majorTicks: { color: '#fff' },\r\n                    line: { color: '#fff' }\r\n                }\r\n            },\r\n            diagram: {\r\n                shapeDefaults: {\r\n                    fill: { color: '#3f51b5' },\r\n                    connectorDefaults: {\r\n                        fill: { color: '#7f7f7f' },\r\n                        stroke: { color: WHITE },\r\n                        hover: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#7f7f7f' }\r\n                        }\r\n                    },\r\n                    content: { color: '#fff' }\r\n                },\r\n                editable: {\r\n                    resize: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#fff' },\r\n                            hover: {\r\n                                fill: { color: '#fff' },\r\n                                stroke: { color: '#fff' }\r\n                            }\r\n                        }\r\n                    },\r\n                    rotate: {\r\n                        thumb: {\r\n                            stroke: { color: '#fff' },\r\n                            fill: { color: '#fff' }\r\n                        }\r\n                    }\r\n                },\r\n                selectable: { stroke: { color: '#fff' } },\r\n                connectionDefaults: {\r\n                    stroke: { color: '#7f7f7f' },\r\n                    content: { color: '#fff' },\r\n                    selection: {\r\n                        handles: {\r\n                            fill: { color: WHITE },\r\n                            stroke: { color: '#fff' }\r\n                        },\r\n                        stroke: { color: '#fff' }\r\n                    }\r\n                }\r\n            },\r\n            treeMap: {\r\n                colors: [\r\n                    [\r\n                        '#3f51b5',\r\n                        '#cff3f0'\r\n                    ],\r\n                    [\r\n                        '#03a9f4',\r\n                        '#e5f6fe'\r\n                    ],\r\n                    [\r\n                        '#4caf50',\r\n                        '#edf7ed'\r\n                    ],\r\n                    [\r\n                        '#f9ce1d',\r\n                        '#fefae8'\r\n                    ],\r\n                    [\r\n                        '#ff9800',\r\n                        '#fff4e5'\r\n                    ],\r\n                    [\r\n                        '#ff5722',\r\n                        '#ffeee8'\r\n                    ]\r\n                ]\r\n            }\r\n        });\r\n        (function () {\r\n            var TEXT = '#333333';\r\n            var INACTIVE = '#7f7f7f';\r\n            var INACTIVE_SHAPE = '#bdbdbd';\r\n            var AXIS = '#c8c8c8';\r\n            var AXIS_MINOR = '#dddddd';\r\n            var SERIES = [\r\n                '#008fd3',\r\n                '#99d101',\r\n                '#f39b02',\r\n                '#f05662',\r\n                '#c03c53',\r\n                '#acacac'\r\n            ];\r\n            var SERIES_LIGHT = [\r\n                '#cbe8f5',\r\n                '#eaf5cb',\r\n                '#fceacc',\r\n                '#fbdcdf',\r\n                '#f2d7dc',\r\n                '#eeeeee'\r\n            ];\r\n            var PRIMARY = SERIES[0];\r\n            var DIAGRAM_HOVER = WHITE;\r\n            function noteStyle() {\r\n                return {\r\n                    icon: {\r\n                        background: '#007cc0',\r\n                        border: { color: '#007cc0' }\r\n                    },\r\n                    label: { color: '#ffffff' },\r\n                    line: { color: AXIS }\r\n                };\r\n            }\r\n            registerTheme('fiori', {\r\n                chart: {\r\n                    title: { color: TEXT },\r\n                    legend: {\r\n                        labels: { color: TEXT },\r\n                        inactiveItems: {\r\n                            labels: { color: INACTIVE },\r\n                            markers: { color: INACTIVE }\r\n                        }\r\n                    },\r\n                    seriesDefaults: {\r\n                        labels: { color: TEXT },\r\n                        errorBars: { color: TEXT },\r\n                        notes: noteStyle(),\r\n                        candlestick: {\r\n                            downColor: AXIS,\r\n                            line: { color: INACTIVE_SHAPE }\r\n                        },\r\n                        area: { opacity: 0.8 },\r\n                        waterfall: { line: { color: AXIS } },\r\n                        horizontalWaterfall: { line: { color: AXIS } },\r\n                        overlay: { gradient: 'none' },\r\n                        border: { _brightness: 1 }\r\n                    },\r\n                    seriesColors: SERIES,\r\n                    axisDefaults: {\r\n                        line: { color: AXIS },\r\n                        labels: { color: TEXT },\r\n                        minorGridLines: { color: AXIS_MINOR },\r\n                        majorGridLines: { color: AXIS },\r\n                        title: { color: TEXT },\r\n                        crosshair: { color: INACTIVE },\r\n                        notes: noteStyle()\r\n                    }\r\n                },\r\n                gauge: {\r\n                    pointer: { color: PRIMARY },\r\n                    scale: {\r\n                        rangePlaceholderColor: AXIS,\r\n                        labels: { color: TEXT },\r\n                        minorTicks: { color: TEXT },\r\n                        majorTicks: { color: TEXT },\r\n                        line: { color: TEXT }\r\n                    }\r\n                },\r\n                diagram: {\r\n                    shapeDefaults: {\r\n                        fill: { color: PRIMARY },\r\n                        connectorDefaults: {\r\n                            fill: { color: TEXT },\r\n                            stroke: { color: DIAGRAM_HOVER },\r\n                            hover: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: TEXT }\r\n                            }\r\n                        },\r\n                        content: { color: TEXT }\r\n                    },\r\n                    editable: {\r\n                        resize: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                hover: {\r\n                                    fill: { color: INACTIVE_SHAPE },\r\n                                    stroke: { color: INACTIVE_SHAPE }\r\n                                }\r\n                            }\r\n                        },\r\n                        rotate: {\r\n                            thumb: {\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                fill: { color: INACTIVE_SHAPE }\r\n                            }\r\n                        }\r\n                    },\r\n                    selectable: { stroke: { color: INACTIVE_SHAPE } },\r\n                    connectionDefaults: {\r\n                        stroke: { color: INACTIVE_SHAPE },\r\n                        content: { color: INACTIVE_SHAPE },\r\n                        selection: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE }\r\n                            },\r\n                            stroke: { color: INACTIVE_SHAPE }\r\n                        }\r\n                    }\r\n                },\r\n                treeMap: { colors: fuse(SERIES, SERIES_LIGHT) }\r\n            });\r\n        }());\r\n        (function () {\r\n            var TEXT = '#4e4e4e';\r\n            var INACTIVE = '#7f7f7f';\r\n            var INACTIVE_SHAPE = '#bdbdbd';\r\n            var AXIS = '#c8c8c8';\r\n            var AXIS_MINOR = '#e5e5e5';\r\n            var SERIES = [\r\n                '#0072c6',\r\n                '#5db2ff',\r\n                '#008a17',\r\n                '#82ba00',\r\n                '#ff8f32',\r\n                '#ac193d'\r\n            ];\r\n            var SERIES_LIGHT = [\r\n                '#cbe2f3',\r\n                '#deeffe',\r\n                '#cbe7d0',\r\n                '#e5f0cb',\r\n                '#fee8d5',\r\n                '#eed0d7'\r\n            ];\r\n            var PRIMARY = SERIES[0];\r\n            var DIAGRAM_HOVER = WHITE;\r\n            function noteStyle() {\r\n                return {\r\n                    icon: {\r\n                        background: '#00b0ff',\r\n                        border: { color: '#00b0ff' }\r\n                    },\r\n                    label: { color: '#ffffff' },\r\n                    line: { color: AXIS }\r\n                };\r\n            }\r\n            registerTheme('office365', {\r\n                chart: {\r\n                    title: { color: TEXT },\r\n                    legend: {\r\n                        labels: { color: TEXT },\r\n                        inactiveItems: {\r\n                            labels: { color: INACTIVE },\r\n                            markers: { color: INACTIVE }\r\n                        }\r\n                    },\r\n                    seriesDefaults: {\r\n                        labels: { color: TEXT },\r\n                        errorBars: { color: TEXT },\r\n                        notes: noteStyle(),\r\n                        candlestick: {\r\n                            downColor: AXIS,\r\n                            line: { color: INACTIVE_SHAPE }\r\n                        },\r\n                        area: { opacity: 0.8 },\r\n                        waterfall: { line: { color: AXIS } },\r\n                        horizontalWaterfall: { line: { color: AXIS } },\r\n                        overlay: { gradient: 'none' },\r\n                        border: { _brightness: 1 }\r\n                    },\r\n                    seriesColors: SERIES,\r\n                    axisDefaults: {\r\n                        line: { color: AXIS },\r\n                        labels: { color: TEXT },\r\n                        minorGridLines: { color: AXIS_MINOR },\r\n                        majorGridLines: { color: AXIS },\r\n                        title: { color: TEXT },\r\n                        crosshair: { color: INACTIVE },\r\n                        notes: noteStyle()\r\n                    }\r\n                },\r\n                gauge: {\r\n                    pointer: { color: PRIMARY },\r\n                    scale: {\r\n                        rangePlaceholderColor: AXIS,\r\n                        labels: { color: TEXT },\r\n                        minorTicks: { color: TEXT },\r\n                        majorTicks: { color: TEXT },\r\n                        line: { color: TEXT }\r\n                    }\r\n                },\r\n                diagram: {\r\n                    shapeDefaults: {\r\n                        fill: { color: PRIMARY },\r\n                        connectorDefaults: {\r\n                            fill: { color: TEXT },\r\n                            stroke: { color: DIAGRAM_HOVER },\r\n                            hover: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: TEXT }\r\n                            }\r\n                        },\r\n                        content: { color: TEXT }\r\n                    },\r\n                    editable: {\r\n                        resize: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                hover: {\r\n                                    fill: { color: INACTIVE_SHAPE },\r\n                                    stroke: { color: INACTIVE_SHAPE }\r\n                                }\r\n                            }\r\n                        },\r\n                        rotate: {\r\n                            thumb: {\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                fill: { color: INACTIVE_SHAPE }\r\n                            }\r\n                        }\r\n                    },\r\n                    selectable: { stroke: { color: INACTIVE_SHAPE } },\r\n                    connectionDefaults: {\r\n                        stroke: { color: INACTIVE_SHAPE },\r\n                        content: { color: INACTIVE_SHAPE },\r\n                        selection: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE }\r\n                            },\r\n                            stroke: { color: INACTIVE_SHAPE }\r\n                        }\r\n                    }\r\n                },\r\n                treeMap: { colors: fuse(SERIES, SERIES_LIGHT) }\r\n            });\r\n        }());\r\n        (function () {\r\n            var TEXT = '#32364c';\r\n            var INACTIVE = '#7f7f7f';\r\n            var INACTIVE_SHAPE = '#bdbdbd';\r\n            var AXIS = '#dfe0e1';\r\n            var AXIS_MINOR = '#dfe0e1';\r\n            var SERIES = [\r\n                '#ff4350',\r\n                '#ff9ea5',\r\n                '#00acc1',\r\n                '#80deea',\r\n                '#ffbf46',\r\n                '#ffd78c'\r\n            ];\r\n            var SERIES_LIGHT = [\r\n                '#ffd9dc',\r\n                '#ffeced',\r\n                '#cceef3',\r\n                '#e6f8fb',\r\n                '#fff2da',\r\n                '#fff7e8'\r\n            ];\r\n            var PRIMARY = SERIES[0];\r\n            var DIAGRAM_HOVER = WHITE;\r\n            function noteStyle() {\r\n                return {\r\n                    icon: {\r\n                        background: '#007cc0',\r\n                        border: { color: '#007cc0' }\r\n                    },\r\n                    label: { color: '#ffffff' },\r\n                    line: { color: AXIS }\r\n                };\r\n            }\r\n            registerTheme('nova', {\r\n                chart: {\r\n                    title: { color: TEXT },\r\n                    legend: {\r\n                        labels: { color: TEXT },\r\n                        inactiveItems: {\r\n                            labels: { color: INACTIVE },\r\n                            markers: { color: INACTIVE }\r\n                        }\r\n                    },\r\n                    seriesDefaults: {\r\n                        labels: { color: TEXT },\r\n                        errorBars: { color: TEXT },\r\n                        notes: noteStyle(),\r\n                        candlestick: {\r\n                            downColor: AXIS,\r\n                            line: { color: INACTIVE_SHAPE }\r\n                        },\r\n                        area: { opacity: 0.8 },\r\n                        waterfall: { line: { color: AXIS } },\r\n                        horizontalWaterfall: { line: { color: AXIS } },\r\n                        overlay: { gradient: 'none' },\r\n                        border: { _brightness: 1 }\r\n                    },\r\n                    seriesColors: SERIES,\r\n                    axisDefaults: {\r\n                        line: { color: AXIS },\r\n                        labels: { color: TEXT },\r\n                        minorGridLines: { color: AXIS_MINOR },\r\n                        majorGridLines: { color: AXIS },\r\n                        title: { color: TEXT },\r\n                        crosshair: { color: TEXT },\r\n                        notes: noteStyle()\r\n                    }\r\n                },\r\n                gauge: {\r\n                    pointer: { color: PRIMARY },\r\n                    scale: {\r\n                        rangePlaceholderColor: AXIS,\r\n                        labels: { color: TEXT },\r\n                        minorTicks: { color: TEXT },\r\n                        majorTicks: { color: TEXT },\r\n                        line: { color: TEXT }\r\n                    }\r\n                },\r\n                diagram: {\r\n                    shapeDefaults: {\r\n                        fill: { color: PRIMARY },\r\n                        connectorDefaults: {\r\n                            fill: { color: TEXT },\r\n                            stroke: { color: DIAGRAM_HOVER },\r\n                            hover: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: TEXT }\r\n                            }\r\n                        },\r\n                        content: { color: TEXT }\r\n                    },\r\n                    editable: {\r\n                        resize: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                hover: {\r\n                                    fill: { color: INACTIVE_SHAPE },\r\n                                    stroke: { color: INACTIVE_SHAPE }\r\n                                }\r\n                            }\r\n                        },\r\n                        rotate: {\r\n                            thumb: {\r\n                                stroke: { color: INACTIVE_SHAPE },\r\n                                fill: { color: INACTIVE_SHAPE }\r\n                            }\r\n                        }\r\n                    },\r\n                    selectable: { stroke: { color: INACTIVE_SHAPE } },\r\n                    connectionDefaults: {\r\n                        stroke: { color: INACTIVE_SHAPE },\r\n                        content: { color: INACTIVE_SHAPE },\r\n                        selection: {\r\n                            handles: {\r\n                                fill: { color: DIAGRAM_HOVER },\r\n                                stroke: { color: INACTIVE_SHAPE }\r\n                            },\r\n                            stroke: { color: INACTIVE_SHAPE }\r\n                        }\r\n                    }\r\n                },\r\n                treeMap: { colors: fuse(SERIES, SERIES_LIGHT) }\r\n            });\r\n        }());\r\n        function fuse(arr1, arr2) {\r\n            return $.map(arr1, function (item, index) {\r\n                return [[\r\n                        item,\r\n                        arr2[index]\r\n                    ]];\r\n            });\r\n        }\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.chart', [\r\n        'kendo.color',\r\n        'kendo.data',\r\n        'kendo.dataviz.core',\r\n        'kendo.dataviz.themes',\r\n        'kendo.drawing',\r\n        'kendo.userevents'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.chart',\r\n        name: 'Chart',\r\n        category: 'dataviz',\r\n        description: 'The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.',\r\n        depends: [\r\n            'data',\r\n            'userevents',\r\n            'drawing',\r\n            'dataviz.core',\r\n            'dataviz.themes'\r\n        ],\r\n        features: [\r\n            {\r\n                id: 'dataviz.chart-polar',\r\n                name: 'Polar & Radar',\r\n                description: 'Support for Polar and Radar charts.',\r\n                depends: ['dataviz.chart.polar'],\r\n                requireJS: false\r\n            },\r\n            {\r\n                id: 'dataviz.chart-funnel',\r\n                name: 'Funnel chart',\r\n                description: 'Support for Funnel chart.',\r\n                depends: ['dataviz.chart.funnel'],\r\n                requireJS: false\r\n            },\r\n            {\r\n                id: 'dataviz.chart-pdf-export',\r\n                name: 'PDF export',\r\n                description: 'Export Chart as PDF',\r\n                depends: ['pdf']\r\n            }\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var each = $.each, isArray = $.isArray, isPlainObject = $.isPlainObject, map = $.map, math = Math, noop = $.noop, extend = $.extend, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, Observable = kendo.Observable, DataSource = kendo.data.DataSource, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, getter = kendo.getter, isFn = kendo.isFunction, template = kendo.template, dataviz = kendo.dataviz, Axis = dataviz.Axis, AxisLabel = dataviz.AxisLabel, Box2D = dataviz.Box2D, BoxElement = dataviz.BoxElement, ChartElement = dataviz.ChartElement, Color = kendo.drawing.Color, CurveProcessor = dataviz.CurveProcessor, FloatElement = dataviz.FloatElement, Note = dataviz.Note, LogarithmicAxis = dataviz.LogarithmicAxis, NumericAxis = dataviz.NumericAxis, Point2D = dataviz.Point2D, RootElement = dataviz.RootElement, Ring = dataviz.Ring, ShapeElement = dataviz.ShapeElement, ShapeBuilder = dataviz.ShapeBuilder, TextBox = dataviz.TextBox, Title = dataviz.Title, alignPathToPixel = dataviz.alignPathToPixel, autoFormat = dataviz.autoFormat, dateComparer = dataviz.dateComparer, eventTargetElement = dataviz.eventTargetElement, getSpacing = dataviz.getSpacing, inArray = dataviz.inArray, interpolate = dataviz.interpolateValue, mwDelta = dataviz.mwDelta, round = dataviz.round, util = kendo.util, append = util.append, defined = util.defined, last = util.last, limitValue = util.limitValue, sparseArrayLimits = util.sparseArrayLimits, sparseArrayMin = util.sparseArrayMin, sparseArrayMax = util.sparseArrayMax, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, geom = dataviz.geometry, draw = dataviz.drawing;\r\n        var NS = '.kendoChart', ABOVE = 'above', AREA = 'area', AUTO = 'auto', FIT = 'fit', AXIS_LABEL_CLICK = dataviz.AXIS_LABEL_CLICK, BAR = 'bar', BAR_ALIGN_MIN_WIDTH = 6, BAR_BORDER_BRIGHTNESS = 0.8, BELOW = 'below', BLACK = '#000', BOTH = 'both', BOTTOM = 'bottom', BOX_PLOT = 'boxPlot', BUBBLE = 'bubble', BULLET = 'bullet', CANDLESTICK = 'candlestick', CATEGORY = 'category', CENTER = 'center', CHANGE = 'change', CIRCLE = 'circle', CONTEXTMENU_NS = 'contextmenu' + NS, CLIP = dataviz.CLIP, COLOR = 'color', COLUMN = 'column', COORD_PRECISION = dataviz.COORD_PRECISION, CROSS = 'cross', CSS_PREFIX = 'k-', CUSTOM = 'custom', DATABOUND = 'dataBound', DATE = 'date', DAYS = 'days', DEFAULT_FONT = dataviz.DEFAULT_FONT, DEFAULT_HEIGHT = dataviz.DEFAULT_HEIGHT, DEFAULT_PRECISION = dataviz.DEFAULT_PRECISION, DEFAULT_WIDTH = dataviz.DEFAULT_WIDTH, DEFAULT_ERROR_BAR_WIDTH = 4, DONUT = 'donut', DONUT_SECTOR_ANIM_DELAY = 50, DRAG = 'drag', DRAG_END = 'dragEnd', DRAG_START = 'dragStart', ERROR_LOW_FIELD = 'errorLow', ERROR_HIGH_FIELD = 'errorHigh', X_ERROR_LOW_FIELD = 'xErrorLow', X_ERROR_HIGH_FIELD = 'xErrorHigh', Y_ERROR_LOW_FIELD = 'yErrorLow', Y_ERROR_HIGH_FIELD = 'yErrorHigh', FADEIN = 'fadeIn', FIRST = 'first', FROM = 'from', FUNNEL = 'funnel', GLASS = 'glass', HORIZONTAL = 'horizontal', HORIZONTAL_WATERFALL = 'horizontalWaterfall', HOURS = 'hours', INITIAL_ANIMATION_DURATION = dataviz.INITIAL_ANIMATION_DURATION, INSIDE_BASE = 'insideBase', INSIDE_END = 'insideEnd', INTERPOLATE = 'interpolate', LEAVE = 'leave', LEFT = 'left', LEGEND_ITEM_CLICK = 'legendItemClick', LEGEND_ITEM_HOVER = 'legendItemHover', LINE = 'line', LINE_MARKER_SIZE = 8, LINEAR = 'linear', LOGARITHMIC = 'log', MAX = 'max', MAX_EXPAND_DEPTH = 5, MAX_VALUE = Number.MAX_VALUE, MIN = 'min', MIN_VALUE = -Number.MAX_VALUE, MINUTES = 'minutes', MONTHS = 'months', MOUSELEAVE_NS = 'mouseleave' + NS, MOUSEMOVE_TRACKING = 'mousemove.tracking', MOUSEMOVE_NS = 'mousemove' + NS, MOUSEMOVE_DELAY = 20, MOUSEWHEEL_DELAY = 150, MOUSEWHEEL_NS = 'DOMMouseScroll' + NS + ' mousewheel' + NS, NOTE_CLICK = dataviz.NOTE_CLICK, NOTE_HOVER = dataviz.NOTE_HOVER, NOTE_TEXT = 'noteText', OBJECT = 'object', OHLC = 'ohlc', OUTSIDE_END = 'outsideEnd', PIE = 'pie', PIE_SECTOR_ANIM_DELAY = 70, PLOT_AREA_CLICK = 'plotAreaClick', PLOT_AREA_HOVER = 'plotAreaHover', POINTER = 'pointer', RANGE_BAR = 'rangeBar', RANGE_COLUMN = 'rangeColumn', RENDER = 'render', RIGHT = 'right', ROUNDED_BEVEL = 'roundedBevel', ROUNDED_GLASS = 'roundedGlass', SCATTER = 'scatter', SCATTER_LINE = 'scatterLine', SECONDS = 'seconds', SELECT_START = 'selectStart', SELECT = 'select', SELECT_END = 'selectEnd', SERIES_CLICK = 'seriesClick', SERIES_HOVER = 'seriesHover', START_SCALE = 0.001, STEP = 'step', SMOOTH = 'smooth', STD_ERR = 'stderr', STD_DEV = 'stddev', STRING = 'string', SUMMARY_FIELD = 'summary', TIME_PER_SECOND = 1000, TIME_PER_MINUTE = 60 * TIME_PER_SECOND, TIME_PER_HOUR = 60 * TIME_PER_MINUTE, TIME_PER_DAY = 24 * TIME_PER_HOUR, TIME_PER_WEEK = 7 * TIME_PER_DAY, TIME_PER_MONTH = 31 * TIME_PER_DAY, TIME_PER_YEAR = 365 * TIME_PER_DAY, TIME_PER_UNIT = {\r\n                'years': TIME_PER_YEAR,\r\n                'months': TIME_PER_MONTH,\r\n                'weeks': TIME_PER_WEEK,\r\n                'days': TIME_PER_DAY,\r\n                'hours': TIME_PER_HOUR,\r\n                'minutes': TIME_PER_MINUTE,\r\n                'seconds': TIME_PER_SECOND\r\n            }, TO = 'to', TOP = 'top', TOOLTIP_ANIMATION_DURATION = 150, TOOLTIP_OFFSET = 5, TOOLTIP_SHOW_DELAY = 100, TOOLTIP_HIDE_DELAY = 100, TOOLTIP_INVERSE = 'chart-tooltip-inverse', VALUE = 'value', VERTICAL_AREA = 'verticalArea', VERTICAL_BOX_PLOT = 'verticalBoxPlot', VERTICAL_BULLET = 'verticalBullet', VERTICAL_LINE = 'verticalLine', WATERFALL = 'waterfall', WEEKS = 'weeks', WHITE = '#fff', X = 'x', Y = 'y', YEARS = 'years', ZERO = 'zero', ZOOM_ACCELERATION = 3, ZOOM_START = 'zoomStart', ZOOM = 'zoom', ZOOM_END = 'zoomEnd', BASE_UNITS = [\r\n                SECONDS,\r\n                MINUTES,\r\n                HOURS,\r\n                DAYS,\r\n                WEEKS,\r\n                MONTHS,\r\n                YEARS\r\n            ], EQUALLY_SPACED_SERIES = [\r\n                BAR,\r\n                COLUMN,\r\n                OHLC,\r\n                CANDLESTICK,\r\n                BOX_PLOT,\r\n                VERTICAL_BOX_PLOT,\r\n                BULLET,\r\n                RANGE_COLUMN,\r\n                RANGE_BAR,\r\n                WATERFALL,\r\n                HORIZONTAL_WATERFALL\r\n            ];\r\n        var DateLabelFormats = {\r\n            seconds: 'HH:mm:ss',\r\n            minutes: 'HH:mm',\r\n            hours: 'HH:mm',\r\n            days: 'M/d',\r\n            weeks: 'M/d',\r\n            months: 'MMM \\'yy',\r\n            years: 'yyyy'\r\n        };\r\n        var Chart = Widget.extend({\r\n            init: function (element, userOptions) {\r\n                var chart = this, options, dataSource;\r\n                kendo.destroy(element);\r\n                Widget.fn.init.call(chart, element);\r\n                chart.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative');\r\n                if (userOptions) {\r\n                    dataSource = userOptions.dataSource;\r\n                    userOptions.dataSource = undefined;\r\n                }\r\n                options = deepExtend({}, chart.options, userOptions);\r\n                chart._originalOptions = deepExtend({}, options);\r\n                chart._initTheme(options);\r\n                chart._initSurface();\r\n                chart.bind(chart.events, chart.options);\r\n                chart.wrapper = chart.element;\r\n                if (userOptions) {\r\n                    userOptions.dataSource = dataSource;\r\n                }\r\n                chart._initDataSource(userOptions);\r\n                kendo.notify(chart, dataviz.ui);\r\n            },\r\n            _initTheme: function (options) {\r\n                var chart = this, themes = dataviz.ui.themes || {}, themeName = options.theme, theme = themes[themeName] || themes[themeName.toLowerCase()], themeOptions = themeName && theme ? theme.chart : {}, seriesCopies = [], series = options.series || [], i;\r\n                for (i = 0; i < series.length; i++) {\r\n                    seriesCopies.push($.extend({}, series[i]));\r\n                }\r\n                options.series = seriesCopies;\r\n                resolveAxisAliases(options);\r\n                chart._applyDefaults(options, themeOptions);\r\n                if (options.seriesColors === null) {\r\n                    options.seriesColors = undefined;\r\n                }\r\n                chart.options = deepExtend({}, themeOptions, options);\r\n                applySeriesColors(chart.options);\r\n            },\r\n            _initDataSource: function (userOptions) {\r\n                var chart = this, dataSource = (userOptions || {}).dataSource;\r\n                chart._dataChangeHandler = proxy(chart._onDataChanged, chart);\r\n                chart.dataSource = DataSource.create(dataSource).bind(CHANGE, chart._dataChangeHandler);\r\n                chart._bindCategories();\r\n                if (dataSource) {\r\n                    chart._hasDataSource = true;\r\n                }\r\n                preloadFonts(userOptions, function () {\r\n                    chart._redraw();\r\n                    chart._attachEvents();\r\n                });\r\n                if (dataSource) {\r\n                    if (chart.options.autoBind) {\r\n                        chart.dataSource.fetch();\r\n                    }\r\n                }\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                var chart = this;\r\n                chart.dataSource.unbind(CHANGE, chart._dataChangeHandler);\r\n                chart.dataSource = dataSource = DataSource.create(dataSource);\r\n                chart._hasDataSource = true;\r\n                chart._hasData = false;\r\n                dataSource.bind(CHANGE, chart._dataChangeHandler);\r\n                if (chart.options.autoBind) {\r\n                    dataSource.fetch();\r\n                }\r\n            },\r\n            events: [\r\n                DATABOUND,\r\n                SERIES_CLICK,\r\n                SERIES_HOVER,\r\n                AXIS_LABEL_CLICK,\r\n                LEGEND_ITEM_CLICK,\r\n                LEGEND_ITEM_HOVER,\r\n                PLOT_AREA_CLICK,\r\n                PLOT_AREA_HOVER,\r\n                DRAG_START,\r\n                DRAG,\r\n                DRAG_END,\r\n                ZOOM_START,\r\n                ZOOM,\r\n                ZOOM_END,\r\n                SELECT_START,\r\n                SELECT,\r\n                SELECT_END,\r\n                NOTE_CLICK,\r\n                NOTE_HOVER,\r\n                RENDER\r\n            ],\r\n            items: function () {\r\n                return $();\r\n            },\r\n            options: {\r\n                name: 'Chart',\r\n                renderAs: '',\r\n                theme: 'default',\r\n                chartArea: {},\r\n                legend: {\r\n                    visible: true,\r\n                    labels: {}\r\n                },\r\n                categoryAxis: {},\r\n                autoBind: true,\r\n                seriesDefaults: {\r\n                    type: COLUMN,\r\n                    data: [],\r\n                    highlight: { visible: true },\r\n                    labels: {},\r\n                    negativeValues: { visible: false }\r\n                },\r\n                series: [],\r\n                seriesColors: null,\r\n                tooltip: { visible: false },\r\n                transitions: true,\r\n                valueAxis: {},\r\n                plotArea: {},\r\n                title: {},\r\n                xAxis: {},\r\n                yAxis: {},\r\n                panes: [{}],\r\n                pannable: false,\r\n                zoomable: false\r\n            },\r\n            refresh: function () {\r\n                var chart = this;\r\n                chart._applyDefaults(chart.options);\r\n                applySeriesColors(chart.options);\r\n                chart._bindSeries();\r\n                chart._bindCategories();\r\n                chart.trigger(DATABOUND);\r\n                chart._redraw();\r\n            },\r\n            getSize: function () {\r\n                return kendo.dimensions(this.element);\r\n            },\r\n            _resize: function () {\r\n                var t = this.options.transitions;\r\n                this.options.transitions = false;\r\n                this._redraw();\r\n                this.options.transitions = t;\r\n            },\r\n            redraw: function (paneName) {\r\n                var chart = this, pane, plotArea;\r\n                chart._applyDefaults(chart.options);\r\n                applySeriesColors(chart.options);\r\n                if (paneName) {\r\n                    plotArea = chart._model._plotArea;\r\n                    pane = plotArea.findPane(paneName);\r\n                    plotArea.redraw(pane);\r\n                } else {\r\n                    chart._redraw();\r\n                }\r\n            },\r\n            getAxis: function (name) {\r\n                var axes = this._plotArea.axes;\r\n                for (var idx = 0; idx < axes.length; idx++) {\r\n                    if (axes[idx].options.name === name) {\r\n                        return new ChartAxis(axes[idx]);\r\n                    }\r\n                }\r\n            },\r\n            toggleHighlight: function (show, filter) {\r\n                var plotArea = this._plotArea;\r\n                var highlight = this._highlight;\r\n                var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\r\n                var seriesName, categoryName, points;\r\n                if (kendo.isFunction(filter)) {\r\n                    points = plotArea.filterPoints(filter);\r\n                } else {\r\n                    if (isPlainObject(filter)) {\r\n                        seriesName = filter.series;\r\n                        categoryName = filter.category;\r\n                    } else {\r\n                        seriesName = categoryName = filter;\r\n                    }\r\n                    if (firstSeries.type === DONUT) {\r\n                        points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\r\n                    } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {\r\n                        points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\r\n                    } else {\r\n                        points = plotArea.pointsBySeriesName(seriesName);\r\n                    }\r\n                }\r\n                if (points) {\r\n                    for (var idx = 0; idx < points.length; idx++) {\r\n                        highlight.togglePointHighlight(points[idx], show);\r\n                    }\r\n                }\r\n            },\r\n            _initSurface: function () {\r\n                var surface = this.surface;\r\n                var wrap = this._surfaceWrap();\r\n                var chartArea = this.options.chartArea;\r\n                if (chartArea.width) {\r\n                    wrap.css('width', chartArea.width);\r\n                }\r\n                if (chartArea.height) {\r\n                    wrap.css('height', chartArea.height);\r\n                }\r\n                if (!surface || surface.options.type !== this.options.renderAs) {\r\n                    if (surface) {\r\n                        surface.destroy();\r\n                    }\r\n                    this.surface = draw.Surface.create(wrap, { type: this.options.renderAs });\r\n                } else {\r\n                    this.surface.clear();\r\n                    this.surface.resize();\r\n                }\r\n            },\r\n            _surfaceWrap: function () {\r\n                return this.element;\r\n            },\r\n            _redraw: function () {\r\n                var chart = this, model = chart._getModel(), view;\r\n                chart._destroyView();\r\n                chart._model = model;\r\n                chart._plotArea = model._plotArea;\r\n                model.renderVisual();\r\n                if (this.options.transitions !== false) {\r\n                    model.traverse(function (element) {\r\n                        if (element.animation) {\r\n                            element.animation.setup();\r\n                        }\r\n                    });\r\n                }\r\n                chart._initSurface();\r\n                chart.surface.draw(model.visual);\r\n                if (this.options.transitions !== false) {\r\n                    model.traverse(function (element) {\r\n                        if (element.animation) {\r\n                            element.animation.play();\r\n                        }\r\n                    });\r\n                }\r\n                chart._tooltip = chart._createTooltip();\r\n                chart._highlight = new Highlight(view);\r\n                chart._setupSelection();\r\n                chart._createPannable();\r\n                chart._createZoomSelection();\r\n                chart._createMousewheelZoom();\r\n                if (!chart._hasDataSource || chart._hasData || !chart.options.autoBind) {\r\n                    chart.trigger(RENDER);\r\n                }\r\n            },\r\n            exportVisual: function (options) {\r\n                var visual;\r\n                if (options && (options.width || options.height)) {\r\n                    var chartArea = this.options.chartArea;\r\n                    var originalChartArea = this._originalOptions.chartArea;\r\n                    deepExtend(chartArea, options);\r\n                    var model = this._getModel();\r\n                    chartArea.width = originalChartArea.width;\r\n                    chartArea.height = originalChartArea.height;\r\n                    model.renderVisual();\r\n                    visual = model.visual;\r\n                } else {\r\n                    visual = this.surface.exportVisual();\r\n                }\r\n                return visual;\r\n            },\r\n            _sharedTooltip: function () {\r\n                var chart = this, options = chart.options;\r\n                return chart._plotArea instanceof CategoricalPlotArea && options.tooltip.shared;\r\n            },\r\n            _createPannable: function () {\r\n                var options = this.options;\r\n                if (options.pannable !== false) {\r\n                    this._pannable = new Pannable(this._plotArea, options.pannable);\r\n                }\r\n            },\r\n            _createZoomSelection: function () {\r\n                var zoomable = this.options.zoomable;\r\n                var selection = (zoomable || {}).selection;\r\n                if (zoomable !== false && selection !== false) {\r\n                    this._zoomSelection = new ZoomSelection(this, selection);\r\n                }\r\n            },\r\n            _createMousewheelZoom: function () {\r\n                var zoomable = this.options.zoomable;\r\n                var mousewheel = (zoomable || {}).mousewheel;\r\n                if (zoomable !== false && mousewheel !== false) {\r\n                    this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\r\n                }\r\n            },\r\n            _createTooltip: function () {\r\n                var chart = this, options = chart.options, element = chart.element, tooltip;\r\n                if (chart._sharedTooltip()) {\r\n                    tooltip = new SharedTooltip(element, chart._plotArea, options.tooltip);\r\n                } else {\r\n                    tooltip = new Tooltip(element, options.tooltip);\r\n                }\r\n                tooltip.bind(LEAVE, proxy(chart._tooltipleave, chart));\r\n                return tooltip;\r\n            },\r\n            _tooltipleave: function () {\r\n                var chart = this, plotArea = chart._plotArea, highlight = chart._highlight;\r\n                plotArea.hideCrosshairs();\r\n                highlight.hide();\r\n            },\r\n            _applyDefaults: function (options, themeOptions) {\r\n                applyAxisDefaults(options, themeOptions);\r\n                applySeriesDefaults(options, themeOptions);\r\n            },\r\n            _getModel: function () {\r\n                var chart = this, options = chart.options, model = new RootElement(chart._modelOptions()), plotArea;\r\n                model.chart = chart;\r\n                Title.buildTitle(options.title, model);\r\n                plotArea = model._plotArea = chart._createPlotArea();\r\n                if (options.legend.visible) {\r\n                    model.append(new Legend(plotArea.options.legend));\r\n                }\r\n                model.append(plotArea);\r\n                model.reflow();\r\n                return model;\r\n            },\r\n            _modelOptions: function () {\r\n                var chart = this, options = chart.options, element = chart.element, height = math.floor(element.height()), width = math.floor(element.width());\r\n                chart._size = null;\r\n                return deepExtend({\r\n                    width: width || DEFAULT_WIDTH,\r\n                    height: height || DEFAULT_HEIGHT,\r\n                    transitions: options.transitions\r\n                }, options.chartArea);\r\n            },\r\n            _createPlotArea: function (skipSeries) {\r\n                var chart = this, options = chart.options;\r\n                return PlotAreaFactory.current.create(skipSeries ? [] : options.series, options);\r\n            },\r\n            _setupSelection: function () {\r\n                var chart = this, plotArea = chart._plotArea, axes = plotArea.axes, selections = chart._selections = [], selection, i, axis, min, max, options;\r\n                if (!chart._selectStartHandler) {\r\n                    chart._selectStartHandler = proxy(chart._selectStart, chart);\r\n                    chart._selectHandler = proxy(chart._select, chart);\r\n                    chart._selectEndHandler = proxy(chart._selectEnd, chart);\r\n                }\r\n                for (i = 0; i < axes.length; i++) {\r\n                    axis = axes[i];\r\n                    options = axis.options;\r\n                    if (axis instanceof CategoryAxis && options.select && !options.vertical) {\r\n                        min = 0;\r\n                        max = options.categories.length - 1;\r\n                        if (axis instanceof DateCategoryAxis) {\r\n                            min = options.categories[min];\r\n                            max = options.categories[max];\r\n                        }\r\n                        if (!options.justified) {\r\n                            if (axis instanceof DateCategoryAxis) {\r\n                                max = addDuration(max, 1, options.baseUnit, options.weekStartDay);\r\n                            } else {\r\n                                max++;\r\n                            }\r\n                        }\r\n                        selection = new Selection(chart, axis, deepExtend({\r\n                            min: min,\r\n                            max: max\r\n                        }, options.select));\r\n                        selection.bind(SELECT_START, chart._selectStartHandler);\r\n                        selection.bind(SELECT, chart._selectHandler);\r\n                        selection.bind(SELECT_END, chart._selectEndHandler);\r\n                        selections.push(selection);\r\n                    }\r\n                }\r\n            },\r\n            _selectStart: function (e) {\r\n                return this.trigger(SELECT_START, e);\r\n            },\r\n            _select: function (e) {\r\n                return this.trigger(SELECT, e);\r\n            },\r\n            _selectEnd: function (e) {\r\n                return this.trigger(SELECT_END, e);\r\n            },\r\n            _attachEvents: function () {\r\n                var chart = this, element = chart.element, surface = chart.surface;\r\n                surface.bind('mouseenter', proxy(chart._mouseover, chart));\r\n                surface.bind('mouseleave', proxy(chart._mouseout, chart));\r\n                element.on(CONTEXTMENU_NS, proxy(chart._click, chart));\r\n                element.on(MOUSEWHEEL_NS, proxy(chart._mousewheel, chart));\r\n                element.on(MOUSELEAVE_NS, proxy(chart._mouseleave, chart));\r\n                chart._mousemove = kendo.throttle(proxy(chart._mousemove, chart), MOUSEMOVE_DELAY);\r\n                if (chart._shouldAttachMouseMove()) {\r\n                    element.on(MOUSEMOVE_NS, chart._mousemove);\r\n                }\r\n                if (kendo.UserEvents) {\r\n                    chart._userEvents = new kendo.UserEvents(element, {\r\n                        global: true,\r\n                        multiTouch: true,\r\n                        fastTap: true,\r\n                        tap: proxy(chart._tap, chart),\r\n                        start: proxy(chart._start, chart),\r\n                        move: proxy(chart._move, chart),\r\n                        end: proxy(chart._end, chart),\r\n                        gesturestart: proxy(chart._gesturestart, chart),\r\n                        gesturechange: proxy(chart._gesturechange, chart),\r\n                        gestureend: proxy(chart._gestureend, chart)\r\n                    });\r\n                }\r\n            },\r\n            _gesturestart: function (e) {\r\n                if (this._mousewheelZoom) {\r\n                    this._gestureDistance = e.distance;\r\n                    this._unsetActivePoint();\r\n                    this.surface.suspendTracking();\r\n                }\r\n            },\r\n            _gestureend: function () {\r\n                if (this._zooming) {\r\n                    if (this.surface) {\r\n                        this.surface.resumeTracking();\r\n                    }\r\n                    this._zooming = false;\r\n                    this.trigger(ZOOM_END, {});\r\n                }\r\n            },\r\n            _gesturechange: function (e) {\r\n                var chart = this;\r\n                var mousewheelZoom = chart._mousewheelZoom;\r\n                if (mousewheelZoom) {\r\n                    e.preventDefault();\r\n                    var previousGestureDistance = chart._gestureDistance;\r\n                    var scaleDelta = -e.distance / previousGestureDistance + 1;\r\n                    if (math.abs(scaleDelta) >= 0.1) {\r\n                        scaleDelta = math.round(scaleDelta * 10);\r\n                        chart._gestureDistance = e.distance;\r\n                        var args = {\r\n                            delta: scaleDelta,\r\n                            axisRanges: axisRanges(chart._plotArea.axes),\r\n                            originalEvent: e\r\n                        };\r\n                        if (chart._zooming || !chart.trigger(ZOOM_START, args)) {\r\n                            if (!chart._zooming) {\r\n                                chart._zooming = true;\r\n                            }\r\n                            var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta);\r\n                            if (ranges && !chart.trigger(ZOOM, args)) {\r\n                                mousewheelZoom.zoom();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            _mouseout: function (e) {\r\n                if (e.element) {\r\n                    var element = this._drawingChartElement(e.element, e);\r\n                    if (element && element.leave) {\r\n                        element.leave(this, e.originalEvent);\r\n                    }\r\n                }\r\n            },\r\n            _start: function (e) {\r\n                var chart = this, events = chart._events;\r\n                if (defined(events[DRAG_START] || events[DRAG] || events[DRAG_END])) {\r\n                    chart._startNavigation(e, DRAG_START);\r\n                }\r\n                if (chart._pannable && chart._pannable.start(e)) {\r\n                    this.surface.suspendTracking();\r\n                    this._unsetActivePoint();\r\n                }\r\n                if (chart._zoomSelection) {\r\n                    if (chart._zoomSelection.start(e)) {\r\n                        this.trigger(ZOOM_START, {\r\n                            axisRanges: axisRanges(this._plotArea.axes),\r\n                            originalEvent: e\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            _move: function (e) {\r\n                var chart = this, state = chart._navState, pannable = chart._pannable, axes, ranges = {}, i, currentAxis, axisName, axis, delta;\r\n                if (pannable) {\r\n                    e.preventDefault();\r\n                    ranges = pannable.move(e);\r\n                    if (ranges && !chart.trigger(DRAG, {\r\n                            axisRanges: ranges,\r\n                            originalEvent: e\r\n                        })) {\r\n                        pannable.pan();\r\n                    }\r\n                } else if (state) {\r\n                    e.preventDefault();\r\n                    axes = state.axes;\r\n                    for (i = 0; i < axes.length; i++) {\r\n                        currentAxis = axes[i];\r\n                        axisName = currentAxis.options.name;\r\n                        if (axisName) {\r\n                            axis = currentAxis.options.vertical ? e.y : e.x;\r\n                            delta = axis.startLocation - axis.location;\r\n                            if (delta !== 0) {\r\n                                ranges[currentAxis.options.name] = currentAxis.translateRange(delta);\r\n                            }\r\n                        }\r\n                    }\r\n                    state.axisRanges = ranges;\r\n                    chart.trigger(DRAG, {\r\n                        axisRanges: ranges,\r\n                        originalEvent: e\r\n                    });\r\n                }\r\n                if (chart._zoomSelection) {\r\n                    chart._zoomSelection.move(e);\r\n                }\r\n            },\r\n            _end: function (e) {\r\n                this._endNavigation(e, DRAG_END);\r\n                if (this._zoomSelection) {\r\n                    var ranges = this._zoomSelection.end(e);\r\n                    if (ranges && !this.trigger(ZOOM, {\r\n                            axisRanges: ranges,\r\n                            originalEvent: e\r\n                        })) {\r\n                        this._zoomSelection.zoom();\r\n                        this.trigger(ZOOM_END, {\r\n                            axisRanges: ranges,\r\n                            originalEvent: e\r\n                        });\r\n                    }\r\n                }\r\n                if (this._pannable && this._pannable.end(e)) {\r\n                    this.surface.resumeTracking();\r\n                }\r\n            },\r\n            _mousewheel: function (e) {\r\n                var chart = this, origEvent = e.originalEvent, prevented, delta = mwDelta(e), totalDelta, state = chart._navState, axes, i, currentAxis, axisName, ranges = {}, mousewheelZoom = chart._mousewheelZoom;\r\n                if (mousewheelZoom) {\r\n                    var args = {\r\n                        delta: delta,\r\n                        axisRanges: axisRanges(this._plotArea.axes),\r\n                        originalEvent: e\r\n                    };\r\n                    if (chart._zooming || !chart.trigger(ZOOM_START, args)) {\r\n                        e.preventDefault();\r\n                        if (!chart._zooming) {\r\n                            chart._unsetActivePoint();\r\n                            chart.surface.suspendTracking();\r\n                            chart._zooming = true;\r\n                        }\r\n                        if (chart._mwTimeout) {\r\n                            clearTimeout(chart._mwTimeout);\r\n                        }\r\n                        args.axisRanges = ranges = mousewheelZoom.updateRanges(delta);\r\n                        if (ranges && !chart.trigger(ZOOM, args)) {\r\n                            mousewheelZoom.zoom();\r\n                        }\r\n                        chart._mwTimeout = setTimeout(function () {\r\n                            chart.trigger(ZOOM_END, args);\r\n                            chart._zooming = false;\r\n                            if (chart.surface) {\r\n                                chart.surface.resumeTracking();\r\n                            }\r\n                        }, MOUSEWHEEL_DELAY);\r\n                    }\r\n                } else {\r\n                    if (!state) {\r\n                        prevented = chart._startNavigation(origEvent, ZOOM_START);\r\n                        if (!prevented) {\r\n                            state = chart._navState;\r\n                        }\r\n                    }\r\n                    if (state) {\r\n                        totalDelta = state.totalDelta || delta;\r\n                        state.totalDelta = totalDelta + delta;\r\n                        axes = chart._navState.axes;\r\n                        for (i = 0; i < axes.length; i++) {\r\n                            currentAxis = axes[i];\r\n                            axisName = currentAxis.options.name;\r\n                            if (axisName) {\r\n                                ranges[axisName] = currentAxis.scaleRange(-totalDelta);\r\n                            }\r\n                        }\r\n                        chart.trigger(ZOOM, {\r\n                            delta: delta,\r\n                            axisRanges: ranges,\r\n                            originalEvent: e\r\n                        });\r\n                        if (chart._mwTimeout) {\r\n                            clearTimeout(chart._mwTimeout);\r\n                        }\r\n                        chart._mwTimeout = setTimeout(function () {\r\n                            chart._endNavigation(e, ZOOM_END);\r\n                        }, MOUSEWHEEL_DELAY);\r\n                    }\r\n                }\r\n            },\r\n            _startNavigation: function (e, chartEvent) {\r\n                var chart = this, coords = chart._eventCoordinates(e), plotArea = chart._model._plotArea, pane = plotArea.findPointPane(coords), axes = plotArea.axes.slice(0), i, currentAxis, inAxis = false, prevented;\r\n                if (!pane) {\r\n                    return;\r\n                }\r\n                for (i = 0; i < axes.length; i++) {\r\n                    currentAxis = axes[i];\r\n                    if (currentAxis.box.containsPoint(coords)) {\r\n                        inAxis = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!inAxis && plotArea.backgroundBox().containsPoint(coords)) {\r\n                    var ranges = axisRanges(axes);\r\n                    prevented = chart.trigger(chartEvent, {\r\n                        axisRanges: ranges,\r\n                        originalEvent: e\r\n                    });\r\n                    if (prevented) {\r\n                        chart._userEvents.cancel();\r\n                    } else {\r\n                        chart._suppressHover = true;\r\n                        chart._unsetActivePoint();\r\n                        chart._navState = {\r\n                            axisRanges: ranges,\r\n                            pane: pane,\r\n                            axes: axes\r\n                        };\r\n                    }\r\n                }\r\n            },\r\n            _endNavigation: function (e, chartEvent) {\r\n                var chart = this;\r\n                if (chart._navState) {\r\n                    chart.trigger(chartEvent, {\r\n                        axisRanges: chart._navState.axisRanges,\r\n                        originalEvent: e\r\n                    });\r\n                    chart._suppressHover = false;\r\n                    chart._navState = null;\r\n                }\r\n            },\r\n            _getChartElement: function (e, match) {\r\n                var element = this.surface.eventTarget(e);\r\n                if (element) {\r\n                    return this._drawingChartElement(element, e, match);\r\n                }\r\n            },\r\n            _drawingChartElement: function (element, e, match) {\r\n                var chartElement;\r\n                while (element && !chartElement) {\r\n                    chartElement = element.chartElement;\r\n                    element = element.parent;\r\n                }\r\n                if (chartElement) {\r\n                    if (chartElement.aliasFor) {\r\n                        chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\r\n                    }\r\n                    if (match) {\r\n                        chartElement = chartElement.closest(match);\r\n                    }\r\n                    return chartElement;\r\n                }\r\n            },\r\n            _eventCoordinates: function (e) {\r\n                var chart = this, isTouch = defined((e.x || {}).client), clientX = isTouch ? e.x.client : e.clientX, clientY = isTouch ? e.y.client : e.clientY;\r\n                return chart._toModelCoordinates(clientX, clientY);\r\n            },\r\n            _toModelCoordinates: function (clientX, clientY) {\r\n                var element = this.element, offset = element.offset(), paddingLeft = parseInt(element.css('paddingLeft'), 10), paddingTop = parseInt(element.css('paddingTop'), 10), win = $(window);\r\n                return new Point2D(clientX - offset.left - paddingLeft + win.scrollLeft(), clientY - offset.top - paddingTop + win.scrollTop());\r\n            },\r\n            _tap: function (e) {\r\n                var chart = this, drawingElement = chart.surface.eventTarget(e), element = chart._drawingChartElement(drawingElement, e);\r\n                if (chart._activePoint === element) {\r\n                    chart._propagateClick(element, e);\r\n                } else {\r\n                    if (!chart._startHover(drawingElement, e)) {\r\n                        chart._unsetActivePoint();\r\n                    }\r\n                    chart._propagateClick(element, e);\r\n                }\r\n            },\r\n            _click: function (e) {\r\n                var chart = this, element = chart._getChartElement(e);\r\n                chart._propagateClick(element, e);\r\n            },\r\n            _propagateClick: function (element, e) {\r\n                while (element) {\r\n                    if (element.click) {\r\n                        element.click(this, e);\r\n                    }\r\n                    element = element.parent;\r\n                }\r\n            },\r\n            _startHover: function (element, e) {\r\n                var chart = this, chartElement = chart._drawingChartElement(element, e), tooltip = chart._tooltip, highlight = chart._highlight, tooltipOptions = chart.options.tooltip, point;\r\n                if (chart._suppressHover || !highlight || highlight.isHighlighted(chartElement) || chart._sharedTooltip()) {\r\n                    return;\r\n                }\r\n                point = chart._drawingChartElement(element, e, function (element) {\r\n                    return element.hover;\r\n                });\r\n                if (point && !point.hover(chart, e)) {\r\n                    chart._activePoint = point;\r\n                    tooltipOptions = deepExtend({}, tooltipOptions, point.options.tooltip);\r\n                    if (tooltipOptions.visible) {\r\n                        tooltip.show(point);\r\n                    }\r\n                    highlight.show(point);\r\n                    return point.tooltipTracking;\r\n                }\r\n            },\r\n            _mouseover: function (e) {\r\n                var chart = this;\r\n                if (chart._startHover(e.element, e.originalEvent)) {\r\n                    $(document).on(MOUSEMOVE_TRACKING, proxy(chart._mouseMoveTracking, chart));\r\n                }\r\n            },\r\n            _mouseMoveTracking: function (e) {\r\n                var chart = this, options = chart.options, tooltip = chart._tooltip, highlight = chart._highlight, coords = chart._eventCoordinates(e), point = chart._activePoint, tooltipOptions, seriesPoint;\r\n                if (chart._plotArea.box.containsPoint(coords)) {\r\n                    if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\r\n                        seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\r\n                        if (seriesPoint && seriesPoint != point) {\r\n                            seriesPoint.hover(chart, e);\r\n                            chart._activePoint = seriesPoint;\r\n                            tooltipOptions = deepExtend({}, options.tooltip, point.options.tooltip);\r\n                            if (tooltipOptions.visible) {\r\n                                tooltip.show(seriesPoint);\r\n                            }\r\n                            highlight.show(seriesPoint);\r\n                        }\r\n                    }\r\n                } else {\r\n                    $(document).off(MOUSEMOVE_TRACKING);\r\n                    chart._unsetActivePoint();\r\n                }\r\n            },\r\n            _mousemove: function (e) {\r\n                var coords = this._eventCoordinates(e);\r\n                this._trackCrosshairs(coords);\r\n                this._plotArea.hover(this, e);\r\n                if (this._sharedTooltip()) {\r\n                    this._trackSharedTooltip(coords, e);\r\n                }\r\n            },\r\n            _trackCrosshairs: function (coords) {\r\n                var crosshairs = this._plotArea.crosshairs, i, current;\r\n                for (i = 0; i < crosshairs.length; i++) {\r\n                    current = crosshairs[i];\r\n                    if (current.box.containsPoint(coords)) {\r\n                        current.showAt(coords);\r\n                    } else {\r\n                        current.hide();\r\n                    }\r\n                }\r\n            },\r\n            _trackSharedTooltip: function (coords, e) {\r\n                var chart = this, options = chart.options, plotArea = chart._plotArea, categoryAxis = plotArea.categoryAxis, tooltip = chart._tooltip, tooltipOptions = options.tooltip, highlight = chart._highlight, index, points;\r\n                if (plotArea.box.containsPoint(coords)) {\r\n                    index = categoryAxis.pointCategoryIndex(coords);\r\n                    if (index !== chart._tooltipCategoryIx) {\r\n                        points = plotArea.pointsByCategoryIndex(index);\r\n                        var pointArgs = $.map(points, function (point) {\r\n                            return point.eventArgs(e);\r\n                        });\r\n                        var hoverArgs = pointArgs[0] || {};\r\n                        hoverArgs.categoryPoints = pointArgs;\r\n                        if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\r\n                            if (tooltipOptions.visible) {\r\n                                tooltip.showAt(points, coords);\r\n                            }\r\n                            highlight.show(points);\r\n                        } else {\r\n                            tooltip.hide();\r\n                        }\r\n                        chart._tooltipCategoryIx = index;\r\n                    }\r\n                }\r\n            },\r\n            _mouseleave: function (e) {\r\n                var chart = this, plotArea = chart._plotArea, tooltip = chart._tooltip, highlight = chart._highlight, target = e.relatedTarget;\r\n                if (!(target && $(target).closest(tooltip.element).length)) {\r\n                    chart._mousemove.cancel();\r\n                    plotArea.hideCrosshairs();\r\n                    highlight.hide();\r\n                    setTimeout(proxy(tooltip.hide, tooltip), TOOLTIP_HIDE_DELAY);\r\n                    chart._tooltipCategoryIx = null;\r\n                }\r\n            },\r\n            _unsetActivePoint: function () {\r\n                var chart = this, tooltip = chart._tooltip, highlight = chart._highlight;\r\n                chart._activePoint = null;\r\n                if (tooltip) {\r\n                    tooltip.hide();\r\n                }\r\n                if (highlight) {\r\n                    highlight.hide();\r\n                }\r\n            },\r\n            _onDataChanged: function () {\r\n                var chart = this, options = chart.options, series = chart._sourceSeries || options.series, seriesIx, seriesLength = series.length, data = chart.dataSource.view(), grouped = (chart.dataSource.group() || []).length > 0, processedSeries = [], currentSeries;\r\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    if (chart._isBindable(currentSeries) && grouped) {\r\n                        append(processedSeries, groupSeries(currentSeries, data));\r\n                    } else {\r\n                        processedSeries.push(currentSeries || []);\r\n                    }\r\n                }\r\n                chart._sourceSeries = series;\r\n                options.series = processedSeries;\r\n                applySeriesColors(chart.options);\r\n                chart._bindSeries();\r\n                chart._bindCategories();\r\n                chart._hasData = true;\r\n                chart._deferRedraw();\r\n            },\r\n            _deferRedraw: function () {\r\n                var chart = this;\r\n                if (kendo.support.vml) {\r\n                    chart._clearRedrawTimeout();\r\n                    chart._redrawTimeout = setTimeout(function () {\r\n                        if (!chart.surface) {\r\n                            return;\r\n                        }\r\n                        chart.trigger(DATABOUND);\r\n                        chart._redraw();\r\n                    }, 0);\r\n                } else {\r\n                    chart.trigger(DATABOUND);\r\n                    chart._redraw();\r\n                }\r\n            },\r\n            _clearRedrawTimeout: function () {\r\n                if (this._redrawTimeout) {\r\n                    clearInterval(this._redrawTimeout);\r\n                    this._redrawTimeout = null;\r\n                }\r\n            },\r\n            _bindSeries: function () {\r\n                var chart = this, data = chart.dataSource.view(), series = chart.options.series, seriesIx, seriesLength = series.length, currentSeries, groupIx, seriesData;\r\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    if (chart._isBindable(currentSeries)) {\r\n                        groupIx = currentSeries._groupIx;\r\n                        seriesData = defined(groupIx) ? (data[groupIx] || {}).items : data;\r\n                        if (currentSeries.autoBind !== false) {\r\n                            currentSeries.data = seriesData;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            _bindCategories: function () {\r\n                var chart = this, data = chart.dataSource.view() || [], grouped = (chart.dataSource.group() || []).length > 0, categoriesData = data, options = chart.options, definitions = [].concat(options.categoryAxis), axisIx, axis;\r\n                if (grouped) {\r\n                    if (data.length) {\r\n                        categoriesData = data[0].items;\r\n                    }\r\n                }\r\n                for (axisIx = 0; axisIx < definitions.length; axisIx++) {\r\n                    axis = definitions[axisIx];\r\n                    if (axis.autoBind !== false) {\r\n                        chart._bindCategoryAxis(axis, categoriesData, axisIx);\r\n                    }\r\n                }\r\n            },\r\n            _bindCategoryAxis: function (axis, data, axisIx) {\r\n                var count = (data || []).length, categoryIx, category, row;\r\n                if (axis.field) {\r\n                    axis.categories = [];\r\n                    for (categoryIx = 0; categoryIx < count; categoryIx++) {\r\n                        row = data[categoryIx];\r\n                        category = getField(axis.field, row);\r\n                        if (categoryIx === 0) {\r\n                            axis.categories = [category];\r\n                            axis.dataItems = [row];\r\n                        } else {\r\n                            axis.categories.push(category);\r\n                            axis.dataItems.push(row);\r\n                        }\r\n                    }\r\n                } else {\r\n                    this._bindCategoryAxisFromSeries(axis, axisIx);\r\n                }\r\n            },\r\n            _bindCategoryAxisFromSeries: function (axis, axisIx) {\r\n                var chart = this, items = [], result, series = chart.options.series, seriesLength = series.length, seriesIx, s, onAxis, data, dataIx, dataLength, dataRow, category, uniqueCategories = {}, getFn, dateAxis;\r\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\r\n                    s = series[seriesIx];\r\n                    onAxis = s.categoryAxis === axis.name || !s.categoryAxis && axisIx === 0;\r\n                    data = s.data;\r\n                    dataLength = data.length;\r\n                    if (s.categoryField && onAxis && dataLength > 0) {\r\n                        dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));\r\n                        getFn = dateAxis ? getDateField : getField;\r\n                        for (dataIx = 0; dataIx < dataLength; dataIx++) {\r\n                            dataRow = data[dataIx];\r\n                            category = getFn(s.categoryField, dataRow);\r\n                            if (dateAxis || !uniqueCategories[category]) {\r\n                                items.push([\r\n                                    category,\r\n                                    dataRow\r\n                                ]);\r\n                                if (!dateAxis) {\r\n                                    uniqueCategories[category] = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (items.length > 0) {\r\n                    if (dateAxis) {\r\n                        items = uniqueDates(items, function (a, b) {\r\n                            return dateComparer(a[0], b[0]);\r\n                        });\r\n                    }\r\n                    result = transpose(items);\r\n                    axis.categories = result[0];\r\n                    axis.dataItems = result[1];\r\n                }\r\n            },\r\n            _isBindable: function (series) {\r\n                var valueFields = SeriesBinder.current.valueFields(series), result = true, field, i;\r\n                for (i = 0; i < valueFields.length; i++) {\r\n                    field = valueFields[i];\r\n                    if (field === VALUE) {\r\n                        field = 'field';\r\n                    } else {\r\n                        field = field + 'Field';\r\n                    }\r\n                    if (!defined(series[field])) {\r\n                        result = false;\r\n                        break;\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            _legendItemClick: function (seriesIndex, pointIndex) {\r\n                var chart = this, plotArea = chart._plotArea, currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex], originalSeries = (chart._sourceSeries || [])[seriesIndex] || currentSeries, transitionsState, visible, point;\r\n                if (inArray(currentSeries.type, [\r\n                        PIE,\r\n                        DONUT,\r\n                        FUNNEL\r\n                    ])) {\r\n                    point = originalSeries.data[pointIndex];\r\n                    if (!defined(point.visible)) {\r\n                        visible = false;\r\n                    } else {\r\n                        visible = !point.visible;\r\n                    }\r\n                    point.visible = visible;\r\n                } else {\r\n                    visible = !originalSeries.visible;\r\n                    originalSeries.visible = visible;\r\n                    currentSeries.visible = visible;\r\n                }\r\n                if (chart.options.transitions) {\r\n                    chart.options.transitions = false;\r\n                    transitionsState = true;\r\n                }\r\n                chart.redraw();\r\n                if (transitionsState) {\r\n                    chart.options.transitions = true;\r\n                }\r\n            },\r\n            _legendItemHover: function (seriesIndex, pointIndex) {\r\n                var chart = this, plotArea = chart._plotArea, highlight = chart._highlight, currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex], index, items;\r\n                if (inArray(currentSeries.type, [\r\n                        PIE,\r\n                        DONUT,\r\n                        FUNNEL\r\n                    ])) {\r\n                    index = pointIndex;\r\n                } else {\r\n                    index = seriesIndex;\r\n                }\r\n                items = plotArea.pointsBySeriesIndex(index);\r\n                highlight.show(items);\r\n            },\r\n            _shouldAttachMouseMove: function () {\r\n                var chart = this;\r\n                var events = chart._events;\r\n                return chart._plotArea.crosshairs.length || chart._tooltip && chart._sharedTooltip() || defined(events[PLOT_AREA_HOVER]);\r\n            },\r\n            setOptions: function (options) {\r\n                var chart = this, dataSource = options.dataSource;\r\n                options.dataSource = undefined;\r\n                clearMissingValues(chart._originalOptions, options);\r\n                chart._originalOptions = deepExtend(chart._originalOptions, options);\r\n                chart.options = deepExtend({}, chart._originalOptions);\r\n                chart._sourceSeries = null;\r\n                $(document).off(MOUSEMOVE_NS);\r\n                Widget.fn._setEvents.call(chart, options);\r\n                chart._initTheme(chart.options);\r\n                if (dataSource) {\r\n                    chart.setDataSource(dataSource);\r\n                }\r\n                if (chart._hasDataSource) {\r\n                    chart._onDataChanged();\r\n                } else {\r\n                    chart._bindCategories();\r\n                    chart.redraw();\r\n                }\r\n                if (chart._shouldAttachMouseMove()) {\r\n                    chart.element.on(MOUSEMOVE_NS, chart._mousemove);\r\n                }\r\n            },\r\n            destroy: function () {\r\n                var chart = this, dataSource = chart.dataSource;\r\n                chart.element.off(NS);\r\n                if (dataSource) {\r\n                    dataSource.unbind(CHANGE, chart._dataChangeHandler);\r\n                }\r\n                $(document).off(MOUSEMOVE_TRACKING);\r\n                if (chart._userEvents) {\r\n                    chart._userEvents.destroy();\r\n                }\r\n                chart._destroyView();\r\n                chart.surface.destroy();\r\n                chart.surface = null;\r\n                chart._clearRedrawTimeout();\r\n                Widget.fn.destroy.call(chart);\r\n            },\r\n            _destroyView: function () {\r\n                var chart = this, model = chart._model, selections = chart._selections;\r\n                if (model) {\r\n                    model.destroy();\r\n                    chart._model = null;\r\n                }\r\n                if (selections) {\r\n                    while (selections.length > 0) {\r\n                        selections.shift().destroy();\r\n                    }\r\n                }\r\n                chart._unsetActivePoint();\r\n                if (chart._tooltip) {\r\n                    chart._tooltip.destroy();\r\n                }\r\n                if (chart._highlight) {\r\n                    chart._highlight.destroy();\r\n                }\r\n                if (chart._zoomSelection) {\r\n                    chart._zoomSelection.destroy();\r\n                }\r\n            }\r\n        });\r\n        dataviz.ExportMixin.extend(Chart.fn);\r\n        if (kendo.PDFMixin) {\r\n            kendo.PDFMixin.extend(Chart.fn);\r\n        }\r\n        var PlotAreaFactory = Class.extend({\r\n            init: function () {\r\n                this._registry = [];\r\n            },\r\n            register: function (type, seriesTypes) {\r\n                this._registry.push({\r\n                    type: type,\r\n                    seriesTypes: seriesTypes\r\n                });\r\n            },\r\n            create: function (srcSeries, options) {\r\n                var registry = this._registry, match = registry[0], i, entry, series;\r\n                for (i = 0; i < registry.length; i++) {\r\n                    entry = registry[i];\r\n                    series = filterSeriesByType(srcSeries, entry.seriesTypes);\r\n                    if (series.length > 0) {\r\n                        match = entry;\r\n                        break;\r\n                    }\r\n                }\r\n                return new match.type(series, options);\r\n            }\r\n        });\r\n        PlotAreaFactory.current = new PlotAreaFactory();\r\n        var SeriesBinder = Class.extend({\r\n            init: function () {\r\n                this._valueFields = {};\r\n                this._otherFields = {};\r\n                this._nullValue = {};\r\n                this._undefinedValue = {};\r\n            },\r\n            register: function (seriesTypes, valueFields, otherFields) {\r\n                var binder = this, i, type;\r\n                valueFields = valueFields || [VALUE];\r\n                for (i = 0; i < seriesTypes.length; i++) {\r\n                    type = seriesTypes[i];\r\n                    binder._valueFields[type] = valueFields;\r\n                    binder._otherFields[type] = otherFields;\r\n                    binder._nullValue[type] = binder._makeValue(valueFields, null);\r\n                    binder._undefinedValue[type] = binder._makeValue(valueFields, undefined);\r\n                }\r\n            },\r\n            canonicalFields: function (series) {\r\n                return this.valueFields(series).concat(this.otherFields(series));\r\n            },\r\n            valueFields: function (series) {\r\n                return this._valueFields[series.type] || [VALUE];\r\n            },\r\n            otherFields: function (series) {\r\n                return this._otherFields[series.type] || [VALUE];\r\n            },\r\n            bindPoint: function (series, pointIx, item) {\r\n                var binder = this, data = series.data, pointData = defined(item) ? item : data[pointIx], result = { valueFields: { value: pointData } }, fields, fieldData, srcValueFields, srcPointFields, valueFields = binder.valueFields(series), otherFields = binder._otherFields[series.type], value;\r\n                if (pointData === null) {\r\n                    value = binder._nullValue[series.type];\r\n                } else if (!defined(pointData)) {\r\n                    value = binder._undefinedValue[series.type];\r\n                } else if (isArray(pointData)) {\r\n                    fieldData = pointData.slice(valueFields.length);\r\n                    value = binder._bindFromArray(pointData, valueFields);\r\n                    fields = binder._bindFromArray(fieldData, otherFields);\r\n                } else if (typeof pointData === OBJECT) {\r\n                    srcValueFields = binder.sourceFields(series, valueFields);\r\n                    srcPointFields = binder.sourceFields(series, otherFields);\r\n                    value = binder._bindFromObject(pointData, valueFields, srcValueFields);\r\n                    fields = binder._bindFromObject(pointData, otherFields, srcPointFields);\r\n                }\r\n                if (defined(value)) {\r\n                    if (valueFields.length === 1) {\r\n                        result.valueFields.value = value[valueFields[0]];\r\n                    } else {\r\n                        result.valueFields = value;\r\n                    }\r\n                }\r\n                result.fields = fields || {};\r\n                return result;\r\n            },\r\n            _makeValue: function (fields, initialValue) {\r\n                var value = {}, i, length = fields.length, fieldName;\r\n                for (i = 0; i < length; i++) {\r\n                    fieldName = fields[i];\r\n                    value[fieldName] = initialValue;\r\n                }\r\n                return value;\r\n            },\r\n            _bindFromArray: function (array, fields) {\r\n                var value = {}, i, length;\r\n                if (fields) {\r\n                    length = math.min(fields.length, array.length);\r\n                    for (i = 0; i < length; i++) {\r\n                        value[fields[i]] = array[i];\r\n                    }\r\n                }\r\n                return value;\r\n            },\r\n            _bindFromObject: function (object, fields, srcFields) {\r\n                var value = {}, i, length, fieldName, srcFieldName;\r\n                if (fields) {\r\n                    length = fields.length;\r\n                    srcFields = srcFields || fields;\r\n                    for (i = 0; i < length; i++) {\r\n                        fieldName = fields[i];\r\n                        srcFieldName = srcFields[i];\r\n                        value[fieldName] = getField(srcFieldName, object);\r\n                    }\r\n                }\r\n                return value;\r\n            },\r\n            sourceFields: function (series, canonicalFields) {\r\n                var i, length, fieldName, sourceFields, sourceFieldName;\r\n                if (canonicalFields) {\r\n                    length = canonicalFields.length;\r\n                    sourceFields = [];\r\n                    for (i = 0; i < length; i++) {\r\n                        fieldName = canonicalFields[i];\r\n                        sourceFieldName = fieldName === VALUE ? 'field' : fieldName + 'Field';\r\n                        sourceFields.push(series[sourceFieldName] || fieldName);\r\n                    }\r\n                }\r\n                return sourceFields;\r\n            }\r\n        });\r\n        SeriesBinder.current = new SeriesBinder();\r\n        var BarLabel = ChartElement.extend({\r\n            init: function (content, options) {\r\n                var barLabel = this;\r\n                ChartElement.fn.init.call(barLabel, options);\r\n                this.textBox = new TextBox(content, barLabel.options);\r\n                barLabel.append(this.textBox);\r\n            },\r\n            options: {\r\n                position: OUTSIDE_END,\r\n                margin: getSpacing(3),\r\n                padding: getSpacing(4),\r\n                color: BLACK,\r\n                background: '',\r\n                border: {\r\n                    width: 1,\r\n                    color: ''\r\n                },\r\n                aboveAxis: true,\r\n                vertical: false,\r\n                animation: {\r\n                    type: FADEIN,\r\n                    delay: INITIAL_ANIMATION_DURATION\r\n                },\r\n                zIndex: 2\r\n            },\r\n            createVisual: function () {\r\n                this.textBox.options.noclip = this.options.noclip;\r\n            },\r\n            reflow: function (targetBox) {\r\n                var barLabel = this, options = barLabel.options, vertical = options.vertical, aboveAxis = options.aboveAxis, text = barLabel.children[0], box = text.box, padding = text.options.padding;\r\n                text.options.align = vertical ? CENTER : LEFT;\r\n                text.options.vAlign = vertical ? TOP : CENTER;\r\n                if (options.position == INSIDE_END) {\r\n                    if (vertical) {\r\n                        text.options.vAlign = TOP;\r\n                        if (!aboveAxis && box.height() < targetBox.height()) {\r\n                            text.options.vAlign = BOTTOM;\r\n                        }\r\n                    } else {\r\n                        text.options.align = aboveAxis ? RIGHT : LEFT;\r\n                    }\r\n                } else if (options.position == CENTER) {\r\n                    text.options.vAlign = CENTER;\r\n                    text.options.align = CENTER;\r\n                } else if (options.position == INSIDE_BASE) {\r\n                    if (vertical) {\r\n                        text.options.vAlign = aboveAxis ? BOTTOM : TOP;\r\n                    } else {\r\n                        text.options.align = aboveAxis ? LEFT : RIGHT;\r\n                    }\r\n                } else if (options.position == OUTSIDE_END) {\r\n                    if (vertical) {\r\n                        if (aboveAxis) {\r\n                            targetBox = new Box2D(targetBox.x1, targetBox.y1 - box.height(), targetBox.x2, targetBox.y1);\r\n                        } else {\r\n                            targetBox = new Box2D(targetBox.x1, targetBox.y2, targetBox.x2, targetBox.y2 + box.height());\r\n                        }\r\n                    } else {\r\n                        text.options.align = CENTER;\r\n                        if (aboveAxis) {\r\n                            targetBox = new Box2D(targetBox.x2, targetBox.y1, targetBox.x2 + box.width(), targetBox.y2);\r\n                        } else {\r\n                            targetBox = new Box2D(targetBox.x1 - box.width(), targetBox.y1, targetBox.x1, targetBox.y2);\r\n                        }\r\n                    }\r\n                }\r\n                if (!options.rotation) {\r\n                    if (vertical) {\r\n                        padding.left = padding.right = (targetBox.width() - text.contentBox.width()) / 2;\r\n                    } else {\r\n                        padding.top = padding.bottom = (targetBox.height() - text.contentBox.height()) / 2;\r\n                    }\r\n                }\r\n                text.reflow(targetBox);\r\n            },\r\n            alignToClipBox: function (clipBox) {\r\n                var barLabel = this, vertical = barLabel.options.vertical, field = vertical ? Y : X, start = field + '1', end = field + '2', text = barLabel.children[0], parentBox = barLabel.parent.box, targetBox;\r\n                if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {\r\n                    targetBox = text.paddingBox.clone();\r\n                    targetBox[start] = math.max(parentBox[start], clipBox[start]);\r\n                    targetBox[end] = math.min(parentBox[end], clipBox[end]);\r\n                    this.reflow(targetBox);\r\n                }\r\n            }\r\n        });\r\n        var LegendItem = BoxElement.extend({\r\n            init: function (options) {\r\n                var item = this;\r\n                BoxElement.fn.init.call(item, options);\r\n                item.createContainer();\r\n                item.createMarker();\r\n                item.createLabel();\r\n            },\r\n            createContainer: function () {\r\n                var item = this;\r\n                item.container = new FloatElement({\r\n                    vertical: false,\r\n                    wrap: false,\r\n                    align: CENTER\r\n                });\r\n                item.append(item.container);\r\n            },\r\n            createMarker: function () {\r\n                this.container.append(new ShapeElement(this.markerOptions()));\r\n            },\r\n            markerOptions: function () {\r\n                var options = this.options;\r\n                var markerColor = options.markerColor;\r\n                return deepExtend({}, options.markers, {\r\n                    background: markerColor,\r\n                    border: { color: markerColor }\r\n                });\r\n            },\r\n            createLabel: function () {\r\n                var item = this, options = item.options, labelOptions = deepExtend({}, options.labels);\r\n                item.container.append(new TextBox(options.text, labelOptions));\r\n            },\r\n            renderComplete: function () {\r\n                ChartElement.fn.renderComplete.call(this);\r\n                var cursor = this.options.cursor || {};\r\n                var eventSink = this._itemOverlay = draw.Path.fromRect(this.container.box.toRect(), {\r\n                    fill: {\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    },\r\n                    stroke: null,\r\n                    cursor: cursor.style || cursor\r\n                });\r\n                this.appendVisual(eventSink);\r\n            },\r\n            click: function (widget, e) {\r\n                var args = this.eventArgs(e);\r\n                if (!widget.trigger(LEGEND_ITEM_CLICK, args)) {\r\n                    e.preventDefault();\r\n                    widget._legendItemClick(args.seriesIndex, args.pointIndex);\r\n                }\r\n            },\r\n            hover: function (widget, e) {\r\n                var args = this.eventArgs(e);\r\n                if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {\r\n                    e.preventDefault();\r\n                    widget._legendItemHover(args.seriesIndex, args.pointIndex);\r\n                }\r\n                return true;\r\n            },\r\n            leave: function (widget) {\r\n                widget._unsetActivePoint();\r\n            },\r\n            eventArgs: function (e) {\r\n                var options = this.options;\r\n                return {\r\n                    element: eventTargetElement(e),\r\n                    text: options.text,\r\n                    series: options.series,\r\n                    seriesIndex: options.series.index,\r\n                    pointIndex: options.pointIndex\r\n                };\r\n            },\r\n            renderVisual: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var customVisual = options.visual;\r\n                if (customVisual) {\r\n                    that.visual = customVisual({\r\n                        active: options.active,\r\n                        series: options.series,\r\n                        pointIndex: options.pointIndex,\r\n                        options: {\r\n                            markers: that.markerOptions(),\r\n                            labels: options.labels\r\n                        },\r\n                        createVisual: function () {\r\n                            that.createVisual();\r\n                            that.renderChildren();\r\n                            that.renderComplete();\r\n                            var defaultVisual = that.visual;\r\n                            delete that.visual;\r\n                            return defaultVisual;\r\n                        }\r\n                    });\r\n                    this.addVisual();\r\n                } else {\r\n                    ChartElement.fn.renderVisual.call(that);\r\n                }\r\n            }\r\n        });\r\n        var LegendLayout = ChartElement.extend({\r\n            render: function () {\r\n                var legendItem, items = this.children;\r\n                var options = this.options;\r\n                var vertical = options.vertical;\r\n                this.visual = new draw.Layout(null, {\r\n                    spacing: vertical ? 0 : options.spacing,\r\n                    lineSpacing: vertical ? options.spacing : 0,\r\n                    orientation: vertical ? 'vertical' : 'horizontal'\r\n                });\r\n                for (var idx = 0; idx < items.length; idx++) {\r\n                    legendItem = items[idx];\r\n                    legendItem.reflow(new Box2D());\r\n                    legendItem.renderVisual();\r\n                }\r\n            },\r\n            reflow: function (box) {\r\n                this.visual.rect(box.toRect());\r\n                this.visual.reflow();\r\n                var bbox = this.visual.clippedBBox();\r\n                if (bbox) {\r\n                    this.box = dataviz.rectToBox(bbox);\r\n                } else {\r\n                    this.box = new Box2D();\r\n                }\r\n            },\r\n            renderVisual: function () {\r\n                this.addVisual();\r\n            },\r\n            createVisual: noop\r\n        });\r\n        var Legend = ChartElement.extend({\r\n            init: function (options) {\r\n                var legend = this;\r\n                ChartElement.fn.init.call(legend, options);\r\n                if (!inArray(legend.options.position, [\r\n                        TOP,\r\n                        RIGHT,\r\n                        BOTTOM,\r\n                        LEFT,\r\n                        CUSTOM\r\n                    ])) {\r\n                    legend.options.position = RIGHT;\r\n                }\r\n                legend.createContainer();\r\n                legend.createItems();\r\n            },\r\n            options: {\r\n                position: RIGHT,\r\n                items: [],\r\n                labels: { margin: { left: 6 } },\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                margin: getSpacing(5),\r\n                padding: getSpacing(5),\r\n                border: {\r\n                    color: BLACK,\r\n                    width: 0\r\n                },\r\n                item: { cursor: POINTER },\r\n                spacing: 6,\r\n                background: '',\r\n                zIndex: 1,\r\n                markers: {\r\n                    border: { width: 1 },\r\n                    width: 7,\r\n                    height: 7,\r\n                    type: 'rect',\r\n                    align: LEFT,\r\n                    vAlign: CENTER\r\n                }\r\n            },\r\n            createContainer: function () {\r\n                var legend = this, options = legend.options, userAlign = options.align, position = options.position, align = position, vAlign = CENTER;\r\n                if (position == CUSTOM) {\r\n                    align = LEFT;\r\n                } else if (inArray(position, [\r\n                        TOP,\r\n                        BOTTOM\r\n                    ])) {\r\n                    if (userAlign == 'start') {\r\n                        align = LEFT;\r\n                    } else if (userAlign == 'end') {\r\n                        align = RIGHT;\r\n                    } else {\r\n                        align = CENTER;\r\n                    }\r\n                    vAlign = position;\r\n                } else if (userAlign) {\r\n                    if (userAlign == 'start') {\r\n                        vAlign = TOP;\r\n                    } else if (userAlign == 'end') {\r\n                        vAlign = BOTTOM;\r\n                    }\r\n                }\r\n                legend.container = new BoxElement({\r\n                    margin: options.margin,\r\n                    padding: options.padding,\r\n                    background: options.background,\r\n                    border: options.border,\r\n                    vAlign: vAlign,\r\n                    align: align,\r\n                    zIndex: options.zIndex,\r\n                    shrinkToFit: true\r\n                });\r\n                legend.append(legend.container);\r\n            },\r\n            createItems: function () {\r\n                var legend = this, options = legend.options, items = options.items, count = items.length, vertical = legend.isVertical(), innerElement, i, item;\r\n                innerElement = new LegendLayout({\r\n                    vertical: vertical,\r\n                    spacing: options.spacing\r\n                });\r\n                if (options.reverse) {\r\n                    items = items.slice(0).reverse();\r\n                }\r\n                for (i = 0; i < count; i++) {\r\n                    item = items[i];\r\n                    innerElement.append(new LegendItem(deepExtend({}, {\r\n                        markers: options.markers,\r\n                        labels: options.labels\r\n                    }, options.item, item)));\r\n                }\r\n                innerElement.render();\r\n                legend.container.append(innerElement);\r\n            },\r\n            isVertical: function () {\r\n                var legend = this, options = legend.options, orientation = options.orientation, position = options.position, vertical = position == CUSTOM && orientation != HORIZONTAL || (defined(orientation) ? orientation != HORIZONTAL : inArray(position, [\r\n                        LEFT,\r\n                        RIGHT\r\n                    ]));\r\n                return vertical;\r\n            },\r\n            hasItems: function () {\r\n                return this.container.children[0].children.length > 0;\r\n            },\r\n            reflow: function (targetBox) {\r\n                var legend = this, options = legend.options;\r\n                targetBox = targetBox.clone();\r\n                if (!legend.hasItems()) {\r\n                    legend.box = targetBox;\r\n                    return;\r\n                }\r\n                if (options.position === CUSTOM) {\r\n                    legend.containerCustomReflow(targetBox);\r\n                    legend.box = targetBox;\r\n                } else {\r\n                    legend.containerReflow(targetBox);\r\n                }\r\n            },\r\n            containerReflow: function (targetBox) {\r\n                var legend = this, options = legend.options, position = options.position, pos = position == TOP || position == BOTTOM ? X : Y, containerBox = targetBox.clone(), container = legend.container, width = options.width, height = options.height, vertical = legend.isVertical(), alignTarget = targetBox.clone(), box;\r\n                if (position == LEFT || position == RIGHT) {\r\n                    containerBox.y1 = alignTarget.y1 = 0;\r\n                }\r\n                if (vertical && height) {\r\n                    containerBox.y2 = containerBox.y1 + height;\r\n                    containerBox.align(alignTarget, Y, container.options.vAlign);\r\n                } else if (!vertical && width) {\r\n                    containerBox.x2 = containerBox.x1 + width;\r\n                    containerBox.align(alignTarget, X, container.options.align);\r\n                }\r\n                container.reflow(containerBox);\r\n                containerBox = container.box;\r\n                box = containerBox.clone();\r\n                if (options.offsetX || options.offsetY) {\r\n                    containerBox.translate(options.offsetX, options.offsetY);\r\n                    legend.container.reflow(containerBox);\r\n                }\r\n                box[pos + 1] = targetBox[pos + 1];\r\n                box[pos + 2] = targetBox[pos + 2];\r\n                legend.box = box;\r\n            },\r\n            containerCustomReflow: function (targetBox) {\r\n                var legend = this, options = legend.options, offsetX = options.offsetX, offsetY = options.offsetY, container = legend.container, width = options.width, height = options.height, vertical = legend.isVertical(), containerBox = targetBox.clone();\r\n                if (vertical && height) {\r\n                    containerBox.y2 = containerBox.y1 + height;\r\n                } else if (!vertical && width) {\r\n                    containerBox.x2 = containerBox.x1 + width;\r\n                }\r\n                container.reflow(containerBox);\r\n                containerBox = container.box;\r\n                container.reflow(Box2D(offsetX, offsetY, offsetX + containerBox.width(), offsetY + containerBox.height()));\r\n            },\r\n            renderVisual: function () {\r\n                if (this.hasItems()) {\r\n                    ChartElement.fn.renderVisual.call(this);\r\n                }\r\n            }\r\n        });\r\n        var CategoryAxis = Axis.extend({\r\n            init: function (options) {\r\n                var axis = this;\r\n                options = options || {};\r\n                this._initFields();\r\n                this._initCategories(options);\r\n                Axis.fn.init.call(axis, options);\r\n            },\r\n            _initFields: function () {\r\n                this._ticks = {};\r\n                this.outOfRangeMin = 0;\r\n                this.outOfRangeMax = 0;\r\n            },\r\n            _initCategories: function (options) {\r\n                var categories = (options.categories || []).slice(0);\r\n                var definedMin = defined(options.min);\r\n                var definedMax = defined(options.max);\r\n                options.categories = categories;\r\n                if ((definedMin || definedMax) && categories.length) {\r\n                    options.srcCategories = options.categories;\r\n                    var min = definedMin ? math.floor(options.min) : 0;\r\n                    var max = definedMax ? options.justified ? math.floor(options.max) + 1 : math.ceil(options.max) : categories.length;\r\n                    options.categories = options.categories.slice(min, max);\r\n                }\r\n            },\r\n            options: {\r\n                type: CATEGORY,\r\n                categories: [],\r\n                vertical: false,\r\n                majorGridLines: {\r\n                    visible: false,\r\n                    width: 1,\r\n                    color: BLACK\r\n                },\r\n                labels: { zIndex: 1 },\r\n                justified: false\r\n            },\r\n            rangeIndices: function () {\r\n                var options = this.options;\r\n                var length = options.categories.length || 1;\r\n                var min = isNumber(options.min) ? options.min % 1 : 0;\r\n                var max;\r\n                if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {\r\n                    max = length - (1 - options.max % 1);\r\n                } else {\r\n                    max = length - (options.justified ? 1 : 0);\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            totalRangeIndices: function (limit) {\r\n                var options = this.options;\r\n                var min = isNumber(options.min) ? options.min : 0;\r\n                var max;\r\n                if (isNumber(options.max)) {\r\n                    max = options.max;\r\n                } else if (isNumber(options.min)) {\r\n                    max = min + options.categories.length;\r\n                } else {\r\n                    max = (options.srcCategories || options.categories).length - (options.justified ? 1 : 0) || 1;\r\n                }\r\n                if (limit) {\r\n                    var totalRange = this.totalRange();\r\n                    min = limitValue(min, 0, totalRange.max);\r\n                    max = limitValue(max, 0, totalRange.max);\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            range: function () {\r\n                var options = this.options;\r\n                return {\r\n                    min: isNumber(options.min) ? options.min : 0,\r\n                    max: isNumber(options.max) ? options.max : options.categories.length\r\n                };\r\n            },\r\n            totalRange: function () {\r\n                var options = this.options;\r\n                return {\r\n                    min: 0,\r\n                    max: math.max(this._seriesMax || 0, (options.srcCategories || options.categories).length) - (options.justified ? 1 : 0)\r\n                };\r\n            },\r\n            getScale: function () {\r\n                var range = this.rangeIndices();\r\n                var min = range.min;\r\n                var max = range.max;\r\n                var lineBox = this.lineBox();\r\n                var size = this.options.vertical ? lineBox.height() : lineBox.width();\r\n                var scale = size / (max - min || 1);\r\n                return scale * (this.options.reverse ? -1 : 1);\r\n            },\r\n            getTickPositions: function (stepSize) {\r\n                var axis = this, options = axis.options, vertical = options.vertical, lineBox = axis.lineBox(), reverse = options.reverse, scale = axis.getScale(), range = axis.rangeIndices(), min = range.min, max = range.max, current = min % 1 !== 0 ? math.floor(min / 1) + stepSize : min, pos = lineBox[(vertical ? Y : X) + (reverse ? 2 : 1)], positions = [];\r\n                while (current <= max) {\r\n                    positions.push(pos + round(scale * (current - min), COORD_PRECISION));\r\n                    current += stepSize;\r\n                }\r\n                return positions;\r\n            },\r\n            getLabelsTickPositions: function () {\r\n                var tickPositions = this.getMajorTickPositions().slice(0);\r\n                var range = this.rangeIndices();\r\n                var scale = this.getScale();\r\n                var box = this.lineBox();\r\n                var options = this.options;\r\n                var axis = options.vertical ? Y : X;\r\n                var start = options.reverse ? 2 : 1;\r\n                var end = options.reverse ? 1 : 2;\r\n                if (range.min % 1 !== 0) {\r\n                    tickPositions.unshift(box[axis + start] - scale * (range.min % 1));\r\n                }\r\n                if (range.max % 1 !== 0) {\r\n                    tickPositions.push(box[axis + end] + scale * (1 - range.max % 1));\r\n                }\r\n                return tickPositions;\r\n            },\r\n            labelTickIndex: function (label) {\r\n                var index = label.index;\r\n                var range = this.rangeIndices();\r\n                if (range.min > 0) {\r\n                    index = index - math.floor(range.min);\r\n                }\r\n                return index;\r\n            },\r\n            arrangeLabels: function () {\r\n                Axis.fn.arrangeLabels.call(this);\r\n                this.hideOutOfRangeLabels();\r\n            },\r\n            hideOutOfRangeLabels: function () {\r\n                var box = this.box, labels = this.labels, valueAxis = this.options.vertical ? Y : X, start = box[valueAxis + 1], end = box[valueAxis + 2], firstLabel = labels[0], lastLabel = last(labels);\r\n                if (labels.length) {\r\n                    if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {\r\n                        firstLabel.options.visible = false;\r\n                    }\r\n                    if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {\r\n                        lastLabel.options.visible = false;\r\n                    }\r\n                }\r\n            },\r\n            getMajorTickPositions: function () {\r\n                return this.getTicks().majorTicks;\r\n            },\r\n            getMinorTickPositions: function () {\r\n                return this.getTicks().minorTicks;\r\n            },\r\n            getTicks: function () {\r\n                var axis = this, cache = axis._ticks, options = axis.options, range = axis.rangeIndices(), reverse = options.reverse, justified = options.justified, lineBox = axis.lineBox(), hash;\r\n                hash = lineBox.getHash() + range.min + ',' + range.max + reverse + justified;\r\n                if (cache._hash !== hash) {\r\n                    cache._hash = hash;\r\n                    cache.majorTicks = axis.getTickPositions(1);\r\n                    cache.minorTicks = axis.getTickPositions(0.5);\r\n                }\r\n                return cache;\r\n            },\r\n            getSlot: function (from, to, limit) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, justified = options.justified, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.rangeIndices(), min = range.min, scale = this.getScale(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)], slotBox = lineBox.clone(), p1, p2;\r\n                var singleSlot = !defined(to);\r\n                from = valueOrDefault(from, 0);\r\n                to = valueOrDefault(to, from);\r\n                to = math.max(to - 1, from);\r\n                to = math.max(from, to);\r\n                p1 = lineStart + (from - min) * scale;\r\n                p2 = lineStart + (to + 1 - min) * scale;\r\n                if (singleSlot && justified) {\r\n                    p2 = p1;\r\n                }\r\n                if (limit) {\r\n                    p1 = limitValue(p1, lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\r\n                    p2 = limitValue(p2, lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\r\n                }\r\n                slotBox[valueAxis + 1] = reverse ? p2 : p1;\r\n                slotBox[valueAxis + 2] = reverse ? p1 : p2;\r\n                return slotBox;\r\n            },\r\n            pointCategoryIndex: function (point) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, justified = options.justified, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.rangeIndices(), startValue = reverse ? range.max : range.min, scale = this.getScale(), lineStart = lineBox[valueAxis + 1], lineEnd = lineBox[valueAxis + 2], pos = point[valueAxis];\r\n                if (pos < lineStart || pos > lineEnd) {\r\n                    return null;\r\n                }\r\n                var size = pos - lineStart;\r\n                var value = size / scale;\r\n                value = startValue + value;\r\n                var diff = value % 1;\r\n                if (justified) {\r\n                    value = math.round(value);\r\n                } else if (diff === 0 && value > 0) {\r\n                    value--;\r\n                }\r\n                return math.floor(value);\r\n            },\r\n            getCategory: function (point) {\r\n                var index = this.pointCategoryIndex(point);\r\n                if (index === null) {\r\n                    return null;\r\n                }\r\n                return this.options.categories[index];\r\n            },\r\n            categoryIndex: function (value) {\r\n                var options = this.options;\r\n                var index = indexOf(value, options.srcCategories || options.categories);\r\n                return index - math.floor(options.min || 0);\r\n            },\r\n            translateRange: function (delta) {\r\n                var axis = this, options = axis.options, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = options.categories.length, scale = size / range, offset = round(delta / scale, DEFAULT_PRECISION);\r\n                return {\r\n                    min: offset,\r\n                    max: range + offset\r\n                };\r\n            },\r\n            zoomRange: function (rate) {\r\n                var rangeIndices = this.totalRangeIndices();\r\n                var totalRange = this.totalRange();\r\n                var totalMax = totalRange.max;\r\n                var totalMin = totalRange.min;\r\n                var min = limitValue(rangeIndices.min + rate, totalMin, totalMax);\r\n                var max = limitValue(rangeIndices.max - rate, totalMin, totalMax);\r\n                if (max - min > 0) {\r\n                    return {\r\n                        min: min,\r\n                        max: max\r\n                    };\r\n                }\r\n            },\r\n            scaleRange: function (scale) {\r\n                var axis = this, options = axis.options, range = options.categories.length, delta = scale * range;\r\n                return {\r\n                    min: -delta,\r\n                    max: range + delta\r\n                };\r\n            },\r\n            labelsCount: function () {\r\n                var labelsRange = this.labelsRange();\r\n                return labelsRange.max - labelsRange.min;\r\n            },\r\n            labelsRange: function () {\r\n                var options = this.options;\r\n                var labelOptions = options.labels;\r\n                var justified = options.justified;\r\n                var range = this.totalRangeIndices(true);\r\n                var min = range.min;\r\n                var max = range.max;\r\n                var start = math.floor(min);\r\n                var skip;\r\n                if (!justified) {\r\n                    min = math.floor(min);\r\n                    max = math.ceil(max);\r\n                } else {\r\n                    min = math.ceil(min);\r\n                    max = math.floor(max);\r\n                }\r\n                if (min > labelOptions.skip) {\r\n                    skip = labelOptions.skip + labelOptions.step * math.ceil((min - labelOptions.skip) / labelOptions.step);\r\n                } else {\r\n                    skip = labelOptions.skip;\r\n                }\r\n                return {\r\n                    min: skip - start,\r\n                    max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start\r\n                };\r\n            },\r\n            createAxisLabel: function (index, labelOptions) {\r\n                var axis = this, options = axis.options, dataItem = options.dataItems ? options.dataItems[index] : null, category = valueOrDefault(options.categories[index], ''), text = axis.axisLabelText(category, dataItem, labelOptions);\r\n                return new AxisLabel(category, text, index, dataItem, labelOptions);\r\n            },\r\n            shouldRenderNote: function (value) {\r\n                var categories = this.options.categories;\r\n                return categories.length && (categories.length > value && value >= 0);\r\n            },\r\n            pan: function (delta) {\r\n                var range = this.totalRangeIndices(true), scale = this.getScale(), offset = round(delta / scale, DEFAULT_PRECISION), totalRange = this.totalRange(), min = range.min + offset, max = range.max + offset;\r\n                return this.limitRange(min, max, 0, totalRange.max, offset);\r\n            },\r\n            pointsRange: function (start, end) {\r\n                var axis = this, options = axis.options, reverse = options.reverse, valueAxis = options.vertical ? Y : X, lineBox = axis.lineBox(), range = axis.totalRangeIndices(true), scale = this.getScale(), lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];\r\n                var diffStart = start[valueAxis] - lineStart;\r\n                var diffEnd = end[valueAxis] - lineStart;\r\n                var min = range.min + diffStart / scale;\r\n                var max = range.min + diffEnd / scale;\r\n                return {\r\n                    min: math.min(min, max),\r\n                    max: math.max(min, max)\r\n                };\r\n            }\r\n        });\r\n        var DateCategoryAxis = CategoryAxis.extend({\r\n            init: function (options) {\r\n                var axis = this, baseUnit, useDefault;\r\n                options = options || {};\r\n                options = deepExtend({ roundToBaseUnit: true }, options, {\r\n                    categories: toDate(options.categories),\r\n                    min: toDate(options.min),\r\n                    max: toDate(options.max)\r\n                });\r\n                options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\r\n                options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\r\n                if (options.categories && options.categories.length > 0) {\r\n                    baseUnit = (options.baseUnit || '').toLowerCase();\r\n                    useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\r\n                    if (useDefault) {\r\n                        options.baseUnit = axis.defaultBaseUnit(options);\r\n                    }\r\n                    if (baseUnit === FIT || options.baseUnitStep === AUTO) {\r\n                        axis.autoBaseUnit(options);\r\n                    }\r\n                    this._groupsStart = addDuration(options.categories[0], 0, options.baseUnit, options.weekStartDay);\r\n                    axis.groupCategories(options);\r\n                } else {\r\n                    options.baseUnit = options.baseUnit || DAYS;\r\n                }\r\n                this._initFields();\r\n                Axis.fn.init.call(axis, options);\r\n            },\r\n            options: {\r\n                type: DATE,\r\n                labels: { dateFormats: DateLabelFormats },\r\n                autoBaseUnitSteps: {\r\n                    seconds: [\r\n                        1,\r\n                        2,\r\n                        5,\r\n                        15,\r\n                        30\r\n                    ],\r\n                    minutes: [\r\n                        1,\r\n                        2,\r\n                        5,\r\n                        15,\r\n                        30\r\n                    ],\r\n                    hours: [\r\n                        1,\r\n                        2,\r\n                        3\r\n                    ],\r\n                    days: [\r\n                        1,\r\n                        2,\r\n                        3\r\n                    ],\r\n                    weeks: [\r\n                        1,\r\n                        2\r\n                    ],\r\n                    months: [\r\n                        1,\r\n                        2,\r\n                        3,\r\n                        6\r\n                    ],\r\n                    years: [\r\n                        1,\r\n                        2,\r\n                        3,\r\n                        5,\r\n                        10,\r\n                        25,\r\n                        50\r\n                    ]\r\n                },\r\n                maxDateGroups: 10\r\n            },\r\n            shouldRenderNote: function (value) {\r\n                var axis = this, range = axis.range(), categories = axis.options.categories || [];\r\n                return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\r\n            },\r\n            parseNoteValue: function (value) {\r\n                return toDate(value);\r\n            },\r\n            translateRange: function (delta) {\r\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, weekStartDay = options.weekStartDay, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = axis.range(), scale = size / (range.max - range.min), offset = round(delta / scale, DEFAULT_PRECISION), from, to;\r\n                if (range.min && range.max) {\r\n                    from = addTicks(options.min || range.min, offset);\r\n                    to = addTicks(options.max || range.max, offset);\r\n                    range = {\r\n                        min: addDuration(from, 0, baseUnit, weekStartDay),\r\n                        max: addDuration(to, 0, baseUnit, weekStartDay)\r\n                    };\r\n                }\r\n                return range;\r\n            },\r\n            scaleRange: function (delta) {\r\n                var axis = this, rounds = math.abs(delta), range = axis.range(), from = range.min, to = range.max, step;\r\n                if (range.min && range.max) {\r\n                    while (rounds--) {\r\n                        range = dateDiff(from, to);\r\n                        step = math.round(range * 0.1);\r\n                        if (delta < 0) {\r\n                            from = addTicks(from, step);\r\n                            to = addTicks(to, -step);\r\n                        } else {\r\n                            from = addTicks(from, -step);\r\n                            to = addTicks(to, step);\r\n                        }\r\n                    }\r\n                    range = {\r\n                        min: from,\r\n                        max: to\r\n                    };\r\n                }\r\n                return range;\r\n            },\r\n            defaultBaseUnit: function (options) {\r\n                var categories = options.categories, count = defined(categories) ? categories.length : 0, categoryIx, cat, diff, minDiff = MAX_VALUE, lastCat, unit;\r\n                for (categoryIx = 0; categoryIx < count; categoryIx++) {\r\n                    cat = categories[categoryIx];\r\n                    if (cat && lastCat) {\r\n                        diff = absoluteDateDiff(cat, lastCat);\r\n                        if (diff > 0) {\r\n                            minDiff = math.min(minDiff, diff);\r\n                            if (minDiff >= TIME_PER_YEAR) {\r\n                                unit = YEARS;\r\n                            } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\r\n                                unit = MONTHS;\r\n                            } else if (minDiff >= TIME_PER_WEEK) {\r\n                                unit = WEEKS;\r\n                            } else if (minDiff >= TIME_PER_DAY) {\r\n                                unit = DAYS;\r\n                            } else if (minDiff >= TIME_PER_HOUR) {\r\n                                unit = HOURS;\r\n                            } else if (minDiff >= TIME_PER_MINUTE) {\r\n                                unit = MINUTES;\r\n                            } else {\r\n                                unit = SECONDS;\r\n                            }\r\n                        }\r\n                    }\r\n                    lastCat = cat;\r\n                }\r\n                return unit || DAYS;\r\n            },\r\n            _categoryRange: function (categories) {\r\n                var range = categories._range;\r\n                if (!range) {\r\n                    range = categories._range = sparseArrayLimits(categories);\r\n                }\r\n                return range;\r\n            },\r\n            totalRange: function () {\r\n                return {\r\n                    min: 0,\r\n                    max: this.options.categories.length\r\n                };\r\n            },\r\n            rangeIndices: function () {\r\n                var options = this.options;\r\n                var baseUnit = options.baseUnit;\r\n                var baseUnitStep = options.baseUnitStep || 1;\r\n                var categories = options.categories;\r\n                var categoryLimits = this.categoriesRange();\r\n                var min = toDate(options.min || categoryLimits.min);\r\n                var max = toDate(options.max || categoryLimits.max);\r\n                var minIdx = 0, maxIdx = 0;\r\n                if (categories.length) {\r\n                    minIdx = dateIndex(min, categories[0], baseUnit, baseUnitStep);\r\n                    maxIdx = dateIndex(max, categories[0], baseUnit, baseUnitStep);\r\n                    if (options.roundToBaseUnit) {\r\n                        minIdx = math.floor(minIdx);\r\n                        maxIdx = options.justified ? math.floor(maxIdx) : math.ceil(maxIdx);\r\n                    }\r\n                }\r\n                return {\r\n                    min: minIdx,\r\n                    max: maxIdx\r\n                };\r\n            },\r\n            labelsRange: function () {\r\n                var options = this.options;\r\n                var labelOptions = options.labels;\r\n                var range = this.rangeIndices();\r\n                var min = math.floor(range.min);\r\n                var max = math.ceil(range.max);\r\n                return {\r\n                    min: min + labelOptions.skip,\r\n                    max: options.categories.length ? max + (options.justified ? 1 : 0) : 0\r\n                };\r\n            },\r\n            categoriesRange: function () {\r\n                var options = this.options;\r\n                var range = this._categoryRange(options.srcCategories || options.categories);\r\n                var max = toDate(range.max);\r\n                if (!options.justified && dateEquals(max, this._roundToTotalStep(max, options, false))) {\r\n                    max = this._roundToTotalStep(max, options, true, true);\r\n                }\r\n                return {\r\n                    min: toDate(range.min),\r\n                    max: max\r\n                };\r\n            },\r\n            currentRange: function () {\r\n                var options = this.options;\r\n                var round = options.roundToBaseUnit !== false;\r\n                var totalRange = this.categoriesRange();\r\n                var min = options.min;\r\n                var max = options.max;\r\n                if (!min) {\r\n                    min = round ? this._roundToTotalStep(totalRange.min, options, false) : totalRange.min;\r\n                }\r\n                if (!max) {\r\n                    max = round ? this._roundToTotalStep(totalRange.max, options, !options.justified) : totalRange.max;\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            datesRange: function () {\r\n                var range = this._categoryRange(this.options.srcCategories || this.options.categories);\r\n                return {\r\n                    min: toDate(range.min),\r\n                    max: toDate(range.max)\r\n                };\r\n            },\r\n            pan: function (delta) {\r\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = this.currentRange(), totalLimits = this.totalLimits(), min = range.min, max = range.max, scale = size / (max - min), offset = round(delta / scale, DEFAULT_PRECISION), panRange, from, to;\r\n                from = addTicks(min, offset);\r\n                to = addTicks(max, offset);\r\n                panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\r\n                if (panRange) {\r\n                    panRange.min = toDate(panRange.min);\r\n                    panRange.max = toDate(panRange.max);\r\n                    panRange.baseUnit = baseUnit;\r\n                    panRange.baseUnitStep = options.baseUnitStep || 1;\r\n                    panRange.userSetBaseUnit = options.userSetBaseUnit;\r\n                    panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\r\n                    return panRange;\r\n                }\r\n            },\r\n            pointsRange: function (start, end) {\r\n                var pointsRange = CategoryAxis.fn.pointsRange.call(this, start, end);\r\n                var datesRange = this.currentRange();\r\n                var indicesRange = this.rangeIndices();\r\n                var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\r\n                var options = this.options;\r\n                var min = addTicks(datesRange.min, pointsRange.min * scale);\r\n                var max = addTicks(datesRange.min, pointsRange.max * scale);\r\n                return {\r\n                    min: min,\r\n                    max: max,\r\n                    baseUnit: options.userSetBaseUnit,\r\n                    baseUnitStep: options.userSetBaseUnitStep\r\n                };\r\n            },\r\n            zoomRange: function (delta) {\r\n                var options = this.options;\r\n                var totalLimits = this.totalLimits();\r\n                var currentRange = this.currentRange();\r\n                var baseUnit = options.baseUnit;\r\n                var baseUnitStep = options.baseUnitStep || 1;\r\n                var weekStartDay = options.weekStartDay;\r\n                var rangeMax = currentRange.max;\r\n                var rangeMin = currentRange.min;\r\n                var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);\r\n                var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);\r\n                if (options.userSetBaseUnit == FIT) {\r\n                    var autoBaseUnitSteps = options.autoBaseUnitSteps;\r\n                    var maxDateGroups = options.maxDateGroups;\r\n                    var baseUnitIndex = indexOf(baseUnit, BASE_UNITS);\r\n                    var autoBaseUnitStep;\r\n                    var diff = dateDiff(max, min);\r\n                    var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\r\n                    var rangeDiff = dateDiff(rangeMax, rangeMin);\r\n                    var ticks;\r\n                    if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== SECONDS) {\r\n                        baseUnit = BASE_UNITS[baseUnitIndex - 1];\r\n                        autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\r\n                        ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\r\n                        min = addTicks(rangeMin, ticks);\r\n                        max = addTicks(rangeMax, -ticks);\r\n                    } else if (diff > maxDiff && baseUnit !== YEARS) {\r\n                        var stepIndex = 0;\r\n                        do {\r\n                            baseUnitIndex++;\r\n                            baseUnit = BASE_UNITS[baseUnitIndex];\r\n                            stepIndex = 0;\r\n                            ticks = 2 * TIME_PER_UNIT[baseUnit];\r\n                            do {\r\n                                autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\r\n                                stepIndex++;\r\n                            } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\r\n                        } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\r\n                        ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\r\n                        if (ticks > 0) {\r\n                            min = addTicks(rangeMin, -ticks);\r\n                            max = addTicks(rangeMax, ticks);\r\n                            min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\r\n                            max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\r\n                        }\r\n                    }\r\n                }\r\n                min = toDate(limitValue(min, totalLimits.min, totalLimits.max));\r\n                max = toDate(limitValue(max, totalLimits.min, totalLimits.max));\r\n                if (dateDiff(max, min) > 0) {\r\n                    return {\r\n                        min: min,\r\n                        max: max,\r\n                        baseUnit: options.userSetBaseUnit,\r\n                        baseUnitStep: options.userSetBaseUnitStep\r\n                    };\r\n                }\r\n            },\r\n            totalLimits: function () {\r\n                var options = this.options;\r\n                var datesRange = this.datesRange();\r\n                var min = this._roundToTotalStep(toDate(datesRange.min), options, false);\r\n                var max = datesRange.max;\r\n                if (!options.justified) {\r\n                    max = this._roundToTotalStep(max, options, true, dateEquals(max, this._roundToTotalStep(max, options, false)));\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            range: function (options) {\r\n                options = options || this.options;\r\n                var categories = options.categories, autoUnit = options.baseUnit === FIT, baseUnit = autoUnit ? BASE_UNITS[0] : options.baseUnit, baseUnitStep = options.baseUnitStep || 1, stepOptions = {\r\n                        baseUnit: baseUnit,\r\n                        baseUnitStep: baseUnitStep,\r\n                        weekStartDay: options.weekStartDay\r\n                    }, categoryLimits = this._categoryRange(categories), min = toDate(options.min || categoryLimits.min), max = toDate(options.max || categoryLimits.max);\r\n                return {\r\n                    min: this._roundToTotalStep(min, stepOptions, false),\r\n                    max: this._roundToTotalStep(max, stepOptions, true, true)\r\n                };\r\n            },\r\n            autoBaseUnit: function (options) {\r\n                var axis = this, categoryLimits = this._categoryRange(options.categories), min = toDate(options.min || categoryLimits.min), max = toDate(options.max || categoryLimits.max), autoUnit = options.baseUnit === FIT, autoUnitIx = 0, baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit, span = max - min, units = span / TIME_PER_UNIT[baseUnit], totalUnits = units, maxDateGroups = options.maxDateGroups || axis.options.maxDateGroups, autoBaseUnitSteps = deepExtend({}, axis.options.autoBaseUnitSteps, options.autoBaseUnitSteps), unitSteps, step, nextStep;\r\n                while (!step || units >= maxDateGroups) {\r\n                    unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\r\n                    nextStep = unitSteps.shift();\r\n                    if (nextStep) {\r\n                        step = nextStep;\r\n                        units = totalUnits / step;\r\n                    } else if (baseUnit === last(BASE_UNITS)) {\r\n                        step = math.ceil(totalUnits / maxDateGroups);\r\n                        break;\r\n                    } else if (autoUnit) {\r\n                        baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\r\n                        totalUnits = span / TIME_PER_UNIT[baseUnit];\r\n                        unitSteps = null;\r\n                    } else {\r\n                        if (units > maxDateGroups) {\r\n                            step = math.ceil(totalUnits / maxDateGroups);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                options.baseUnitStep = step;\r\n                options.baseUnit = baseUnit;\r\n            },\r\n            _timeScale: function () {\r\n                var axis = this, range = axis.range(), options = axis.options, lineBox = axis.lineBox(), vertical = options.vertical, lineSize = vertical ? lineBox.height() : lineBox.width(), timeRange;\r\n                if (options.justified && options._collapse !== false) {\r\n                    var categoryLimits = this._categoryRange(options.categories);\r\n                    var maxCategory = toTime(categoryLimits.max);\r\n                    timeRange = toDate(maxCategory) - range.min;\r\n                } else {\r\n                    timeRange = range.max - range.min;\r\n                }\r\n                return lineSize / timeRange;\r\n            },\r\n            groupCategories: function (options) {\r\n                var axis = this, categories = options.categories, maxCategory = toDate(sparseArrayMax(categories)), baseUnit = options.baseUnit, baseUnitStep = options.baseUnitStep || 1, range = axis.range(options), max = range.max, date, nextDate, groups = [];\r\n                for (date = range.min; date < max; date = nextDate) {\r\n                    groups.push(date);\r\n                    nextDate = addDuration(date, baseUnitStep, baseUnit, options.weekStartDay);\r\n                    if (nextDate > maxCategory && !options.max) {\r\n                        break;\r\n                    }\r\n                }\r\n                options.srcCategories = categories;\r\n                options.categories = groups;\r\n            },\r\n            _roundToTotalStep: function (value, options, upper, roundToNext) {\r\n                options = options || this.options;\r\n                var baseUnit = options.baseUnit;\r\n                var baseUnitStep = options.baseUnitStep || 1;\r\n                var start = this._groupsStart;\r\n                if (start) {\r\n                    var step = dateIndex(value, start, baseUnit, baseUnitStep);\r\n                    var roundedStep = upper ? math.ceil(step) : math.floor(step);\r\n                    if (roundToNext) {\r\n                        roundedStep++;\r\n                    }\r\n                    return addDuration(start, roundedStep * baseUnitStep, baseUnit, options.weekStartDay);\r\n                } else {\r\n                    return addDuration(value, upper ? baseUnitStep : 0, baseUnit, options.weekStartDay);\r\n                }\r\n            },\r\n            createAxisLabel: function (index, labelOptions) {\r\n                var options = this.options, dataItem = options.dataItems ? options.dataItems[index] : null, date = options.categories[index], baseUnit = options.baseUnit, visible = true, unitFormat = labelOptions.dateFormats[baseUnit];\r\n                if (options.justified) {\r\n                    var roundedDate = floorDate(date, baseUnit, options.weekStartDay);\r\n                    visible = dateEquals(roundedDate, date);\r\n                } else if (!options.roundToBaseUnit) {\r\n                    visible = !dateEquals(this.range().max, date);\r\n                }\r\n                if (visible) {\r\n                    labelOptions.format = labelOptions.format || unitFormat;\r\n                    var text = this.axisLabelText(date, dataItem, labelOptions);\r\n                    if (text) {\r\n                        return new AxisLabel(date, text, index, dataItem, labelOptions);\r\n                    }\r\n                }\r\n            },\r\n            categoryIndex: function (value) {\r\n                var axis = this;\r\n                var options = axis.options;\r\n                var categories = options.categories;\r\n                var index = -1;\r\n                if (categories.length) {\r\n                    index = math.floor(dateIndex(toDate(value), categories[0], options.baseUnit, options.baseUnitStep || 1));\r\n                }\r\n                return index;\r\n            },\r\n            getSlot: function (a, b, limit) {\r\n                var axis = this;\r\n                if (typeof a === OBJECT) {\r\n                    a = axis.categoryIndex(a);\r\n                }\r\n                if (typeof b === OBJECT) {\r\n                    b = axis.categoryIndex(b);\r\n                }\r\n                return CategoryAxis.fn.getSlot.call(axis, a, b, limit);\r\n            }\r\n        });\r\n        var DateValueAxis = Axis.extend({\r\n            init: function (seriesMin, seriesMax, options) {\r\n                var axis = this;\r\n                options = options || {};\r\n                deepExtend(options, {\r\n                    min: toDate(options.min),\r\n                    max: toDate(options.max),\r\n                    axisCrossingValue: toDate(options.axisCrossingValues || options.axisCrossingValue)\r\n                });\r\n                options = axis.applyDefaults(toDate(seriesMin), toDate(seriesMax), options);\r\n                Axis.fn.init.call(axis, options);\r\n            },\r\n            options: {\r\n                type: DATE,\r\n                majorGridLines: {\r\n                    visible: true,\r\n                    width: 1,\r\n                    color: BLACK\r\n                },\r\n                labels: { dateFormats: DateLabelFormats }\r\n            },\r\n            applyDefaults: function (seriesMin, seriesMax, options) {\r\n                var axis = this, min = options.min || seriesMin, max = options.max || seriesMax, baseUnit = options.baseUnit || (max && min ? axis.timeUnits(absoluteDateDiff(max, min)) : HOURS), baseUnitTime = TIME_PER_UNIT[baseUnit], autoMin = floorDate(toTime(min) - 1, baseUnit) || toDate(max), autoMax = ceilDate(toTime(max) + 1, baseUnit), userMajorUnit = options.majorUnit ? options.majorUnit : undefined, majorUnit = userMajorUnit || dataviz.ceil(dataviz.autoMajorUnit(autoMin.getTime(), autoMax.getTime()), baseUnitTime) / baseUnitTime, actualUnits = duration(autoMin, autoMax, baseUnit), totalUnits = dataviz.ceil(actualUnits, majorUnit), unitsToAdd = totalUnits - actualUnits, head = math.floor(unitsToAdd / 2), tail = unitsToAdd - head;\r\n                if (!options.baseUnit) {\r\n                    delete options.baseUnit;\r\n                }\r\n                options.baseUnit = options.baseUnit || baseUnit;\r\n                options.min = options.min || addDuration(autoMin, -head, baseUnit);\r\n                options.max = options.max || addDuration(autoMax, tail, baseUnit);\r\n                options.minorUnit = options.minorUnit || majorUnit / 5;\r\n                options.majorUnit = majorUnit;\r\n                this.totalMin = toTime(floorDate(toTime(seriesMin) - 1, baseUnit));\r\n                this.totalMax = toTime(ceilDate(toTime(seriesMax) + 1, baseUnit));\r\n                return options;\r\n            },\r\n            range: function () {\r\n                var options = this.options;\r\n                return {\r\n                    min: options.min,\r\n                    max: options.max\r\n                };\r\n            },\r\n            getDivisions: function (stepValue) {\r\n                var options = this.options;\r\n                return math.floor(duration(options.min, options.max, options.baseUnit) / stepValue + 1);\r\n            },\r\n            getTickPositions: function (step) {\r\n                var options = this.options;\r\n                var vertical = options.vertical;\r\n                var reverse = options.reverse;\r\n                var lineBox = this.lineBox();\r\n                var dir = (vertical ? -1 : 1) * (reverse ? -1 : 1);\r\n                var startEdge = dir === 1 ? 1 : 2;\r\n                var start = lineBox[(vertical ? Y : X) + startEdge];\r\n                var divisions = this.getDivisions(step);\r\n                var timeRange = dateDiff(options.max, options.min);\r\n                var lineSize = vertical ? lineBox.height() : lineBox.width();\r\n                var scale = lineSize / timeRange;\r\n                var positions = [start];\r\n                for (var i = 1; i < divisions; i++) {\r\n                    var date = addDuration(options.min, i * step, options.baseUnit);\r\n                    var pos = start + dateDiff(date, options.min) * scale * dir;\r\n                    positions.push(round(pos, COORD_PRECISION));\r\n                }\r\n                return positions;\r\n            },\r\n            getMajorTickPositions: function () {\r\n                var axis = this;\r\n                return axis.getTickPositions(axis.options.majorUnit);\r\n            },\r\n            getMinorTickPositions: function () {\r\n                var axis = this;\r\n                return axis.getTickPositions(axis.options.minorUnit);\r\n            },\r\n            getSlot: function (a, b, limit) {\r\n                return NumericAxis.fn.getSlot.call(this, toDate(a), toDate(b), limit);\r\n            },\r\n            getValue: function (point) {\r\n                var value = NumericAxis.fn.getValue.call(this, point);\r\n                return value !== null ? toDate(value) : null;\r\n            },\r\n            labelsCount: function () {\r\n                return this.getDivisions(this.options.majorUnit);\r\n            },\r\n            createAxisLabel: function (index, labelOptions) {\r\n                var options = this.options;\r\n                var offset = index * options.majorUnit;\r\n                var date = options.min;\r\n                if (offset > 0) {\r\n                    date = addDuration(date, offset, options.baseUnit);\r\n                }\r\n                var unitFormat = labelOptions.dateFormats[options.baseUnit];\r\n                labelOptions.format = labelOptions.format || unitFormat;\r\n                var text = this.axisLabelText(date, null, labelOptions);\r\n                return new AxisLabel(date, text, index, null, labelOptions);\r\n            },\r\n            timeUnits: function (delta) {\r\n                var unit = HOURS;\r\n                if (delta >= TIME_PER_YEAR) {\r\n                    unit = YEARS;\r\n                } else if (delta >= TIME_PER_MONTH) {\r\n                    unit = MONTHS;\r\n                } else if (delta >= TIME_PER_WEEK) {\r\n                    unit = WEEKS;\r\n                } else if (delta >= TIME_PER_DAY) {\r\n                    unit = DAYS;\r\n                }\r\n                return unit;\r\n            },\r\n            translateRange: function (delta, exact) {\r\n                var axis = this, options = axis.options, baseUnit = options.baseUnit, weekStartDay = options.weekStartDay, lineBox = axis.lineBox(), size = options.vertical ? lineBox.height() : lineBox.width(), range = axis.range(), scale = size / dateDiff(range.max, range.min), offset = round(delta / scale, DEFAULT_PRECISION), from = addTicks(options.min, offset), to = addTicks(options.max, offset);\r\n                if (!exact) {\r\n                    from = addDuration(from, 0, baseUnit, weekStartDay);\r\n                    to = addDuration(to, 0, baseUnit, weekStartDay);\r\n                }\r\n                return {\r\n                    min: from,\r\n                    max: to\r\n                };\r\n            },\r\n            scaleRange: function (delta) {\r\n                var axis = this, options = axis.options, rounds = math.abs(delta), from = options.min, to = options.max, range, step;\r\n                while (rounds--) {\r\n                    range = dateDiff(from, to);\r\n                    step = math.round(range * 0.1);\r\n                    if (delta < 0) {\r\n                        from = addTicks(from, step);\r\n                        to = addTicks(to, -step);\r\n                    } else {\r\n                        from = addTicks(from, -step);\r\n                        to = addTicks(to, step);\r\n                    }\r\n                }\r\n                return {\r\n                    min: from,\r\n                    max: to\r\n                };\r\n            },\r\n            shouldRenderNote: function (value) {\r\n                var range = this.range();\r\n                return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;\r\n            },\r\n            pan: function (delta) {\r\n                var range = this.translateRange(delta, true);\r\n                var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax);\r\n                if (limittedRange) {\r\n                    return {\r\n                        min: toDate(limittedRange.min),\r\n                        max: toDate(limittedRange.max)\r\n                    };\r\n                }\r\n            },\r\n            pointsRange: function (start, end) {\r\n                var startValue = this.getValue(start);\r\n                var endValue = this.getValue(end);\r\n                var min = math.min(startValue, endValue);\r\n                var max = math.max(startValue, endValue);\r\n                return {\r\n                    min: toDate(min),\r\n                    max: toDate(max)\r\n                };\r\n            },\r\n            zoomRange: function (delta) {\r\n                var range = this.scaleRange(delta);\r\n                var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));\r\n                var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            }\r\n        });\r\n        var ClusterLayout = ChartElement.extend({\r\n            options: {\r\n                vertical: false,\r\n                gap: 0,\r\n                spacing: 0\r\n            },\r\n            reflow: function (box) {\r\n                var cluster = this, options = cluster.options, vertical = options.vertical, axis = vertical ? Y : X, children = cluster.children, gap = options.gap, spacing = options.spacing, count = children.length, slots = count + gap + spacing * (count - 1), slotSize = (vertical ? box.height() : box.width()) / slots, position = box[axis + 1] + slotSize * (gap / 2), childBox, i;\r\n                for (i = 0; i < count; i++) {\r\n                    childBox = (children[i].box || box).clone();\r\n                    childBox[axis + 1] = position;\r\n                    childBox[axis + 2] = position + slotSize;\r\n                    children[i].reflow(childBox);\r\n                    if (i < count - 1) {\r\n                        position += slotSize * spacing;\r\n                    }\r\n                    position += slotSize;\r\n                }\r\n            }\r\n        });\r\n        var StackWrap = ChartElement.extend({\r\n            options: { vertical: true },\r\n            reflow: function (targetBox) {\r\n                var options = this.options, vertical = options.vertical, positionAxis = vertical ? X : Y, children = this.children, box = this.box = new Box2D(), childrenCount = children.length, i;\r\n                for (i = 0; i < childrenCount; i++) {\r\n                    var currentChild = children[i], childBox;\r\n                    if (currentChild.visible !== false) {\r\n                        childBox = currentChild.box.clone();\r\n                        childBox.snapTo(targetBox, positionAxis);\r\n                        if (i === 0) {\r\n                            box = this.box = childBox.clone();\r\n                        }\r\n                        currentChild.reflow(childBox);\r\n                        box.wrap(childBox);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var PointEventsMixin = {\r\n            click: function (chart, e) {\r\n                return chart.trigger(SERIES_CLICK, this.eventArgs(e));\r\n            },\r\n            hover: function (chart, e) {\r\n                return chart.trigger(SERIES_HOVER, this.eventArgs(e));\r\n            },\r\n            eventArgs: function (e) {\r\n                return {\r\n                    value: this.value,\r\n                    percentage: this.percentage,\r\n                    category: this.category,\r\n                    series: this.series,\r\n                    dataItem: this.dataItem,\r\n                    runningTotal: this.runningTotal,\r\n                    total: this.total,\r\n                    element: eventTargetElement(e),\r\n                    originalEvent: e,\r\n                    point: this\r\n                };\r\n            }\r\n        };\r\n        var NoteMixin = {\r\n            createNote: function () {\r\n                var element = this, options = element.options.notes, text = element.noteText || options.label.text;\r\n                if (options.visible !== false && defined(text) && text !== null) {\r\n                    element.note = new Note(element.value, text, element.dataItem, element.category, element.series, element.options.notes);\r\n                    element.append(element.note);\r\n                }\r\n            }\r\n        };\r\n        var Bar = ChartElement.extend({\r\n            init: function (value, options) {\r\n                var bar = this;\r\n                ChartElement.fn.init.call(bar);\r\n                bar.options = options;\r\n                bar.color = options.color || WHITE;\r\n                bar.aboveAxis = valueOrDefault(bar.options.aboveAxis, true);\r\n                bar.value = value;\r\n            },\r\n            defaults: {\r\n                border: { width: 1 },\r\n                vertical: true,\r\n                overlay: { gradient: GLASS },\r\n                labels: {\r\n                    visible: false,\r\n                    format: '{0}'\r\n                },\r\n                opacity: 1,\r\n                notes: { label: {} }\r\n            },\r\n            render: function () {\r\n                if (this._rendered) {\r\n                    return;\r\n                } else {\r\n                    this._rendered = true;\r\n                }\r\n                this.createLabel();\r\n                this.createNote();\r\n                if (this.errorBar) {\r\n                    this.append(this.errorBar);\r\n                }\r\n            },\r\n            createLabel: function () {\r\n                var options = this.options;\r\n                var labels = options.labels;\r\n                var labelText;\r\n                if (labels.visible) {\r\n                    if (labels.template) {\r\n                        var labelTemplate = template(labels.template);\r\n                        labelText = labelTemplate({\r\n                            dataItem: this.dataItem,\r\n                            category: this.category,\r\n                            value: this.value,\r\n                            percentage: this.percentage,\r\n                            runningTotal: this.runningTotal,\r\n                            total: this.total,\r\n                            series: this.series\r\n                        });\r\n                    } else {\r\n                        labelText = this.formatValue(labels.format);\r\n                    }\r\n                    this.label = new BarLabel(labelText, deepExtend({ vertical: options.vertical }, options.labels));\r\n                    this.append(this.label);\r\n                }\r\n            },\r\n            formatValue: function (format) {\r\n                return this.owner.formatPointValue(this, format);\r\n            },\r\n            reflow: function (targetBox) {\r\n                this.render();\r\n                var bar = this, label = bar.label;\r\n                bar.box = targetBox;\r\n                if (label) {\r\n                    label.options.aboveAxis = bar.aboveAxis;\r\n                    label.reflow(targetBox);\r\n                }\r\n                if (bar.note) {\r\n                    bar.note.reflow(targetBox);\r\n                }\r\n                if (bar.errorBars) {\r\n                    for (var i = 0; i < bar.errorBars.length; i++) {\r\n                        bar.errorBars[i].reflow(targetBox);\r\n                    }\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                var bar = this;\r\n                var box = bar.box;\r\n                var options = bar.options;\r\n                var customVisual = options.visual;\r\n                if (bar.visible !== false) {\r\n                    ChartElement.fn.createVisual.call(bar);\r\n                    if (customVisual) {\r\n                        var visual = this.rectVisual = customVisual({\r\n                            category: bar.category,\r\n                            dataItem: bar.dataItem,\r\n                            value: bar.value,\r\n                            sender: bar.getChart(),\r\n                            series: bar.series,\r\n                            percentage: bar.percentage,\r\n                            runningTotal: bar.runningTotal,\r\n                            total: bar.total,\r\n                            rect: box.toRect(),\r\n                            createVisual: function () {\r\n                                var group = new draw.Group();\r\n                                bar.createRect(group);\r\n                                return group;\r\n                            },\r\n                            options: options\r\n                        });\r\n                        if (visual) {\r\n                            bar.visual.append(visual);\r\n                        }\r\n                    } else if (box.width() > 0 && box.height() > 0) {\r\n                        bar.createRect(bar.visual);\r\n                    }\r\n                }\r\n            },\r\n            createRect: function (visual) {\r\n                var options = this.options;\r\n                var border = options.border;\r\n                var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;\r\n                var rect = this.box.toRect();\r\n                rect.size.width = Math.round(rect.size.width);\r\n                var path = this.rectVisual = draw.Path.fromRect(rect, {\r\n                    fill: {\r\n                        color: this.color,\r\n                        opacity: options.opacity\r\n                    },\r\n                    stroke: {\r\n                        color: this.getBorderColor(),\r\n                        width: border.width,\r\n                        opacity: strokeOpacity,\r\n                        dashType: border.dashType\r\n                    }\r\n                });\r\n                var width = this.box.width();\r\n                var height = this.box.height();\r\n                var size = options.vertical ? width : height;\r\n                if (size > BAR_ALIGN_MIN_WIDTH) {\r\n                    alignPathToPixel(path);\r\n                    if (width < 1 || height < 1) {\r\n                        path.options.stroke.lineJoin = 'round';\r\n                    }\r\n                }\r\n                visual.append(path);\r\n                if (hasGradientOverlay(options)) {\r\n                    visual.append(this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({\r\n                        end: !options.vertical ? [\r\n                            0,\r\n                            1\r\n                        ] : undefined\r\n                    }, options.overlay)));\r\n                }\r\n            },\r\n            createHighlight: function (style) {\r\n                var highlight = draw.Path.fromRect(this.box.toRect(), style);\r\n                return alignPathToPixel(highlight);\r\n            },\r\n            highlightVisual: function () {\r\n                return this.rectVisual;\r\n            },\r\n            highlightVisualArgs: function () {\r\n                return {\r\n                    options: this.options,\r\n                    rect: this.box.toRect(),\r\n                    visual: this.rectVisual\r\n                };\r\n            },\r\n            getBorderColor: function () {\r\n                var bar = this, options = bar.options, color = bar.color, border = options.border, borderColor = border.color, brightness = border._brightness || BAR_BORDER_BRIGHTNESS;\r\n                if (!defined(borderColor)) {\r\n                    borderColor = new Color(color).brightness(brightness).toHex();\r\n                }\r\n                return borderColor;\r\n            },\r\n            tooltipAnchor: function (tooltipWidth, tooltipHeight) {\r\n                var bar = this, options = bar.options, box = bar.box, vertical = options.vertical, aboveAxis = bar.aboveAxis, clipBox = bar.owner.pane.clipBox() || box, x, y;\r\n                if (vertical) {\r\n                    x = math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;\r\n                    y = aboveAxis ? math.max(box.y1, clipBox.y1) : math.min(box.y2, clipBox.y2) - tooltipHeight;\r\n                } else {\r\n                    var x1 = math.max(box.x1, clipBox.x1), x2 = math.min(box.x2, clipBox.x2);\r\n                    if (options.isStacked) {\r\n                        x = aboveAxis ? x2 - tooltipWidth : x1;\r\n                        y = math.max(box.y1, clipBox.y1) - tooltipHeight - TOOLTIP_OFFSET;\r\n                    } else {\r\n                        x = aboveAxis ? x2 + TOOLTIP_OFFSET : x1 - tooltipWidth - TOOLTIP_OFFSET;\r\n                        y = math.max(box.y1, clipBox.y1);\r\n                    }\r\n                }\r\n                return new Point2D(x, y);\r\n            },\r\n            overlapsBox: function (box) {\r\n                return this.box.overlaps(box);\r\n            }\r\n        });\r\n        deepExtend(Bar.fn, PointEventsMixin);\r\n        deepExtend(Bar.fn, NoteMixin);\r\n        var BarChartAnimation = draw.Animation.extend({\r\n            options: { duration: INITIAL_ANIMATION_DURATION },\r\n            setup: function () {\r\n                var element = this.element;\r\n                var options = this.options;\r\n                var bbox = element.bbox();\r\n                if (bbox) {\r\n                    this.origin = options.origin;\r\n                    var axis = options.vertical ? Y : X;\r\n                    var fromScale = this.fromScale = new geom.Point(1, 1);\r\n                    fromScale[axis] = START_SCALE;\r\n                    element.transform(geom.transform().scale(fromScale.x, fromScale.y));\r\n                } else {\r\n                    this.abort();\r\n                }\r\n            },\r\n            step: function (pos) {\r\n                var scaleX = interpolate(this.fromScale.x, 1, pos);\r\n                var scaleY = interpolate(this.fromScale.y, 1, pos);\r\n                this.element.transform(geom.transform().scale(scaleX, scaleY, this.origin));\r\n            },\r\n            abort: function () {\r\n                draw.Animation.fn.abort.call(this);\r\n                this.element.transform(null);\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(BAR, BarChartAnimation);\r\n        var FadeInAnimation = draw.Animation.extend({\r\n            options: {\r\n                duration: 200,\r\n                easing: LINEAR\r\n            },\r\n            setup: function () {\r\n                this.fadeTo = this.element.opacity();\r\n                this.element.opacity(0);\r\n            },\r\n            step: function (pos) {\r\n                this.element.opacity(pos * this.fadeTo);\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(FADEIN, FadeInAnimation);\r\n        var ErrorRangeCalculator = function (errorValue, series, field) {\r\n            var that = this;\r\n            that.initGlobalRanges(errorValue, series, field);\r\n        };\r\n        ErrorRangeCalculator.prototype = ErrorRangeCalculator.fn = {\r\n            percentRegex: /percent(?:\\w*)\\((\\d+)\\)/,\r\n            standardDeviationRegex: new RegExp('^' + STD_DEV + '(?:\\\\((\\\\d+(?:\\\\.\\\\d+)?)\\\\))?$'),\r\n            initGlobalRanges: function (errorValue, series, field) {\r\n                var that = this, data = series.data, deviationMatch = that.standardDeviationRegex.exec(errorValue);\r\n                if (deviationMatch) {\r\n                    that.valueGetter = that.createValueGetter(series, field);\r\n                    var average = that.getAverage(data), deviation = that.getStandardDeviation(data, average, false), multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1, errorRange = {\r\n                            low: average.value - deviation * multiple,\r\n                            high: average.value + deviation * multiple\r\n                        };\r\n                    that.globalRange = function () {\r\n                        return errorRange;\r\n                    };\r\n                } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {\r\n                    that.valueGetter = that.createValueGetter(series, field);\r\n                    var standardError = that.getStandardError(data, that.getAverage(data));\r\n                    that.globalRange = function (value) {\r\n                        return {\r\n                            low: value - standardError,\r\n                            high: value + standardError\r\n                        };\r\n                    };\r\n                }\r\n            },\r\n            createValueGetter: function (series, field) {\r\n                var data = series.data, binder = SeriesBinder.current, valueFields = binder.valueFields(series), item = defined(data[0]) ? data[0] : {}, idx, srcValueFields, valueGetter;\r\n                if (isArray(item)) {\r\n                    idx = field ? indexOf(field, valueFields) : 0;\r\n                    valueGetter = getter('[' + idx + ']');\r\n                } else if (isNumber(item)) {\r\n                    valueGetter = getter();\r\n                } else if (typeof item === OBJECT) {\r\n                    srcValueFields = binder.sourceFields(series, valueFields);\r\n                    valueGetter = getter(srcValueFields[indexOf(field, valueFields)]);\r\n                }\r\n                return valueGetter;\r\n            },\r\n            getErrorRange: function (pointValue, errorValue) {\r\n                var that = this, low, high, value;\r\n                if (!defined(errorValue)) {\r\n                    return;\r\n                }\r\n                if (that.globalRange) {\r\n                    return that.globalRange(pointValue);\r\n                }\r\n                if (isArray(errorValue)) {\r\n                    low = pointValue - errorValue[0];\r\n                    high = pointValue + errorValue[1];\r\n                } else if (isNumber(value = parseFloat(errorValue))) {\r\n                    low = pointValue - value;\r\n                    high = pointValue + value;\r\n                } else if (value = that.percentRegex.exec(errorValue)) {\r\n                    var percentValue = pointValue * (parseFloat(value[1]) / 100);\r\n                    low = pointValue - math.abs(percentValue);\r\n                    high = pointValue + math.abs(percentValue);\r\n                } else {\r\n                    throw new Error('Invalid ErrorBar value: ' + errorValue);\r\n                }\r\n                return {\r\n                    low: low,\r\n                    high: high\r\n                };\r\n            },\r\n            getStandardError: function (data, average) {\r\n                return this.getStandardDeviation(data, average, true) / math.sqrt(average.count);\r\n            },\r\n            getStandardDeviation: function (data, average, isSample) {\r\n                var squareDifferenceSum = 0, length = data.length, total = isSample ? average.count - 1 : average.count, value;\r\n                for (var i = 0; i < length; i++) {\r\n                    value = this.valueGetter(data[i]);\r\n                    if (isNumber(value)) {\r\n                        squareDifferenceSum += math.pow(value - average.value, 2);\r\n                    }\r\n                }\r\n                return math.sqrt(squareDifferenceSum / total);\r\n            },\r\n            getAverage: function (data) {\r\n                var sum = 0, count = 0, length = data.length, value;\r\n                for (var i = 0; i < length; i++) {\r\n                    value = this.valueGetter(data[i]);\r\n                    if (isNumber(value)) {\r\n                        sum += value;\r\n                        count++;\r\n                    }\r\n                }\r\n                return {\r\n                    value: sum / count,\r\n                    count: count\r\n                };\r\n            }\r\n        };\r\n        var CategoricalChart = ChartElement.extend({\r\n            init: function (plotArea, options) {\r\n                var chart = this;\r\n                ChartElement.fn.init.call(chart, options);\r\n                chart.plotArea = plotArea;\r\n                chart.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);\r\n                chart.valueAxisRanges = {};\r\n                chart.points = [];\r\n                chart.categoryPoints = [];\r\n                chart.seriesPoints = [];\r\n                chart.seriesOptions = [];\r\n                chart._evalSeries = [];\r\n                chart.render();\r\n            },\r\n            options: {\r\n                series: [],\r\n                invertAxes: false,\r\n                isStacked: false,\r\n                clip: true\r\n            },\r\n            render: function () {\r\n                var chart = this;\r\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\r\n            },\r\n            pointOptions: function (series, seriesIx) {\r\n                var options = this.seriesOptions[seriesIx];\r\n                if (!options) {\r\n                    var defaults = this.pointType().fn.defaults;\r\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, { vertical: !this.options.invertAxes }, series);\r\n                }\r\n                return options;\r\n            },\r\n            plotValue: function (point) {\r\n                if (!point) {\r\n                    return 0;\r\n                }\r\n                if (this.options.isStacked100 && isNumber(point.value)) {\r\n                    var categoryIx = point.categoryIx;\r\n                    var categoryPts = this.categoryPoints[categoryIx];\r\n                    var categorySum = 0;\r\n                    var otherValues = [];\r\n                    for (var i = 0; i < categoryPts.length; i++) {\r\n                        var other = categoryPts[i];\r\n                        if (other) {\r\n                            var stack = point.series.stack;\r\n                            var otherStack = other.series.stack;\r\n                            if (stack && otherStack && stack.group !== otherStack.group) {\r\n                                continue;\r\n                            }\r\n                            if (isNumber(other.value)) {\r\n                                categorySum += math.abs(other.value);\r\n                                otherValues.push(math.abs(other.value));\r\n                            }\r\n                        }\r\n                    }\r\n                    if (categorySum > 0) {\r\n                        return point.value / categorySum;\r\n                    }\r\n                }\r\n                return point.value;\r\n            },\r\n            plotRange: function (point, startValue) {\r\n                var categoryIx = point.categoryIx;\r\n                var categoryPts = this.categoryPoints[categoryIx];\r\n                if (this.options.isStacked) {\r\n                    startValue = startValue || 0;\r\n                    var plotValue = this.plotValue(point);\r\n                    var positive = plotValue >= 0;\r\n                    var prevValue = startValue;\r\n                    var isStackedBar = false;\r\n                    for (var i = 0; i < categoryPts.length; i++) {\r\n                        var other = categoryPts[i];\r\n                        if (point === other) {\r\n                            break;\r\n                        }\r\n                        var stack = point.series.stack;\r\n                        var otherStack = other.series.stack;\r\n                        if (stack && otherStack) {\r\n                            if (typeof stack === STRING && stack !== otherStack) {\r\n                                continue;\r\n                            }\r\n                            if (stack.group && stack.group !== otherStack.group) {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        var otherValue = this.plotValue(other);\r\n                        if (otherValue >= 0 && positive || otherValue < 0 && !positive) {\r\n                            prevValue += otherValue;\r\n                            plotValue += otherValue;\r\n                            isStackedBar = true;\r\n                            if (this.options.isStacked100) {\r\n                                plotValue = math.min(plotValue, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isStackedBar) {\r\n                        prevValue -= startValue;\r\n                    }\r\n                    return [\r\n                        prevValue,\r\n                        plotValue\r\n                    ];\r\n                }\r\n                var series = point.series;\r\n                var valueAxis = this.seriesValueAxis(series);\r\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\r\n                return [\r\n                    axisCrossingValue,\r\n                    point.value || axisCrossingValue\r\n                ];\r\n            },\r\n            stackLimits: function (axisName, stackName) {\r\n                var min = MAX_VALUE;\r\n                var max = MIN_VALUE;\r\n                for (var i = 0; i < this.categoryPoints.length; i++) {\r\n                    var categoryPts = this.categoryPoints[i];\r\n                    if (!categoryPts) {\r\n                        continue;\r\n                    }\r\n                    for (var pIx = 0; pIx < categoryPts.length; pIx++) {\r\n                        var point = categoryPts[pIx];\r\n                        if (point) {\r\n                            if (point.series.stack === stackName || point.series.axis === axisName) {\r\n                                var to = this.plotRange(point, 0)[1];\r\n                                if (defined(to) && isFinite(to)) {\r\n                                    max = math.max(max, to);\r\n                                    min = math.min(min, to);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return {\r\n                    min: min,\r\n                    max: max\r\n                };\r\n            },\r\n            updateStackRange: function () {\r\n                var chart = this;\r\n                var chartSeries = chart.options.series;\r\n                var isStacked = chart.options.isStacked;\r\n                var limits;\r\n                var limitsCache = {};\r\n                if (isStacked) {\r\n                    for (var i = 0; i < chartSeries.length; i++) {\r\n                        var series = chartSeries[i];\r\n                        var axisName = series.axis;\r\n                        var key = axisName + series.stack;\r\n                        limits = limitsCache[key];\r\n                        if (!limits) {\r\n                            limits = chart.stackLimits(axisName, series.stack);\r\n                            var errorTotals = chart.errorTotals;\r\n                            if (errorTotals) {\r\n                                if (errorTotals.negative.length) {\r\n                                    limits.min = math.min(limits.min, sparseArrayMin(errorTotals.negative));\r\n                                }\r\n                                if (errorTotals.positive.length) {\r\n                                    limits.max = math.max(limits.max, sparseArrayMax(errorTotals.positive));\r\n                                }\r\n                            }\r\n                            if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {\r\n                                limitsCache[key] = limits;\r\n                            } else {\r\n                                limits = null;\r\n                            }\r\n                        }\r\n                        if (limits) {\r\n                            chart.valueAxisRanges[axisName] = limits;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            addErrorBar: function (point, data, categoryIx) {\r\n                var chart = this, value = point.value, series = point.series, seriesIx = point.seriesIx, errorBars = point.options.errorBars, errorRange, lowValue = data.fields[ERROR_LOW_FIELD], highValue = data.fields[ERROR_HIGH_FIELD];\r\n                if (isNumber(lowValue) && isNumber(highValue)) {\r\n                    errorRange = {\r\n                        low: lowValue,\r\n                        high: highValue\r\n                    };\r\n                } else if (errorBars && defined(errorBars.value)) {\r\n                    chart.seriesErrorRanges = chart.seriesErrorRanges || [];\r\n                    chart.seriesErrorRanges[seriesIx] = chart.seriesErrorRanges[seriesIx] || new ErrorRangeCalculator(errorBars.value, series, VALUE);\r\n                    errorRange = chart.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);\r\n                }\r\n                if (errorRange) {\r\n                    point.low = errorRange.low;\r\n                    point.high = errorRange.high;\r\n                    chart.addPointErrorBar(point, categoryIx);\r\n                }\r\n            },\r\n            addPointErrorBar: function (point, categoryIx) {\r\n                var chart = this, series = point.series, low = point.low, high = point.high, isVertical = !chart.options.invertAxes, options = point.options.errorBars, errorBar, stackedErrorRange;\r\n                if (chart.options.isStacked) {\r\n                    stackedErrorRange = chart.stackedErrorRange(point, categoryIx);\r\n                    low = stackedErrorRange.low;\r\n                    high = stackedErrorRange.high;\r\n                } else {\r\n                    var fields = {\r\n                        categoryIx: categoryIx,\r\n                        series: series\r\n                    };\r\n                    chart.updateRange({ value: low }, fields);\r\n                    chart.updateRange({ value: high }, fields);\r\n                }\r\n                errorBar = new CategoricalErrorBar(low, high, isVertical, chart, series, options);\r\n                point.errorBars = [errorBar];\r\n                point.append(errorBar);\r\n            },\r\n            stackedErrorRange: function (point, categoryIx) {\r\n                var chart = this, plotValue = chart.plotRange(point, 0)[1] - point.value, low = point.low + plotValue, high = point.high + plotValue;\r\n                chart.errorTotals = chart.errorTotals || {\r\n                    positive: [],\r\n                    negative: []\r\n                };\r\n                if (low < 0) {\r\n                    chart.errorTotals.negative[categoryIx] = math.min(chart.errorTotals.negative[categoryIx] || 0, low);\r\n                }\r\n                if (high > 0) {\r\n                    chart.errorTotals.positive[categoryIx] = math.max(chart.errorTotals.positive[categoryIx] || 0, high);\r\n                }\r\n                return {\r\n                    low: low,\r\n                    high: high\r\n                };\r\n            },\r\n            addValue: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var categoryPoints = chart.categoryPoints[categoryIx];\r\n                if (!categoryPoints) {\r\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\r\n                }\r\n                var seriesPoints = chart.seriesPoints[seriesIx];\r\n                if (!seriesPoints) {\r\n                    chart.seriesPoints[seriesIx] = seriesPoints = [];\r\n                }\r\n                var point = chart.createPoint(data, fields);\r\n                if (point) {\r\n                    $.extend(point, fields);\r\n                    point.owner = chart;\r\n                    point.dataItem = series.data[categoryIx];\r\n                    point.noteText = data.fields.noteText;\r\n                    chart.addErrorBar(point, data, categoryIx);\r\n                }\r\n                chart.points.push(point);\r\n                seriesPoints.push(point);\r\n                categoryPoints.push(point);\r\n                chart.updateRange(data.valueFields, fields);\r\n            },\r\n            evalPointOptions: function (options, value, category, categoryIx, series, seriesIx) {\r\n                var state = {\r\n                    defaults: series._defaults,\r\n                    excluded: [\r\n                        'data',\r\n                        'aggregate',\r\n                        '_events',\r\n                        'tooltip',\r\n                        'template',\r\n                        'visual',\r\n                        'toggle',\r\n                        '_outOfRangeMinPoint',\r\n                        '_outOfRangeMaxPoint'\r\n                    ]\r\n                };\r\n                var doEval = this._evalSeries[seriesIx];\r\n                if (!defined(doEval)) {\r\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\r\n                }\r\n                if (doEval) {\r\n                    options = deepExtend({}, options);\r\n                    evalOptions(options, {\r\n                        value: value,\r\n                        category: category,\r\n                        index: categoryIx,\r\n                        series: series,\r\n                        dataItem: series.data[categoryIx]\r\n                    }, state);\r\n                }\r\n                return options;\r\n            },\r\n            updateRange: function (data, fields) {\r\n                var chart = this, axisName = fields.series.axis, value = data.value, axisRange = chart.valueAxisRanges[axisName];\r\n                if (isFinite(value) && value !== null) {\r\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    axisRange.min = math.min(axisRange.min, value);\r\n                    axisRange.max = math.max(axisRange.max, value);\r\n                }\r\n            },\r\n            seriesValueAxis: function (series) {\r\n                var plotArea = this.plotArea, axisName = series.axis, axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;\r\n                if (!axis) {\r\n                    throw new Error('Unable to locate value axis with name ' + axisName);\r\n                }\r\n                return axis;\r\n            },\r\n            reflow: function (targetBox) {\r\n                var chart = this, pointIx = 0, categorySlots = chart.categorySlots = [], chartPoints = chart.points, categoryAxis = chart.categoryAxis, value, valueAxis, point;\r\n                chart.traverseDataPoints(function (data, fields) {\r\n                    var categoryIx = fields.categoryIx;\r\n                    var currentSeries = fields.series;\r\n                    value = chart.pointValue(data);\r\n                    valueAxis = chart.seriesValueAxis(currentSeries);\r\n                    point = chartPoints[pointIx++];\r\n                    var categorySlot = categorySlots[categoryIx];\r\n                    if (!categorySlot) {\r\n                        categorySlots[categoryIx] = categorySlot = chart.categorySlot(categoryAxis, categoryIx, valueAxis);\r\n                    }\r\n                    if (point) {\r\n                        var plotRange = chart.plotRange(point, valueAxis.startValue());\r\n                        var valueSlot = valueAxis.getSlot(plotRange[0], plotRange[1], !chart.options.clip);\r\n                        if (valueSlot) {\r\n                            var pointSlot = chart.pointSlot(categorySlot, valueSlot);\r\n                            point.aboveAxis = chart.aboveAxis(point, valueAxis);\r\n                            if (chart.options.isStacked100) {\r\n                                point.percentage = chart.plotValue(point);\r\n                            }\r\n                            chart.reflowPoint(point, pointSlot);\r\n                        } else {\r\n                            point.visible = false;\r\n                        }\r\n                    }\r\n                });\r\n                chart.reflowCategories(categorySlots);\r\n                chart.box = targetBox;\r\n            },\r\n            aboveAxis: function (point, valueAxis) {\r\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\r\n                var value = point.value;\r\n                return valueAxis.options.reverse ? value < axisCrossingValue : value >= axisCrossingValue;\r\n            },\r\n            categoryAxisCrossingValue: function (valueAxis) {\r\n                var categoryAxis = this.categoryAxis, options = valueAxis.options, crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue);\r\n                return crossingValues[categoryAxis.axisIndex || 0] || 0;\r\n            },\r\n            reflowPoint: function (point, pointSlot) {\r\n                point.reflow(pointSlot);\r\n            },\r\n            reflowCategories: function () {\r\n            },\r\n            pointSlot: function (categorySlot, valueSlot) {\r\n                var chart = this, options = chart.options, invertAxes = options.invertAxes, slotX = invertAxes ? valueSlot : categorySlot, slotY = invertAxes ? categorySlot : valueSlot;\r\n                return new Box2D(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\r\n            },\r\n            categorySlot: function (categoryAxis, categoryIx) {\r\n                return categoryAxis.getSlot(categoryIx);\r\n            },\r\n            traverseDataPoints: function (callback) {\r\n                var chart = this, options = chart.options, series = options.series, categories = chart.categoryAxis.options.categories || [], count = categoriesCount(series), categoryIx, seriesIx, pointData, currentCategory, currentSeries, seriesCount = series.length;\r\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\r\n                    this._outOfRangeCallback(series[seriesIx], '_outOfRangeMinPoint', seriesIx, callback);\r\n                }\r\n                for (categoryIx = 0; categoryIx < count; categoryIx++) {\r\n                    for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\r\n                        currentSeries = series[seriesIx];\r\n                        currentCategory = categories[categoryIx];\r\n                        pointData = this._bindPoint(currentSeries, seriesIx, categoryIx);\r\n                        callback(pointData, {\r\n                            category: currentCategory,\r\n                            categoryIx: categoryIx,\r\n                            series: currentSeries,\r\n                            seriesIx: seriesIx\r\n                        });\r\n                    }\r\n                }\r\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\r\n                    this._outOfRangeCallback(series[seriesIx], '_outOfRangeMaxPoint', seriesIx, callback);\r\n                }\r\n            },\r\n            _outOfRangeCallback: function (series, field, seriesIx, callback) {\r\n                var outOfRangePoint = series[field];\r\n                if (outOfRangePoint) {\r\n                    var categoryIx = outOfRangePoint.categoryIx;\r\n                    var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);\r\n                    callback(pointData, {\r\n                        category: outOfRangePoint.category,\r\n                        categoryIx: categoryIx,\r\n                        series: series,\r\n                        seriesIx: seriesIx\r\n                    });\r\n                }\r\n            },\r\n            _bindPoint: function (series, seriesIx, categoryIx, item) {\r\n                if (!this._bindCache) {\r\n                    this._bindCache = [];\r\n                }\r\n                var bindCache = this._bindCache[seriesIx];\r\n                if (!bindCache) {\r\n                    bindCache = this._bindCache[seriesIx] = [];\r\n                }\r\n                var data = bindCache[categoryIx];\r\n                if (!data) {\r\n                    data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);\r\n                }\r\n                return data;\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                if (point.value === null) {\r\n                    return '';\r\n                }\r\n                return autoFormat(format, point.value);\r\n            },\r\n            pointValue: function (data) {\r\n                return data.valueFields.value;\r\n            }\r\n        });\r\n        var BarChart = CategoricalChart.extend({\r\n            options: { animation: { type: BAR } },\r\n            render: function () {\r\n                var chart = this;\r\n                CategoricalChart.fn.render.apply(chart);\r\n                chart.updateStackRange();\r\n            },\r\n            pointType: function () {\r\n                return Bar;\r\n            },\r\n            clusterType: function () {\r\n                return ClusterLayout;\r\n            },\r\n            stackType: function () {\r\n                return StackWrap;\r\n            },\r\n            stackLimits: function (axisName, stackName) {\r\n                var limits = CategoricalChart.fn.stackLimits.call(this, axisName, stackName);\r\n                return limits;\r\n            },\r\n            createPoint: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var value = chart.pointValue(data);\r\n                var options = chart.options;\r\n                var children = chart.children;\r\n                var isStacked = chart.options.isStacked;\r\n                var point;\r\n                var pointType = chart.pointType();\r\n                var pointOptions;\r\n                var cluster;\r\n                var clusterType = chart.clusterType();\r\n                pointOptions = this.pointOptions(series, seriesIx);\r\n                var labelOptions = pointOptions.labels;\r\n                if (isStacked) {\r\n                    if (labelOptions.position == OUTSIDE_END) {\r\n                        labelOptions.position = INSIDE_END;\r\n                    }\r\n                }\r\n                pointOptions.isStacked = isStacked;\r\n                var color = data.fields.color || series.color;\r\n                if (value < 0 && pointOptions.negativeColor) {\r\n                    color = pointOptions.negativeColor;\r\n                }\r\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = pointOptions.color;\r\n                }\r\n                point = new pointType(value, pointOptions);\r\n                point.color = color;\r\n                cluster = children[categoryIx];\r\n                if (!cluster) {\r\n                    cluster = new clusterType({\r\n                        vertical: options.invertAxes,\r\n                        gap: options.gap,\r\n                        spacing: options.spacing\r\n                    });\r\n                    chart.append(cluster);\r\n                }\r\n                if (isStacked) {\r\n                    var stackWrap = chart.getStackWrap(series, cluster);\r\n                    stackWrap.append(point);\r\n                } else {\r\n                    cluster.append(point);\r\n                }\r\n                return point;\r\n            },\r\n            getStackWrap: function (series, cluster) {\r\n                var stack = series.stack;\r\n                var stackGroup = stack ? stack.group || stack : stack;\r\n                var wraps = cluster.children;\r\n                var stackWrap;\r\n                if (typeof stackGroup === STRING) {\r\n                    for (var i = 0; i < wraps.length; i++) {\r\n                        if (wraps[i]._stackGroup === stackGroup) {\r\n                            stackWrap = wraps[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    stackWrap = wraps[0];\r\n                }\r\n                if (!stackWrap) {\r\n                    var stackType = this.stackType();\r\n                    stackWrap = new stackType({ vertical: !this.options.invertAxes });\r\n                    stackWrap._stackGroup = stackGroup;\r\n                    cluster.append(stackWrap);\r\n                }\r\n                return stackWrap;\r\n            },\r\n            categorySlot: function (categoryAxis, categoryIx, valueAxis) {\r\n                var chart = this, options = chart.options, categorySlot = categoryAxis.getSlot(categoryIx), startValue = valueAxis.startValue(), stackAxis, zeroSlot;\r\n                if (options.isStacked) {\r\n                    zeroSlot = valueAxis.getSlot(startValue, startValue, true);\r\n                    stackAxis = options.invertAxes ? X : Y;\r\n                    categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];\r\n                }\r\n                return categorySlot;\r\n            },\r\n            reflowCategories: function (categorySlots) {\r\n                var chart = this, children = chart.children, childrenLength = children.length, i;\r\n                for (i = 0; i < childrenLength; i++) {\r\n                    children[i].reflow(categorySlots[i]);\r\n                }\r\n            },\r\n            createAnimation: function () {\r\n                this._setAnimationOptions();\r\n                ChartElement.fn.createAnimation.call(this);\r\n                if (anyHasZIndex(this.options.series)) {\r\n                    this._setChildrenAnimation();\r\n                }\r\n            },\r\n            _setChildrenAnimation: function () {\r\n                var points = this.points;\r\n                var point, pointVisual;\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    point = points[idx];\r\n                    pointVisual = point.visual;\r\n                    if (pointVisual && defined(pointVisual.options.zIndex)) {\r\n                        point.options.animation = this.options.animation;\r\n                        point.createAnimation();\r\n                    }\r\n                }\r\n            },\r\n            _setAnimationOptions: function () {\r\n                var options = this.options;\r\n                var animation = options.animation || {};\r\n                var origin;\r\n                if (this.options.isStacked) {\r\n                    var valueAxis = this.seriesValueAxis(options.series[0]);\r\n                    origin = valueAxis.getSlot(valueAxis.startValue());\r\n                } else {\r\n                    origin = this.categoryAxis.getSlot(0);\r\n                }\r\n                animation.origin = new geom.Point(origin.x1, origin.y1);\r\n                animation.vertical = !options.invertAxes;\r\n            }\r\n        });\r\n        var RangeBar = Bar.extend({\r\n            defaults: {\r\n                labels: { format: '{0} - {1}' },\r\n                tooltip: { format: '{1}' }\r\n            },\r\n            createLabel: function () {\r\n                var labels = this.options.labels;\r\n                var fromOptions = deepExtend({}, labels, labels.from);\r\n                var toOptions = deepExtend({}, labels, labels.to);\r\n                if (fromOptions.visible) {\r\n                    this.labelFrom = this._createLabel(fromOptions);\r\n                    this.append(this.labelFrom);\r\n                }\r\n                if (toOptions.visible) {\r\n                    this.labelTo = this._createLabel(toOptions);\r\n                    this.append(this.labelTo);\r\n                }\r\n            },\r\n            _createLabel: function (options) {\r\n                var labelText;\r\n                if (options.template) {\r\n                    var labelTemplate = template(options.template);\r\n                    labelText = labelTemplate({\r\n                        dataItem: this.dataItem,\r\n                        category: this.category,\r\n                        value: this.value,\r\n                        percentage: this.percentage,\r\n                        runningTotal: this.runningTotal,\r\n                        total: this.total,\r\n                        series: this.series\r\n                    });\r\n                } else {\r\n                    labelText = this.formatValue(options.format);\r\n                }\r\n                return new BarLabel(labelText, deepExtend({ vertical: this.options.vertical }, options));\r\n            },\r\n            reflow: function (targetBox) {\r\n                this.render();\r\n                var rangeBar = this, labelFrom = rangeBar.labelFrom, labelTo = rangeBar.labelTo;\r\n                rangeBar.box = targetBox;\r\n                if (labelFrom) {\r\n                    labelFrom.options.aboveAxis = rangeBar.value.from > rangeBar.value.to;\r\n                    labelFrom.reflow(targetBox);\r\n                }\r\n                if (labelTo) {\r\n                    labelTo.options.aboveAxis = rangeBar.value.to > rangeBar.value.from;\r\n                    labelTo.reflow(targetBox);\r\n                }\r\n                if (rangeBar.note) {\r\n                    rangeBar.note.reflow(targetBox);\r\n                }\r\n            }\r\n        });\r\n        var RangeBarChart = BarChart.extend({\r\n            pointType: function () {\r\n                return RangeBar;\r\n            },\r\n            pointValue: function (data) {\r\n                return data.valueFields;\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                if (point.value.from === null && point.value.to === null) {\r\n                    return '';\r\n                }\r\n                return autoFormat(format, point.value.from, point.value.to);\r\n            },\r\n            plotLimits: CategoricalChart.fn.plotLimits,\r\n            plotRange: function (point) {\r\n                if (!point) {\r\n                    return 0;\r\n                }\r\n                return [\r\n                    point.value.from,\r\n                    point.value.to\r\n                ];\r\n            },\r\n            updateRange: function (value, fields) {\r\n                var chart = this, axisName = fields.series.axis, from = value.from, to = value.to, axisRange = chart.valueAxisRanges[axisName];\r\n                if (value !== null && isNumber(from) && isNumber(to)) {\r\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    axisRange.min = math.min(axisRange.min, from);\r\n                    axisRange.max = math.max(axisRange.max, from);\r\n                    axisRange.min = math.min(axisRange.min, to);\r\n                    axisRange.max = math.max(axisRange.max, to);\r\n                }\r\n            },\r\n            aboveAxis: function (point) {\r\n                var value = point.value;\r\n                return value.from < value.to;\r\n            }\r\n        });\r\n        var BulletChart = CategoricalChart.extend({\r\n            init: function (plotArea, options) {\r\n                var chart = this;\r\n                chart.wrapData(options);\r\n                CategoricalChart.fn.init.call(chart, plotArea, options);\r\n            },\r\n            options: { animation: { type: BAR } },\r\n            wrapData: function (options) {\r\n                var series = options.series, i, data, seriesItem;\r\n                for (i = 0; i < series.length; i++) {\r\n                    seriesItem = series[i];\r\n                    data = seriesItem.data;\r\n                    if (data && !isArray(data[0]) && typeof data[0] != OBJECT) {\r\n                        seriesItem.data = [data];\r\n                    }\r\n                }\r\n            },\r\n            reflowCategories: function (categorySlots) {\r\n                var chart = this, children = chart.children, childrenLength = children.length, i;\r\n                for (i = 0; i < childrenLength; i++) {\r\n                    children[i].reflow(categorySlots[i]);\r\n                }\r\n            },\r\n            plotRange: function (point) {\r\n                var series = point.series;\r\n                var valueAxis = this.seriesValueAxis(series);\r\n                var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\r\n                return [\r\n                    axisCrossingValue,\r\n                    point.value.current || axisCrossingValue\r\n                ];\r\n            },\r\n            createPoint: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var value = data.valueFields;\r\n                var options = chart.options;\r\n                var children = chart.children;\r\n                var bullet;\r\n                var bulletOptions;\r\n                var cluster;\r\n                bulletOptions = deepExtend({\r\n                    vertical: !options.invertAxes,\r\n                    overlay: series.overlay,\r\n                    categoryIx: categoryIx,\r\n                    invertAxes: options.invertAxes\r\n                }, series);\r\n                var color = data.fields.color || series.color;\r\n                bulletOptions = chart.evalPointOptions(bulletOptions, value, category, categoryIx, series, seriesIx);\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = bulletOptions.color;\r\n                }\r\n                bullet = new Bullet(value, bulletOptions);\r\n                bullet.color = color;\r\n                cluster = children[categoryIx];\r\n                if (!cluster) {\r\n                    cluster = new ClusterLayout({\r\n                        vertical: options.invertAxes,\r\n                        gap: options.gap,\r\n                        spacing: options.spacing\r\n                    });\r\n                    chart.append(cluster);\r\n                }\r\n                cluster.append(bullet);\r\n                return bullet;\r\n            },\r\n            updateRange: function (value, fields) {\r\n                var chart = this, axisName = fields.series.axis, current = value.current, target = value.target, axisRange = chart.valueAxisRanges[axisName];\r\n                if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\r\n                    axisRange = chart.valueAxisRanges[axisName] = axisRange || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    axisRange.min = math.min.apply(math, [\r\n                        axisRange.min,\r\n                        current,\r\n                        target\r\n                    ]);\r\n                    axisRange.max = math.max.apply(math, [\r\n                        axisRange.max,\r\n                        current,\r\n                        target\r\n                    ]);\r\n                }\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                return autoFormat(format, point.value.current, point.value.target);\r\n            },\r\n            pointValue: function (data) {\r\n                return data.valueFields.current;\r\n            },\r\n            aboveAxis: function (point) {\r\n                var value = point.value.current;\r\n                return value > 0;\r\n            },\r\n            createAnimation: function () {\r\n                var points = this.points;\r\n                var point;\r\n                this._setAnimationOptions();\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    point = points[idx];\r\n                    point.options.animation = this.options.animation;\r\n                    point.createAnimation();\r\n                }\r\n            },\r\n            _setAnimationOptions: BarChart.fn._setAnimationOptions\r\n        });\r\n        var Bullet = ChartElement.extend({\r\n            init: function (value, options) {\r\n                var bullet = this;\r\n                ChartElement.fn.init.call(bullet, options);\r\n                bullet.aboveAxis = bullet.options.aboveAxis;\r\n                bullet.color = options.color || WHITE;\r\n                bullet.value = value;\r\n            },\r\n            options: {\r\n                border: { width: 1 },\r\n                vertical: false,\r\n                opacity: 1,\r\n                target: {\r\n                    shape: '',\r\n                    border: {\r\n                        width: 0,\r\n                        color: 'green'\r\n                    },\r\n                    line: { width: 2 }\r\n                },\r\n                tooltip: { format: 'Current: {0}</br>Target: {1}' }\r\n            },\r\n            render: function () {\r\n                var bullet = this, options = bullet.options;\r\n                if (!bullet._rendered) {\r\n                    bullet._rendered = true;\r\n                    if (defined(bullet.value.target)) {\r\n                        bullet.target = new Target({\r\n                            type: options.target.shape,\r\n                            background: options.target.color || bullet.color,\r\n                            opacity: options.opacity,\r\n                            zIndex: options.zIndex,\r\n                            border: options.target.border,\r\n                            vAlign: TOP,\r\n                            align: RIGHT\r\n                        });\r\n                        bullet.target.value = this.value;\r\n                        bullet.target.dataItem = this.dataItem;\r\n                        bullet.target.series = this.series;\r\n                        bullet.append(bullet.target);\r\n                    }\r\n                    bullet.createNote();\r\n                }\r\n            },\r\n            reflow: function (box) {\r\n                this.render();\r\n                var bullet = this, options = bullet.options, chart = bullet.owner, target = bullet.target, invertAxes = options.invertAxes, valueAxis = chart.seriesValueAxis(bullet.options), categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis), targetValueSlot = valueAxis.getSlot(bullet.value.target), targetSlotX = invertAxes ? targetValueSlot : categorySlot, targetSlotY = invertAxes ? categorySlot : targetValueSlot, targetSlot;\r\n                if (target) {\r\n                    targetSlot = new Box2D(targetSlotX.x1, targetSlotY.y1, targetSlotX.x2, targetSlotY.y2);\r\n                    target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\r\n                    target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\r\n                    target.reflow(targetSlot);\r\n                }\r\n                if (bullet.note) {\r\n                    bullet.note.reflow(box);\r\n                }\r\n                bullet.box = box;\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                var options = this.options;\r\n                var body = draw.Path.fromRect(this.box.toRect(), {\r\n                    fill: {\r\n                        color: this.color,\r\n                        opacity: options.opacity\r\n                    },\r\n                    stroke: null\r\n                });\r\n                if (options.border.width > 0) {\r\n                    body.options.set('stroke', {\r\n                        color: options.border.color || this.color,\r\n                        width: options.border.width,\r\n                        dashType: options.border.dashType,\r\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\r\n                    });\r\n                }\r\n                this.bodyVisual = body;\r\n                alignPathToPixel(body);\r\n                this.visual.append(body);\r\n            },\r\n            createAnimation: function () {\r\n                if (this.bodyVisual) {\r\n                    this.animation = draw.Animation.create(this.bodyVisual, this.options.animation);\r\n                }\r\n            },\r\n            tooltipAnchor: Bar.fn.tooltipAnchor,\r\n            createHighlight: function (style) {\r\n                return draw.Path.fromRect(this.box.toRect(), style);\r\n            },\r\n            highlightVisual: function () {\r\n                return this.bodyVisual;\r\n            },\r\n            highlightVisualArgs: function () {\r\n                return {\r\n                    rect: this.box.toRect(),\r\n                    visual: this.bodyVisual,\r\n                    options: this.options\r\n                };\r\n            },\r\n            formatValue: function (format) {\r\n                var bullet = this;\r\n                return bullet.owner.formatPointValue(bullet, format);\r\n            }\r\n        });\r\n        deepExtend(Bullet.fn, PointEventsMixin);\r\n        deepExtend(Bullet.fn, NoteMixin);\r\n        var Target = ShapeElement.extend();\r\n        deepExtend(Target.fn, PointEventsMixin);\r\n        var ErrorBarBase = ChartElement.extend({\r\n            init: function (low, high, isVertical, chart, series, options) {\r\n                var errorBar = this;\r\n                errorBar.low = low;\r\n                errorBar.high = high;\r\n                errorBar.isVertical = isVertical;\r\n                errorBar.chart = chart;\r\n                errorBar.series = series;\r\n                ChartElement.fn.init.call(errorBar, options);\r\n            },\r\n            options: {\r\n                animation: {\r\n                    type: FADEIN,\r\n                    delay: INITIAL_ANIMATION_DURATION\r\n                },\r\n                endCaps: true,\r\n                line: { width: 1 },\r\n                zIndex: 1\r\n            },\r\n            getAxis: function () {\r\n            },\r\n            reflow: function (targetBox) {\r\n                var linePoints, errorBar = this, endCaps = errorBar.options.endCaps, isVertical = errorBar.isVertical, axis = errorBar.getAxis(), valueBox = axis.getSlot(errorBar.low, errorBar.high), centerBox = targetBox.center(), capsWidth = errorBar.getCapsWidth(targetBox, isVertical), capValue = isVertical ? centerBox.x : centerBox.y, capStart = capValue - capsWidth, capEnd = capValue + capsWidth;\r\n                if (isVertical) {\r\n                    linePoints = [\r\n                        Point2D(centerBox.x, valueBox.y1),\r\n                        Point2D(centerBox.x, valueBox.y2)\r\n                    ];\r\n                    if (endCaps) {\r\n                        linePoints.push(Point2D(capStart, valueBox.y1), Point2D(capEnd, valueBox.y1), Point2D(capStart, valueBox.y2), Point2D(capEnd, valueBox.y2));\r\n                    }\r\n                    errorBar.box = Box2D(capStart, valueBox.y1, capEnd, valueBox.y2);\r\n                } else {\r\n                    linePoints = [\r\n                        Point2D(valueBox.x1, centerBox.y),\r\n                        Point2D(valueBox.x2, centerBox.y)\r\n                    ];\r\n                    if (endCaps) {\r\n                        linePoints.push(Point2D(valueBox.x1, capStart), Point2D(valueBox.x1, capEnd), Point2D(valueBox.x2, capStart), Point2D(valueBox.x2, capEnd));\r\n                    }\r\n                    errorBar.box = Box2D(valueBox.x1, capStart, valueBox.x2, capEnd);\r\n                }\r\n                errorBar.linePoints = linePoints;\r\n            },\r\n            getCapsWidth: function (box, isVertical) {\r\n                var boxSize = isVertical ? box.width() : box.height(), capsWidth = math.min(math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;\r\n                return capsWidth;\r\n            },\r\n            createVisual: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var visual = options.visual;\r\n                if (visual) {\r\n                    that.visual = visual({\r\n                        low: that.low,\r\n                        high: that.high,\r\n                        rect: that.box.toRect(),\r\n                        sender: that.getChart(),\r\n                        options: {\r\n                            endCaps: options.endCaps,\r\n                            color: options.color,\r\n                            line: options.line\r\n                        },\r\n                        createVisual: function () {\r\n                            that.createDefaultVisual();\r\n                            var defaultVisual = that.visual;\r\n                            delete that.visual;\r\n                            return defaultVisual;\r\n                        }\r\n                    });\r\n                } else {\r\n                    that.createDefaultVisual();\r\n                }\r\n            },\r\n            createDefaultVisual: function () {\r\n                var errorBar = this, options = errorBar.options, lineOptions = {\r\n                        stroke: {\r\n                            color: options.color,\r\n                            width: options.line.width,\r\n                            dashType: options.line.dashType\r\n                        }\r\n                    }, linePoints = errorBar.linePoints;\r\n                ChartElement.fn.createVisual.call(this);\r\n                for (var idx = 0; idx < linePoints.length; idx += 2) {\r\n                    var line = new draw.Path(lineOptions).moveTo(linePoints[idx].x, linePoints[idx].y).lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);\r\n                    this.visual.append(line);\r\n                }\r\n            }\r\n        });\r\n        var CategoricalErrorBar = ErrorBarBase.extend({\r\n            getAxis: function () {\r\n                var errorBar = this, chart = errorBar.chart, series = errorBar.series, axis = chart.seriesValueAxis(series);\r\n                return axis;\r\n            }\r\n        });\r\n        var ScatterErrorBar = ErrorBarBase.extend({\r\n            getAxis: function () {\r\n                var errorBar = this, chart = errorBar.chart, series = errorBar.series, axes = chart.seriesAxes(series), axis = errorBar.isVertical ? axes.y : axes.x;\r\n                return axis;\r\n            }\r\n        });\r\n        var LinePoint = ChartElement.extend({\r\n            init: function (value, options) {\r\n                var point = this;\r\n                ChartElement.fn.init.call(point);\r\n                point.value = value;\r\n                point.options = options;\r\n                point.aboveAxis = valueOrDefault(point.options.aboveAxis, true);\r\n                point.tooltipTracking = true;\r\n            },\r\n            defaults: {\r\n                vertical: true,\r\n                markers: {\r\n                    visible: true,\r\n                    background: WHITE,\r\n                    size: LINE_MARKER_SIZE,\r\n                    type: CIRCLE,\r\n                    border: { width: 2 },\r\n                    opacity: 1\r\n                },\r\n                labels: {\r\n                    visible: false,\r\n                    position: ABOVE,\r\n                    margin: getSpacing(3),\r\n                    padding: getSpacing(4),\r\n                    animation: {\r\n                        type: FADEIN,\r\n                        delay: INITIAL_ANIMATION_DURATION\r\n                    }\r\n                },\r\n                notes: { label: {} },\r\n                highlight: { markers: { border: {} } }\r\n            },\r\n            render: function () {\r\n                var point = this, options = point.options, markers = options.markers, labels = options.labels, labelText = point.value;\r\n                if (point._rendered) {\r\n                    return;\r\n                } else {\r\n                    point._rendered = true;\r\n                }\r\n                if (markers.visible && markers.size) {\r\n                    point.marker = point.createMarker();\r\n                    point.append(point.marker);\r\n                }\r\n                if (labels.visible) {\r\n                    if (labels.template) {\r\n                        var labelTemplate = template(labels.template);\r\n                        labelText = labelTemplate({\r\n                            dataItem: point.dataItem,\r\n                            category: point.category,\r\n                            value: point.value,\r\n                            percentage: point.percentage,\r\n                            series: point.series\r\n                        });\r\n                    } else if (labels.format) {\r\n                        labelText = point.formatValue(labels.format);\r\n                    }\r\n                    point.label = new TextBox(labelText, deepExtend({\r\n                        align: CENTER,\r\n                        vAlign: CENTER,\r\n                        margin: {\r\n                            left: 5,\r\n                            right: 5\r\n                        },\r\n                        zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)\r\n                    }, labels));\r\n                    point.append(point.label);\r\n                }\r\n                point.createNote();\r\n                if (point.errorBar) {\r\n                    point.append(point.errorBar);\r\n                }\r\n            },\r\n            markerBorder: function () {\r\n                var options = this.options.markers;\r\n                var background = options.background;\r\n                var border = deepExtend({ color: this.color }, options.border);\r\n                if (!defined(border.color)) {\r\n                    border.color = new Color(background).brightness(BAR_BORDER_BRIGHTNESS).toHex();\r\n                }\r\n                return border;\r\n            },\r\n            createVisual: noop,\r\n            createMarker: function () {\r\n                var options = this.options.markers;\r\n                var marker = new ShapeElement({\r\n                    type: options.type,\r\n                    width: options.size,\r\n                    height: options.size,\r\n                    rotation: options.rotation,\r\n                    background: options.background,\r\n                    border: this.markerBorder(),\r\n                    opacity: options.opacity,\r\n                    zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\r\n                    animation: options.animation,\r\n                    visual: options.visual\r\n                }, {\r\n                    dataItem: this.dataItem,\r\n                    value: this.value,\r\n                    series: this.series,\r\n                    category: this.category\r\n                });\r\n                return marker;\r\n            },\r\n            markerBox: function () {\r\n                if (!this.marker) {\r\n                    this.marker = this.createMarker();\r\n                    this.marker.reflow(this._childBox);\r\n                }\r\n                return this.marker.box;\r\n            },\r\n            reflow: function (targetBox) {\r\n                var point = this, options = point.options, vertical = options.vertical, aboveAxis = point.aboveAxis, childBox, center;\r\n                point.render();\r\n                point.box = targetBox;\r\n                childBox = targetBox.clone();\r\n                if (vertical) {\r\n                    if (aboveAxis) {\r\n                        childBox.y1 -= childBox.height();\r\n                    } else {\r\n                        childBox.y2 += childBox.height();\r\n                    }\r\n                } else {\r\n                    if (aboveAxis) {\r\n                        childBox.x1 += childBox.width();\r\n                    } else {\r\n                        childBox.x2 -= childBox.width();\r\n                    }\r\n                }\r\n                point._childBox = childBox;\r\n                if (point.marker) {\r\n                    point.marker.reflow(childBox);\r\n                }\r\n                point.reflowLabel(childBox);\r\n                if (point.errorBars) {\r\n                    for (var i = 0; i < point.errorBars.length; i++) {\r\n                        point.errorBars[i].reflow(childBox);\r\n                    }\r\n                }\r\n                if (point.note) {\r\n                    var noteTargetBox = point.markerBox();\r\n                    if (!(options.markers.visible && options.markers.size)) {\r\n                        center = noteTargetBox.center();\r\n                        noteTargetBox = Box2D(center.x, center.y, center.x, center.y);\r\n                    }\r\n                    point.note.reflow(noteTargetBox);\r\n                }\r\n            },\r\n            reflowLabel: function (box) {\r\n                var point = this, options = point.options, label = point.label, anchor = options.labels.position;\r\n                if (label) {\r\n                    anchor = anchor === ABOVE ? TOP : anchor;\r\n                    anchor = anchor === BELOW ? BOTTOM : anchor;\r\n                    label.reflow(box);\r\n                    label.box.alignTo(point.markerBox(), anchor);\r\n                    label.reflow(label.box);\r\n                }\r\n            },\r\n            createHighlight: function () {\r\n                var highlight = this.options.highlight;\r\n                var markers = highlight.markers;\r\n                var defaultColor = this.markerBorder().color;\r\n                var options = this.options.markers;\r\n                var shadow = new ShapeElement({\r\n                    type: options.type,\r\n                    width: options.size,\r\n                    height: options.size,\r\n                    rotation: options.rotation,\r\n                    background: markers.color || defaultColor,\r\n                    border: {\r\n                        color: markers.border.color,\r\n                        width: markers.border.width,\r\n                        opacity: valueOrDefault(markers.border.opacity, 1)\r\n                    },\r\n                    opacity: valueOrDefault(markers.opacity, 1)\r\n                });\r\n                shadow.reflow(this._childBox);\r\n                return shadow.getElement();\r\n            },\r\n            highlightVisual: function () {\r\n                return (this.marker || {}).visual;\r\n            },\r\n            highlightVisualArgs: function () {\r\n                var marker = this.marker;\r\n                var visual;\r\n                var rect;\r\n                if (marker) {\r\n                    rect = marker.paddingBox.toRect();\r\n                    visual = marker.visual;\r\n                } else {\r\n                    var size = this.options.markers.size;\r\n                    var halfSize = size / 2;\r\n                    var center = this.box.center();\r\n                    rect = new geom.Rect([\r\n                        center.x - halfSize,\r\n                        center.y - halfSize\r\n                    ], [\r\n                        size,\r\n                        size\r\n                    ]);\r\n                }\r\n                return {\r\n                    options: this.options,\r\n                    rect: rect,\r\n                    visual: visual\r\n                };\r\n            },\r\n            tooltipAnchor: function (tooltipWidth, tooltipHeight) {\r\n                var point = this, markerBox = point.markerBox(), aboveAxis = point.aboveAxis, x = markerBox.x2 + TOOLTIP_OFFSET, y = aboveAxis ? markerBox.y1 - tooltipHeight : markerBox.y2, clipBox = point.owner.pane.clipBox(), showTooltip = !clipBox || clipBox.overlaps(markerBox);\r\n                if (showTooltip) {\r\n                    return Point2D(x, y);\r\n                }\r\n            },\r\n            formatValue: function (format) {\r\n                var point = this;\r\n                return point.owner.formatPointValue(point, format);\r\n            },\r\n            overlapsBox: function (box) {\r\n                var markerBox = this.markerBox();\r\n                return markerBox.overlaps(box);\r\n            }\r\n        });\r\n        deepExtend(LinePoint.fn, PointEventsMixin);\r\n        deepExtend(LinePoint.fn, NoteMixin);\r\n        var Bubble = LinePoint.extend({\r\n            init: function (value, options) {\r\n                var point = this;\r\n                LinePoint.fn.init.call(point, value, options);\r\n                point.category = value.category;\r\n            },\r\n            defaults: {\r\n                labels: { position: CENTER },\r\n                highlight: {\r\n                    opacity: 1,\r\n                    border: {\r\n                        width: 1,\r\n                        opacity: 1\r\n                    }\r\n                }\r\n            },\r\n            createHighlight: function () {\r\n                var highlight = this.options.highlight;\r\n                var border = highlight.border;\r\n                var markers = this.options.markers;\r\n                var center = this.box.center();\r\n                var radius = markers.size / 2 - border.width / 2;\r\n                var overlay = new draw.Circle(new geom.Circle([\r\n                    center.x,\r\n                    center.y\r\n                ], radius), {\r\n                    stroke: {\r\n                        color: border.color || new Color(markers.background).brightness(BAR_BORDER_BRIGHTNESS).toHex(),\r\n                        width: border.width,\r\n                        opacity: border.opacity\r\n                    },\r\n                    fill: {\r\n                        color: markers.background,\r\n                        opacity: highlight.opacity\r\n                    }\r\n                });\r\n                return overlay;\r\n            }\r\n        });\r\n        var LineSegment = ChartElement.extend({\r\n            init: function (linePoints, series, seriesIx) {\r\n                var segment = this;\r\n                ChartElement.fn.init.call(segment);\r\n                segment.linePoints = linePoints;\r\n                segment.series = series;\r\n                segment.seriesIx = seriesIx;\r\n            },\r\n            options: { closed: false },\r\n            points: function (visualPoints) {\r\n                var segment = this, linePoints = segment.linePoints.concat(visualPoints || []), points = [];\r\n                for (var i = 0, length = linePoints.length; i < length; i++) {\r\n                    if (linePoints[i].visible !== false) {\r\n                        points.push(linePoints[i]._childBox.toRect().center());\r\n                    }\r\n                }\r\n                return points;\r\n            },\r\n            createVisual: function () {\r\n                var options = this.options;\r\n                var series = this.series;\r\n                var defaults = series._defaults;\r\n                var color = series.color;\r\n                if (isFn(color) && defaults) {\r\n                    color = defaults.color;\r\n                }\r\n                var line = draw.Path.fromPoints(this.points(), {\r\n                    stroke: {\r\n                        color: color,\r\n                        width: series.width,\r\n                        opacity: series.opacity,\r\n                        dashType: series.dashType\r\n                    },\r\n                    zIndex: series.zIndex\r\n                });\r\n                if (options.closed) {\r\n                    line.close();\r\n                }\r\n                this.visual = line;\r\n            },\r\n            aliasFor: function (e, coords) {\r\n                var segment = this, seriesIx = segment.seriesIx;\r\n                return segment.parent.getNearestPoint(coords.x, coords.y, seriesIx);\r\n            }\r\n        });\r\n        var LineChartMixin = {\r\n            renderSegments: function () {\r\n                var chart = this, options = chart.options, series = options.series, seriesPoints = chart.seriesPoints, currentSeries, seriesIx, seriesCount = seriesPoints.length, sortedPoints, linePoints, point, pointIx, pointCount, lastSegment;\r\n                this._segments = [];\r\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    sortedPoints = chart.sortPoints(seriesPoints[seriesIx]);\r\n                    pointCount = sortedPoints.length;\r\n                    linePoints = [];\r\n                    for (pointIx = 0; pointIx < pointCount; pointIx++) {\r\n                        point = sortedPoints[pointIx];\r\n                        if (point) {\r\n                            linePoints.push(point);\r\n                        } else if (chart.seriesMissingValues(currentSeries) !== INTERPOLATE) {\r\n                            if (linePoints.length > 1) {\r\n                                lastSegment = chart.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\r\n                                this._addSegment(lastSegment);\r\n                            }\r\n                            linePoints = [];\r\n                        }\r\n                    }\r\n                    if (linePoints.length > 1) {\r\n                        lastSegment = chart.createSegment(linePoints, currentSeries, seriesIx, lastSegment);\r\n                        this._addSegment(lastSegment);\r\n                    }\r\n                }\r\n                this.children.unshift.apply(this.children, this._segments);\r\n            },\r\n            _addSegment: function (segment) {\r\n                this._segments.push(segment);\r\n                segment.parent = this;\r\n            },\r\n            sortPoints: function (points) {\r\n                return points;\r\n            },\r\n            seriesMissingValues: function (series) {\r\n                var missingValues = series.missingValues, assumeZero = !missingValues && this.options.isStacked;\r\n                return assumeZero ? ZERO : missingValues || INTERPOLATE;\r\n            },\r\n            getNearestPoint: function (x, y, seriesIx) {\r\n                var target = new Point2D(x, y);\r\n                var allPoints = this.seriesPoints[seriesIx];\r\n                var nearestPointDistance = MAX_VALUE;\r\n                var nearestPoint;\r\n                for (var i = 0; i < allPoints.length; i++) {\r\n                    var point = allPoints[i];\r\n                    if (point && defined(point.value) && point.value !== null && point.visible !== false) {\r\n                        var pointBox = point.box;\r\n                        var pointDistance = pointBox.center().distanceTo(target);\r\n                        if (pointDistance < nearestPointDistance) {\r\n                            nearestPoint = point;\r\n                            nearestPointDistance = pointDistance;\r\n                        }\r\n                    }\r\n                }\r\n                return nearestPoint;\r\n            }\r\n        };\r\n        var ClipAnimationMixin = {\r\n            createAnimation: function () {\r\n                var root = this.getRoot();\r\n                if (root && (root.options || {}).transitions !== false) {\r\n                    var box = root.box;\r\n                    var clipPath = draw.Path.fromRect(box.toRect());\r\n                    this.visual.clip(clipPath);\r\n                    this.animation = new ClipAnimation(clipPath, { box: box });\r\n                    if (anyHasZIndex(this.options.series)) {\r\n                        this._setChildrenAnimation(clipPath);\r\n                    }\r\n                }\r\n            },\r\n            _setChildrenAnimation: function (clipPath) {\r\n                var points = this.animationPoints();\r\n                var point;\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    point = points[idx];\r\n                    if (point && point.visual && defined(point.visual.options.zIndex)) {\r\n                        point.visual.clip(clipPath);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var LineChart = CategoricalChart.extend({\r\n            render: function () {\r\n                var chart = this;\r\n                CategoricalChart.fn.render.apply(chart);\r\n                chart.updateStackRange();\r\n                chart.renderSegments();\r\n            },\r\n            pointType: function () {\r\n                return LinePoint;\r\n            },\r\n            createPoint: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var value = data.valueFields.value;\r\n                var missingValues = chart.seriesMissingValues(series);\r\n                var point;\r\n                var pointOptions;\r\n                if (!defined(value) || value === null) {\r\n                    if (missingValues === ZERO) {\r\n                        value = 0;\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n                pointOptions = this.pointOptions(series, seriesIx);\r\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\r\n                var color = data.fields.color || series.color;\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = pointOptions.color;\r\n                }\r\n                point = new LinePoint(value, pointOptions);\r\n                point.color = color;\r\n                chart.append(point);\r\n                return point;\r\n            },\r\n            plotRange: function (point) {\r\n                var plotValue = this.plotValue(point);\r\n                if (this.options.isStacked) {\r\n                    var categoryIx = point.categoryIx;\r\n                    var categoryPts = this.categoryPoints[categoryIx];\r\n                    for (var i = 0; i < categoryPts.length; i++) {\r\n                        var other = categoryPts[i];\r\n                        if (point === other) {\r\n                            break;\r\n                        }\r\n                        plotValue += this.plotValue(other);\r\n                        if (this.options.isStacked100) {\r\n                            plotValue = math.min(plotValue, 1);\r\n                        }\r\n                    }\r\n                }\r\n                return [\r\n                    plotValue,\r\n                    plotValue\r\n                ];\r\n            },\r\n            createSegment: function (linePoints, currentSeries, seriesIx) {\r\n                var pointType, style = currentSeries.style;\r\n                if (style === STEP) {\r\n                    pointType = StepLineSegment;\r\n                } else if (style === SMOOTH) {\r\n                    pointType = SplineSegment;\r\n                } else {\r\n                    pointType = LineSegment;\r\n                }\r\n                return new pointType(linePoints, currentSeries, seriesIx);\r\n            },\r\n            animationPoints: function () {\r\n                var points = this.points;\r\n                var result = [];\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    result.push((points[idx] || {}).marker);\r\n                }\r\n                return result.concat(this._segments);\r\n            }\r\n        });\r\n        deepExtend(LineChart.fn, LineChartMixin, ClipAnimationMixin);\r\n        var ClipAnimation = draw.Animation.extend({\r\n            options: { duration: INITIAL_ANIMATION_DURATION },\r\n            setup: function () {\r\n                this._setEnd(this.options.box.x1);\r\n            },\r\n            step: function (pos) {\r\n                var box = this.options.box;\r\n                this._setEnd(interpolate(box.x1, box.x2, pos));\r\n            },\r\n            _setEnd: function (x) {\r\n                var element = this.element;\r\n                var segments = element.segments;\r\n                var topRight = segments[1].anchor();\r\n                var bottomRight = segments[2].anchor();\r\n                element.suspend();\r\n                topRight.setX(x);\r\n                element.resume();\r\n                bottomRight.setX(x);\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(CLIP, ClipAnimation);\r\n        var StepLineSegment = LineSegment.extend({\r\n            points: function (visualPoints) {\r\n                var segment = this, points;\r\n                points = segment.calculateStepPoints(segment.linePoints);\r\n                if (visualPoints && visualPoints.length) {\r\n                    points = points.concat(segment.calculateStepPoints(visualPoints).reverse());\r\n                }\r\n                return points;\r\n            },\r\n            calculateStepPoints: function (points) {\r\n                var segment = this, chart = segment.parent, plotArea = chart.plotArea, categoryAxis = plotArea.seriesCategoryAxis(segment.series), isInterpolate = chart.seriesMissingValues(segment.series) === INTERPOLATE, length = points.length, reverse = categoryAxis.options.reverse, vertical = categoryAxis.options.vertical, dir = reverse ? 2 : 1, revDir = reverse ? 1 : 2, prevPoint, point, i, prevMarkerBoxCenter, markerBoxCenter, result = [];\r\n                for (i = 1; i < length; i++) {\r\n                    prevPoint = points[i - 1];\r\n                    point = points[i];\r\n                    prevMarkerBoxCenter = prevPoint.markerBox().center();\r\n                    markerBoxCenter = point.markerBox().center();\r\n                    if (categoryAxis.options.justified) {\r\n                        result.push(new geom.Point(prevMarkerBoxCenter.x, prevMarkerBoxCenter.y));\r\n                        if (vertical) {\r\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, markerBoxCenter.y));\r\n                        } else {\r\n                            result.push(new geom.Point(markerBoxCenter.x, prevMarkerBoxCenter.y));\r\n                        }\r\n                        result.push(new geom.Point(markerBoxCenter.x, markerBoxCenter.y));\r\n                    } else {\r\n                        if (vertical) {\r\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, prevPoint.box[Y + dir]));\r\n                            result.push(new geom.Point(prevMarkerBoxCenter.x, prevPoint.box[Y + revDir]));\r\n                            if (isInterpolate) {\r\n                                result.push(new geom.Point(prevMarkerBoxCenter.x, point.box[Y + dir]));\r\n                            }\r\n                            result.push(new geom.Point(markerBoxCenter.x, point.box[Y + dir]));\r\n                            result.push(new geom.Point(markerBoxCenter.x, point.box[Y + revDir]));\r\n                        } else {\r\n                            result.push(new geom.Point(prevPoint.box[X + dir], prevMarkerBoxCenter.y));\r\n                            result.push(new geom.Point(prevPoint.box[X + revDir], prevMarkerBoxCenter.y));\r\n                            if (isInterpolate) {\r\n                                result.push(new geom.Point(point.box[X + dir], prevMarkerBoxCenter.y));\r\n                            }\r\n                            result.push(new geom.Point(point.box[X + dir], markerBoxCenter.y));\r\n                            result.push(new geom.Point(point.box[X + revDir], markerBoxCenter.y));\r\n                        }\r\n                    }\r\n                }\r\n                return result || [];\r\n            }\r\n        });\r\n        var SplineSegment = LineSegment.extend({\r\n            createVisual: function () {\r\n                var series = this.series;\r\n                var defaults = series._defaults;\r\n                var color = series.color;\r\n                if (isFn(color) && defaults) {\r\n                    color = defaults.color;\r\n                }\r\n                var curveProcessor = new CurveProcessor(this.options.closed);\r\n                var segments = curveProcessor.process(this.points());\r\n                var curve = new draw.Path({\r\n                    stroke: {\r\n                        color: color,\r\n                        width: series.width,\r\n                        opacity: series.opacity,\r\n                        dashType: series.dashType\r\n                    },\r\n                    zIndex: series.zIndex\r\n                });\r\n                curve.segments.push.apply(curve.segments, segments);\r\n                this.visual = curve;\r\n            }\r\n        });\r\n        var AreaSegmentMixin = {\r\n            points: function () {\r\n                var segment = this, chart = segment.parent, plotArea = chart.plotArea, invertAxes = chart.options.invertAxes, valueAxis = chart.seriesValueAxis(segment.series), valueAxisLineBox = valueAxis.lineBox(), categoryAxis = plotArea.seriesCategoryAxis(segment.series), categoryAxisLineBox = categoryAxis.lineBox(), end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1, stackPoints = segment.stackPoints, points = segment._linePoints(stackPoints), pos = invertAxes ? X : Y, firstPoint, lastPoint;\r\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\r\n                if (!segment.stackPoints && points.length > 1) {\r\n                    firstPoint = points[0];\r\n                    lastPoint = last(points);\r\n                    if (invertAxes) {\r\n                        points.unshift(new geom.Point(end, firstPoint.y));\r\n                        points.push(new geom.Point(end, lastPoint.y));\r\n                    } else {\r\n                        points.unshift(new geom.Point(firstPoint.x, end));\r\n                        points.push(new geom.Point(lastPoint.x, end));\r\n                    }\r\n                }\r\n                return points;\r\n            },\r\n            createVisual: function () {\r\n                var series = this.series;\r\n                var defaults = series._defaults;\r\n                var color = series.color;\r\n                if (isFn(color) && defaults) {\r\n                    color = defaults.color;\r\n                }\r\n                this.visual = new draw.Group({ zIndex: series.zIndex });\r\n                this.createArea(color);\r\n                this.createLine(color);\r\n            },\r\n            createLine: function (color) {\r\n                var series = this.series;\r\n                var lineOptions = deepExtend({\r\n                    color: color,\r\n                    opacity: series.opacity\r\n                }, series.line);\r\n                if (lineOptions.visible !== false && lineOptions.width > 0) {\r\n                    var line = draw.Path.fromPoints(this._linePoints(), {\r\n                        stroke: {\r\n                            color: lineOptions.color,\r\n                            width: lineOptions.width,\r\n                            opacity: lineOptions.opacity,\r\n                            dashType: lineOptions.dashType,\r\n                            lineCap: 'butt'\r\n                        }\r\n                    });\r\n                    this.visual.append(line);\r\n                }\r\n            },\r\n            createArea: function (color) {\r\n                var series = this.series;\r\n                var area = draw.Path.fromPoints(this.points(), {\r\n                    fill: {\r\n                        color: color,\r\n                        opacity: series.opacity\r\n                    },\r\n                    stroke: null\r\n                });\r\n                this.visual.append(area);\r\n            }\r\n        };\r\n        var AreaSegment = LineSegment.extend({\r\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\r\n                var segment = this;\r\n                segment.stackPoints = stackPoints;\r\n                LineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\r\n            },\r\n            _linePoints: LineSegment.fn.points\r\n        });\r\n        deepExtend(AreaSegment.fn, AreaSegmentMixin);\r\n        var AreaChart = LineChart.extend({\r\n            createSegment: function (linePoints, currentSeries, seriesIx, prevSegment) {\r\n                var chart = this, options = chart.options, isStacked = options.isStacked, stackPoints, pointType, style = (currentSeries.line || {}).style;\r\n                if (isStacked && seriesIx > 0 && prevSegment) {\r\n                    var missingValues = this.seriesMissingValues(currentSeries);\r\n                    if (missingValues != 'gap') {\r\n                        stackPoints = prevSegment.linePoints;\r\n                    } else {\r\n                        stackPoints = this._gapStackPoints(linePoints, seriesIx, style);\r\n                    }\r\n                    if (style !== STEP) {\r\n                        stackPoints = stackPoints.slice(0).reverse();\r\n                    }\r\n                }\r\n                if (style === SMOOTH) {\r\n                    return new SplineAreaSegment(linePoints, prevSegment, isStacked, currentSeries, seriesIx);\r\n                }\r\n                if (style === STEP) {\r\n                    pointType = StepAreaSegment;\r\n                } else {\r\n                    pointType = AreaSegment;\r\n                }\r\n                return new pointType(linePoints, stackPoints, currentSeries, seriesIx);\r\n            },\r\n            reflow: function (targetBox) {\r\n                LineChart.fn.reflow.call(this, targetBox);\r\n                var stackPoints = this._stackPoints;\r\n                if (stackPoints) {\r\n                    var stackPoint, pointSlot;\r\n                    for (var idx = 0; idx < stackPoints.length; idx++) {\r\n                        stackPoint = stackPoints[idx];\r\n                        pointSlot = this.categoryAxis.getSlot(stackPoint.categoryIx);\r\n                        stackPoint.reflow(pointSlot);\r\n                    }\r\n                }\r\n            },\r\n            _gapStackPoints: function (linePoints, seriesIx, style) {\r\n                var seriesPoints = this.seriesPoints;\r\n                var startIdx = linePoints[0].categoryIx;\r\n                var endIdx = startIdx + linePoints.length;\r\n                var stackPoints = [];\r\n                var currentSeriesIx;\r\n                var point, gapStackPoint;\r\n                this._stackPoints = this._stackPoints || [];\r\n                for (var idx = startIdx; idx < endIdx; idx++) {\r\n                    currentSeriesIx = seriesIx;\r\n                    do {\r\n                        currentSeriesIx--;\r\n                        point = seriesPoints[currentSeriesIx][idx];\r\n                    } while (currentSeriesIx > 0 && !point);\r\n                    if (point) {\r\n                        if (style !== STEP && idx > startIdx && !seriesPoints[currentSeriesIx][idx - 1]) {\r\n                            stackPoints.push(this._previousSegmentPoint(idx, idx - 1, currentSeriesIx));\r\n                        }\r\n                        stackPoints.push(point);\r\n                        if (style !== STEP && idx + 1 < endIdx && !seriesPoints[currentSeriesIx][idx + 1]) {\r\n                            stackPoints.push(this._previousSegmentPoint(idx, idx + 1, currentSeriesIx));\r\n                        }\r\n                    } else {\r\n                        gapStackPoint = this._createGapStackPoint(idx);\r\n                        this._stackPoints.push(gapStackPoint);\r\n                        stackPoints.push(gapStackPoint);\r\n                    }\r\n                }\r\n                return stackPoints;\r\n            },\r\n            _previousSegmentPoint: function (categoryIx, segmentIx, seriesIdx) {\r\n                var seriesPoints = this.seriesPoints;\r\n                var point;\r\n                while (seriesIdx > 0 && !point) {\r\n                    seriesIdx--;\r\n                    point = seriesPoints[seriesIdx][segmentIx];\r\n                }\r\n                if (!point) {\r\n                    point = this._createGapStackPoint(categoryIx);\r\n                    this._stackPoints.push(point);\r\n                } else {\r\n                    point = seriesPoints[seriesIdx][categoryIx];\r\n                }\r\n                return point;\r\n            },\r\n            _createGapStackPoint: function (categoryIx) {\r\n                var options = this.pointOptions({}, 0);\r\n                var point = new LinePoint(0, options);\r\n                point.categoryIx = categoryIx;\r\n                point.series = {};\r\n                return point;\r\n            },\r\n            seriesMissingValues: function (series) {\r\n                return series.missingValues || ZERO;\r\n            }\r\n        });\r\n        var SplineAreaSegment = AreaSegment.extend({\r\n            init: function (linePoints, prevSegment, isStacked, currentSeries, seriesIx) {\r\n                var segment = this;\r\n                segment.prevSegment = prevSegment;\r\n                segment.isStacked = isStacked;\r\n                LineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\r\n            },\r\n            strokeSegments: function () {\r\n                var segments = this._strokeSegments;\r\n                if (!segments) {\r\n                    var curveProcessor = new CurveProcessor(this.options.closed);\r\n                    var linePoints = LineSegment.fn.points.call(this);\r\n                    segments = this._strokeSegments = curveProcessor.process(linePoints);\r\n                }\r\n                return segments;\r\n            },\r\n            createVisual: function () {\r\n                var series = this.series;\r\n                var defaults = series._defaults;\r\n                var color = series.color;\r\n                if (isFn(color) && defaults) {\r\n                    color = defaults.color;\r\n                }\r\n                this.visual = new draw.Group({ zIndex: series.zIndex });\r\n                this.createFill({\r\n                    fill: {\r\n                        color: color,\r\n                        opacity: series.opacity\r\n                    },\r\n                    stroke: null\r\n                });\r\n                this.createStroke({\r\n                    stroke: deepExtend({\r\n                        color: color,\r\n                        opacity: series.opacity,\r\n                        lineCap: 'butt'\r\n                    }, series.line)\r\n                });\r\n            },\r\n            createFill: function (style) {\r\n                var strokeSegments = this.strokeSegments();\r\n                var fillSegments = strokeSegments.slice(0);\r\n                var prevSegment = this.prevSegment;\r\n                if (this.isStacked && prevSegment) {\r\n                    var prevStrokeSegments = prevSegment.strokeSegments();\r\n                    var prevAnchor = last(prevStrokeSegments).anchor();\r\n                    fillSegments.push(new draw.Segment(prevAnchor, prevAnchor, last(strokeSegments).anchor()));\r\n                    var stackSegments = $.map(prevStrokeSegments, function (segment) {\r\n                        return new draw.Segment(segment.anchor(), segment.controlOut(), segment.controlIn());\r\n                    }).reverse();\r\n                    append(fillSegments, stackSegments);\r\n                    var firstAnchor = fillSegments[0].anchor();\r\n                    fillSegments.push(new draw.Segment(firstAnchor, firstAnchor, last(stackSegments).anchor()));\r\n                }\r\n                var fill = new draw.Path(style);\r\n                fill.segments.push.apply(fill.segments, fillSegments);\r\n                this.closeFill(fill);\r\n                this.visual.append(fill);\r\n            },\r\n            closeFill: function (fillPath) {\r\n                var segment = this, chart = segment.parent, prevSegment = segment.prevSegment, plotArea = chart.plotArea, invertAxes = chart.options.invertAxes, valueAxis = chart.seriesValueAxis(segment.series), valueAxisLineBox = valueAxis.lineBox(), categoryAxis = plotArea.seriesCategoryAxis(segment.series), categoryAxisLineBox = categoryAxis.lineBox(), end = invertAxes ? categoryAxisLineBox.x1 : categoryAxisLineBox.y1, pos = invertAxes ? X : Y, segments = segment.strokeSegments(), firstPoint = segments[0].anchor(), lastPoint = last(segments).anchor();\r\n                end = limitValue(end, valueAxisLineBox[pos + 1], valueAxisLineBox[pos + 2]);\r\n                if (!(chart.options.isStacked && prevSegment) && segments.length > 1) {\r\n                    if (invertAxes) {\r\n                        fillPath.lineTo(end, lastPoint.y).lineTo(end, firstPoint.y);\r\n                    } else {\r\n                        fillPath.lineTo(lastPoint.x, end).lineTo(firstPoint.x, end);\r\n                    }\r\n                }\r\n            },\r\n            createStroke: function (style) {\r\n                if (style.stroke.width > 0) {\r\n                    var stroke = new draw.Path(style);\r\n                    stroke.segments.push.apply(stroke.segments, this.strokeSegments());\r\n                    this.visual.append(stroke);\r\n                }\r\n            }\r\n        });\r\n        var StepAreaSegment = StepLineSegment.extend({\r\n            init: function (linePoints, stackPoints, currentSeries, seriesIx) {\r\n                var segment = this;\r\n                segment.stackPoints = stackPoints;\r\n                StepLineSegment.fn.init.call(segment, linePoints, currentSeries, seriesIx);\r\n            },\r\n            _linePoints: StepLineSegment.fn.points\r\n        });\r\n        deepExtend(StepAreaSegment.fn, AreaSegmentMixin);\r\n        var ScatterChart = ChartElement.extend({\r\n            init: function (plotArea, options) {\r\n                var chart = this;\r\n                ChartElement.fn.init.call(chart, options);\r\n                chart.plotArea = plotArea;\r\n                chart.xAxisRanges = {};\r\n                chart.yAxisRanges = {};\r\n                chart.points = [];\r\n                chart.seriesPoints = [];\r\n                chart.seriesOptions = [];\r\n                chart._evalSeries = [];\r\n                chart.render();\r\n            },\r\n            options: {\r\n                series: [],\r\n                tooltip: { format: '{0}, {1}' },\r\n                labels: { format: '{0}, {1}' },\r\n                clip: true\r\n            },\r\n            render: function () {\r\n                var chart = this;\r\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\r\n            },\r\n            addErrorBar: function (point, field, fields) {\r\n                var errorRange, chart = this, value = point.value[field], valueErrorField = field + 'Value', lowField = field + 'ErrorLow', highField = field + 'ErrorHigh', seriesIx = fields.seriesIx, series = fields.series, errorBars = point.options.errorBars, lowValue = fields[lowField], highValue = fields[highField];\r\n                if (isNumber(value)) {\r\n                    if (isNumber(lowValue) && isNumber(highValue)) {\r\n                        errorRange = {\r\n                            low: lowValue,\r\n                            high: highValue\r\n                        };\r\n                    }\r\n                    if (errorBars && defined(errorBars[valueErrorField])) {\r\n                        chart.seriesErrorRanges = chart.seriesErrorRanges || {\r\n                            x: [],\r\n                            y: []\r\n                        };\r\n                        chart.seriesErrorRanges[field][seriesIx] = chart.seriesErrorRanges[field][seriesIx] || new ErrorRangeCalculator(errorBars[valueErrorField], series, field);\r\n                        errorRange = chart.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);\r\n                    }\r\n                    if (errorRange) {\r\n                        chart.addPointErrorBar(errorRange, point, field);\r\n                    }\r\n                }\r\n            },\r\n            addPointErrorBar: function (errorRange, point, field) {\r\n                var chart = this, low = errorRange.low, high = errorRange.high, series = point.series, isVertical = field === Y, options = point.options.errorBars, item = {}, errorBar;\r\n                point[field + 'Low'] = low;\r\n                point[field + 'High'] = high;\r\n                point.errorBars = point.errorBars || [];\r\n                errorBar = new ScatterErrorBar(low, high, isVertical, chart, series, options);\r\n                point.errorBars.push(errorBar);\r\n                point.append(errorBar);\r\n                item[field] = low;\r\n                chart.updateRange(item, series);\r\n                item[field] = high;\r\n                chart.updateRange(item, series);\r\n            },\r\n            addValue: function (value, fields) {\r\n                var chart = this, point, x = value.x, y = value.y, seriesIx = fields.seriesIx, series = this.options.series[seriesIx], missingValues = this.seriesMissingValues(series), seriesPoints = chart.seriesPoints[seriesIx];\r\n                if (!(hasValue(x) && hasValue(y))) {\r\n                    value = this.createMissingValue(value, missingValues);\r\n                }\r\n                if (value) {\r\n                    point = chart.createPoint(value, fields);\r\n                    if (point) {\r\n                        extend(point, fields);\r\n                        chart.addErrorBar(point, X, fields);\r\n                        chart.addErrorBar(point, Y, fields);\r\n                    }\r\n                    chart.updateRange(value, fields.series);\r\n                }\r\n                chart.points.push(point);\r\n                seriesPoints.push(point);\r\n            },\r\n            seriesMissingValues: function (series) {\r\n                return series.missingValues;\r\n            },\r\n            createMissingValue: noop,\r\n            updateRange: function (value, series) {\r\n                var chart = this, x = value.x, y = value.y, xAxisName = series.xAxis, yAxisName = series.yAxis, xAxisRange = chart.xAxisRanges[xAxisName], yAxisRange = chart.yAxisRanges[yAxisName];\r\n                if (hasValue(x)) {\r\n                    xAxisRange = chart.xAxisRanges[xAxisName] = xAxisRange || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    if (typeof x === STRING) {\r\n                        x = toDate(x);\r\n                    }\r\n                    xAxisRange.min = math.min(xAxisRange.min, x);\r\n                    xAxisRange.max = math.max(xAxisRange.max, x);\r\n                }\r\n                if (hasValue(y)) {\r\n                    yAxisRange = chart.yAxisRanges[yAxisName] = yAxisRange || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    if (typeof y === STRING) {\r\n                        y = toDate(y);\r\n                    }\r\n                    yAxisRange.min = math.min(yAxisRange.min, y);\r\n                    yAxisRange.max = math.max(yAxisRange.max, y);\r\n                }\r\n            },\r\n            evalPointOptions: function (options, value, fields) {\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var state = {\r\n                    defaults: series._defaults,\r\n                    excluded: [\r\n                        'data',\r\n                        'tooltip',\r\n                        'tempate',\r\n                        'visual',\r\n                        'toggle',\r\n                        '_outOfRangeMinPoint',\r\n                        '_outOfRangeMaxPoint'\r\n                    ]\r\n                };\r\n                var doEval = this._evalSeries[seriesIx];\r\n                if (!defined(doEval)) {\r\n                    this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\r\n                }\r\n                if (doEval) {\r\n                    options = deepExtend({}, options);\r\n                    evalOptions(options, {\r\n                        value: value,\r\n                        series: series,\r\n                        dataItem: fields.dataItem\r\n                    }, state);\r\n                }\r\n                return options;\r\n            },\r\n            pointType: function () {\r\n                return LinePoint;\r\n            },\r\n            pointOptions: function (series, seriesIx) {\r\n                var options = this.seriesOptions[seriesIx];\r\n                if (!options) {\r\n                    var defaults = this.pointType().fn.defaults;\r\n                    this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {\r\n                        markers: { opacity: series.opacity },\r\n                        tooltip: { format: this.options.tooltip.format },\r\n                        labels: { format: this.options.labels.format }\r\n                    }, series);\r\n                }\r\n                return options;\r\n            },\r\n            createPoint: function (value, fields) {\r\n                var chart = this, series = fields.series, point;\r\n                var pointOptions = this.pointOptions(series, fields.seriesIx);\r\n                var color = fields.color || series.color;\r\n                pointOptions = chart.evalPointOptions(pointOptions, value, fields);\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = pointOptions.color;\r\n                }\r\n                point = new LinePoint(value, pointOptions);\r\n                point.color = color;\r\n                chart.append(point);\r\n                return point;\r\n            },\r\n            seriesAxes: function (series) {\r\n                var plotArea = this.plotArea, xAxisName = series.xAxis, xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX, yAxisName = series.yAxis, yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;\r\n                if (!xAxis) {\r\n                    throw new Error('Unable to locate X axis with name ' + xAxisName);\r\n                }\r\n                if (!yAxis) {\r\n                    throw new Error('Unable to locate Y axis with name ' + yAxisName);\r\n                }\r\n                return {\r\n                    x: xAxis,\r\n                    y: yAxis\r\n                };\r\n            },\r\n            reflow: function (targetBox) {\r\n                var chart = this, chartPoints = chart.points, pointIx = 0, point, seriesAxes, limit = !chart.options.clip;\r\n                chart.traverseDataPoints(function (value, fields) {\r\n                    point = chartPoints[pointIx++];\r\n                    seriesAxes = chart.seriesAxes(fields.series);\r\n                    var slotX = seriesAxes.x.getSlot(value.x, value.x, limit), slotY = seriesAxes.y.getSlot(value.y, value.y, limit), pointSlot;\r\n                    if (point) {\r\n                        if (slotX && slotY) {\r\n                            pointSlot = chart.pointSlot(slotX, slotY);\r\n                            point.reflow(pointSlot);\r\n                        } else {\r\n                            point.visible = false;\r\n                        }\r\n                    }\r\n                });\r\n                chart.box = targetBox;\r\n            },\r\n            pointSlot: function (slotX, slotY) {\r\n                return new Box2D(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\r\n            },\r\n            traverseDataPoints: function (callback) {\r\n                var chart = this, options = chart.options, series = options.series, seriesPoints = chart.seriesPoints, pointIx, seriesIx, currentSeries, currentSeriesPoints, pointData, value, fields;\r\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    currentSeriesPoints = seriesPoints[seriesIx];\r\n                    if (!currentSeriesPoints) {\r\n                        seriesPoints[seriesIx] = [];\r\n                    }\r\n                    for (pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\r\n                        pointData = this._bindPoint(currentSeries, seriesIx, pointIx);\r\n                        value = pointData.valueFields;\r\n                        fields = pointData.fields;\r\n                        callback(value, deepExtend({\r\n                            pointIx: pointIx,\r\n                            series: currentSeries,\r\n                            seriesIx: seriesIx,\r\n                            dataItem: currentSeries.data[pointIx],\r\n                            owner: chart\r\n                        }, fields));\r\n                    }\r\n                }\r\n            },\r\n            _bindPoint: CategoricalChart.fn._bindPoint,\r\n            formatPointValue: function (point, format) {\r\n                var value = point.value;\r\n                return autoFormat(format, value.x, value.y);\r\n            },\r\n            animationPoints: function () {\r\n                var points = this.points;\r\n                var result = [];\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    result.push((points[idx] || {}).marker);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n        deepExtend(ScatterChart.fn, ClipAnimationMixin);\r\n        var ScatterLineChart = ScatterChart.extend({\r\n            render: function () {\r\n                var chart = this;\r\n                ScatterChart.fn.render.call(chart);\r\n                chart.renderSegments();\r\n            },\r\n            createSegment: function (linePoints, currentSeries, seriesIx) {\r\n                var pointType, style = currentSeries.style;\r\n                if (style === SMOOTH) {\r\n                    pointType = SplineSegment;\r\n                } else {\r\n                    pointType = LineSegment;\r\n                }\r\n                return new pointType(linePoints, currentSeries, seriesIx);\r\n            },\r\n            animationPoints: function () {\r\n                var points = ScatterChart.fn.animationPoints.call(this);\r\n                return points.concat(this._segments);\r\n            },\r\n            createMissingValue: function (value, missingValues) {\r\n                if (missingValues === ZERO) {\r\n                    var missingValue = {\r\n                        x: value.x,\r\n                        y: value.y\r\n                    };\r\n                    if (!hasValue(missingValue.x)) {\r\n                        missingValue.x = 0;\r\n                    }\r\n                    if (!hasValue(missingValue.y)) {\r\n                        missingValue.y = 0;\r\n                    }\r\n                    return missingValue;\r\n                }\r\n            }\r\n        });\r\n        deepExtend(ScatterLineChart.fn, LineChartMixin);\r\n        var BubbleChart = ScatterChart.extend({\r\n            init: function (plotArea, options) {\r\n                this._maxSize = MIN_VALUE;\r\n                ScatterChart.fn.init.call(this, plotArea, options);\r\n            },\r\n            options: {\r\n                tooltip: { format: '{3}' },\r\n                labels: { format: '{3}' }\r\n            },\r\n            addValue: function (value, fields) {\r\n                if (value.size !== null && (value.size > 0 || value.size < 0 && fields.series.negativeValues.visible)) {\r\n                    this._maxSize = math.max(this._maxSize, math.abs(value.size));\r\n                    ScatterChart.fn.addValue.call(this, value, fields);\r\n                } else {\r\n                    this.points.push(null);\r\n                    this.seriesPoints[fields.seriesIx].push(null);\r\n                }\r\n            },\r\n            reflow: function (box) {\r\n                var chart = this;\r\n                chart.updateBubblesSize(box);\r\n                ScatterChart.fn.reflow.call(chart, box);\r\n            },\r\n            pointType: function () {\r\n                return Bubble;\r\n            },\r\n            createPoint: function (value, fields) {\r\n                var chart = this, series = fields.series, pointsCount = series.data.length, delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount), animationOptions = {\r\n                        delay: delay,\r\n                        duration: INITIAL_ANIMATION_DURATION - delay,\r\n                        type: BUBBLE\r\n                    }, point, pointOptions;\r\n                var color = fields.color || series.color;\r\n                if (value.size < 0 && series.negativeValues.visible) {\r\n                    color = valueOrDefault(series.negativeValues.color, color);\r\n                }\r\n                pointOptions = deepExtend({\r\n                    labels: {\r\n                        animation: {\r\n                            delay: delay,\r\n                            duration: INITIAL_ANIMATION_DURATION - delay\r\n                        }\r\n                    }\r\n                }, this.pointOptions(series, fields.seriesIx), {\r\n                    markers: {\r\n                        type: CIRCLE,\r\n                        border: series.border,\r\n                        opacity: series.opacity,\r\n                        animation: animationOptions\r\n                    }\r\n                });\r\n                pointOptions = chart.evalPointOptions(pointOptions, value, fields);\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = pointOptions.color;\r\n                }\r\n                pointOptions.markers.background = color;\r\n                point = new Bubble(value, pointOptions);\r\n                point.color = color;\r\n                chart.append(point);\r\n                return point;\r\n            },\r\n            updateBubblesSize: function (box) {\r\n                var chart = this, options = chart.options, series = options.series, boxSize = math.min(box.width(), box.height()), seriesIx, pointIx;\r\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    var currentSeries = series[seriesIx], seriesPoints = chart.seriesPoints[seriesIx], minSize = currentSeries.minSize || math.max(boxSize * 0.02, 10), maxSize = currentSeries.maxSize || boxSize * 0.2, minR = minSize / 2, maxR = maxSize / 2, minArea = math.PI * minR * minR, maxArea = math.PI * maxR * maxR, areaRange = maxArea - minArea, areaRatio = areaRange / chart._maxSize;\r\n                    for (pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\r\n                        var point = seriesPoints[pointIx];\r\n                        if (point) {\r\n                            var area = math.abs(point.value.size) * areaRatio, r = math.sqrt((minArea + area) / math.PI), baseZIndex = valueOrDefault(point.options.zIndex, 0), zIndex = baseZIndex + (1 - r / maxR);\r\n                            deepExtend(point.options, {\r\n                                zIndex: zIndex,\r\n                                markers: {\r\n                                    size: r * 2,\r\n                                    zIndex: zIndex\r\n                                },\r\n                                labels: { zIndex: zIndex + 1 }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                var value = point.value;\r\n                return autoFormat(format, value.x, value.y, value.size, point.category);\r\n            },\r\n            createAnimation: noop,\r\n            createVisual: noop\r\n        });\r\n        var Candlestick = ChartElement.extend({\r\n            init: function (value, options) {\r\n                ChartElement.fn.init.call(this, options);\r\n                this.value = value;\r\n            },\r\n            options: {\r\n                vertical: true,\r\n                border: { _brightness: 0.8 },\r\n                line: { width: 2 },\r\n                overlay: { gradient: GLASS },\r\n                tooltip: { format: '<table style=\\'text-align: left;\\'>' + '<th colspan=\\'2\\'>{4:d}</th>' + '<tr><td>Open:</td><td>{0:C}</td></tr>' + '<tr><td>High:</td><td>{1:C}</td></tr>' + '<tr><td>Low:</td><td>{2:C}</td></tr>' + '<tr><td>Close:</td><td>{3:C}</td></tr>' + '</table>' },\r\n                highlight: {\r\n                    opacity: 1,\r\n                    border: {\r\n                        width: 1,\r\n                        opacity: 1\r\n                    },\r\n                    line: {\r\n                        width: 1,\r\n                        opacity: 1\r\n                    }\r\n                },\r\n                notes: {\r\n                    visible: true,\r\n                    label: {}\r\n                }\r\n            },\r\n            reflow: function (box) {\r\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), points = [], mid, ocSlot, lhSlot;\r\n                ocSlot = valueAxis.getSlot(value.open, value.close);\r\n                lhSlot = valueAxis.getSlot(value.low, value.high);\r\n                ocSlot.x1 = lhSlot.x1 = box.x1;\r\n                ocSlot.x2 = lhSlot.x2 = box.x2;\r\n                point.realBody = ocSlot;\r\n                mid = lhSlot.center().x;\r\n                points.push([\r\n                    [\r\n                        mid,\r\n                        lhSlot.y1\r\n                    ],\r\n                    [\r\n                        mid,\r\n                        ocSlot.y1\r\n                    ]\r\n                ]);\r\n                points.push([\r\n                    [\r\n                        mid,\r\n                        ocSlot.y2\r\n                    ],\r\n                    [\r\n                        mid,\r\n                        lhSlot.y2\r\n                    ]\r\n                ]);\r\n                point.lines = points;\r\n                point.box = lhSlot.clone().wrap(ocSlot);\r\n                if (!point._rendered) {\r\n                    point._rendered = true;\r\n                    point.createNote();\r\n                }\r\n                point.reflowNote();\r\n            },\r\n            reflowNote: function () {\r\n                var point = this;\r\n                if (point.note) {\r\n                    point.note.reflow(point.box);\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                this._mainVisual = this.mainVisual(this.options);\r\n                this.visual.append(this._mainVisual);\r\n                this.createOverlay();\r\n            },\r\n            mainVisual: function (options) {\r\n                var group = new draw.Group();\r\n                this.createBody(group, options);\r\n                this.createLines(group, options);\r\n                return group;\r\n            },\r\n            createBody: function (container, options) {\r\n                var body = draw.Path.fromRect(this.realBody.toRect(), {\r\n                    fill: {\r\n                        color: this.color,\r\n                        opacity: options.opacity\r\n                    },\r\n                    stroke: null\r\n                });\r\n                if (options.border.width > 0) {\r\n                    body.options.set('stroke', {\r\n                        color: this.getBorderColor(),\r\n                        width: options.border.width,\r\n                        dashType: options.border.dashType,\r\n                        opacity: valueOrDefault(options.border.opacity, options.opacity)\r\n                    });\r\n                }\r\n                alignPathToPixel(body);\r\n                container.append(body);\r\n                if (hasGradientOverlay(options)) {\r\n                    container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({\r\n                        end: !options.vertical ? [\r\n                            0,\r\n                            1\r\n                        ] : undefined\r\n                    }, options.overlay)));\r\n                }\r\n            },\r\n            createLines: function (container, options) {\r\n                this.drawLines(container, options, this.lines, options.line);\r\n            },\r\n            drawLines: function (container, options, lines, lineOptions) {\r\n                if (!lines) {\r\n                    return;\r\n                }\r\n                var lineStyle = {\r\n                    stroke: {\r\n                        color: lineOptions.color || this.color,\r\n                        opacity: valueOrDefault(lineOptions.opacity, options.opacity),\r\n                        width: lineOptions.width,\r\n                        dashType: lineOptions.dashType,\r\n                        lineCap: 'butt'\r\n                    }\r\n                };\r\n                for (var i = 0; i < lines.length; i++) {\r\n                    var line = draw.Path.fromPoints(lines[i], lineStyle);\r\n                    alignPathToPixel(line);\r\n                    container.append(line);\r\n                }\r\n            },\r\n            getBorderColor: function () {\r\n                var point = this, options = point.options, border = options.border, borderColor = border.color;\r\n                if (!defined(borderColor)) {\r\n                    borderColor = new Color(point.color).brightness(border._brightness).toHex();\r\n                }\r\n                return borderColor;\r\n            },\r\n            createOverlay: function () {\r\n                var overlay = draw.Path.fromRect(this.box.toRect(), {\r\n                    fill: {\r\n                        color: WHITE,\r\n                        opacity: 0\r\n                    },\r\n                    stroke: null\r\n                });\r\n                this.visual.append(overlay);\r\n            },\r\n            createHighlight: function () {\r\n                var highlight = this.options.highlight;\r\n                var normalColor = this.color;\r\n                this.color = highlight.color || this.color;\r\n                var overlay = this.mainVisual(deepExtend({}, this.options, { line: { color: this.getBorderColor() } }, highlight));\r\n                this.color = normalColor;\r\n                return overlay;\r\n            },\r\n            highlightVisual: function () {\r\n                return this._mainVisual;\r\n            },\r\n            highlightVisualArgs: function () {\r\n                return {\r\n                    options: this.options,\r\n                    rect: this.box.toRect(),\r\n                    visual: this._mainVisual\r\n                };\r\n            },\r\n            tooltipAnchor: function () {\r\n                var point = this, box = point.box, clipBox = point.owner.pane.clipBox() || box;\r\n                return new Point2D(box.x2 + TOOLTIP_OFFSET, math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET);\r\n            },\r\n            formatValue: function (format) {\r\n                var point = this;\r\n                return point.owner.formatPointValue(point, format);\r\n            },\r\n            overlapsBox: function (box) {\r\n                return this.box.overlaps(box);\r\n            }\r\n        });\r\n        deepExtend(Candlestick.fn, PointEventsMixin);\r\n        deepExtend(Candlestick.fn, NoteMixin);\r\n        var CandlestickChart = CategoricalChart.extend({\r\n            options: {},\r\n            reflowCategories: function (categorySlots) {\r\n                var chart = this, children = chart.children, childrenLength = children.length, i;\r\n                for (i = 0; i < childrenLength; i++) {\r\n                    children[i].reflow(categorySlots[i]);\r\n                }\r\n            },\r\n            addValue: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var options = chart.options;\r\n                var value = data.valueFields;\r\n                var children = chart.children;\r\n                var valueParts = chart.splitValue(value);\r\n                var hasValue = areNumbers(valueParts);\r\n                var categoryPoints = chart.categoryPoints[categoryIx];\r\n                var dataItem = series.data[categoryIx];\r\n                var point, cluster;\r\n                if (!categoryPoints) {\r\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\r\n                }\r\n                if (hasValue) {\r\n                    point = chart.createPoint(data, fields);\r\n                }\r\n                cluster = children[categoryIx];\r\n                if (!cluster) {\r\n                    cluster = new ClusterLayout({\r\n                        vertical: options.invertAxes,\r\n                        gap: options.gap,\r\n                        spacing: options.spacing\r\n                    });\r\n                    chart.append(cluster);\r\n                }\r\n                if (point) {\r\n                    chart.updateRange(value, fields);\r\n                    cluster.append(point);\r\n                    point.categoryIx = categoryIx;\r\n                    point.category = category;\r\n                    point.series = series;\r\n                    point.seriesIx = seriesIx;\r\n                    point.owner = chart;\r\n                    point.dataItem = dataItem;\r\n                    point.noteText = data.fields.noteText;\r\n                }\r\n                chart.points.push(point);\r\n                categoryPoints.push(point);\r\n            },\r\n            pointType: function () {\r\n                return Candlestick;\r\n            },\r\n            createPoint: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var value = data.valueFields;\r\n                var pointOptions = deepExtend({}, series);\r\n                var pointType = chart.pointType();\r\n                var color = data.fields.color || series.color;\r\n                pointOptions = chart.evalPointOptions(pointOptions, value, category, categoryIx, series, seriesIx);\r\n                if (series.type == CANDLESTICK) {\r\n                    if (value.open > value.close) {\r\n                        color = data.fields.downColor || series.downColor || series.color;\r\n                    }\r\n                }\r\n                if (kendo.isFunction(series.color)) {\r\n                    color = pointOptions.color;\r\n                }\r\n                pointOptions.vertical = !chart.options.invertAxes;\r\n                var point = new pointType(value, pointOptions);\r\n                point.color = color;\r\n                return point;\r\n            },\r\n            splitValue: function (value) {\r\n                return [\r\n                    value.low,\r\n                    value.open,\r\n                    value.close,\r\n                    value.high\r\n                ];\r\n            },\r\n            updateRange: function (value, fields) {\r\n                var chart = this, axisName = fields.series.axis, axisRange = chart.valueAxisRanges[axisName], parts = chart.splitValue(value);\r\n                axisRange = chart.valueAxisRanges[axisName] = axisRange || {\r\n                    min: MAX_VALUE,\r\n                    max: MIN_VALUE\r\n                };\r\n                axisRange = chart.valueAxisRanges[axisName] = {\r\n                    min: math.min.apply(math, parts.concat([axisRange.min])),\r\n                    max: math.max.apply(math, parts.concat([axisRange.max]))\r\n                };\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                var value = point.value;\r\n                return autoFormat(format, value.open, value.high, value.low, value.close, point.category);\r\n            },\r\n            animationPoints: function () {\r\n                return this.points;\r\n            }\r\n        });\r\n        deepExtend(CandlestickChart.fn, ClipAnimationMixin);\r\n        var OHLCPoint = Candlestick.extend({\r\n            reflow: function (box) {\r\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), oPoints = [], cPoints = [], lhPoints = [], mid, oSlot, cSlot, lhSlot;\r\n                lhSlot = valueAxis.getSlot(value.low, value.high);\r\n                oSlot = valueAxis.getSlot(value.open, value.open);\r\n                cSlot = valueAxis.getSlot(value.close, value.close);\r\n                oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;\r\n                oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;\r\n                mid = lhSlot.center().x;\r\n                oPoints.push([\r\n                    oSlot.x1,\r\n                    oSlot.y1\r\n                ]);\r\n                oPoints.push([\r\n                    mid,\r\n                    oSlot.y1\r\n                ]);\r\n                cPoints.push([\r\n                    mid,\r\n                    cSlot.y1\r\n                ]);\r\n                cPoints.push([\r\n                    cSlot.x2,\r\n                    cSlot.y1\r\n                ]);\r\n                lhPoints.push([\r\n                    mid,\r\n                    lhSlot.y1\r\n                ]);\r\n                lhPoints.push([\r\n                    mid,\r\n                    lhSlot.y2\r\n                ]);\r\n                point.lines = [\r\n                    oPoints,\r\n                    cPoints,\r\n                    lhPoints\r\n                ];\r\n                point.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));\r\n                point.reflowNote();\r\n            },\r\n            createBody: $.noop\r\n        });\r\n        var OHLCChart = CandlestickChart.extend({\r\n            pointType: function () {\r\n                return OHLCPoint;\r\n            }\r\n        });\r\n        var BoxPlotChart = CandlestickChart.extend({\r\n            addValue: function (data, fields) {\r\n                var chart = this;\r\n                var categoryIx = fields.categoryIx;\r\n                var category = fields.category;\r\n                var series = fields.series;\r\n                var seriesIx = fields.seriesIx;\r\n                var options = chart.options;\r\n                var children = chart.children;\r\n                var value = data.valueFields;\r\n                var valueParts = chart.splitValue(value);\r\n                var hasValue = areNumbers(valueParts);\r\n                var categoryPoints = chart.categoryPoints[categoryIx];\r\n                var dataItem = series.data[categoryIx];\r\n                var point, cluster;\r\n                if (!categoryPoints) {\r\n                    chart.categoryPoints[categoryIx] = categoryPoints = [];\r\n                }\r\n                if (hasValue) {\r\n                    point = chart.createPoint(data, fields);\r\n                }\r\n                cluster = children[categoryIx];\r\n                if (!cluster) {\r\n                    cluster = new ClusterLayout({\r\n                        vertical: options.invertAxes,\r\n                        gap: options.gap,\r\n                        spacing: options.spacing\r\n                    });\r\n                    chart.append(cluster);\r\n                }\r\n                if (point) {\r\n                    chart.updateRange(value, fields);\r\n                    cluster.append(point);\r\n                    point.categoryIx = categoryIx;\r\n                    point.category = category;\r\n                    point.series = series;\r\n                    point.seriesIx = seriesIx;\r\n                    point.owner = chart;\r\n                    point.dataItem = dataItem;\r\n                }\r\n                chart.points.push(point);\r\n                categoryPoints.push(point);\r\n            },\r\n            pointType: function () {\r\n                if (this.options.invertAxes) {\r\n                    return VerticalBoxPlot;\r\n                }\r\n                return BoxPlot;\r\n            },\r\n            splitValue: function (value) {\r\n                return [\r\n                    value.lower,\r\n                    value.q1,\r\n                    value.median,\r\n                    value.q3,\r\n                    value.upper\r\n                ];\r\n            },\r\n            updateRange: function (value, fields) {\r\n                var chart = this, axisName = fields.series.axis, axisRange = chart.valueAxisRanges[axisName], parts = chart.splitValue(value).concat(chart.filterOutliers(value.outliers));\r\n                if (defined(value.mean)) {\r\n                    parts = parts.concat(value.mean);\r\n                }\r\n                axisRange = chart.valueAxisRanges[axisName] = axisRange || {\r\n                    min: MAX_VALUE,\r\n                    max: MIN_VALUE\r\n                };\r\n                axisRange = chart.valueAxisRanges[axisName] = {\r\n                    min: math.min.apply(math, parts.concat([axisRange.min])),\r\n                    max: math.max.apply(math, parts.concat([axisRange.max]))\r\n                };\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                var value = point.value;\r\n                return autoFormat(format, value.lower, value.q1, value.median, value.q3, value.upper, value.mean, point.category);\r\n            },\r\n            filterOutliers: function (items) {\r\n                var length = (items || []).length, result = [], i, item;\r\n                for (i = 0; i < length; i++) {\r\n                    item = items[i];\r\n                    if (defined(item)) {\r\n                        appendIfNotNull(result, item);\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n        var BoxPlot = Candlestick.extend({\r\n            init: function (value, options) {\r\n                var point = this;\r\n                ChartElement.fn.init.call(point, options);\r\n                point.value = value;\r\n                point.createNote();\r\n            },\r\n            options: {\r\n                border: { _brightness: 0.8 },\r\n                line: { width: 2 },\r\n                mean: {\r\n                    width: 2,\r\n                    dashType: 'dash'\r\n                },\r\n                overlay: { gradient: GLASS },\r\n                tooltip: { format: '<table style=\\'text-align: left;\\'>' + '<th colspan=\\'2\\'>{6:d}</th>' + '<tr><td>Lower:</td><td>{0:C}</td></tr>' + '<tr><td>Q1:</td><td>{1:C}</td></tr>' + '<tr><td>Median:</td><td>{2:C}</td></tr>' + '<tr><td>Mean:</td><td>{5:C}</td></tr>' + '<tr><td>Q3:</td><td>{3:C}</td></tr>' + '<tr><td>Upper:</td><td>{4:C}</td></tr>' + '</table>' },\r\n                highlight: {\r\n                    opacity: 1,\r\n                    border: {\r\n                        width: 1,\r\n                        opacity: 1\r\n                    },\r\n                    line: {\r\n                        width: 1,\r\n                        opacity: 1\r\n                    }\r\n                },\r\n                notes: {\r\n                    visible: true,\r\n                    label: {}\r\n                },\r\n                outliers: {\r\n                    visible: true,\r\n                    size: LINE_MARKER_SIZE,\r\n                    type: CROSS,\r\n                    background: WHITE,\r\n                    border: {\r\n                        width: 2,\r\n                        opacity: 1\r\n                    },\r\n                    opacity: 0\r\n                },\r\n                extremes: {\r\n                    visible: true,\r\n                    size: LINE_MARKER_SIZE,\r\n                    type: CIRCLE,\r\n                    background: WHITE,\r\n                    border: {\r\n                        width: 2,\r\n                        opacity: 1\r\n                    },\r\n                    opacity: 0\r\n                }\r\n            },\r\n            reflow: function (box) {\r\n                var point = this, options = point.options, chart = point.owner, value = point.value, valueAxis = chart.seriesValueAxis(options), whiskerSlot, boxSlot, medianSlot, meanSlot;\r\n                point.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);\r\n                point.realBody = boxSlot;\r\n                point.reflowBoxSlot(box);\r\n                point.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);\r\n                point.reflowWhiskerSlot(box);\r\n                medianSlot = valueAxis.getSlot(value.median);\r\n                if (value.mean) {\r\n                    meanSlot = valueAxis.getSlot(value.mean);\r\n                    point.meanPoints = point.calcMeanPoints(box, meanSlot);\r\n                }\r\n                point.whiskerPoints = point.calcWhiskerPoints(boxSlot, whiskerSlot);\r\n                point.medianPoints = point.calcMedianPoints(box, medianSlot);\r\n                point.box = whiskerSlot.clone().wrap(boxSlot);\r\n                point.reflowNote();\r\n            },\r\n            reflowBoxSlot: function (box) {\r\n                this.boxSlot.x1 = box.x1;\r\n                this.boxSlot.x2 = box.x2;\r\n            },\r\n            reflowWhiskerSlot: function (box) {\r\n                this.whiskerSlot.x1 = box.x1;\r\n                this.whiskerSlot.x2 = box.x2;\r\n            },\r\n            calcMeanPoints: function (box, meanSlot) {\r\n                return [[\r\n                        [\r\n                            box.x1,\r\n                            meanSlot.y1\r\n                        ],\r\n                        [\r\n                            box.x2,\r\n                            meanSlot.y1\r\n                        ]\r\n                    ]];\r\n            },\r\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\r\n                var mid = whiskerSlot.center().x;\r\n                return [\r\n                    [\r\n                        [\r\n                            mid - 5,\r\n                            whiskerSlot.y1\r\n                        ],\r\n                        [\r\n                            mid + 5,\r\n                            whiskerSlot.y1\r\n                        ],\r\n                        [\r\n                            mid,\r\n                            whiskerSlot.y1\r\n                        ],\r\n                        [\r\n                            mid,\r\n                            boxSlot.y1\r\n                        ]\r\n                    ],\r\n                    [\r\n                        [\r\n                            mid - 5,\r\n                            whiskerSlot.y2\r\n                        ],\r\n                        [\r\n                            mid + 5,\r\n                            whiskerSlot.y2\r\n                        ],\r\n                        [\r\n                            mid,\r\n                            whiskerSlot.y2\r\n                        ],\r\n                        [\r\n                            mid,\r\n                            boxSlot.y2\r\n                        ]\r\n                    ]\r\n                ];\r\n            },\r\n            calcMedianPoints: function (box, medianSlot) {\r\n                return [[\r\n                        [\r\n                            box.x1,\r\n                            medianSlot.y1\r\n                        ],\r\n                        [\r\n                            box.x2,\r\n                            medianSlot.y1\r\n                        ]\r\n                    ]];\r\n            },\r\n            renderOutliers: function (options) {\r\n                var point = this, markers = options.markers || {}, value = point.value, outliers = value.outliers || [], outerFence = math.abs(value.q3 - value.q1) * 3, markersBorder, shape, outlierValue, i;\r\n                var elements = [];\r\n                for (i = 0; i < outliers.length; i++) {\r\n                    outlierValue = outliers[i];\r\n                    if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {\r\n                        markers = options.outliers;\r\n                    } else {\r\n                        markers = options.extremes;\r\n                    }\r\n                    markersBorder = deepExtend({}, markers.border);\r\n                    if (!defined(markersBorder.color)) {\r\n                        if (defined(point.color)) {\r\n                            markersBorder.color = point.color;\r\n                        } else {\r\n                            markersBorder.color = new Color(markers.background).brightness(BAR_BORDER_BRIGHTNESS).toHex();\r\n                        }\r\n                    }\r\n                    shape = new ShapeElement({\r\n                        type: markers.type,\r\n                        width: markers.size,\r\n                        height: markers.size,\r\n                        rotation: markers.rotation,\r\n                        background: markers.background,\r\n                        border: markersBorder,\r\n                        opacity: markers.opacity\r\n                    });\r\n                    shape.value = outlierValue;\r\n                    elements.push(shape);\r\n                }\r\n                this.reflowOutliers(elements);\r\n                return elements;\r\n            },\r\n            reflowOutliers: function (outliers) {\r\n                var valueAxis = this.owner.seriesValueAxis(this.options);\r\n                var center = this.box.center();\r\n                for (var i = 0; i < outliers.length; i++) {\r\n                    var outlierValue = outliers[i].value;\r\n                    var markerBox = valueAxis.getSlot(outlierValue);\r\n                    if (this.options.vertical) {\r\n                        markerBox.move(center.x);\r\n                    } else {\r\n                        markerBox.move(undefined, center.y);\r\n                    }\r\n                    this.box = this.box.wrap(markerBox);\r\n                    outliers[i].reflow(markerBox);\r\n                }\r\n            },\r\n            mainVisual: function (options) {\r\n                var group = Candlestick.fn.mainVisual.call(this, options);\r\n                var outliers = this.renderOutliers(options);\r\n                for (var i = 0; i < outliers.length; i++) {\r\n                    var element = outliers[i].getElement();\r\n                    if (element) {\r\n                        group.append(element);\r\n                    }\r\n                }\r\n                return group;\r\n            },\r\n            createLines: function (container, options) {\r\n                this.drawLines(container, options, this.whiskerPoints, options.line);\r\n                this.drawLines(container, options, this.medianPoints, options.median);\r\n                this.drawLines(container, options, this.meanPoints, options.mean);\r\n            },\r\n            getBorderColor: function () {\r\n                if (this.color) {\r\n                    return this.color;\r\n                }\r\n                return Candlestick.getBorderColor.call(this);\r\n            }\r\n        });\r\n        deepExtend(BoxPlot.fn, PointEventsMixin);\r\n        var VerticalBoxPlot = BoxPlot.extend({\r\n            reflowBoxSlot: function (box) {\r\n                this.boxSlot.y1 = box.y1;\r\n                this.boxSlot.y2 = box.y2;\r\n            },\r\n            reflowWhiskerSlot: function (box) {\r\n                this.whiskerSlot.y1 = box.y1;\r\n                this.whiskerSlot.y2 = box.y2;\r\n            },\r\n            calcMeanPoints: function (box, meanSlot) {\r\n                return [[\r\n                        [\r\n                            meanSlot.x1,\r\n                            box.y1\r\n                        ],\r\n                        [\r\n                            meanSlot.x1,\r\n                            box.y2\r\n                        ]\r\n                    ]];\r\n            },\r\n            calcWhiskerPoints: function (boxSlot, whiskerSlot) {\r\n                var mid = whiskerSlot.center().y;\r\n                return [\r\n                    [\r\n                        [\r\n                            whiskerSlot.x1,\r\n                            mid - 5\r\n                        ],\r\n                        [\r\n                            whiskerSlot.x1,\r\n                            mid + 5\r\n                        ],\r\n                        [\r\n                            whiskerSlot.x1,\r\n                            mid\r\n                        ],\r\n                        [\r\n                            boxSlot.x1,\r\n                            mid\r\n                        ]\r\n                    ],\r\n                    [\r\n                        [\r\n                            whiskerSlot.x2,\r\n                            mid - 5\r\n                        ],\r\n                        [\r\n                            whiskerSlot.x2,\r\n                            mid + 5\r\n                        ],\r\n                        [\r\n                            whiskerSlot.x2,\r\n                            mid\r\n                        ],\r\n                        [\r\n                            boxSlot.x2,\r\n                            mid\r\n                        ]\r\n                    ]\r\n                ];\r\n            },\r\n            calcMedianPoints: function (box, medianSlot) {\r\n                return [[\r\n                        [\r\n                            medianSlot.x1,\r\n                            box.y1\r\n                        ],\r\n                        [\r\n                            medianSlot.x1,\r\n                            box.y2\r\n                        ]\r\n                    ]];\r\n            }\r\n        });\r\n        var PieSegment = ChartElement.extend({\r\n            init: function (value, sector, options) {\r\n                var segment = this;\r\n                segment.value = value;\r\n                segment.sector = sector;\r\n                ChartElement.fn.init.call(segment, options);\r\n            },\r\n            options: {\r\n                color: WHITE,\r\n                overlay: { gradient: ROUNDED_BEVEL },\r\n                border: { width: 0.5 },\r\n                labels: {\r\n                    visible: false,\r\n                    distance: 35,\r\n                    font: DEFAULT_FONT,\r\n                    margin: getSpacing(0.5),\r\n                    align: CIRCLE,\r\n                    zIndex: 1,\r\n                    position: OUTSIDE_END\r\n                },\r\n                animation: { type: PIE },\r\n                highlight: {\r\n                    visible: true,\r\n                    border: { width: 1 }\r\n                },\r\n                visible: true\r\n            },\r\n            render: function () {\r\n                var segment = this, options = segment.options, labels = options.labels, labelText = segment.value, labelTemplate;\r\n                if (segment._rendered || segment.visible === false) {\r\n                    return;\r\n                } else {\r\n                    segment._rendered = true;\r\n                }\r\n                if (labels.template) {\r\n                    labelTemplate = template(labels.template);\r\n                    labelText = labelTemplate({\r\n                        dataItem: segment.dataItem,\r\n                        category: segment.category,\r\n                        value: segment.value,\r\n                        series: segment.series,\r\n                        percentage: segment.percentage\r\n                    });\r\n                } else if (labels.format) {\r\n                    labelText = autoFormat(labels.format, labelText);\r\n                }\r\n                if (labels.visible && labelText) {\r\n                    segment.label = new TextBox(labelText, deepExtend({}, labels, {\r\n                        align: CENTER,\r\n                        vAlign: '',\r\n                        animation: {\r\n                            type: FADEIN,\r\n                            delay: segment.animationDelay\r\n                        }\r\n                    }));\r\n                    segment.append(segment.label);\r\n                }\r\n            },\r\n            reflow: function (targetBox) {\r\n                var segment = this;\r\n                segment.render();\r\n                segment.box = targetBox;\r\n                segment.reflowLabel();\r\n            },\r\n            reflowLabel: function () {\r\n                var segment = this, sector = segment.sector.clone(), options = segment.options, label = segment.label, labelsOptions = options.labels, labelsDistance = labelsOptions.distance, angle = sector.middle(), lp, x1, labelWidth, labelHeight;\r\n                if (label) {\r\n                    labelHeight = label.box.height();\r\n                    labelWidth = label.box.width();\r\n                    if (labelsOptions.position == CENTER) {\r\n                        sector.r = math.abs((sector.r - labelHeight) / 2) + labelHeight;\r\n                        lp = sector.point(angle);\r\n                        label.reflow(Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\r\n                    } else if (labelsOptions.position == INSIDE_END) {\r\n                        sector.r = sector.r - labelHeight / 2;\r\n                        lp = sector.point(angle);\r\n                        label.reflow(Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\r\n                    } else {\r\n                        lp = sector.clone().expand(labelsDistance).point(angle);\r\n                        if (lp.x >= sector.c.x) {\r\n                            x1 = lp.x + labelWidth;\r\n                            label.orientation = RIGHT;\r\n                        } else {\r\n                            x1 = lp.x - labelWidth;\r\n                            label.orientation = LEFT;\r\n                        }\r\n                        label.reflow(Box2D(x1, lp.y - labelHeight, lp.x, lp.y));\r\n                    }\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                var segment = this, sector = segment.sector, options = segment.options;\r\n                ChartElement.fn.createVisual.call(this);\r\n                if (segment.value) {\r\n                    if (options.visual) {\r\n                        var startAngle = (sector.startAngle + 180) % 360;\r\n                        var visual = options.visual({\r\n                            category: segment.category,\r\n                            dataItem: segment.dataItem,\r\n                            value: segment.value,\r\n                            series: segment.series,\r\n                            percentage: segment.percentage,\r\n                            center: new geom.Point(sector.c.x, sector.c.y),\r\n                            radius: sector.r,\r\n                            innerRadius: sector.ir,\r\n                            startAngle: startAngle,\r\n                            endAngle: startAngle + sector.angle,\r\n                            options: options,\r\n                            createVisual: function () {\r\n                                var group = new draw.Group();\r\n                                segment.createSegmentVisual(group);\r\n                                return group;\r\n                            }\r\n                        });\r\n                        if (visual) {\r\n                            segment.visual.append(visual);\r\n                        }\r\n                    } else {\r\n                        segment.createSegmentVisual(segment.visual);\r\n                    }\r\n                }\r\n            },\r\n            createSegmentVisual: function (group) {\r\n                var segment = this, sector = segment.sector, options = segment.options, borderOptions = options.border || {}, border = borderOptions.width > 0 ? {\r\n                        stroke: {\r\n                            color: borderOptions.color,\r\n                            width: borderOptions.width,\r\n                            opacity: borderOptions.opacity,\r\n                            dashType: borderOptions.dashType\r\n                        }\r\n                    } : {}, color = options.color, fill = {\r\n                        color: color,\r\n                        opacity: options.opacity\r\n                    }, visual;\r\n                visual = segment.createSegment(sector, deepExtend({\r\n                    fill: fill,\r\n                    stroke: { opacity: options.opacity },\r\n                    zIndex: options.zIndex\r\n                }, border));\r\n                group.append(visual);\r\n                if (hasGradientOverlay(options)) {\r\n                    group.append(this.createGradientOverlay(visual, {\r\n                        baseColor: color,\r\n                        fallbackFill: fill\r\n                    }, deepExtend({\r\n                        center: [\r\n                            sector.c.x,\r\n                            sector.c.y\r\n                        ],\r\n                        innerRadius: sector.ir,\r\n                        radius: sector.r,\r\n                        userSpace: true\r\n                    }, options.overlay)));\r\n                }\r\n            },\r\n            createSegment: function (sector, options) {\r\n                if (options.singleSegment) {\r\n                    return new draw.Circle(new geom.Circle(new geom.Point(sector.c.x, sector.c.y), sector.r), options);\r\n                } else {\r\n                    return ShapeBuilder.current.createRing(sector, options);\r\n                }\r\n            },\r\n            createAnimation: function () {\r\n                var options = this.options;\r\n                var center = this.sector.c;\r\n                deepExtend(options, {\r\n                    animation: {\r\n                        center: [\r\n                            center.x,\r\n                            center.y\r\n                        ],\r\n                        delay: this.animationDelay\r\n                    }\r\n                });\r\n                ChartElement.fn.createAnimation.call(this);\r\n            },\r\n            createHighlight: function (options) {\r\n                var segment = this, highlight = segment.options.highlight || {}, border = highlight.border || {};\r\n                return segment.createSegment(segment.sector, deepExtend({}, options, {\r\n                    fill: {\r\n                        color: highlight.color,\r\n                        opacity: highlight.opacity\r\n                    },\r\n                    stroke: {\r\n                        opacity: border.opacity,\r\n                        width: border.width,\r\n                        color: border.color\r\n                    }\r\n                }));\r\n            },\r\n            highlightVisual: function () {\r\n                return this.visual.children[0];\r\n            },\r\n            highlightVisualArgs: function () {\r\n                var sector = this.sector;\r\n                return {\r\n                    options: this.options,\r\n                    radius: sector.r,\r\n                    innerRadius: sector.ir,\r\n                    center: new geom.Point(sector.c.x, sector.c.y),\r\n                    startAngle: sector.startAngle,\r\n                    endAngle: sector.angle + sector.startAngle,\r\n                    visual: this.visual\r\n                };\r\n            },\r\n            tooltipAnchor: function (width, height) {\r\n                var point = this, box = point.sector.adjacentBox(TOOLTIP_OFFSET, width, height);\r\n                return new Point2D(box.x1, box.y1);\r\n            },\r\n            formatValue: function (format) {\r\n                var point = this;\r\n                return point.owner.formatPointValue(point, format);\r\n            }\r\n        });\r\n        deepExtend(PieSegment.fn, PointEventsMixin);\r\n        var PieChartMixin = {\r\n            createLegendItem: function (value, point, options) {\r\n                var chart = this, legendOptions = chart.options.legend || {}, labelsOptions = legendOptions.labels || {}, inactiveItems = legendOptions.inactiveItems || {}, inactiveItemsLabels = inactiveItems.labels || {}, text, labelTemplate, markerColor, itemLabelOptions, pointVisible;\r\n                if (options && options.visibleInLegend !== false) {\r\n                    pointVisible = options.visible !== false;\r\n                    text = options.category || '';\r\n                    labelTemplate = pointVisible ? labelsOptions.template : inactiveItemsLabels.template || labelsOptions.template;\r\n                    if (labelTemplate) {\r\n                        text = template(labelTemplate)({\r\n                            text: text,\r\n                            series: options.series,\r\n                            dataItem: options.dataItem,\r\n                            percentage: options.percentage,\r\n                            value: value\r\n                        });\r\n                    }\r\n                    if (pointVisible) {\r\n                        itemLabelOptions = {};\r\n                        markerColor = point.color;\r\n                    } else {\r\n                        itemLabelOptions = {\r\n                            color: inactiveItemsLabels.color,\r\n                            font: inactiveItemsLabels.font\r\n                        };\r\n                        markerColor = (inactiveItems.markers || {}).color;\r\n                    }\r\n                    if (text) {\r\n                        chart.legendItems.push({\r\n                            pointIndex: options.index,\r\n                            text: text,\r\n                            series: options.series,\r\n                            markerColor: markerColor,\r\n                            labels: itemLabelOptions\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var PieChart = ChartElement.extend({\r\n            init: function (plotArea, options) {\r\n                var chart = this;\r\n                ChartElement.fn.init.call(chart, options);\r\n                chart.plotArea = plotArea;\r\n                chart.points = [];\r\n                chart.legendItems = [];\r\n                chart.render();\r\n            },\r\n            options: {\r\n                startAngle: 90,\r\n                connectors: {\r\n                    width: 1,\r\n                    color: '#939393',\r\n                    padding: 4\r\n                },\r\n                inactiveItems: {\r\n                    markers: {},\r\n                    labels: {}\r\n                }\r\n            },\r\n            render: function () {\r\n                var chart = this;\r\n                chart.traverseDataPoints(proxy(chart.addValue, chart));\r\n            },\r\n            traverseDataPoints: function (callback) {\r\n                var chart = this, options = chart.options, colors = chart.plotArea.options.seriesColors || [], colorsCount = colors.length, series = options.series, seriesCount = series.length, currentSeries, pointData, fields, seriesIx, angle, data, anglePerValue, value, plotValue, explode, total, currentAngle, i, pointIx = 0;\r\n                for (seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    data = currentSeries.data;\r\n                    total = seriesTotal(currentSeries);\r\n                    anglePerValue = 360 / total;\r\n                    if (defined(currentSeries.startAngle)) {\r\n                        currentAngle = currentSeries.startAngle;\r\n                    } else {\r\n                        currentAngle = options.startAngle;\r\n                    }\r\n                    if (seriesIx != seriesCount - 1) {\r\n                        if (currentSeries.labels.position == OUTSIDE_END) {\r\n                            currentSeries.labels.position = CENTER;\r\n                        }\r\n                    }\r\n                    for (i = 0; i < data.length; i++) {\r\n                        pointData = SeriesBinder.current.bindPoint(currentSeries, i);\r\n                        value = pointData.valueFields.value;\r\n                        plotValue = math.abs(value);\r\n                        fields = pointData.fields;\r\n                        angle = plotValue * anglePerValue;\r\n                        explode = data.length != 1 && !!fields.explode;\r\n                        if (!isFn(currentSeries.color)) {\r\n                            currentSeries.color = fields.color || colors[i % colorsCount];\r\n                        }\r\n                        callback(value, new Ring(null, 0, 0, currentAngle, angle), {\r\n                            owner: chart,\r\n                            category: fields.category || '',\r\n                            index: pointIx,\r\n                            series: currentSeries,\r\n                            seriesIx: seriesIx,\r\n                            dataItem: data[i],\r\n                            percentage: total !== 0 ? plotValue / total : 0,\r\n                            explode: explode,\r\n                            visibleInLegend: fields.visibleInLegend,\r\n                            visible: fields.visible,\r\n                            zIndex: seriesCount - seriesIx,\r\n                            animationDelay: chart.animationDelay(i, seriesIx, seriesCount)\r\n                        });\r\n                        if (pointData.fields.visible !== false) {\r\n                            currentAngle += angle;\r\n                        }\r\n                        pointIx++;\r\n                    }\r\n                    pointIx = 0;\r\n                }\r\n            },\r\n            evalSegmentOptions: function (options, value, fields) {\r\n                var series = fields.series;\r\n                evalOptions(options, {\r\n                    value: value,\r\n                    series: series,\r\n                    dataItem: fields.dataItem,\r\n                    category: fields.category,\r\n                    percentage: fields.percentage\r\n                }, {\r\n                    defaults: series._defaults,\r\n                    excluded: [\r\n                        'data',\r\n                        'template',\r\n                        'visual',\r\n                        'toggle'\r\n                    ]\r\n                });\r\n            },\r\n            addValue: function (value, sector, fields) {\r\n                var chart = this, segment;\r\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\r\n                chart.evalSegmentOptions(segmentOptions, value, fields);\r\n                chart.createLegendItem(value, segmentOptions, fields);\r\n                if (fields.visible === false) {\r\n                    return;\r\n                }\r\n                segment = new PieSegment(value, sector, segmentOptions);\r\n                extend(segment, fields);\r\n                chart.append(segment);\r\n                chart.points.push(segment);\r\n            },\r\n            reflow: function (targetBox) {\r\n                var chart = this, options = chart.options, box = targetBox.clone(), space = 5, minWidth = math.min(box.width(), box.height()), halfMinWidth = minWidth / 2, defaultPadding = minWidth - minWidth * 0.85, padding = valueOrDefault(options.padding, defaultPadding), newBox = Box2D(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth), newBoxCenter = newBox.center(), seriesConfigs = chart.seriesConfigs || [], boxCenter = box.center(), points = chart.points, count = points.length, seriesCount = options.series.length, leftSideLabels = [], rightSideLabels = [], seriesConfig, seriesIndex, label, segment, sector, r, i, c;\r\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\r\n                newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);\r\n                r = halfMinWidth - padding;\r\n                c = Point2D(r + newBox.x1 + padding, r + newBox.y1 + padding);\r\n                for (i = 0; i < count; i++) {\r\n                    segment = points[i];\r\n                    sector = segment.sector;\r\n                    sector.r = r;\r\n                    sector.c = c;\r\n                    seriesIndex = segment.seriesIx;\r\n                    if (seriesConfigs.length) {\r\n                        seriesConfig = seriesConfigs[seriesIndex];\r\n                        sector.ir = seriesConfig.ir;\r\n                        sector.r = seriesConfig.r;\r\n                    }\r\n                    if (seriesIndex == seriesCount - 1 && segment.explode) {\r\n                        sector.c = sector.clone().radius(sector.r * 0.15).point(sector.middle());\r\n                    }\r\n                    segment.reflow(newBox);\r\n                    label = segment.label;\r\n                    if (label) {\r\n                        if (label.options.position === OUTSIDE_END) {\r\n                            if (seriesIndex == seriesCount - 1) {\r\n                                if (label.orientation === RIGHT) {\r\n                                    rightSideLabels.push(label);\r\n                                } else {\r\n                                    leftSideLabels.push(label);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (leftSideLabels.length > 0) {\r\n                    leftSideLabels.sort(chart.labelComparator(true));\r\n                    chart.leftLabelsReflow(leftSideLabels);\r\n                }\r\n                if (rightSideLabels.length > 0) {\r\n                    rightSideLabels.sort(chart.labelComparator(false));\r\n                    chart.rightLabelsReflow(rightSideLabels);\r\n                }\r\n                chart.box = newBox;\r\n            },\r\n            leftLabelsReflow: function (labels) {\r\n                var chart = this, distances = chart.distanceBetweenLabels(labels);\r\n                chart.distributeLabels(distances, labels);\r\n            },\r\n            rightLabelsReflow: function (labels) {\r\n                var chart = this, distances = chart.distanceBetweenLabels(labels);\r\n                chart.distributeLabels(distances, labels);\r\n            },\r\n            distanceBetweenLabels: function (labels) {\r\n                var chart = this, points = chart.points, segment = points[points.length - 1], sector = segment.sector, firstBox = labels[0].box, count = labels.length - 1, lr = sector.r + segment.options.labels.distance, distances = [], secondBox, distance, i;\r\n                distance = round(firstBox.y1 - (sector.c.y - lr - firstBox.height() - firstBox.height() / 2));\r\n                distances.push(distance);\r\n                for (i = 0; i < count; i++) {\r\n                    firstBox = labels[i].box;\r\n                    secondBox = labels[i + 1].box;\r\n                    distance = round(secondBox.y1 - firstBox.y2);\r\n                    distances.push(distance);\r\n                }\r\n                distance = round(sector.c.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);\r\n                distances.push(distance);\r\n                return distances;\r\n            },\r\n            distributeLabels: function (distances, labels) {\r\n                var chart = this, count = distances.length, remaining, left, right, i;\r\n                for (i = 0; i < count; i++) {\r\n                    left = right = i;\r\n                    remaining = -distances[i];\r\n                    while (remaining > 0 && (left >= 0 || right < count)) {\r\n                        remaining = chart._takeDistance(distances, i, --left, remaining);\r\n                        remaining = chart._takeDistance(distances, i, ++right, remaining);\r\n                    }\r\n                }\r\n                chart.reflowLabels(distances, labels);\r\n            },\r\n            _takeDistance: function (distances, anchor, position, amount) {\r\n                if (distances[position] > 0) {\r\n                    var available = math.min(distances[position], amount);\r\n                    amount -= available;\r\n                    distances[position] -= available;\r\n                    distances[anchor] += available;\r\n                }\r\n                return amount;\r\n            },\r\n            reflowLabels: function (distances, labels) {\r\n                var chart = this, points = chart.points, segment = points[points.length - 1], sector = segment.sector, labelsCount = labels.length, labelOptions = segment.options.labels, labelDistance = labelOptions.distance, boxY = sector.c.y - (sector.r + labelDistance) - labels[0].box.height(), label, boxX, box, i;\r\n                distances[0] += 2;\r\n                for (i = 0; i < labelsCount; i++) {\r\n                    label = labels[i];\r\n                    boxY += distances[i];\r\n                    box = label.box;\r\n                    boxX = chart.hAlignLabel(box.x2, sector.clone().expand(labelDistance), boxY, boxY + box.height(), label.orientation == RIGHT);\r\n                    if (label.orientation == RIGHT) {\r\n                        if (labelOptions.align !== CIRCLE) {\r\n                            boxX = sector.r + sector.c.x + labelDistance;\r\n                        }\r\n                        label.reflow(Box2D(boxX + box.width(), boxY, boxX, boxY));\r\n                    } else {\r\n                        if (labelOptions.align !== CIRCLE) {\r\n                            boxX = sector.c.x - sector.r - labelDistance;\r\n                        }\r\n                        label.reflow(Box2D(boxX - box.width(), boxY, boxX, boxY));\r\n                    }\r\n                    boxY += box.height();\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                var chart = this, options = chart.options, connectors = options.connectors, points = chart.points, connectorLine, count = points.length, space = 4, sector, angle, segment, seriesIx, label, i;\r\n                ChartElement.fn.createVisual.call(this);\r\n                this._connectorLines = [];\r\n                for (i = 0; i < count; i++) {\r\n                    segment = points[i];\r\n                    sector = segment.sector;\r\n                    angle = sector.middle();\r\n                    label = segment.label;\r\n                    seriesIx = { seriesId: segment.seriesIx };\r\n                    if (label) {\r\n                        connectorLine = new draw.Path({\r\n                            stroke: {\r\n                                color: connectors.color,\r\n                                width: connectors.width\r\n                            },\r\n                            animation: {\r\n                                type: FADEIN,\r\n                                delay: segment.animationDelay\r\n                            }\r\n                        });\r\n                        if (label.options.position === OUTSIDE_END && segment.value !== 0) {\r\n                            var box = label.box, centerPoint = sector.c, start = sector.point(angle), middle = Point2D(box.x1, box.center().y), sr, end, crossing;\r\n                            start = sector.clone().expand(connectors.padding).point(angle);\r\n                            connectorLine.moveTo(start.x, start.y);\r\n                            if (label.orientation == RIGHT) {\r\n                                end = Point2D(box.x1 - connectors.padding, box.center().y);\r\n                                crossing = intersection(centerPoint, start, middle, end);\r\n                                middle = Point2D(end.x - space, end.y);\r\n                                crossing = crossing || middle;\r\n                                crossing.x = math.min(crossing.x, middle.x);\r\n                                if (chart.pointInCircle(crossing, sector.c, sector.r + space) || crossing.x < sector.c.x) {\r\n                                    sr = sector.c.x + sector.r + space;\r\n                                    if (segment.options.labels.align !== COLUMN) {\r\n                                        if (sr < middle.x) {\r\n                                            connectorLine.lineTo(sr, start.y);\r\n                                        } else {\r\n                                            connectorLine.lineTo(start.x + space * 2, start.y);\r\n                                        }\r\n                                    } else {\r\n                                        connectorLine.lineTo(sr, start.y);\r\n                                    }\r\n                                    connectorLine.lineTo(middle.x, end.y);\r\n                                } else {\r\n                                    crossing.y = end.y;\r\n                                    connectorLine.lineTo(crossing.x, crossing.y);\r\n                                }\r\n                            } else {\r\n                                end = Point2D(box.x2 + connectors.padding, box.center().y);\r\n                                crossing = intersection(centerPoint, start, middle, end);\r\n                                middle = Point2D(end.x + space, end.y);\r\n                                crossing = crossing || middle;\r\n                                crossing.x = math.max(crossing.x, middle.x);\r\n                                if (chart.pointInCircle(crossing, sector.c, sector.r + space) || crossing.x > sector.c.x) {\r\n                                    sr = sector.c.x - sector.r - space;\r\n                                    if (segment.options.labels.align !== COLUMN) {\r\n                                        if (sr > middle.x) {\r\n                                            connectorLine.lineTo(sr, start.y);\r\n                                        } else {\r\n                                            connectorLine.lineTo(start.x - space * 2, start.y);\r\n                                        }\r\n                                    } else {\r\n                                        connectorLine.lineTo(sr, start.y);\r\n                                    }\r\n                                    connectorLine.lineTo(middle.x, end.y);\r\n                                } else {\r\n                                    crossing.y = end.y;\r\n                                    connectorLine.lineTo(crossing.x, crossing.y);\r\n                                }\r\n                            }\r\n                            connectorLine.lineTo(end.x, end.y);\r\n                            this._connectorLines.push(connectorLine);\r\n                            this.visual.append(connectorLine);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            labelComparator: function (reverse) {\r\n                reverse = reverse ? -1 : 1;\r\n                return function (a, b) {\r\n                    a = (a.parent.sector.middle() + 270) % 360;\r\n                    b = (b.parent.sector.middle() + 270) % 360;\r\n                    return (a - b) * reverse;\r\n                };\r\n            },\r\n            hAlignLabel: function (originalX, sector, y1, y2, direction) {\r\n                var cx = sector.c.x, cy = sector.c.y, r = sector.r, t = math.min(math.abs(cy - y1), math.abs(cy - y2));\r\n                if (t > r) {\r\n                    return originalX;\r\n                } else {\r\n                    return cx + math.sqrt(r * r - t * t) * (direction ? 1 : -1);\r\n                }\r\n            },\r\n            pointInCircle: function (point, c, r) {\r\n                return sqr(c.x - point.x) + sqr(c.y - point.y) < sqr(r);\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                return autoFormat(format, point.value);\r\n            },\r\n            animationDelay: function (categoryIndex) {\r\n                return categoryIndex * PIE_SECTOR_ANIM_DELAY;\r\n            }\r\n        });\r\n        deepExtend(PieChart.fn, PieChartMixin);\r\n        var DonutSegment = PieSegment.extend({\r\n            options: {\r\n                overlay: { gradient: ROUNDED_GLASS },\r\n                labels: { position: CENTER },\r\n                animation: { type: PIE }\r\n            },\r\n            reflowLabel: function () {\r\n                var segment = this, sector = segment.sector.clone(), options = segment.options, label = segment.label, labelsOptions = options.labels, lp, angle = sector.middle(), labelHeight;\r\n                if (label) {\r\n                    labelHeight = label.box.height();\r\n                    if (labelsOptions.position == CENTER) {\r\n                        sector.r -= (sector.r - sector.ir) / 2;\r\n                        lp = sector.point(angle);\r\n                        label.reflow(new Box2D(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\r\n                    } else {\r\n                        PieSegment.fn.reflowLabel.call(segment);\r\n                    }\r\n                }\r\n            },\r\n            createSegment: function (sector, options) {\r\n                return ShapeBuilder.current.createRing(sector, options);\r\n            }\r\n        });\r\n        deepExtend(DonutSegment.fn, PointEventsMixin);\r\n        var DonutChart = PieChart.extend({\r\n            options: {\r\n                startAngle: 90,\r\n                connectors: {\r\n                    width: 1,\r\n                    color: '#939393',\r\n                    padding: 4\r\n                }\r\n            },\r\n            addValue: function (value, sector, fields) {\r\n                var chart = this, segment;\r\n                var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\r\n                chart.evalSegmentOptions(segmentOptions, value, fields);\r\n                chart.createLegendItem(value, segmentOptions, fields);\r\n                if (!value || fields.visible === false) {\r\n                    return;\r\n                }\r\n                segment = new DonutSegment(value, sector, segmentOptions);\r\n                extend(segment, fields);\r\n                chart.append(segment);\r\n                chart.points.push(segment);\r\n            },\r\n            reflow: function (targetBox) {\r\n                var chart = this, options = chart.options, box = targetBox.clone(), space = 5, minWidth = math.min(box.width(), box.height()), halfMinWidth = minWidth / 2, defaultPadding = minWidth - minWidth * 0.85, padding = valueOrDefault(options.padding, defaultPadding), series = options.series, currentSeries, seriesCount = series.length, seriesWithoutSize = 0, holeSize, totalSize, size, margin = 0, i, r, ir = 0, currentSize = 0;\r\n                chart.seriesConfigs = [];\r\n                padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\r\n                totalSize = halfMinWidth - padding;\r\n                for (i = 0; i < seriesCount; i++) {\r\n                    currentSeries = series[i];\r\n                    if (i === 0) {\r\n                        if (defined(currentSeries.holeSize)) {\r\n                            holeSize = currentSeries.holeSize;\r\n                            totalSize -= currentSeries.holeSize;\r\n                        }\r\n                    }\r\n                    if (defined(currentSeries.size)) {\r\n                        totalSize -= currentSeries.size;\r\n                    } else {\r\n                        seriesWithoutSize++;\r\n                    }\r\n                    if (defined(currentSeries.margin) && i != seriesCount - 1) {\r\n                        totalSize -= currentSeries.margin;\r\n                    }\r\n                }\r\n                if (!defined(holeSize)) {\r\n                    currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);\r\n                    holeSize = currentSize * 0.75;\r\n                    totalSize -= holeSize;\r\n                }\r\n                ir = holeSize;\r\n                for (i = 0; i < seriesCount; i++) {\r\n                    currentSeries = series[i];\r\n                    size = valueOrDefault(currentSeries.size, totalSize / seriesWithoutSize);\r\n                    ir += margin;\r\n                    r = ir + size;\r\n                    chart.seriesConfigs.push({\r\n                        ir: ir,\r\n                        r: r\r\n                    });\r\n                    margin = currentSeries.margin || 0;\r\n                    ir = r;\r\n                }\r\n                PieChart.fn.reflow.call(chart, targetBox);\r\n            },\r\n            animationDelay: function (categoryIndex, seriesIndex, seriesCount) {\r\n                return categoryIndex * DONUT_SECTOR_ANIM_DELAY + INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1);\r\n            }\r\n        });\r\n        var WaterfallChart = BarChart.extend({\r\n            render: function () {\r\n                BarChart.fn.render.call(this);\r\n                this.createSegments();\r\n            },\r\n            traverseDataPoints: function (callback) {\r\n                var series = this.options.series;\r\n                var categories = this.categoryAxis.options.categories || [];\r\n                var totalCategories = categoriesCount(series);\r\n                var isVertical = !this.options.invertAxes;\r\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    var currentSeries = series[seriesIx];\r\n                    var total = 0;\r\n                    var runningTotal = 0;\r\n                    for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {\r\n                        var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);\r\n                        var value = data.valueFields.value;\r\n                        var summary = data.fields.summary;\r\n                        var from = total;\r\n                        var to;\r\n                        if (summary) {\r\n                            if (summary.toLowerCase() === 'total') {\r\n                                data.valueFields.value = total;\r\n                                from = 0;\r\n                                to = total;\r\n                            } else {\r\n                                data.valueFields.value = runningTotal;\r\n                                to = from - runningTotal;\r\n                                runningTotal = 0;\r\n                            }\r\n                        } else if (isNumber(value)) {\r\n                            runningTotal += value;\r\n                            total += value;\r\n                            to = total;\r\n                        }\r\n                        callback(data, {\r\n                            category: categories[categoryIx],\r\n                            categoryIx: categoryIx,\r\n                            series: currentSeries,\r\n                            seriesIx: seriesIx,\r\n                            total: total,\r\n                            runningTotal: runningTotal,\r\n                            from: from,\r\n                            to: to,\r\n                            isVertical: isVertical\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            updateRange: function (value, fields) {\r\n                BarChart.fn.updateRange.call(this, { value: fields.to }, fields);\r\n            },\r\n            aboveAxis: function (point) {\r\n                return point.value >= 0;\r\n            },\r\n            plotRange: function (point) {\r\n                return [\r\n                    point.from,\r\n                    point.to\r\n                ];\r\n            },\r\n            createSegments: function () {\r\n                var series = this.options.series;\r\n                var seriesPoints = this.seriesPoints;\r\n                var segments = this.segments = [];\r\n                for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    var currentSeries = series[seriesIx];\r\n                    var points = seriesPoints[seriesIx];\r\n                    if (points) {\r\n                        var prevPoint;\r\n                        for (var pointIx = 0; pointIx < points.length; pointIx++) {\r\n                            var point = points[pointIx];\r\n                            if (point && prevPoint) {\r\n                                var segment = new WaterfallSegment(prevPoint, point, currentSeries);\r\n                                segments.push(segment);\r\n                                this.append(segment);\r\n                            }\r\n                            prevPoint = point;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var WaterfallSegment = ChartElement.extend({\r\n            init: function (from, to, series) {\r\n                var segment = this;\r\n                ChartElement.fn.init.call(segment);\r\n                segment.from = from;\r\n                segment.to = to;\r\n                segment.series = series;\r\n            },\r\n            options: {\r\n                animation: {\r\n                    type: FADEIN,\r\n                    delay: INITIAL_ANIMATION_DURATION\r\n                }\r\n            },\r\n            linePoints: function () {\r\n                var points = [];\r\n                var from = this.from;\r\n                var fromBox = from.box;\r\n                var toBox = this.to.box;\r\n                if (from.isVertical) {\r\n                    var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;\r\n                    points.push([\r\n                        fromBox.x1,\r\n                        y\r\n                    ], [\r\n                        toBox.x2,\r\n                        y\r\n                    ]);\r\n                } else {\r\n                    var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;\r\n                    points.push([\r\n                        x,\r\n                        fromBox.y1\r\n                    ], [\r\n                        x,\r\n                        toBox.y2\r\n                    ]);\r\n                }\r\n                return points;\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                var line = this.series.line || {};\r\n                var path = draw.Path.fromPoints(this.linePoints(), {\r\n                    stroke: {\r\n                        color: line.color,\r\n                        width: line.width,\r\n                        opacity: line.opacity,\r\n                        dashType: line.dashType\r\n                    }\r\n                });\r\n                alignPathToPixel(path);\r\n                this.visual.append(path);\r\n            }\r\n        });\r\n        function returnSelf() {\r\n            return this;\r\n        }\r\n        var Pane = BoxElement.extend({\r\n            init: function (options) {\r\n                var pane = this;\r\n                BoxElement.fn.init.call(pane, options);\r\n                options = pane.options;\r\n                pane.id = kendo.guid();\r\n                pane.createTitle();\r\n                pane.content = new ChartElement();\r\n                pane.chartContainer = new ChartContainer({}, pane);\r\n                pane.append(pane.content);\r\n                pane.axes = [];\r\n                pane.charts = [];\r\n            },\r\n            options: {\r\n                zIndex: -1,\r\n                shrinkToFit: true,\r\n                title: { align: LEFT },\r\n                visible: true\r\n            },\r\n            createTitle: function () {\r\n                var pane = this;\r\n                var titleOptions = pane.options.title;\r\n                if (typeof titleOptions === OBJECT) {\r\n                    titleOptions = deepExtend({}, titleOptions, {\r\n                        align: titleOptions.position,\r\n                        position: TOP\r\n                    });\r\n                }\r\n                pane.title = Title.buildTitle(titleOptions, pane, Pane.fn.options.title);\r\n            },\r\n            appendAxis: function (axis) {\r\n                var pane = this;\r\n                pane.content.append(axis);\r\n                pane.axes.push(axis);\r\n                axis.pane = pane;\r\n            },\r\n            appendChart: function (chart) {\r\n                var pane = this;\r\n                if (pane.chartContainer.parent !== pane.content) {\r\n                    pane.content.append(pane.chartContainer);\r\n                }\r\n                pane.charts.push(chart);\r\n                pane.chartContainer.append(chart);\r\n                chart.pane = pane;\r\n            },\r\n            empty: function () {\r\n                var pane = this, plotArea = pane.parent, i;\r\n                if (plotArea) {\r\n                    for (i = 0; i < pane.axes.length; i++) {\r\n                        plotArea.removeAxis(pane.axes[i]);\r\n                    }\r\n                    for (i = 0; i < pane.charts.length; i++) {\r\n                        plotArea.removeChart(pane.charts[i]);\r\n                    }\r\n                }\r\n                pane.axes = [];\r\n                pane.charts = [];\r\n                pane.content.destroy();\r\n                pane.content.children = [];\r\n                pane.chartContainer.children = [];\r\n            },\r\n            reflow: function (targetBox) {\r\n                var pane = this;\r\n                var content;\r\n                if (last(pane.children) === pane.content) {\r\n                    content = pane.children.pop();\r\n                }\r\n                BoxElement.fn.reflow.call(pane, targetBox);\r\n                if (content) {\r\n                    pane.children.push(content);\r\n                }\r\n                if (pane.title) {\r\n                    pane.contentBox.y1 += pane.title.box.height();\r\n                }\r\n            },\r\n            visualStyle: function () {\r\n                var style = BoxElement.fn.visualStyle.call(this);\r\n                style.zIndex = -10;\r\n                return style;\r\n            },\r\n            renderComplete: function () {\r\n                if (this.options.visible) {\r\n                    this.createGridLines();\r\n                }\r\n            },\r\n            stackRoot: returnSelf,\r\n            clipRoot: returnSelf,\r\n            createGridLines: function () {\r\n                var pane = this, axes = pane.axes, allAxes = axes.concat(pane.parent.axes), vGridLines = [], hGridLines = [], gridLines, i, j, axis, vertical, altAxis;\r\n                for (i = 0; i < axes.length; i++) {\r\n                    axis = axes[i];\r\n                    vertical = axis.options.vertical;\r\n                    gridLines = vertical ? vGridLines : hGridLines;\r\n                    for (j = 0; j < allAxes.length; j++) {\r\n                        if (gridLines.length === 0) {\r\n                            altAxis = allAxes[j];\r\n                            if (vertical !== altAxis.options.vertical) {\r\n                                append(gridLines, axis.createGridLines(altAxis));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            refresh: function () {\r\n                this.visual.clear();\r\n                this.content.parent = null;\r\n                this.content.createGradient = $.proxy(this.createGradient, this);\r\n                this.content.renderVisual();\r\n                this.content.parent = this;\r\n                if (this.title) {\r\n                    this.visual.append(this.title.visual);\r\n                }\r\n                this.visual.append(this.content.visual);\r\n                this.renderComplete();\r\n            },\r\n            clipBox: function () {\r\n                return this.chartContainer.clipBox;\r\n            }\r\n        });\r\n        var ChartContainer = ChartElement.extend({\r\n            init: function (options, pane) {\r\n                var container = this;\r\n                ChartElement.fn.init.call(container, options);\r\n                container.pane = pane;\r\n            },\r\n            shouldClip: function () {\r\n                var container = this, children = container.children, length = children.length, i;\r\n                for (i = 0; i < length; i++) {\r\n                    if (children[i].options.clip === true) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _clipBox: function () {\r\n                var container = this, pane = container.pane, axes = pane.axes, length = axes.length, clipBox = pane.box.clone(), axisValueField, idx, lineBox, axis;\r\n                for (idx = 0; idx < length; idx++) {\r\n                    axis = axes[idx];\r\n                    axisValueField = axis.options.vertical ? Y : X;\r\n                    lineBox = axis.lineBox();\r\n                    clipBox[axisValueField + 1] = lineBox[axisValueField + 1];\r\n                    clipBox[axisValueField + 2] = lineBox[axisValueField + 2];\r\n                }\r\n                return clipBox;\r\n            },\r\n            createVisual: function () {\r\n                this.visual = new draw.Group({ zIndex: 0 });\r\n                if (this.shouldClip()) {\r\n                    var clipBox = this.clipBox = this._clipBox();\r\n                    var clipRect = clipBox.toRect();\r\n                    var clipPath = draw.Path.fromRect(clipRect);\r\n                    this.visual.clip(clipPath);\r\n                    this.unclipLabels();\r\n                }\r\n            },\r\n            stackRoot: returnSelf,\r\n            unclipLabels: function () {\r\n                var container = this, charts = container.children, clipBox = container.clipBox, points, point, i, j, length, label, note;\r\n                for (i = 0; i < charts.length; i++) {\r\n                    points = charts[i].points || {};\r\n                    length = points.length;\r\n                    for (j = 0; j < length; j++) {\r\n                        point = points[j];\r\n                        if (point && point.overlapsBox && point.overlapsBox(clipBox)) {\r\n                            label = point.label;\r\n                            note = point.note;\r\n                            if (label && label.options.visible) {\r\n                                if (label.alignToClipBox) {\r\n                                    label.alignToClipBox(clipBox);\r\n                                }\r\n                                label.options.noclip = true;\r\n                            }\r\n                            if (note && note.options.visible) {\r\n                                note.options.noclip = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            destroy: function () {\r\n                ChartElement.fn.destroy.call(this);\r\n                delete this.parent;\r\n            }\r\n        });\r\n        var PlotAreaBase = ChartElement.extend({\r\n            init: function (series, options) {\r\n                var plotArea = this;\r\n                ChartElement.fn.init.call(plotArea, options);\r\n                plotArea.series = series;\r\n                plotArea.initSeries();\r\n                plotArea.charts = [];\r\n                plotArea.options.legend.items = [];\r\n                plotArea.axes = [];\r\n                plotArea.crosshairs = [];\r\n                plotArea.createPanes();\r\n                plotArea.render();\r\n                plotArea.createCrosshairs();\r\n            },\r\n            options: {\r\n                series: [],\r\n                plotArea: { margin: {} },\r\n                background: '',\r\n                border: {\r\n                    color: BLACK,\r\n                    width: 0\r\n                },\r\n                legend: {\r\n                    inactiveItems: {\r\n                        labels: { color: '#919191' },\r\n                        markers: { color: '#919191' }\r\n                    }\r\n                }\r\n            },\r\n            initSeries: function () {\r\n                var series = this.series, i, currentSeries;\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    currentSeries.index = i;\r\n                }\r\n            },\r\n            createPanes: function () {\r\n                var plotArea = this, defaults = { title: { color: (plotArea.options.title || {}).color } }, panes = [], paneOptions = plotArea.options.panes || [], i, panesLength = math.max(paneOptions.length, 1), currentPane;\r\n                function setTitle(options, defaults) {\r\n                    if (typeof options.title === 'string') {\r\n                        options.title = { text: options.title };\r\n                    }\r\n                    options.title = deepExtend({}, defaults.title, options.title);\r\n                }\r\n                for (i = 0; i < panesLength; i++) {\r\n                    var options = paneOptions[i] || {};\r\n                    setTitle(options, defaults);\r\n                    currentPane = new Pane(options);\r\n                    currentPane.paneIndex = i;\r\n                    panes.push(currentPane);\r\n                    plotArea.append(currentPane);\r\n                }\r\n                plotArea.panes = panes;\r\n            },\r\n            createCrosshairs: function (panes) {\r\n                var plotArea = this, i, j, pane, axis, currentCrosshair;\r\n                panes = panes || plotArea.panes;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    pane = panes[i];\r\n                    for (j = 0; j < pane.axes.length; j++) {\r\n                        axis = pane.axes[j];\r\n                        if (axis.options.crosshair && axis.options.crosshair.visible) {\r\n                            currentCrosshair = new Crosshair(axis, axis.options.crosshair);\r\n                            plotArea.crosshairs.push(currentCrosshair);\r\n                            pane.content.append(currentCrosshair);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            removeCrosshairs: function (pane) {\r\n                var plotArea = this, crosshairs = plotArea.crosshairs, axes = pane.axes, i, j;\r\n                for (i = crosshairs.length - 1; i >= 0; i--) {\r\n                    for (j = 0; j < axes.length; j++) {\r\n                        if (crosshairs[i].axis === axes[j]) {\r\n                            crosshairs.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            hideCrosshairs: function () {\r\n                var crosshairs = this.crosshairs;\r\n                for (var idx = 0; idx < crosshairs.length; idx++) {\r\n                    crosshairs[idx].hide();\r\n                }\r\n            },\r\n            findPane: function (name) {\r\n                var plotArea = this, panes = plotArea.panes, i, matchingPane;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    if (panes[i].options.name === name) {\r\n                        matchingPane = panes[i];\r\n                        break;\r\n                    }\r\n                }\r\n                return matchingPane || panes[0];\r\n            },\r\n            findPointPane: function (point) {\r\n                var plotArea = this, panes = plotArea.panes, i, matchingPane;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    if (panes[i].box.containsPoint(point)) {\r\n                        matchingPane = panes[i];\r\n                        break;\r\n                    }\r\n                }\r\n                return matchingPane;\r\n            },\r\n            appendAxis: function (axis) {\r\n                var plotArea = this, pane = plotArea.findPane(axis.options.pane);\r\n                pane.appendAxis(axis);\r\n                plotArea.axes.push(axis);\r\n                axis.plotArea = plotArea;\r\n            },\r\n            removeAxis: function (axisToRemove) {\r\n                var plotArea = this, i, axis, filteredAxes = [];\r\n                for (i = 0; i < plotArea.axes.length; i++) {\r\n                    axis = plotArea.axes[i];\r\n                    if (axisToRemove !== axis) {\r\n                        filteredAxes.push(axis);\r\n                    } else {\r\n                        axis.destroy();\r\n                    }\r\n                }\r\n                plotArea.axes = filteredAxes;\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                var plotArea = this;\r\n                plotArea.charts.push(chart);\r\n                if (pane) {\r\n                    pane.appendChart(chart);\r\n                } else {\r\n                    plotArea.append(chart);\r\n                }\r\n            },\r\n            removeChart: function (chartToRemove) {\r\n                var plotArea = this, i, chart, filteredCharts = [];\r\n                for (i = 0; i < plotArea.charts.length; i++) {\r\n                    chart = plotArea.charts[i];\r\n                    if (chart !== chartToRemove) {\r\n                        filteredCharts.push(chart);\r\n                    } else {\r\n                        chart.destroy();\r\n                    }\r\n                }\r\n                plotArea.charts = filteredCharts;\r\n            },\r\n            addToLegend: function (series) {\r\n                var count = series.length, data = [], i, currentSeries, text, legend = this.options.legend, labels = legend.labels || {}, inactiveItems = legend.inactiveItems || {}, inactiveItemsLabels = inactiveItems.labels || {}, color, itemLabelOptions, markerColor, defaults, seriesVisible, labelTemplate;\r\n                for (i = 0; i < count; i++) {\r\n                    currentSeries = series[i];\r\n                    seriesVisible = currentSeries.visible !== false;\r\n                    if (currentSeries.visibleInLegend === false) {\r\n                        continue;\r\n                    }\r\n                    text = currentSeries.name || '';\r\n                    labelTemplate = seriesVisible ? labels.template : inactiveItemsLabels.template || labels.template;\r\n                    if (labelTemplate) {\r\n                        text = template(labelTemplate)({\r\n                            text: text,\r\n                            series: currentSeries\r\n                        });\r\n                    }\r\n                    color = currentSeries.color;\r\n                    defaults = currentSeries._defaults;\r\n                    if (isFn(color) && defaults) {\r\n                        color = defaults.color;\r\n                    }\r\n                    if (seriesVisible) {\r\n                        itemLabelOptions = {};\r\n                        markerColor = color;\r\n                    } else {\r\n                        itemLabelOptions = {\r\n                            color: inactiveItemsLabels.color,\r\n                            font: inactiveItemsLabels.font\r\n                        };\r\n                        markerColor = inactiveItems.markers.color;\r\n                    }\r\n                    if (text) {\r\n                        data.push({\r\n                            text: text,\r\n                            labels: itemLabelOptions,\r\n                            markerColor: markerColor,\r\n                            series: currentSeries,\r\n                            active: seriesVisible\r\n                        });\r\n                    }\r\n                }\r\n                append(legend.items, data);\r\n            },\r\n            groupAxes: function (panes) {\r\n                var xAxes = [], yAxes = [], paneAxes, axis, paneIx, axisIx;\r\n                for (paneIx = 0; paneIx < panes.length; paneIx++) {\r\n                    paneAxes = panes[paneIx].axes;\r\n                    for (axisIx = 0; axisIx < paneAxes.length; axisIx++) {\r\n                        axis = paneAxes[axisIx];\r\n                        if (axis.options.vertical) {\r\n                            yAxes.push(axis);\r\n                        } else {\r\n                            xAxes.push(axis);\r\n                        }\r\n                    }\r\n                }\r\n                return {\r\n                    x: xAxes,\r\n                    y: yAxes,\r\n                    any: xAxes.concat(yAxes)\r\n                };\r\n            },\r\n            groupSeriesByPane: function () {\r\n                var plotArea = this, series = plotArea.series, seriesByPane = {}, i, pane, currentSeries;\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    pane = plotArea.seriesPaneName(currentSeries);\r\n                    if (seriesByPane[pane]) {\r\n                        seriesByPane[pane].push(currentSeries);\r\n                    } else {\r\n                        seriesByPane[pane] = [currentSeries];\r\n                    }\r\n                }\r\n                return seriesByPane;\r\n            },\r\n            filterVisibleSeries: function (series) {\r\n                var i, currentSeries, result = [];\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    if (currentSeries.visible !== false) {\r\n                        result.push(currentSeries);\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            reflow: function (targetBox) {\r\n                var plotArea = this, options = plotArea.options.plotArea, panes = plotArea.panes, margin = getSpacing(options.margin);\r\n                plotArea.box = targetBox.clone().unpad(margin);\r\n                plotArea.reflowPanes();\r\n                plotArea.reflowAxes(panes);\r\n                plotArea.reflowCharts(panes);\r\n            },\r\n            redraw: function (panes) {\r\n                var plotArea = this, i;\r\n                panes = [].concat(panes);\r\n                this.initSeries();\r\n                for (i = 0; i < panes.length; i++) {\r\n                    plotArea.removeCrosshairs(panes[i]);\r\n                    panes[i].empty();\r\n                }\r\n                plotArea.render(panes);\r\n                plotArea.reflowAxes(plotArea.panes);\r\n                plotArea.reflowCharts(panes);\r\n                plotArea.createCrosshairs(panes);\r\n                for (i = 0; i < panes.length; i++) {\r\n                    panes[i].refresh();\r\n                }\r\n            },\r\n            axisCrossingValues: function (axis, crossingAxes) {\r\n                var options = axis.options, crossingValues = [].concat(options.axisCrossingValues || options.axisCrossingValue), valuesToAdd = crossingAxes.length - crossingValues.length, defaultValue = crossingValues[0] || 0, i;\r\n                for (i = 0; i < valuesToAdd; i++) {\r\n                    crossingValues.push(defaultValue);\r\n                }\r\n                return crossingValues;\r\n            },\r\n            alignAxisTo: function (axis, targetAxis, crossingValue, targetCrossingValue) {\r\n                var slot = axis.getSlot(crossingValue, crossingValue, true), slotEdge = axis.options.reverse ? 2 : 1, targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true), targetEdge = targetAxis.options.reverse ? 2 : 1, axisBox = axis.box.translate(targetSlot[X + targetEdge] - slot[X + slotEdge], targetSlot[Y + targetEdge] - slot[Y + slotEdge]);\r\n                if (axis.pane !== targetAxis.pane) {\r\n                    axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);\r\n                }\r\n                axis.reflow(axisBox);\r\n            },\r\n            alignAxes: function (xAxes, yAxes) {\r\n                var plotArea = this, xAnchor = xAxes[0], yAnchor = yAxes[0], xAnchorCrossings = plotArea.axisCrossingValues(xAnchor, yAxes), yAnchorCrossings = plotArea.axisCrossingValues(yAnchor, xAxes), leftAnchors = {}, rightAnchors = {}, topAnchors = {}, bottomAnchors = {}, pane, paneId, axis, i;\r\n                for (i = 0; i < yAxes.length; i++) {\r\n                    axis = yAxes[i];\r\n                    pane = axis.pane;\r\n                    paneId = pane.id;\r\n                    plotArea.alignAxisTo(axis, xAnchor, yAnchorCrossings[i], xAnchorCrossings[i]);\r\n                    if (axis.options._overlap) {\r\n                        continue;\r\n                    }\r\n                    if (round(axis.lineBox().x1) === round(xAnchor.lineBox().x1)) {\r\n                        if (leftAnchors[paneId]) {\r\n                            axis.reflow(axis.box.alignTo(leftAnchors[paneId].box, LEFT).translate(-axis.options.margin, 0));\r\n                        }\r\n                        leftAnchors[paneId] = axis;\r\n                    }\r\n                    if (round(axis.lineBox().x2) === round(xAnchor.lineBox().x2)) {\r\n                        if (!axis._mirrored) {\r\n                            axis.options.labels.mirror = !axis.options.labels.mirror;\r\n                            axis._mirrored = true;\r\n                        }\r\n                        plotArea.alignAxisTo(axis, xAnchor, yAnchorCrossings[i], xAnchorCrossings[i]);\r\n                        if (rightAnchors[paneId]) {\r\n                            axis.reflow(axis.box.alignTo(rightAnchors[paneId].box, RIGHT).translate(axis.options.margin, 0));\r\n                        }\r\n                        rightAnchors[paneId] = axis;\r\n                    }\r\n                    if (i !== 0 && yAnchor.pane === axis.pane) {\r\n                        axis.alignTo(yAnchor);\r\n                        axis.reflow(axis.box);\r\n                    }\r\n                }\r\n                for (i = 0; i < xAxes.length; i++) {\r\n                    axis = xAxes[i];\r\n                    pane = axis.pane;\r\n                    paneId = pane.id;\r\n                    plotArea.alignAxisTo(axis, yAnchor, xAnchorCrossings[i], yAnchorCrossings[i]);\r\n                    if (axis.options._overlap) {\r\n                        continue;\r\n                    }\r\n                    if (round(axis.lineBox().y1) === round(yAnchor.lineBox().y1)) {\r\n                        if (!axis._mirrored) {\r\n                            axis.options.labels.mirror = !axis.options.labels.mirror;\r\n                            axis._mirrored = true;\r\n                        }\r\n                        plotArea.alignAxisTo(axis, yAnchor, xAnchorCrossings[i], yAnchorCrossings[i]);\r\n                        if (topAnchors[paneId]) {\r\n                            axis.reflow(axis.box.alignTo(topAnchors[paneId].box, TOP).translate(0, -axis.options.margin));\r\n                        }\r\n                        topAnchors[paneId] = axis;\r\n                    }\r\n                    if (round(axis.lineBox().y2, COORD_PRECISION) === round(yAnchor.lineBox().y2, COORD_PRECISION)) {\r\n                        if (bottomAnchors[paneId]) {\r\n                            axis.reflow(axis.box.alignTo(bottomAnchors[paneId].box, BOTTOM).translate(0, axis.options.margin));\r\n                        }\r\n                        bottomAnchors[paneId] = axis;\r\n                    }\r\n                    if (i !== 0) {\r\n                        axis.alignTo(xAnchor);\r\n                        axis.reflow(axis.box);\r\n                    }\r\n                }\r\n            },\r\n            shrinkAxisWidth: function (panes) {\r\n                var plotArea = this, axes = plotArea.groupAxes(panes).any, axisBox = axisGroupBox(axes), overflowX = 0, i, currentPane, currentAxis;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    currentPane = panes[i];\r\n                    if (currentPane.axes.length > 0) {\r\n                        overflowX = math.max(overflowX, axisBox.width() - currentPane.contentBox.width());\r\n                    }\r\n                }\r\n                if (overflowX !== 0) {\r\n                    for (i = 0; i < axes.length; i++) {\r\n                        currentAxis = axes[i];\r\n                        if (!currentAxis.options.vertical) {\r\n                            currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            shrinkAxisHeight: function (panes) {\r\n                var i, currentPane, axes, overflowY, j, currentAxis, shrinked;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    currentPane = panes[i];\r\n                    axes = currentPane.axes;\r\n                    overflowY = math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());\r\n                    if (overflowY !== 0) {\r\n                        for (j = 0; j < axes.length; j++) {\r\n                            currentAxis = axes[j];\r\n                            if (currentAxis.options.vertical) {\r\n                                currentAxis.reflow(currentAxis.box.shrink(0, overflowY));\r\n                            }\r\n                        }\r\n                        shrinked = true;\r\n                    }\r\n                }\r\n                return shrinked;\r\n            },\r\n            fitAxes: function (panes) {\r\n                var plotArea = this, axes = plotArea.groupAxes(panes).any, offsetX = 0, paneAxes, paneBox, axisBox, offsetY, currentPane, currentAxis, i, j;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    currentPane = panes[i];\r\n                    paneAxes = currentPane.axes;\r\n                    paneBox = currentPane.contentBox;\r\n                    if (paneAxes.length > 0) {\r\n                        axisBox = axisGroupBox(paneAxes);\r\n                        offsetX = math.max(offsetX, paneBox.x1 - axisBox.x1);\r\n                        offsetY = math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);\r\n                        for (j = 0; j < paneAxes.length; j++) {\r\n                            currentAxis = paneAxes[j];\r\n                            currentAxis.reflow(currentAxis.box.translate(0, offsetY));\r\n                        }\r\n                    }\r\n                }\r\n                for (i = 0; i < axes.length; i++) {\r\n                    currentAxis = axes[i];\r\n                    currentAxis.reflow(currentAxis.box.translate(offsetX, 0));\r\n                }\r\n            },\r\n            reflowAxes: function (panes) {\r\n                var plotArea = this, i, axes = plotArea.groupAxes(panes);\r\n                for (i = 0; i < panes.length; i++) {\r\n                    plotArea.reflowPaneAxes(panes[i]);\r\n                }\r\n                if (axes.x.length > 0 && axes.y.length > 0) {\r\n                    plotArea.alignAxes(axes.x, axes.y);\r\n                    plotArea.shrinkAxisWidth(panes);\r\n                    plotArea.autoRotateAxisLabels(axes);\r\n                    plotArea.alignAxes(axes.x, axes.y);\r\n                    if (plotArea.shrinkAxisWidth(panes)) {\r\n                        plotArea.alignAxes(axes.x, axes.y);\r\n                    }\r\n                    plotArea.shrinkAxisHeight(panes);\r\n                    plotArea.alignAxes(axes.x, axes.y);\r\n                    if (plotArea.shrinkAxisHeight(panes)) {\r\n                        plotArea.alignAxes(axes.x, axes.y);\r\n                    }\r\n                    plotArea.fitAxes(panes);\r\n                }\r\n            },\r\n            autoRotateAxisLabels: function (groupedAxes) {\r\n                var axes = this.axes;\r\n                var panes = this.panes;\r\n                var axis, idx, rotated;\r\n                for (idx = 0; idx < axes.length; idx++) {\r\n                    axis = axes[idx];\r\n                    if (axis.autoRotateLabels()) {\r\n                        rotated = true;\r\n                    }\r\n                }\r\n                if (rotated) {\r\n                    for (idx = 0; idx < panes.length; idx++) {\r\n                        this.reflowPaneAxes(panes[idx]);\r\n                    }\r\n                    if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {\r\n                        this.alignAxes(groupedAxes.x, groupedAxes.y);\r\n                        this.shrinkAxisWidth(panes);\r\n                    }\r\n                }\r\n            },\r\n            reflowPaneAxes: function (pane) {\r\n                var axes = pane.axes, i, length = axes.length;\r\n                if (length > 0) {\r\n                    for (i = 0; i < length; i++) {\r\n                        axes[i].reflow(pane.contentBox);\r\n                    }\r\n                }\r\n            },\r\n            reflowCharts: function (panes) {\r\n                var plotArea = this, charts = plotArea.charts, count = charts.length, box = plotArea.box, chartPane, i;\r\n                for (i = 0; i < count; i++) {\r\n                    chartPane = charts[i].pane;\r\n                    if (!chartPane || inArray(chartPane, panes)) {\r\n                        charts[i].reflow(box);\r\n                    }\r\n                }\r\n            },\r\n            reflowPanes: function () {\r\n                var plotArea = this, box = plotArea.box, panes = plotArea.panes, panesLength = panes.length, i, currentPane, paneBox, remainingHeight = box.height(), remainingPanes = panesLength, autoHeightPanes = 0, top = box.y1, height, percents;\r\n                for (i = 0; i < panesLength; i++) {\r\n                    currentPane = panes[i];\r\n                    height = currentPane.options.height;\r\n                    currentPane.options.width = box.width();\r\n                    if (!currentPane.options.height) {\r\n                        autoHeightPanes++;\r\n                    } else {\r\n                        if (height.indexOf && height.indexOf('%')) {\r\n                            percents = parseInt(height, 10) / 100;\r\n                            currentPane.options.height = percents * box.height();\r\n                        }\r\n                        currentPane.reflow(box.clone());\r\n                        remainingHeight -= currentPane.options.height;\r\n                    }\r\n                }\r\n                for (i = 0; i < panesLength; i++) {\r\n                    currentPane = panes[i];\r\n                    if (!currentPane.options.height) {\r\n                        currentPane.options.height = remainingHeight / autoHeightPanes;\r\n                    }\r\n                }\r\n                for (i = 0; i < panesLength; i++) {\r\n                    currentPane = panes[i];\r\n                    paneBox = box.clone().move(box.x1, top);\r\n                    currentPane.reflow(paneBox);\r\n                    remainingPanes--;\r\n                    top += currentPane.options.height;\r\n                }\r\n            },\r\n            backgroundBox: function () {\r\n                var plotArea = this, axes = plotArea.axes, axesCount = axes.length, lineBox, box, i, j, axisA, axisB;\r\n                for (i = 0; i < axesCount; i++) {\r\n                    axisA = axes[i];\r\n                    for (j = 0; j < axesCount; j++) {\r\n                        axisB = axes[j];\r\n                        if (axisA.options.vertical !== axisB.options.vertical) {\r\n                            lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());\r\n                            if (!box) {\r\n                                box = lineBox;\r\n                            } else {\r\n                                box = box.wrap(lineBox);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return box || plotArea.box;\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                var bgBox = this.backgroundBox();\r\n                var options = this.options.plotArea;\r\n                var border = options.border || {};\r\n                var background = options.background;\r\n                var opacity = options.opacity;\r\n                if (util.isTransparent(background)) {\r\n                    background = WHITE;\r\n                    opacity = 0;\r\n                }\r\n                var bg = this._bgVisual = draw.Path.fromRect(bgBox.toRect(), {\r\n                    fill: {\r\n                        color: background,\r\n                        opacity: opacity\r\n                    },\r\n                    stroke: {\r\n                        color: border.width ? border.color : '',\r\n                        width: border.width,\r\n                        dashType: border.dashType\r\n                    },\r\n                    zIndex: -1\r\n                });\r\n                this.appendVisual(bg);\r\n            },\r\n            pointsByCategoryIndex: function (categoryIndex) {\r\n                var charts = this.charts, result = [], i, j, points, point, chart;\r\n                if (categoryIndex !== null) {\r\n                    for (i = 0; i < charts.length; i++) {\r\n                        chart = charts[i];\r\n                        if (chart.pane.options.name === '_navigator') {\r\n                            continue;\r\n                        }\r\n                        points = charts[i].categoryPoints[categoryIndex];\r\n                        if (points && points.length) {\r\n                            for (j = 0; j < points.length; j++) {\r\n                                point = points[j];\r\n                                if (point && defined(point.value) && point.value !== null) {\r\n                                    result.push(point);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            pointsBySeriesIndex: function (seriesIndex) {\r\n                var charts = this.charts, result = [], points, point, i, j, chart;\r\n                for (i = 0; i < charts.length; i++) {\r\n                    chart = charts[i];\r\n                    points = chart.points;\r\n                    for (j = 0; j < points.length; j++) {\r\n                        point = points[j];\r\n                        if (point && point.options.index === seriesIndex) {\r\n                            result.push(point);\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            pointsBySeriesName: function (name) {\r\n                return this.filterPoints(function (point) {\r\n                    return point.series.name === name;\r\n                });\r\n            },\r\n            filterPoints: function (callback) {\r\n                var charts = this.charts, result = [], points, point, i, j, chart;\r\n                for (i = 0; i < charts.length; i++) {\r\n                    chart = charts[i];\r\n                    points = chart.points;\r\n                    for (j = 0; j < points.length; j++) {\r\n                        point = points[j];\r\n                        if (point && callback(point)) {\r\n                            result.push(point);\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            paneByPoint: function (point) {\r\n                var plotArea = this, panes = plotArea.panes, pane, i;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    pane = panes[i];\r\n                    if (pane.box.containsPoint(point)) {\r\n                        return pane;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var PlotAreaEventsMixin = {\r\n            hover: function (chart, e) {\r\n                this._dispatchEvent(chart, e, PLOT_AREA_HOVER);\r\n            },\r\n            click: function (chart, e) {\r\n                this._dispatchEvent(chart, e, PLOT_AREA_CLICK);\r\n            }\r\n        };\r\n        var CategoricalPlotArea = PlotAreaBase.extend({\r\n            init: function (series, options) {\r\n                var plotArea = this;\r\n                plotArea.namedCategoryAxes = {};\r\n                plotArea.namedValueAxes = {};\r\n                plotArea.valueAxisRangeTracker = new AxisGroupRangeTracker();\r\n                if (series.length > 0) {\r\n                    plotArea.invertAxes = inArray(series[0].type, [\r\n                        BAR,\r\n                        BULLET,\r\n                        VERTICAL_LINE,\r\n                        VERTICAL_AREA,\r\n                        RANGE_BAR,\r\n                        HORIZONTAL_WATERFALL,\r\n                        VERTICAL_BOX_PLOT\r\n                    ]);\r\n                    for (var i = 0; i < series.length; i++) {\r\n                        var stack = series[i].stack;\r\n                        if (stack && stack.type === '100%') {\r\n                            plotArea.stack100 = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                PlotAreaBase.fn.init.call(plotArea, series, options);\r\n            },\r\n            options: {\r\n                categoryAxis: { categories: [] },\r\n                valueAxis: {}\r\n            },\r\n            render: function (panes) {\r\n                var plotArea = this;\r\n                panes = panes || plotArea.panes;\r\n                plotArea.createCategoryAxes(panes);\r\n                plotArea.aggregateCategories(panes);\r\n                plotArea.createCategoryAxesLabels(panes);\r\n                plotArea.createCharts(panes);\r\n                plotArea.createValueAxes(panes);\r\n            },\r\n            removeAxis: function (axis) {\r\n                var plotArea = this, axisName = axis.options.name;\r\n                PlotAreaBase.fn.removeAxis.call(plotArea, axis);\r\n                if (axis instanceof CategoryAxis) {\r\n                    delete plotArea.namedCategoryAxes[axisName];\r\n                } else {\r\n                    plotArea.valueAxisRangeTracker.reset(axisName);\r\n                    delete plotArea.namedValueAxes[axisName];\r\n                }\r\n                if (axis === plotArea.categoryAxis) {\r\n                    delete plotArea.categoryAxis;\r\n                }\r\n                if (axis === plotArea.valueAxis) {\r\n                    delete plotArea.valueAxis;\r\n                }\r\n            },\r\n            createCharts: function (panes) {\r\n                var seriesByPane = this.groupSeriesByPane();\r\n                for (var i = 0; i < panes.length; i++) {\r\n                    var pane = panes[i];\r\n                    var paneSeries = seriesByPane[pane.options.name || 'default'] || [];\r\n                    this.addToLegend(paneSeries);\r\n                    var visibleSeries = this.filterVisibleSeries(paneSeries);\r\n                    if (!visibleSeries) {\r\n                        continue;\r\n                    }\r\n                    var groups = this.groupSeriesByCategoryAxis(visibleSeries);\r\n                    for (var groupIx = 0; groupIx < groups.length; groupIx++) {\r\n                        this.createChartGroup(groups[groupIx], pane);\r\n                    }\r\n                }\r\n            },\r\n            createChartGroup: function (series, pane) {\r\n                this.createAreaChart(filterSeriesByType(series, [\r\n                    AREA,\r\n                    VERTICAL_AREA\r\n                ]), pane);\r\n                this.createBarChart(filterSeriesByType(series, [\r\n                    COLUMN,\r\n                    BAR\r\n                ]), pane);\r\n                this.createRangeBarChart(filterSeriesByType(series, [\r\n                    RANGE_COLUMN,\r\n                    RANGE_BAR\r\n                ]), pane);\r\n                this.createBulletChart(filterSeriesByType(series, [\r\n                    BULLET,\r\n                    VERTICAL_BULLET\r\n                ]), pane);\r\n                this.createCandlestickChart(filterSeriesByType(series, CANDLESTICK), pane);\r\n                this.createBoxPlotChart(filterSeriesByType(series, [\r\n                    BOX_PLOT,\r\n                    VERTICAL_BOX_PLOT\r\n                ]), pane);\r\n                this.createOHLCChart(filterSeriesByType(series, OHLC), pane);\r\n                this.createWaterfallChart(filterSeriesByType(series, [\r\n                    WATERFALL,\r\n                    HORIZONTAL_WATERFALL\r\n                ]), pane);\r\n                this.createLineChart(filterSeriesByType(series, [\r\n                    LINE,\r\n                    VERTICAL_LINE\r\n                ]), pane);\r\n            },\r\n            aggregateCategories: function (panes) {\r\n                var plotArea = this, series = plotArea.srcSeries || plotArea.series, processedSeries = [], i, currentSeries, categoryAxis, axisPane, dateAxis;\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    categoryAxis = plotArea.seriesCategoryAxis(currentSeries);\r\n                    axisPane = plotArea.findPane(categoryAxis.options.pane);\r\n                    dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\r\n                    if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {\r\n                        currentSeries = plotArea.aggregateSeries(currentSeries, categoryAxis);\r\n                    } else if (isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max)) {\r\n                        currentSeries = plotArea.filterSeries(currentSeries, categoryAxis);\r\n                    }\r\n                    processedSeries.push(currentSeries);\r\n                }\r\n                plotArea.srcSeries = series;\r\n                plotArea.series = processedSeries;\r\n            },\r\n            filterSeries: function (currentSeries, categoryAxis) {\r\n                var range = categoryAxis.totalRangeIndices();\r\n                var justified = categoryAxis.options.justified;\r\n                var outOfRangePoints = inArray(currentSeries.type, [\r\n                    LINE,\r\n                    VERTICAL_LINE,\r\n                    AREA,\r\n                    VERTICAL_AREA\r\n                ]);\r\n                var categoryIx;\r\n                range.min = isNumber(categoryAxis.options.min) ? math.floor(range.min) : 0;\r\n                range.max = isNumber(categoryAxis.options.max) ? justified ? math.floor(range.max) + 1 : math.ceil(range.max) : currentSeries.data.length;\r\n                currentSeries = deepExtend({}, currentSeries);\r\n                if (outOfRangePoints) {\r\n                    var minCategory = range.min - 1;\r\n                    var srcCategories = categoryAxis.options.srcCategories || [];\r\n                    if (minCategory >= 0 && minCategory < currentSeries.data.length) {\r\n                        categoryIx = minCategory;\r\n                        currentSeries._outOfRangeMinPoint = {\r\n                            item: currentSeries.data[categoryIx],\r\n                            category: srcCategories[categoryIx],\r\n                            categoryIx: -1\r\n                        };\r\n                    }\r\n                    if (range.max < currentSeries.data.length) {\r\n                        categoryIx = range.max;\r\n                        currentSeries._outOfRangeMaxPoint = {\r\n                            item: currentSeries.data[categoryIx],\r\n                            category: srcCategories[categoryIx],\r\n                            categoryIx: range.max - range.min\r\n                        };\r\n                    }\r\n                }\r\n                categoryAxis._seriesMax = math.max(categoryAxis._seriesMax || 0, currentSeries.data.length);\r\n                currentSeries.data = (currentSeries.data || []).slice(range.min, range.max);\r\n                return currentSeries;\r\n            },\r\n            aggregateSeries: function (series, categoryAxis) {\r\n                var axisOptions = categoryAxis.options, dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE), categories = axisOptions.categories, srcCategories = axisOptions.srcCategories || categories, srcData = series.data, srcPoints = [], result = deepExtend({}, series), aggregatorSeries = deepExtend({}, series), dataItems = axisOptions.dataItems || [], i, category, categoryIx, data, aggregator, getFn = getField, outOfRangeMinIdx = util.MIN_NUM, outOfRangeMinCategory, outOfRangeMaxCategory, outOfRangeMaxIdx = util.MAX_NUM, outOfRangePoints = inArray(series.type, [\r\n                        LINE,\r\n                        VERTICAL_LINE,\r\n                        AREA,\r\n                        VERTICAL_AREA\r\n                    ]);\r\n                result.data = data = [];\r\n                if (dateAxis) {\r\n                    getFn = getDateField;\r\n                }\r\n                for (i = 0; i < srcData.length; i++) {\r\n                    if (series.categoryField) {\r\n                        category = getFn(series.categoryField, srcData[i]);\r\n                    } else {\r\n                        category = srcCategories[i];\r\n                    }\r\n                    if (defined(category)) {\r\n                        categoryIx = categoryAxis.categoryIndex(category);\r\n                        if (0 <= categoryIx && categoryIx < categories.length) {\r\n                            srcPoints[categoryIx] = srcPoints[categoryIx] || [];\r\n                            srcPoints[categoryIx].push(i);\r\n                        } else if (outOfRangePoints) {\r\n                            if (categoryIx < 0) {\r\n                                if (categoryIx == outOfRangeMinIdx) {\r\n                                    outOfRangeMinCategory.points.push(i);\r\n                                } else if (categoryIx > outOfRangeMinIdx) {\r\n                                    outOfRangeMinIdx = categoryIx;\r\n                                    outOfRangeMinCategory = {\r\n                                        category: category,\r\n                                        points: [i]\r\n                                    };\r\n                                }\r\n                            } else if (categoryIx >= categories.length) {\r\n                                if (categoryIx == outOfRangeMaxIdx) {\r\n                                    outOfRangeMaxCategory.points.push(i);\r\n                                } else if (categoryIx < outOfRangeMaxIdx) {\r\n                                    outOfRangeMaxIdx = categoryIx;\r\n                                    outOfRangeMaxCategory = {\r\n                                        category: category,\r\n                                        points: [i]\r\n                                    };\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                aggregator = new SeriesAggregator(aggregatorSeries, SeriesBinder.current, DefaultAggregates.current);\r\n                for (i = 0; i < categories.length; i++) {\r\n                    data[i] = aggregator.aggregatePoints(srcPoints[i], categories[i]);\r\n                    if (srcPoints[i]) {\r\n                        dataItems[i] = data[i];\r\n                    }\r\n                }\r\n                if (outOfRangeMinCategory && data.length) {\r\n                    result._outOfRangeMinPoint = {\r\n                        item: aggregator.aggregatePoints(outOfRangeMinCategory.points, outOfRangeMinCategory.category),\r\n                        categoryIx: outOfRangeMinIdx,\r\n                        category: outOfRangeMinCategory.category\r\n                    };\r\n                }\r\n                if (outOfRangeMaxCategory && data.length) {\r\n                    result._outOfRangeMaxPoint = {\r\n                        item: aggregator.aggregatePoints(outOfRangeMaxCategory.points, outOfRangeMaxCategory.category),\r\n                        categoryIx: outOfRangeMaxIdx,\r\n                        category: outOfRangeMaxCategory.category\r\n                    };\r\n                }\r\n                categoryAxis.options.dataItems = dataItems;\r\n                return result;\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                var plotArea = this, series = chart.options.series, categoryAxis = plotArea.seriesCategoryAxis(series[0]), categories = categoryAxis.options.categories, categoriesToAdd = math.max(0, categoriesCount(series) - categories.length);\r\n                while (categoriesToAdd--) {\r\n                    categories.push('');\r\n                }\r\n                plotArea.valueAxisRangeTracker.update(chart.valueAxisRanges);\r\n                PlotAreaBase.fn.appendChart.call(plotArea, chart, pane);\r\n            },\r\n            seriesPaneName: function (series) {\r\n                var plotArea = this, options = plotArea.options, axisName = series.axis, axisOptions = [].concat(options.valueAxis), axis = $.grep(axisOptions, function (a) {\r\n                        return a.name === axisName;\r\n                    })[0], panes = options.panes || [{}], defaultPaneName = (panes[0] || {}).name || 'default', paneName = (axis || {}).pane || defaultPaneName;\r\n                return paneName;\r\n            },\r\n            seriesCategoryAxis: function (series) {\r\n                var plotArea = this, axisName = series.categoryAxis, axis = axisName ? plotArea.namedCategoryAxes[axisName] : plotArea.categoryAxis;\r\n                if (!axis) {\r\n                    throw new Error('Unable to locate category axis with name ' + axisName);\r\n                }\r\n                return axis;\r\n            },\r\n            stackableChartOptions: function (firstSeries, pane) {\r\n                var stack = firstSeries.stack, isStacked100 = stack && stack.type === '100%', clip;\r\n                if (defined(pane.options.clip)) {\r\n                    clip = pane.options.clip;\r\n                } else if (isStacked100) {\r\n                    clip = false;\r\n                }\r\n                return {\r\n                    isStacked: stack,\r\n                    isStacked100: isStacked100,\r\n                    clip: clip\r\n                };\r\n            },\r\n            groupSeriesByCategoryAxis: function (series) {\r\n                var unique = {};\r\n                var categoryAxes = $.map(series, function (s) {\r\n                    var name = s.categoryAxis || '$$default$$';\r\n                    if (!unique.hasOwnProperty(name)) {\r\n                        unique[name] = true;\r\n                        return name;\r\n                    }\r\n                });\r\n                function groupSeries(axis, axisIx) {\r\n                    return $.grep(series, function (s) {\r\n                        return axisIx === 0 && !s.categoryAxis || s.categoryAxis == axis;\r\n                    });\r\n                }\r\n                var groups = [];\r\n                for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {\r\n                    var axis = categoryAxes[axisIx];\r\n                    var axisSeries = groupSeries(axis, axisIx);\r\n                    if (axisSeries.length === 0) {\r\n                        continue;\r\n                    }\r\n                    groups.push(axisSeries);\r\n                }\r\n                return groups;\r\n            },\r\n            createBarChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], barChart = new BarChart(plotArea, extend({\r\n                        series: series,\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        spacing: firstSeries.spacing\r\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\r\n                plotArea.appendChart(barChart, pane);\r\n            },\r\n            createRangeBarChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], rangeColumnChart = new RangeBarChart(plotArea, {\r\n                        series: series,\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        spacing: firstSeries.spacing\r\n                    });\r\n                plotArea.appendChart(rangeColumnChart, pane);\r\n            },\r\n            createBulletChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], bulletChart = new BulletChart(plotArea, {\r\n                        series: series,\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        spacing: firstSeries.spacing,\r\n                        clip: pane.options.clip\r\n                    });\r\n                plotArea.appendChart(bulletChart, pane);\r\n            },\r\n            createLineChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], lineChart = new LineChart(plotArea, extend({\r\n                        invertAxes: plotArea.invertAxes,\r\n                        series: series\r\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\r\n                plotArea.appendChart(lineChart, pane);\r\n            },\r\n            createAreaChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], areaChart = new AreaChart(plotArea, extend({\r\n                        invertAxes: plotArea.invertAxes,\r\n                        series: series\r\n                    }, plotArea.stackableChartOptions(firstSeries, pane)));\r\n                plotArea.appendChart(areaChart, pane);\r\n            },\r\n            createOHLCChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], chart = new OHLCChart(plotArea, {\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        series: series,\r\n                        spacing: firstSeries.spacing,\r\n                        clip: pane.options.clip\r\n                    });\r\n                plotArea.appendChart(chart, pane);\r\n            },\r\n            createCandlestickChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], chart = new CandlestickChart(plotArea, {\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        series: series,\r\n                        spacing: firstSeries.spacing,\r\n                        clip: pane.options.clip\r\n                    });\r\n                plotArea.appendChart(chart, pane);\r\n            },\r\n            createBoxPlotChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], chart = new BoxPlotChart(plotArea, {\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        series: series,\r\n                        spacing: firstSeries.spacing,\r\n                        clip: pane.options.clip\r\n                    });\r\n                plotArea.appendChart(chart, pane);\r\n            },\r\n            createWaterfallChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, firstSeries = series[0], waterfallChart = new WaterfallChart(plotArea, {\r\n                        series: series,\r\n                        invertAxes: plotArea.invertAxes,\r\n                        gap: firstSeries.gap,\r\n                        spacing: firstSeries.spacing\r\n                    });\r\n                plotArea.appendChart(waterfallChart, pane);\r\n            },\r\n            axisRequiresRounding: function (categoryAxisName, categoryAxisIndex) {\r\n                var plotArea = this, centeredSeries = filterSeriesByType(plotArea.series, EQUALLY_SPACED_SERIES), seriesIx, seriesAxis;\r\n                for (seriesIx = 0; seriesIx < plotArea.series.length; seriesIx++) {\r\n                    var currentSeries = plotArea.series[seriesIx];\r\n                    if (currentSeries.type === LINE || currentSeries.type === AREA) {\r\n                        var line = currentSeries.line;\r\n                        if (line && line.style === STEP) {\r\n                            centeredSeries.push(currentSeries);\r\n                        }\r\n                    }\r\n                }\r\n                for (seriesIx = 0; seriesIx < centeredSeries.length; seriesIx++) {\r\n                    seriesAxis = centeredSeries[seriesIx].categoryAxis || '';\r\n                    if (seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) {\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            aggregatedAxis: function (categoryAxisName, categoryAxisIndex) {\r\n                var plotArea = this, series = plotArea.series, seriesIx, seriesAxis;\r\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    seriesAxis = series[seriesIx].categoryAxis || '';\r\n                    if ((seriesAxis === categoryAxisName || !seriesAxis && categoryAxisIndex === 0) && series[seriesIx].categoryField) {\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            createCategoryAxesLabels: function () {\r\n                var axes = this.axes;\r\n                for (var i = 0; i < axes.length; i++) {\r\n                    if (axes[i] instanceof CategoryAxis) {\r\n                        axes[i].createLabels();\r\n                    }\r\n                }\r\n            },\r\n            createCategoryAxes: function (panes) {\r\n                var plotArea = this, invertAxes = plotArea.invertAxes, definitions = [].concat(plotArea.options.categoryAxis), i, axisOptions, axisPane, categories, type, name, categoryAxis, axes = [], primaryAxis;\r\n                for (i = 0; i < definitions.length; i++) {\r\n                    axisOptions = definitions[i];\r\n                    axisPane = plotArea.findPane(axisOptions.pane);\r\n                    if (inArray(axisPane, panes)) {\r\n                        name = axisOptions.name;\r\n                        categories = axisOptions.categories || [];\r\n                        type = axisOptions.type || '';\r\n                        axisOptions = deepExtend({\r\n                            vertical: invertAxes,\r\n                            axisCrossingValue: invertAxes ? MAX_VALUE : 0,\r\n                            _deferLabels: true\r\n                        }, axisOptions);\r\n                        if (!defined(axisOptions.justified)) {\r\n                            axisOptions.justified = plotArea.isJustified();\r\n                        }\r\n                        if (plotArea.axisRequiresRounding(name, i)) {\r\n                            axisOptions.justified = false;\r\n                        }\r\n                        if (isDateAxis(axisOptions, categories[0])) {\r\n                            categoryAxis = new DateCategoryAxis(axisOptions);\r\n                        } else {\r\n                            categoryAxis = new CategoryAxis(axisOptions);\r\n                        }\r\n                        if (name) {\r\n                            if (plotArea.namedCategoryAxes[name]) {\r\n                                throw new Error('Category axis with name ' + name + ' is already defined');\r\n                            }\r\n                            plotArea.namedCategoryAxes[name] = categoryAxis;\r\n                        }\r\n                        categoryAxis.axisIndex = i;\r\n                        axes.push(categoryAxis);\r\n                        plotArea.appendAxis(categoryAxis);\r\n                    }\r\n                }\r\n                primaryAxis = plotArea.categoryAxis || axes[0];\r\n                plotArea.categoryAxis = primaryAxis;\r\n                if (invertAxes) {\r\n                    plotArea.axisY = primaryAxis;\r\n                } else {\r\n                    plotArea.axisX = primaryAxis;\r\n                }\r\n            },\r\n            isJustified: function () {\r\n                var plotArea = this, series = plotArea.series, i, currentSeries;\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    if (!inArray(currentSeries.type, [\r\n                            AREA,\r\n                            VERTICAL_AREA\r\n                        ])) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            },\r\n            createValueAxes: function (panes) {\r\n                var plotArea = this, tracker = plotArea.valueAxisRangeTracker, defaultRange = tracker.query(), definitions = [].concat(plotArea.options.valueAxis), invertAxes = plotArea.invertAxes, baseOptions = { vertical: !invertAxes }, axisOptions, axisPane, valueAxis, primaryAxis, axes = [], range, axisType, defaultAxisRange, name, i;\r\n                if (plotArea.stack100) {\r\n                    baseOptions.roundToMajorUnit = false;\r\n                    baseOptions.labels = { format: 'P0' };\r\n                }\r\n                for (i = 0; i < definitions.length; i++) {\r\n                    axisOptions = definitions[i];\r\n                    axisPane = plotArea.findPane(axisOptions.pane);\r\n                    if (inArray(axisPane, panes)) {\r\n                        name = axisOptions.name;\r\n                        defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? {\r\n                            min: 0.1,\r\n                            max: 1\r\n                        } : {\r\n                            min: 0,\r\n                            max: 1\r\n                        };\r\n                        range = tracker.query(name) || defaultRange || defaultAxisRange;\r\n                        if (i === 0 && range && defaultRange) {\r\n                            range.min = math.min(range.min, defaultRange.min);\r\n                            range.max = math.max(range.max, defaultRange.max);\r\n                        }\r\n                        if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {\r\n                            axisType = LogarithmicAxis;\r\n                        } else {\r\n                            axisType = NumericAxis;\r\n                        }\r\n                        valueAxis = new axisType(range.min, range.max, deepExtend({}, baseOptions, axisOptions));\r\n                        if (name) {\r\n                            if (plotArea.namedValueAxes[name]) {\r\n                                throw new Error('Value axis with name ' + name + ' is already defined');\r\n                            }\r\n                            plotArea.namedValueAxes[name] = valueAxis;\r\n                        }\r\n                        valueAxis.axisIndex = i;\r\n                        axes.push(valueAxis);\r\n                        plotArea.appendAxis(valueAxis);\r\n                    }\r\n                }\r\n                primaryAxis = plotArea.valueAxis || axes[0];\r\n                plotArea.valueAxis = primaryAxis;\r\n                if (invertAxes) {\r\n                    plotArea.axisX = primaryAxis;\r\n                } else {\r\n                    plotArea.axisY = primaryAxis;\r\n                }\r\n            },\r\n            _dispatchEvent: function (chart, e, eventType) {\r\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), pane = plotArea.pointPane(point), allAxes, i, axis, categories = [], values = [];\r\n                if (!pane) {\r\n                    return;\r\n                }\r\n                allAxes = pane.axes;\r\n                for (i = 0; i < allAxes.length; i++) {\r\n                    axis = allAxes[i];\r\n                    if (axis.getValue) {\r\n                        appendIfNotNull(values, axis.getValue(point));\r\n                    } else {\r\n                        appendIfNotNull(categories, axis.getCategory(point));\r\n                    }\r\n                }\r\n                if (categories.length === 0) {\r\n                    appendIfNotNull(categories, plotArea.categoryAxis.getCategory(point));\r\n                }\r\n                if (categories.length > 0 && values.length > 0) {\r\n                    chart.trigger(eventType, {\r\n                        element: eventTargetElement(e),\r\n                        originalEvent: e,\r\n                        category: singleItemOrArray(categories),\r\n                        value: singleItemOrArray(values)\r\n                    });\r\n                }\r\n            },\r\n            pointPane: function (point) {\r\n                var plotArea = this, panes = plotArea.panes, currentPane, i;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    currentPane = panes[i];\r\n                    if (currentPane.contentBox.containsPoint(point)) {\r\n                        return currentPane;\r\n                    }\r\n                }\r\n            },\r\n            updateAxisOptions: function (axis, options) {\r\n                var axesOptions = axis instanceof CategoryAxis ? [].concat(this.options.categoryAxis) : [].concat(this.options.valueAxis);\r\n                deepExtend(axesOptions[axis.axisIndex], options);\r\n            }\r\n        });\r\n        deepExtend(CategoricalPlotArea.fn, PlotAreaEventsMixin);\r\n        var AxisGroupRangeTracker = Class.extend({\r\n            init: function () {\r\n                var tracker = this;\r\n                tracker.axisRanges = {};\r\n            },\r\n            update: function (chartAxisRanges) {\r\n                var tracker = this, axisRanges = tracker.axisRanges, range, chartRange, axisName;\r\n                for (axisName in chartAxisRanges) {\r\n                    range = axisRanges[axisName];\r\n                    chartRange = chartAxisRanges[axisName];\r\n                    axisRanges[axisName] = range = range || {\r\n                        min: MAX_VALUE,\r\n                        max: MIN_VALUE\r\n                    };\r\n                    range.min = math.min(range.min, chartRange.min);\r\n                    range.max = math.max(range.max, chartRange.max);\r\n                }\r\n            },\r\n            reset: function (axisName) {\r\n                this.axisRanges[axisName] = undefined;\r\n            },\r\n            query: function (axisName) {\r\n                return this.axisRanges[axisName];\r\n            }\r\n        });\r\n        var XYPlotArea = PlotAreaBase.extend({\r\n            init: function (series, options) {\r\n                var plotArea = this;\r\n                plotArea.namedXAxes = {};\r\n                plotArea.namedYAxes = {};\r\n                plotArea.xAxisRangeTracker = new AxisGroupRangeTracker();\r\n                plotArea.yAxisRangeTracker = new AxisGroupRangeTracker();\r\n                PlotAreaBase.fn.init.call(plotArea, series, options);\r\n            },\r\n            options: {\r\n                xAxis: {},\r\n                yAxis: {}\r\n            },\r\n            render: function (panes) {\r\n                var plotArea = this, seriesByPane = plotArea.groupSeriesByPane(), i, pane, paneSeries, filteredSeries;\r\n                panes = panes || plotArea.panes;\r\n                for (i = 0; i < panes.length; i++) {\r\n                    pane = panes[i];\r\n                    paneSeries = seriesByPane[pane.options.name || 'default'] || [];\r\n                    plotArea.addToLegend(paneSeries);\r\n                    filteredSeries = plotArea.filterVisibleSeries(paneSeries);\r\n                    if (!filteredSeries) {\r\n                        continue;\r\n                    }\r\n                    plotArea.createScatterChart(filterSeriesByType(filteredSeries, SCATTER), pane);\r\n                    plotArea.createScatterLineChart(filterSeriesByType(filteredSeries, SCATTER_LINE), pane);\r\n                    plotArea.createBubbleChart(filterSeriesByType(filteredSeries, BUBBLE), pane);\r\n                }\r\n                plotArea.createAxes(panes);\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                var plotArea = this;\r\n                plotArea.xAxisRangeTracker.update(chart.xAxisRanges);\r\n                plotArea.yAxisRangeTracker.update(chart.yAxisRanges);\r\n                PlotAreaBase.fn.appendChart.call(plotArea, chart, pane);\r\n            },\r\n            removeAxis: function (axis) {\r\n                var plotArea = this, axisName = axis.options.name;\r\n                PlotAreaBase.fn.removeAxis.call(plotArea, axis);\r\n                if (axis.options.vertical) {\r\n                    plotArea.yAxisRangeTracker.reset(axisName);\r\n                    delete plotArea.namedYAxes[axisName];\r\n                } else {\r\n                    plotArea.xAxisRangeTracker.reset(axisName);\r\n                    delete plotArea.namedXAxes[axisName];\r\n                }\r\n                if (axis === plotArea.axisX) {\r\n                    delete plotArea.axisX;\r\n                }\r\n                if (axis === plotArea.axisY) {\r\n                    delete plotArea.axisY;\r\n                }\r\n            },\r\n            seriesPaneName: function (series) {\r\n                var plotArea = this, options = plotArea.options, xAxisName = series.xAxis, xAxisOptions = [].concat(options.xAxis), xAxis = $.grep(xAxisOptions, function (a) {\r\n                        return a.name === xAxisName;\r\n                    })[0], yAxisName = series.yAxis, yAxisOptions = [].concat(options.yAxis), yAxis = $.grep(yAxisOptions, function (a) {\r\n                        return a.name === yAxisName;\r\n                    })[0], panes = options.panes || [{}], defaultPaneName = panes[0].name || 'default', paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;\r\n                return paneName;\r\n            },\r\n            createScatterChart: function (series, pane) {\r\n                var plotArea = this;\r\n                if (series.length > 0) {\r\n                    plotArea.appendChart(new ScatterChart(plotArea, {\r\n                        series: series,\r\n                        clip: pane.options.clip\r\n                    }), pane);\r\n                }\r\n            },\r\n            createScatterLineChart: function (series, pane) {\r\n                var plotArea = this;\r\n                if (series.length > 0) {\r\n                    plotArea.appendChart(new ScatterLineChart(plotArea, {\r\n                        series: series,\r\n                        clip: pane.options.clip\r\n                    }), pane);\r\n                }\r\n            },\r\n            createBubbleChart: function (series, pane) {\r\n                var plotArea = this;\r\n                if (series.length > 0) {\r\n                    plotArea.appendChart(new BubbleChart(plotArea, {\r\n                        series: series,\r\n                        clip: pane.options.clip\r\n                    }), pane);\r\n                }\r\n            },\r\n            createXYAxis: function (options, vertical, axisIndex) {\r\n                var plotArea = this, axisName = options.name, namedAxes = vertical ? plotArea.namedYAxes : plotArea.namedXAxes, tracker = vertical ? plotArea.yAxisRangeTracker : plotArea.xAxisRangeTracker, axisOptions = deepExtend({}, options, { vertical: vertical }), isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC), defaultRange = tracker.query(), defaultAxisRange = isLog ? {\r\n                        min: 0.1,\r\n                        max: 1\r\n                    } : {\r\n                        min: 0,\r\n                        max: 1\r\n                    }, range = tracker.query(axisName) || defaultRange || defaultAxisRange, axis, axisType, seriesIx, series = plotArea.series, currentSeries, seriesAxisName, firstPointValue, typeSamples = [\r\n                        axisOptions.min,\r\n                        axisOptions.max\r\n                    ], inferredDate, i;\r\n                for (seriesIx = 0; seriesIx < series.length; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    seriesAxisName = currentSeries[vertical ? 'yAxis' : 'xAxis'];\r\n                    if (seriesAxisName == axisOptions.name || axisIndex === 0 && !seriesAxisName) {\r\n                        firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;\r\n                        typeSamples.push(firstPointValue[vertical ? 'y' : 'x']);\r\n                        break;\r\n                    }\r\n                }\r\n                if (axisIndex === 0 && defaultRange) {\r\n                    range.min = math.min(range.min, defaultRange.min);\r\n                    range.max = math.max(range.max, defaultRange.max);\r\n                }\r\n                for (i = 0; i < typeSamples.length; i++) {\r\n                    if (typeSamples[i] instanceof Date) {\r\n                        inferredDate = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (equalsIgnoreCase(axisOptions.type, DATE) || !axisOptions.type && inferredDate) {\r\n                    axisType = DateValueAxis;\r\n                } else if (isLog) {\r\n                    axisType = LogarithmicAxis;\r\n                } else {\r\n                    axisType = NumericAxis;\r\n                }\r\n                axis = new axisType(range.min, range.max, axisOptions);\r\n                if (axisName) {\r\n                    if (namedAxes[axisName]) {\r\n                        throw new Error((vertical ? 'Y' : 'X') + ' axis with name ' + axisName + ' is already defined');\r\n                    }\r\n                    namedAxes[axisName] = axis;\r\n                }\r\n                plotArea.appendAxis(axis);\r\n                return axis;\r\n            },\r\n            createAxes: function (panes) {\r\n                var plotArea = this, options = plotArea.options, axisPane, xAxesOptions = [].concat(options.xAxis), xAxes = [], yAxesOptions = [].concat(options.yAxis), yAxes = [];\r\n                each(xAxesOptions, function (i) {\r\n                    axisPane = plotArea.findPane(this.pane);\r\n                    if (inArray(axisPane, panes)) {\r\n                        xAxes.push(plotArea.createXYAxis(this, false, i));\r\n                    }\r\n                });\r\n                each(yAxesOptions, function (i) {\r\n                    axisPane = plotArea.findPane(this.pane);\r\n                    if (inArray(axisPane, panes)) {\r\n                        yAxes.push(plotArea.createXYAxis(this, true, i));\r\n                    }\r\n                });\r\n                plotArea.axisX = plotArea.axisX || xAxes[0];\r\n                plotArea.axisY = plotArea.axisY || yAxes[0];\r\n            },\r\n            _dispatchEvent: function (chart, e, eventType) {\r\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), allAxes = plotArea.axes, i, length = allAxes.length, axis, xValues = [], yValues = [], currentValue, values;\r\n                for (i = 0; i < length; i++) {\r\n                    axis = allAxes[i];\r\n                    values = axis.options.vertical ? yValues : xValues;\r\n                    currentValue = axis.getValue(point);\r\n                    if (currentValue !== null) {\r\n                        values.push(currentValue);\r\n                    }\r\n                }\r\n                if (xValues.length > 0 && yValues.length > 0) {\r\n                    chart.trigger(eventType, {\r\n                        element: eventTargetElement(e),\r\n                        originalEvent: e,\r\n                        x: singleItemOrArray(xValues),\r\n                        y: singleItemOrArray(yValues)\r\n                    });\r\n                }\r\n            },\r\n            updateAxisOptions: function (axis, options) {\r\n                var vertical = axis.options.vertical;\r\n                var axes = this.groupAxes(this.panes);\r\n                var index = indexOf(axis, vertical ? axes.y : axes.x);\r\n                var axisOptions = [].concat(vertical ? this.options.yAxis : this.options.xAxis)[index];\r\n                deepExtend(axisOptions, options);\r\n            }\r\n        });\r\n        deepExtend(XYPlotArea.fn, PlotAreaEventsMixin);\r\n        var PiePlotArea = PlotAreaBase.extend({\r\n            render: function () {\r\n                var plotArea = this, series = plotArea.series;\r\n                plotArea.createPieChart(series);\r\n            },\r\n            createPieChart: function (series) {\r\n                var plotArea = this, firstSeries = series[0], pieChart = new PieChart(plotArea, {\r\n                        series: series,\r\n                        padding: firstSeries.padding,\r\n                        startAngle: firstSeries.startAngle,\r\n                        connectors: firstSeries.connectors,\r\n                        legend: plotArea.options.legend\r\n                    });\r\n                plotArea.appendChart(pieChart);\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\r\n                append(this.options.legend.items, chart.legendItems);\r\n            }\r\n        });\r\n        var DonutPlotArea = PiePlotArea.extend({\r\n            render: function () {\r\n                var plotArea = this, series = plotArea.series;\r\n                plotArea.createDonutChart(series);\r\n            },\r\n            createDonutChart: function (series) {\r\n                var plotArea = this, firstSeries = series[0], donutChart = new DonutChart(plotArea, {\r\n                        series: series,\r\n                        padding: firstSeries.padding,\r\n                        connectors: firstSeries.connectors,\r\n                        legend: plotArea.options.legend\r\n                    });\r\n                plotArea.appendChart(donutChart);\r\n            }\r\n        });\r\n        var PieAnimation = draw.Animation.extend({\r\n            options: {\r\n                easing: 'easeOutElastic',\r\n                duration: INITIAL_ANIMATION_DURATION\r\n            },\r\n            setup: function () {\r\n                this.element.transform(geom.transform().scale(START_SCALE, START_SCALE, this.options.center));\r\n            },\r\n            step: function (pos) {\r\n                this.element.transform(geom.transform().scale(pos, pos, this.options.center));\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(PIE, PieAnimation);\r\n        var BubbleAnimation = draw.Animation.extend({\r\n            options: { easing: 'easeOutElastic' },\r\n            setup: function () {\r\n                var center = this.center = this.element.bbox().center();\r\n                this.element.transform(geom.transform().scale(START_SCALE, START_SCALE, center));\r\n            },\r\n            step: function (pos) {\r\n                this.element.transform(geom.transform().scale(pos, pos, this.center));\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(BUBBLE, BubbleAnimation);\r\n        var Highlight = Class.extend({\r\n            init: function () {\r\n                this._points = [];\r\n            },\r\n            destroy: function () {\r\n                this._points = [];\r\n            },\r\n            show: function (points) {\r\n                points = [].concat(points);\r\n                this.hide();\r\n                for (var i = 0; i < points.length; i++) {\r\n                    var point = points[i];\r\n                    if (point && point.toggleHighlight && point.hasHighlight()) {\r\n                        this.togglePointHighlight(point, true);\r\n                        this._points.push(point);\r\n                    }\r\n                }\r\n            },\r\n            togglePointHighlight: function (point, show) {\r\n                var toggleHandler = (point.options.highlight || {}).toggle;\r\n                if (toggleHandler) {\r\n                    var eventArgs = {\r\n                        category: point.category,\r\n                        series: point.series,\r\n                        dataItem: point.dataItem,\r\n                        value: point.value,\r\n                        preventDefault: preventDefault,\r\n                        visual: point.highlightVisual(),\r\n                        show: show\r\n                    };\r\n                    toggleHandler(eventArgs);\r\n                    if (!eventArgs._defaultPrevented) {\r\n                        point.toggleHighlight(show);\r\n                    }\r\n                } else {\r\n                    point.toggleHighlight(show);\r\n                }\r\n            },\r\n            hide: function () {\r\n                var points = this._points;\r\n                while (points.length) {\r\n                    this.togglePointHighlight(points.pop(), false);\r\n                }\r\n            },\r\n            isHighlighted: function (element) {\r\n                var points = this._points;\r\n                for (var i = 0; i < points.length; i++) {\r\n                    var point = points[i];\r\n                    if (element == point) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        var BaseTooltip = Observable.extend({\r\n            init: function (chartElement, options) {\r\n                var tooltip = this;\r\n                Observable.fn.init.call(tooltip);\r\n                tooltip.options = deepExtend({}, tooltip.options, options);\r\n                tooltip.chartElement = chartElement;\r\n                tooltip.template = BaseTooltip.template;\r\n                if (!tooltip.template) {\r\n                    tooltip.template = BaseTooltip.template = renderTemplate('<div class=\\'' + CSS_PREFIX + 'tooltip ' + CSS_PREFIX + 'chart-tooltip\\' ' + 'style=\\'display:none; position: absolute; font: #= d.font #;' + 'border: #= d.border.width #px solid;' + 'opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);\\'>' + '</div>');\r\n                }\r\n                var padding = getSpacing(tooltip.options.padding || {}, 'auto');\r\n                tooltip.element = $(tooltip.template(tooltip.options)).css({\r\n                    'padding-top': padding.top,\r\n                    'padding-right': padding.right,\r\n                    'padding-bottom': padding.bottom,\r\n                    'padding-left': padding.left\r\n                });\r\n                tooltip.move = proxy(tooltip.move, tooltip);\r\n                tooltip._mouseleave = proxy(tooltip._mouseleave, tooltip);\r\n                var mobileScrollerSelector = kendo.format('[{0}=\\'content\\'],[{0}=\\'scroller\\']', kendo.attr('role'));\r\n                tooltip._mobileScroller = chartElement.closest(mobileScrollerSelector).data('kendoMobileScroller');\r\n            },\r\n            destroy: function () {\r\n                this._clearShowTimeout();\r\n                if (this.element) {\r\n                    this.element.off(MOUSELEAVE_NS).remove();\r\n                    this.element = null;\r\n                }\r\n            },\r\n            options: {\r\n                border: { width: 1 },\r\n                opacity: 1,\r\n                animation: { duration: TOOLTIP_ANIMATION_DURATION }\r\n            },\r\n            move: function () {\r\n                var tooltip = this, options = tooltip.options, element = tooltip.element, offset;\r\n                if (!tooltip.anchor || !tooltip.element) {\r\n                    return;\r\n                }\r\n                offset = tooltip._offset();\r\n                if (!tooltip.visible) {\r\n                    element.css({\r\n                        top: offset.top,\r\n                        left: offset.left\r\n                    });\r\n                }\r\n                tooltip.visible = true;\r\n                tooltip._ensureElement(document.body);\r\n                element.stop(true, true).show().animate({\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }, options.animation.duration);\r\n            },\r\n            _clearShowTimeout: function () {\r\n                if (this.showTimeout) {\r\n                    clearTimeout(this.showTimeout);\r\n                    this.showTimeout = null;\r\n                }\r\n            },\r\n            _padding: function () {\r\n                if (!this._chartPadding) {\r\n                    var chartElement = this.chartElement;\r\n                    this._chartPadding = {\r\n                        top: parseInt(chartElement.css('paddingTop'), 10),\r\n                        left: parseInt(chartElement.css('paddingLeft'), 10)\r\n                    };\r\n                }\r\n                return this._chartPadding;\r\n            },\r\n            _offset: function () {\r\n                var tooltip = this, size = tooltip._measure(), anchor = tooltip.anchor, chartPadding = tooltip._padding(), chartOffset = tooltip.chartElement.offset(), top = round(anchor.y + chartPadding.top + chartOffset.top), left = round(anchor.x + chartPadding.left + chartOffset.left), zoomLevel = kendo.support.zoomLevel(), viewport = $(window), scrollTop = window.pageYOffset || document.documentElement.scrollTop || 0, scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || 0, movable = (this._mobileScroller || {}).movable;\r\n                if (!movable || movable.scale === 1) {\r\n                    top += tooltip._fit(top - scrollTop, size.height, viewport.outerHeight() / zoomLevel);\r\n                    left += tooltip._fit(left - scrollLeft, size.width, viewport.outerWidth() / zoomLevel);\r\n                } else {\r\n                    var transform = geom.transform().scale(movable.scale, movable.scale, [\r\n                        movable.x,\r\n                        movable.y\r\n                    ]);\r\n                    var point = new geom.Point(left, top).transform(transform);\r\n                    left = point.x;\r\n                    top = point.y;\r\n                }\r\n                return {\r\n                    top: top,\r\n                    left: left\r\n                };\r\n            },\r\n            setStyle: function (options, point) {\r\n                var background = options.background;\r\n                var border = options.border.color;\r\n                if (point) {\r\n                    var pointColor = point.color || point.options.color;\r\n                    background = valueOrDefault(background, pointColor);\r\n                    border = valueOrDefault(border, pointColor);\r\n                }\r\n                if (!defined(options.color)) {\r\n                    var brightness = new Color(background).percBrightness();\r\n                    this.element.toggleClass(CSS_PREFIX + TOOLTIP_INVERSE, brightness > 180);\r\n                }\r\n                this.element.css({\r\n                    backgroundColor: background,\r\n                    borderColor: border,\r\n                    font: options.font,\r\n                    color: options.color,\r\n                    opacity: options.opacity,\r\n                    borderWidth: options.border.width\r\n                });\r\n            },\r\n            show: function () {\r\n                this._clearShowTimeout();\r\n                this.showTimeout = setTimeout(this.move, TOOLTIP_SHOW_DELAY);\r\n            },\r\n            hide: function () {\r\n                var tooltip = this;\r\n                clearTimeout(tooltip.showTimeout);\r\n                tooltip._hideElement();\r\n                if (tooltip.visible) {\r\n                    tooltip.point = null;\r\n                    tooltip.visible = false;\r\n                    tooltip.index = null;\r\n                }\r\n            },\r\n            _measure: function () {\r\n                this._ensureElement();\r\n                var size = {\r\n                    width: this.element.outerWidth(),\r\n                    height: this.element.outerHeight()\r\n                };\r\n                return size;\r\n            },\r\n            _ensureElement: function () {\r\n                if (this.element) {\r\n                    this.element.appendTo(document.body).on(MOUSELEAVE_NS, this._mouseleave);\r\n                }\r\n            },\r\n            _mouseleave: function (e) {\r\n                var target = e.relatedTarget;\r\n                var chart = this.chartElement[0];\r\n                if (target && target !== chart && !$.contains(chart, target)) {\r\n                    this.trigger(LEAVE);\r\n                    this.hide();\r\n                }\r\n            },\r\n            _hideElement: function () {\r\n                var tooltip = this;\r\n                var element = this.element;\r\n                if (element) {\r\n                    element.fadeOut({\r\n                        always: function () {\r\n                            if (!tooltip.visible) {\r\n                                element.off(MOUSELEAVE_NS).remove();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            _pointContent: function (point) {\r\n                var tooltip = this, options = deepExtend({}, tooltip.options, point.options.tooltip), content, tooltipTemplate;\r\n                if (defined(point.value)) {\r\n                    content = point.value.toString();\r\n                }\r\n                if (options.template) {\r\n                    tooltipTemplate = template(options.template);\r\n                    content = tooltipTemplate({\r\n                        value: point.value,\r\n                        category: point.category,\r\n                        series: point.series,\r\n                        dataItem: point.dataItem,\r\n                        percentage: point.percentage,\r\n                        runningTotal: point.runningTotal,\r\n                        total: point.total,\r\n                        low: point.low,\r\n                        high: point.high,\r\n                        xLow: point.xLow,\r\n                        xHigh: point.xHigh,\r\n                        yLow: point.yLow,\r\n                        yHigh: point.yHigh\r\n                    });\r\n                } else if (options.format) {\r\n                    content = point.formatValue(options.format);\r\n                }\r\n                return content;\r\n            },\r\n            _pointAnchor: function (point) {\r\n                var size = this._measure();\r\n                return point.tooltipAnchor(size.width, size.height);\r\n            },\r\n            _fit: function (offset, size, viewPortSize) {\r\n                var output = 0;\r\n                if (offset + size > viewPortSize) {\r\n                    output = viewPortSize - (offset + size);\r\n                }\r\n                if (offset < 0) {\r\n                    output = -offset;\r\n                }\r\n                return output;\r\n            }\r\n        });\r\n        var Tooltip = BaseTooltip.extend({\r\n            show: function (point) {\r\n                var tooltip = this, options = deepExtend({}, tooltip.options, point.options.tooltip);\r\n                if (!point || !point.tooltipAnchor || !tooltip.element) {\r\n                    return;\r\n                }\r\n                tooltip.element.html(tooltip._pointContent(point));\r\n                tooltip.anchor = tooltip._pointAnchor(point);\r\n                if (tooltip.anchor) {\r\n                    tooltip.setStyle(options, point);\r\n                    BaseTooltip.fn.show.call(tooltip, point);\r\n                } else {\r\n                    tooltip.hide();\r\n                }\r\n            }\r\n        });\r\n        var SharedTooltip = BaseTooltip.extend({\r\n            init: function (element, plotArea, options) {\r\n                var tooltip = this;\r\n                BaseTooltip.fn.init.call(tooltip, element, options);\r\n                tooltip.plotArea = plotArea;\r\n            },\r\n            options: {\r\n                sharedTemplate: '<table>' + '<th colspan=\\'2\\'>#= categoryText #</th>' + '# for(var i = 0; i < points.length; i++) { #' + '# var point = points[i]; #' + '<tr>' + '# if(point.series.name) { # ' + '<td> #= point.series.name #:</td>' + '# } #' + '<td>#= content(point) #</td>' + '</tr>' + '# } #' + '</table>',\r\n                categoryFormat: '{0:d}'\r\n            },\r\n            showAt: function (points, coords) {\r\n                var tooltip = this, options = tooltip.options, plotArea = tooltip.plotArea, axis = plotArea.categoryAxis, index = axis.pointCategoryIndex(coords), category = axis.getCategory(coords), slot = axis.getSlot(index), content;\r\n                points = $.grep(points, function (p) {\r\n                    var tooltip = p.series.tooltip, excluded = tooltip && tooltip.visible === false;\r\n                    return !excluded;\r\n                });\r\n                if (points.length > 0) {\r\n                    content = tooltip._content(points, category);\r\n                    tooltip.element.html(content);\r\n                    tooltip.anchor = tooltip._slotAnchor(coords, slot);\r\n                    tooltip.setStyle(options, points[0]);\r\n                    BaseTooltip.fn.show.call(tooltip);\r\n                }\r\n            },\r\n            _slotAnchor: function (point, slot) {\r\n                var tooltip = this, plotArea = tooltip.plotArea, axis = plotArea.categoryAxis, anchor, size = this._measure(), hCenter = point.y - size.height / 2;\r\n                if (axis.options.vertical) {\r\n                    anchor = Point2D(point.x, hCenter);\r\n                } else {\r\n                    anchor = Point2D(slot.center().x, hCenter);\r\n                }\r\n                return anchor;\r\n            },\r\n            _content: function (points, category) {\r\n                var tooltip = this, template, content;\r\n                template = kendo.template(tooltip.options.sharedTemplate);\r\n                content = template({\r\n                    points: points,\r\n                    category: category,\r\n                    categoryText: autoFormat(tooltip.options.categoryFormat, category),\r\n                    content: tooltip._pointContent\r\n                });\r\n                return content;\r\n            }\r\n        });\r\n        var Crosshair = ChartElement.extend({\r\n            init: function (axis, options) {\r\n                ChartElement.fn.init.call(this, options);\r\n                this.axis = axis;\r\n                this.stickyMode = axis instanceof CategoryAxis;\r\n            },\r\n            options: {\r\n                color: BLACK,\r\n                width: 1,\r\n                zIndex: -1,\r\n                tooltip: { visible: false }\r\n            },\r\n            showAt: function (point) {\r\n                this.point = point;\r\n                this.moveLine();\r\n                this.line.visible(true);\r\n                var tooltipOptions = this.options.tooltip;\r\n                if (tooltipOptions.visible) {\r\n                    if (!this.tooltip) {\r\n                        this.tooltip = new CrosshairTooltip(this, deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode }));\r\n                    }\r\n                    this.tooltip.showAt(point);\r\n                }\r\n            },\r\n            hide: function () {\r\n                this.line.visible(false);\r\n                if (this.tooltip) {\r\n                    this.tooltip.hide();\r\n                }\r\n            },\r\n            moveLine: function () {\r\n                var crosshair = this, axis = crosshair.axis, vertical = axis.options.vertical, box = crosshair.getBox(), point = crosshair.point, dim = vertical ? Y : X, slot, lineStart, lineEnd;\r\n                lineStart = new geom.Point(box.x1, box.y1);\r\n                if (vertical) {\r\n                    lineEnd = new geom.Point(box.x2, box.y1);\r\n                } else {\r\n                    lineEnd = new geom.Point(box.x1, box.y2);\r\n                }\r\n                if (point) {\r\n                    if (crosshair.stickyMode) {\r\n                        slot = axis.getSlot(axis.pointCategoryIndex(point));\r\n                        lineStart[dim] = lineEnd[dim] = slot.center()[dim];\r\n                    } else {\r\n                        lineStart[dim] = lineEnd[dim] = point[dim];\r\n                    }\r\n                }\r\n                crosshair.box = box;\r\n                this.line.moveTo(lineStart).lineTo(lineEnd);\r\n            },\r\n            getBox: function () {\r\n                var crosshair = this, axis = crosshair.axis, axes = axis.pane.axes, length = axes.length, vertical = axis.options.vertical, box = axis.lineBox().clone(), dim = vertical ? X : Y, axisLineBox, currentAxis, i;\r\n                for (i = 0; i < length; i++) {\r\n                    currentAxis = axes[i];\r\n                    if (currentAxis.options.vertical != vertical) {\r\n                        if (!axisLineBox) {\r\n                            axisLineBox = currentAxis.lineBox().clone();\r\n                        } else {\r\n                            axisLineBox.wrap(currentAxis.lineBox());\r\n                        }\r\n                    }\r\n                }\r\n                box[dim + 1] = axisLineBox[dim + 1];\r\n                box[dim + 2] = axisLineBox[dim + 2];\r\n                return box;\r\n            },\r\n            createVisual: function () {\r\n                ChartElement.fn.createVisual.call(this);\r\n                var options = this.options;\r\n                this.line = new draw.Path({\r\n                    stroke: {\r\n                        color: options.color,\r\n                        width: options.width,\r\n                        opacity: options.opacity,\r\n                        dashType: options.dashType\r\n                    },\r\n                    visible: false\r\n                });\r\n                this.moveLine();\r\n                this.visual.append(this.line);\r\n            },\r\n            destroy: function () {\r\n                var crosshair = this;\r\n                if (crosshair.tooltip) {\r\n                    crosshair.tooltip.destroy();\r\n                }\r\n                ChartElement.fn.destroy.call(crosshair);\r\n            }\r\n        });\r\n        var CrosshairTooltip = BaseTooltip.extend({\r\n            init: function (crosshair, options) {\r\n                var tooltip = this, chartElement = crosshair.axis.getRoot().chart.element;\r\n                tooltip.crosshair = crosshair;\r\n                BaseTooltip.fn.init.call(tooltip, chartElement, deepExtend({}, tooltip.options, { background: crosshair.axis.plotArea.options.seriesColors[0] }, options));\r\n                tooltip.setStyle(tooltip.options);\r\n            },\r\n            options: { padding: 10 },\r\n            showAt: function (point) {\r\n                var tooltip = this, element = tooltip.element;\r\n                if (element) {\r\n                    tooltip.point = point;\r\n                    tooltip.element.html(tooltip.content(point));\r\n                    tooltip.anchor = tooltip.getAnchor();\r\n                    tooltip.move();\r\n                }\r\n            },\r\n            move: function () {\r\n                var tooltip = this, element = tooltip.element, offset = tooltip._offset();\r\n                tooltip._ensureElement();\r\n                element.css({\r\n                    top: offset.top,\r\n                    left: offset.left\r\n                }).show();\r\n            },\r\n            content: function (point) {\r\n                var tooltip = this, options = tooltip.options, axis = tooltip.crosshair.axis, axisOptions = axis.options, content, value, tooltipTemplate;\r\n                value = content = axis[options.stickyMode ? 'getCategory' : 'getValue'](point);\r\n                if (options.template) {\r\n                    tooltipTemplate = template(options.template);\r\n                    content = tooltipTemplate({ value: value });\r\n                } else if (options.format) {\r\n                    content = autoFormat(options.format, value);\r\n                } else {\r\n                    if (axisOptions.type === DATE) {\r\n                        content = autoFormat(axisOptions.labels.dateFormats[axisOptions.baseUnit], value);\r\n                    }\r\n                }\r\n                return content;\r\n            },\r\n            getAnchor: function () {\r\n                var tooltip = this, options = tooltip.options, position = options.position, crosshair = this.crosshair, vertical = !crosshair.axis.options.vertical, lineBox = crosshair.line.bbox(), size = this._measure(), halfWidth = size.width / 2, halfHeight = size.height / 2, padding = options.padding, anchor;\r\n                if (vertical) {\r\n                    if (position === BOTTOM) {\r\n                        anchor = lineBox.bottomLeft().translate(-halfWidth, padding);\r\n                    } else {\r\n                        anchor = lineBox.topLeft().translate(-halfWidth, -size.height - padding);\r\n                    }\r\n                } else {\r\n                    if (position === LEFT) {\r\n                        anchor = lineBox.topLeft().translate(-size.width - padding, -halfHeight);\r\n                    } else {\r\n                        anchor = lineBox.topRight().translate(padding, -halfHeight);\r\n                    }\r\n                }\r\n                return anchor;\r\n            },\r\n            hide: function () {\r\n                this.element.hide();\r\n                this.point = null;\r\n            },\r\n            destroy: function () {\r\n                BaseTooltip.fn.destroy.call(this);\r\n                this.point = null;\r\n            }\r\n        });\r\n        var Aggregates = {\r\n            min: function (values) {\r\n                var min = MAX_VALUE, length = values.length, i, n;\r\n                for (i = 0; i < length; i++) {\r\n                    n = values[i];\r\n                    if (isNumber(n)) {\r\n                        min = math.min(min, n);\r\n                    }\r\n                }\r\n                return min === MAX_VALUE ? values[0] : min;\r\n            },\r\n            max: function (values) {\r\n                var max = MIN_VALUE, length = values.length, i, n;\r\n                for (i = 0; i < length; i++) {\r\n                    n = values[i];\r\n                    if (isNumber(n)) {\r\n                        max = math.max(max, n);\r\n                    }\r\n                }\r\n                return max === MIN_VALUE ? values[0] : max;\r\n            },\r\n            sum: function (values) {\r\n                var length = values.length, sum = 0, i, n;\r\n                for (i = 0; i < length; i++) {\r\n                    n = values[i];\r\n                    if (isNumber(n)) {\r\n                        sum += n;\r\n                    }\r\n                }\r\n                return sum;\r\n            },\r\n            sumOrNull: function (values) {\r\n                var result = null;\r\n                if (countNumbers(values)) {\r\n                    result = Aggregates.sum(values);\r\n                }\r\n                return result;\r\n            },\r\n            count: function (values) {\r\n                var length = values.length, count = 0, i, val;\r\n                for (i = 0; i < length; i++) {\r\n                    val = values[i];\r\n                    if (val !== null && defined(val)) {\r\n                        count++;\r\n                    }\r\n                }\r\n                return count;\r\n            },\r\n            avg: function (values) {\r\n                var result = values[0], count = countNumbers(values);\r\n                if (count > 0) {\r\n                    result = Aggregates.sum(values) / count;\r\n                }\r\n                return result;\r\n            },\r\n            first: function (values) {\r\n                var length = values.length, i, val;\r\n                for (i = 0; i < length; i++) {\r\n                    val = values[i];\r\n                    if (val !== null && defined(val)) {\r\n                        return val;\r\n                    }\r\n                }\r\n                return values[0];\r\n            }\r\n        };\r\n        function DefaultAggregates() {\r\n            this._defaults = {};\r\n        }\r\n        DefaultAggregates.prototype = {\r\n            register: function (seriesTypes, aggregates) {\r\n                for (var i = 0; i < seriesTypes.length; i++) {\r\n                    this._defaults[seriesTypes[i]] = aggregates;\r\n                }\r\n            },\r\n            query: function (seriesType) {\r\n                return this._defaults[seriesType];\r\n            }\r\n        };\r\n        DefaultAggregates.current = new DefaultAggregates();\r\n        var Selection = Observable.extend({\r\n            init: function (chart, categoryAxis, options) {\r\n                var that = this, chartElement = chart.element, categoryAxisLineBox = categoryAxis.lineBox(), valueAxis = that.getValueAxis(categoryAxis), valueAxisLineBox = valueAxis.lineBox(), selectorPrefix = '.' + CSS_PREFIX, wrapper, padding;\r\n                Observable.fn.init.call(that);\r\n                that.options = deepExtend({}, that.options, options);\r\n                options = that.options;\r\n                that.chart = chart;\r\n                that.chartElement = chartElement;\r\n                that.categoryAxis = categoryAxis;\r\n                that._dateAxis = that.categoryAxis instanceof DateCategoryAxis;\r\n                that.valueAxis = valueAxis;\r\n                if (that._dateAxis) {\r\n                    deepExtend(options, {\r\n                        min: toDate(options.min),\r\n                        max: toDate(options.max),\r\n                        from: toDate(options.from),\r\n                        to: toDate(options.to)\r\n                    });\r\n                }\r\n                that.template = Selection.template;\r\n                if (!that.template) {\r\n                    that.template = Selection.template = renderTemplate('<div class=\\'' + CSS_PREFIX + 'selector\\' ' + 'style=\\'width: #= d.width #px; height: #= d.height #px;' + ' top: #= d.offset.top #px; left: #= d.offset.left #px;\\'>' + '<div class=\\'' + CSS_PREFIX + 'mask\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'mask\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'selection\\'>' + '<div class=\\'' + CSS_PREFIX + 'selection-bg\\'></div>' + '<div class=\\'' + CSS_PREFIX + 'handle ' + CSS_PREFIX + 'leftHandle\\'><div></div></div>' + '<div class=\\'' + CSS_PREFIX + 'handle ' + CSS_PREFIX + 'rightHandle\\'><div></div></div>' + '</div></div>');\r\n                }\r\n                padding = {\r\n                    left: parseInt(chartElement.css('paddingLeft'), 10),\r\n                    right: parseInt(chartElement.css('paddingTop'), 10)\r\n                };\r\n                that.options = deepExtend({}, {\r\n                    width: categoryAxisLineBox.width(),\r\n                    height: valueAxisLineBox.height(),\r\n                    padding: padding,\r\n                    offset: {\r\n                        left: valueAxisLineBox.x2 + padding.left,\r\n                        top: valueAxisLineBox.y1 + padding.right\r\n                    },\r\n                    from: options.min,\r\n                    to: options.max\r\n                }, options);\r\n                if (that.options.visible) {\r\n                    that.wrapper = wrapper = $(that.template(that.options)).appendTo(chartElement);\r\n                    that.selection = wrapper.find(selectorPrefix + 'selection');\r\n                    that.leftMask = wrapper.find(selectorPrefix + 'mask').first();\r\n                    that.rightMask = wrapper.find(selectorPrefix + 'mask').last();\r\n                    that.leftHandle = wrapper.find(selectorPrefix + 'leftHandle');\r\n                    that.rightHandle = wrapper.find(selectorPrefix + 'rightHandle');\r\n                    that.options.selection = {\r\n                        border: {\r\n                            left: parseFloat(that.selection.css('border-left-width'), 10),\r\n                            right: parseFloat(that.selection.css('border-right-width'), 10)\r\n                        }\r\n                    };\r\n                    that.leftHandle.css('top', (that.selection.height() - that.leftHandle.height()) / 2);\r\n                    that.rightHandle.css('top', (that.selection.height() - that.rightHandle.height()) / 2);\r\n                    that.set(that._index(options.from), that._index(options.to));\r\n                    that.bind(that.events, that.options);\r\n                    that.wrapper[0].style.cssText = that.wrapper[0].style.cssText;\r\n                    that.wrapper.on(MOUSEWHEEL_NS, proxy(that._mousewheel, that));\r\n                    if (kendo.UserEvents) {\r\n                        that.userEvents = new kendo.UserEvents(that.wrapper, {\r\n                            global: true,\r\n                            stopPropagation: true,\r\n                            multiTouch: true,\r\n                            fastTap: true,\r\n                            press: proxy(that._press, that),\r\n                            start: proxy(that._start, that),\r\n                            move: proxy(that._move, that),\r\n                            end: proxy(that._end, that),\r\n                            tap: proxy(that._tap, that),\r\n                            gesturestart: proxy(that._gesturechange, that),\r\n                            gesturechange: proxy(that._gesturechange, that)\r\n                        });\r\n                    } else {\r\n                        that.leftHandle.add(that.rightHandle).removeClass(CSS_PREFIX + 'handle');\r\n                    }\r\n                }\r\n            },\r\n            events: [\r\n                SELECT_START,\r\n                SELECT,\r\n                SELECT_END\r\n            ],\r\n            options: {\r\n                visible: true,\r\n                mousewheel: { zoom: BOTH },\r\n                min: MIN_VALUE,\r\n                max: MAX_VALUE\r\n            },\r\n            destroy: function () {\r\n                var that = this, userEvents = that.userEvents;\r\n                if (userEvents) {\r\n                    userEvents.destroy();\r\n                }\r\n                clearTimeout(that._mwTimeout);\r\n                that._state = null;\r\n                if (that.wrapper) {\r\n                    that.wrapper.remove();\r\n                }\r\n            },\r\n            _rangeEventArgs: function (range) {\r\n                var that = this;\r\n                return {\r\n                    axis: that.categoryAxis.options,\r\n                    from: that._value(range.from),\r\n                    to: that._value(range.to)\r\n                };\r\n            },\r\n            _start: function (e) {\r\n                var that = this, options = that.options, target = $(e.event.target), args;\r\n                if (that._state || !target) {\r\n                    return;\r\n                }\r\n                that.chart._unsetActivePoint();\r\n                that._state = {\r\n                    moveTarget: target.parents('.k-handle').add(target).first(),\r\n                    startLocation: e.x ? e.x.location : 0,\r\n                    range: {\r\n                        from: that._index(options.from),\r\n                        to: that._index(options.to)\r\n                    }\r\n                };\r\n                args = that._rangeEventArgs({\r\n                    from: that._index(options.from),\r\n                    to: that._index(options.to)\r\n                });\r\n                if (that.trigger(SELECT_START, args)) {\r\n                    that.userEvents.cancel();\r\n                    that._state = null;\r\n                }\r\n            },\r\n            _press: function (e) {\r\n                var handle;\r\n                if (this._state) {\r\n                    handle = this._state.moveTarget;\r\n                } else {\r\n                    var target = $(e.event.target);\r\n                    handle = target.parents('.k-handle').add(target).first();\r\n                }\r\n                handle.addClass('k-handle-active');\r\n            },\r\n            _move: function (e) {\r\n                if (!this._state) {\r\n                    return;\r\n                }\r\n                var that = this, state = that._state, options = that.options, categories = that.categoryAxis.options.categories, from = that._index(options.from), to = that._index(options.to), min = that._index(options.min), max = that._index(options.max), delta = state.startLocation - e.x.location, range = state.range, oldRange = {\r\n                        from: range.from,\r\n                        to: range.to\r\n                    }, span = range.to - range.from, target = state.moveTarget, scale = that.wrapper.width() / (categories.length - 1), offset = math.round(delta / scale);\r\n                if (!target) {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                if (target.is('.k-selection, .k-selection-bg')) {\r\n                    range.from = math.min(math.max(min, from - offset), max - span);\r\n                    range.to = math.min(range.from + span, max);\r\n                } else if (target.is('.k-leftHandle')) {\r\n                    range.from = math.min(math.max(min, from - offset), max - 1);\r\n                    range.to = math.max(range.from + 1, range.to);\r\n                } else if (target.is('.k-rightHandle')) {\r\n                    range.to = math.min(math.max(min + 1, to - offset), max);\r\n                    range.from = math.min(range.to - 1, range.from);\r\n                }\r\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\r\n                    that.move(range.from, range.to);\r\n                    that.trigger(SELECT, that._rangeEventArgs(range));\r\n                }\r\n            },\r\n            _end: function () {\r\n                var range = this._state.range;\r\n                if (this._state) {\r\n                    var moveTarget = this._state.moveTarget;\r\n                    if (moveTarget) {\r\n                        moveTarget.removeClass('k-handle-active');\r\n                    }\r\n                    delete this._state;\r\n                }\r\n                this.set(range.from, range.to);\r\n                this.trigger(SELECT_END, this._rangeEventArgs(range));\r\n            },\r\n            _gesturechange: function (e) {\r\n                if (!this._state) {\r\n                    return;\r\n                }\r\n                var that = this, chart = that.chart, state = that._state, options = that.options, categoryAxis = that.categoryAxis, range = state.range, p0 = chart._toModelCoordinates(e.touches[0].x.location).x, p1 = chart._toModelCoordinates(e.touches[1].x.location).x, left = math.min(p0, p1), right = math.max(p0, p1);\r\n                e.preventDefault();\r\n                state.moveTarget = null;\r\n                range.from = categoryAxis.pointCategoryIndex(new dataviz.Point2D(left)) || options.min;\r\n                range.to = categoryAxis.pointCategoryIndex(new dataviz.Point2D(right)) || options.max;\r\n                that.move(range.from, range.to);\r\n            },\r\n            _tap: function (e) {\r\n                var that = this, options = that.options, coords = that.chart._eventCoordinates(e), categoryAxis = that.categoryAxis, categoryIx = categoryAxis.pointCategoryIndex(new dataviz.Point2D(coords.x, categoryAxis.box.y1)), from = that._index(options.from), to = that._index(options.to), min = that._index(options.min), max = that._index(options.max), span = to - from, mid = from + span / 2, offset = math.round(mid - categoryIx), range = {}, rightClick = e.event.which === 3;\r\n                if (that._state || rightClick) {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                that.chart._unsetActivePoint();\r\n                if (!categoryAxis.options.justified) {\r\n                    offset--;\r\n                }\r\n                range.from = math.min(math.max(min, from - offset), max - span);\r\n                range.to = math.min(range.from + span, max);\r\n                that._start(e);\r\n                if (that._state) {\r\n                    that._state.range = range;\r\n                    that.trigger(SELECT, that._rangeEventArgs(range));\r\n                    that._end();\r\n                }\r\n            },\r\n            _mousewheel: function (e) {\r\n                var that = this, options = that.options, delta = mwDelta(e);\r\n                that._start({ event: { target: that.selection } });\r\n                if (that._state) {\r\n                    var range = that._state.range;\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (math.abs(delta) > 1) {\r\n                        delta *= ZOOM_ACCELERATION;\r\n                    }\r\n                    if (options.mousewheel.reverse) {\r\n                        delta *= -1;\r\n                    }\r\n                    if (that.expand(delta)) {\r\n                        that.trigger(SELECT, {\r\n                            axis: that.categoryAxis.options,\r\n                            delta: delta,\r\n                            originalEvent: e,\r\n                            from: that._value(range.from),\r\n                            to: that._value(range.to)\r\n                        });\r\n                    }\r\n                    if (that._mwTimeout) {\r\n                        clearTimeout(that._mwTimeout);\r\n                    }\r\n                    that._mwTimeout = setTimeout(function () {\r\n                        that._end();\r\n                    }, MOUSEWHEEL_DELAY);\r\n                }\r\n            },\r\n            _index: function (value) {\r\n                var index = value;\r\n                if (value instanceof Date) {\r\n                    index = this.categoryAxis.categoryIndex(value);\r\n                }\r\n                return index;\r\n            },\r\n            _value: function (index) {\r\n                var categories = this.categoryAxis.options.categories;\r\n                var value = index;\r\n                if (this._dateAxis) {\r\n                    if (index > categories.length - 1) {\r\n                        value = this.options.max;\r\n                    } else {\r\n                        value = categories[math.ceil(index)];\r\n                    }\r\n                }\r\n                return value;\r\n            },\r\n            _slot: function (value) {\r\n                var categoryAxis = this.categoryAxis;\r\n                var index = this._index(value);\r\n                return categoryAxis.getSlot(index, index, true);\r\n            },\r\n            move: function (from, to) {\r\n                var that = this, options = that.options, offset = options.offset, padding = options.padding, border = options.selection.border, leftMaskWidth, rightMaskWidth, box, distance;\r\n                box = that._slot(from);\r\n                leftMaskWidth = round(box.x1 - offset.left + padding.left);\r\n                that.leftMask.width(leftMaskWidth);\r\n                that.selection.css('left', leftMaskWidth);\r\n                box = that._slot(to);\r\n                rightMaskWidth = round(options.width - (box.x1 - offset.left + padding.left));\r\n                that.rightMask.width(rightMaskWidth);\r\n                distance = options.width - rightMaskWidth;\r\n                if (distance != options.width) {\r\n                    distance += border.right;\r\n                }\r\n                that.rightMask.css('left', distance);\r\n                that.selection.width(math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0));\r\n            },\r\n            set: function (from, to) {\r\n                var that = this, options = that.options, min = that._index(options.min), max = that._index(options.max);\r\n                from = limitValue(that._index(from), min, max);\r\n                to = limitValue(that._index(to), from + 1, max);\r\n                if (options.visible) {\r\n                    that.move(from, to);\r\n                }\r\n                options.from = that._value(from);\r\n                options.to = that._value(to);\r\n            },\r\n            expand: function (delta) {\r\n                var that = this, options = that.options, min = that._index(options.min), max = that._index(options.max), zDir = options.mousewheel.zoom, from = that._index(options.from), to = that._index(options.to), range = {\r\n                        from: from,\r\n                        to: to\r\n                    }, oldRange = deepExtend({}, range);\r\n                if (that._state) {\r\n                    range = that._state.range;\r\n                }\r\n                if (zDir !== RIGHT) {\r\n                    range.from = limitValue(limitValue(from - delta, 0, to - 1), min, max);\r\n                }\r\n                if (zDir !== LEFT) {\r\n                    range.to = limitValue(limitValue(to + delta, range.from + 1, max), min, max);\r\n                }\r\n                if (range.from !== oldRange.from || range.to !== oldRange.to) {\r\n                    that.set(range.from, range.to);\r\n                    return true;\r\n                }\r\n            },\r\n            getValueAxis: function (categoryAxis) {\r\n                var axes = categoryAxis.pane.axes, axesCount = axes.length, i, axis;\r\n                for (i = 0; i < axesCount; i++) {\r\n                    axis = axes[i];\r\n                    if (axis.options.vertical !== categoryAxis.options.vertical) {\r\n                        return axis;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var Pannable = Class.extend({\r\n            init: function (plotArea, options) {\r\n                this.plotArea = plotArea;\r\n                this.options = deepExtend({}, this.options, options);\r\n            },\r\n            options: {\r\n                key: 'none',\r\n                lock: 'none'\r\n            },\r\n            start: function (e) {\r\n                this._active = acceptKey(e.event, this.options.key);\r\n                return this._active;\r\n            },\r\n            move: function (e) {\r\n                if (this._active) {\r\n                    var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));\r\n                    if (axisRanges.length) {\r\n                        this.axisRanges = axisRanges;\r\n                        return toChartAxisRanges(axisRanges);\r\n                    }\r\n                }\r\n            },\r\n            end: function () {\r\n                var active = this._active;\r\n                this._active = false;\r\n                return active;\r\n            },\r\n            pan: function () {\r\n                var plotArea = this.plotArea;\r\n                var axisRanges = this.axisRanges;\r\n                var range;\r\n                if (axisRanges.length) {\r\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\r\n                        range = axisRanges[idx];\r\n                        plotArea.updateAxisOptions(range.axis, range.range);\r\n                    }\r\n                    plotArea.redraw(plotArea.panes);\r\n                }\r\n            },\r\n            _panAxes: function (e, position) {\r\n                var plotArea = this.plotArea;\r\n                var delta = -e[position].delta;\r\n                var lock = (this.options.lock || '').toLowerCase();\r\n                var updatedAxes = [];\r\n                if (delta !== 0 && (lock || '').toLowerCase() != position) {\r\n                    var axes = plotArea.axes;\r\n                    var axis;\r\n                    var range;\r\n                    for (var idx = 0; idx < axes.length; idx++) {\r\n                        axis = axes[idx];\r\n                        if (position == X && !axis.options.vertical || position == Y && axis.options.vertical) {\r\n                            range = axis.pan(delta);\r\n                            if (range) {\r\n                                range.limitRange = true;\r\n                                updatedAxes.push({\r\n                                    axis: axis,\r\n                                    range: range\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return updatedAxes;\r\n            }\r\n        });\r\n        var ZoomSelection = Class.extend({\r\n            init: function (chart, options) {\r\n                this.chart = chart;\r\n                this.options = deepExtend({}, this.options, options);\r\n                this._marquee = $('<div class=\\'k-marquee\\'><div class=\\'k-marquee-color\\'></div></div>');\r\n            },\r\n            options: {\r\n                key: 'shift',\r\n                lock: 'none'\r\n            },\r\n            start: function (e) {\r\n                if (acceptKey(e.event, this.options.key)) {\r\n                    var chart = this.chart;\r\n                    var point = chart._toModelCoordinates(e.x.client, e.y.client);\r\n                    var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);\r\n                    if (zoomPane && zoomPane.clipBox()) {\r\n                        var clipBox = zoomPane.clipBox().clone();\r\n                        var elementOffset = this._elementOffset();\r\n                        clipBox.translate(elementOffset.left, elementOffset.top);\r\n                        this._zoomPaneClipBox = clipBox;\r\n                        this._marquee.appendTo(document.body).css({\r\n                            left: e.x.client + 1,\r\n                            top: e.y.client + 1,\r\n                            width: 0,\r\n                            height: 0\r\n                        });\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            _elementOffset: function () {\r\n                var chartElement = this.chart.element;\r\n                var chartOffset = chartElement.offset();\r\n                return {\r\n                    left: parseInt(chartElement.css('paddingTop'), 10) + chartOffset.left,\r\n                    top: parseInt(chartElement.css('paddingLeft'), 10) + chartOffset.top\r\n                };\r\n            },\r\n            move: function (e) {\r\n                var zoomPane = this._zoomPane;\r\n                if (zoomPane) {\r\n                    var selectionPosition = this._selectionPosition(e);\r\n                    this._marquee.css(selectionPosition);\r\n                }\r\n            },\r\n            end: function (e) {\r\n                var zoomPane = this._zoomPane;\r\n                if (zoomPane) {\r\n                    var elementOffset = this._elementOffset();\r\n                    var selectionPosition = this._selectionPosition(e);\r\n                    selectionPosition.left -= elementOffset.left;\r\n                    selectionPosition.top -= elementOffset.top;\r\n                    var start = {\r\n                        x: selectionPosition.left,\r\n                        y: selectionPosition.top\r\n                    };\r\n                    var end = {\r\n                        x: selectionPosition.left + selectionPosition.width,\r\n                        y: selectionPosition.top + selectionPosition.height\r\n                    };\r\n                    this._updateAxisRanges(start, end);\r\n                    this._marquee.remove();\r\n                    delete this._zoomPane;\r\n                    return toChartAxisRanges(this.axisRanges);\r\n                }\r\n            },\r\n            zoom: function () {\r\n                var axisRanges = this.axisRanges;\r\n                if (axisRanges && axisRanges.length) {\r\n                    var plotArea = this.chart._plotArea;\r\n                    var axisRange;\r\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\r\n                        axisRange = axisRanges[idx];\r\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\r\n                    }\r\n                    plotArea.redraw(plotArea.panes);\r\n                }\r\n            },\r\n            destroy: function () {\r\n                this._marquee.remove();\r\n                delete this._marquee;\r\n            },\r\n            _updateAxisRanges: function (start, end) {\r\n                var lock = (this.options.lock || '').toLowerCase();\r\n                var axisRanges = [];\r\n                var axes = this._zoomPane.axes;\r\n                var axis, vertical;\r\n                for (var idx = 0; idx < axes.length; idx++) {\r\n                    axis = axes[idx];\r\n                    vertical = axis.options.vertical;\r\n                    if (!(lock == X && !vertical) && !(lock === Y && vertical)) {\r\n                        var range = axis.pointsRange(start, end);\r\n                        axisRanges.push({\r\n                            axis: axis,\r\n                            range: range\r\n                        });\r\n                    }\r\n                }\r\n                this.axisRanges = axisRanges;\r\n            },\r\n            _selectionPosition: function (e) {\r\n                var lock = (this.options.lock || '').toLowerCase();\r\n                var left = math.min(e.x.startLocation, e.x.location);\r\n                var top = math.min(e.y.startLocation, e.y.location);\r\n                var width = math.abs(e.x.initialDelta);\r\n                var height = math.abs(e.y.initialDelta);\r\n                var clipBox = this._zoomPaneClipBox;\r\n                if (lock == X) {\r\n                    left = clipBox.x1;\r\n                    width = clipBox.width();\r\n                }\r\n                if (lock == Y) {\r\n                    top = clipBox.y1;\r\n                    height = clipBox.height();\r\n                }\r\n                if (e.x.location > clipBox.x2) {\r\n                    width = clipBox.x2 - e.x.startLocation;\r\n                }\r\n                if (e.x.location < clipBox.x1) {\r\n                    width = e.x.startLocation - clipBox.x1;\r\n                }\r\n                if (e.y.location > clipBox.y2) {\r\n                    height = clipBox.y2 - e.y.startLocation;\r\n                }\r\n                if (e.y.location < clipBox.y1) {\r\n                    height = e.y.startLocation - clipBox.y1;\r\n                }\r\n                return {\r\n                    left: math.max(left, clipBox.x1),\r\n                    top: math.max(top, clipBox.y1),\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            }\r\n        });\r\n        var MousewheelZoom = Class.extend({\r\n            init: function (chart, options) {\r\n                this.chart = chart;\r\n                this.options = deepExtend({}, this.options, options);\r\n            },\r\n            updateRanges: function (delta) {\r\n                var lock = (this.options.lock || '').toLowerCase();\r\n                var axisRanges = [];\r\n                var axes = this.chart._plotArea.axes;\r\n                var axis, vertical;\r\n                for (var idx = 0; idx < axes.length; idx++) {\r\n                    axis = axes[idx];\r\n                    vertical = axis.options.vertical;\r\n                    if (!(lock == X && !vertical) && !(lock === Y && vertical)) {\r\n                        var range = axis.zoomRange(-delta);\r\n                        if (range) {\r\n                            axisRanges.push({\r\n                                axis: axis,\r\n                                range: range\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                this.axisRanges = axisRanges;\r\n                return toChartAxisRanges(axisRanges);\r\n            },\r\n            zoom: function () {\r\n                var axisRanges = this.axisRanges;\r\n                if (axisRanges && axisRanges.length) {\r\n                    var plotArea = this.chart._plotArea;\r\n                    var axisRange;\r\n                    for (var idx = 0; idx < axisRanges.length; idx++) {\r\n                        axisRange = axisRanges[idx];\r\n                        plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\r\n                    }\r\n                    plotArea.redraw(plotArea.panes);\r\n                }\r\n            }\r\n        });\r\n        var SeriesAggregator = function (series, binder, defaultAggregates) {\r\n            var sa = this, canonicalFields = binder.canonicalFields(series), valueFields = binder.valueFields(series), sourceFields = binder.sourceFields(series, canonicalFields), seriesFields = sa._seriesFields = [], defaults = defaultAggregates.query(series.type), rootAggregate = series.aggregate || defaults, i;\r\n            sa._series = series;\r\n            sa._binder = binder;\r\n            for (i = 0; i < canonicalFields.length; i++) {\r\n                var field = canonicalFields[i], fieldAggregate;\r\n                if (typeof rootAggregate === OBJECT) {\r\n                    fieldAggregate = rootAggregate[field];\r\n                } else if (i === 0 || inArray(field, valueFields)) {\r\n                    fieldAggregate = rootAggregate;\r\n                } else {\r\n                    break;\r\n                }\r\n                if (fieldAggregate) {\r\n                    seriesFields.push({\r\n                        canonicalName: field,\r\n                        name: sourceFields[i],\r\n                        transform: isFn(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        SeriesAggregator.prototype = {\r\n            aggregatePoints: function (srcPoints, group) {\r\n                var sa = this, data = sa._bindPoints(srcPoints || []), series = sa._series, seriesFields = sa._seriesFields, i, field, srcValues, value, firstDataItem = data.dataItems[0], result = {};\r\n                if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {\r\n                    var fn = function () {\r\n                    };\r\n                    fn.prototype = firstDataItem;\r\n                    result = new fn();\r\n                }\r\n                for (i = 0; i < seriesFields.length; i++) {\r\n                    field = seriesFields[i];\r\n                    srcValues = sa._bindField(data.values, field.canonicalName);\r\n                    value = field.transform(srcValues, series, data.dataItems, group);\r\n                    if (value !== null && typeof value === OBJECT && !defined(value.length) && !(value instanceof Date)) {\r\n                        result = value;\r\n                        break;\r\n                    } else {\r\n                        if (defined(value)) {\r\n                            ensureTree(field.name, result);\r\n                            kendo.setter(field.name)(result, value);\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            _bindPoints: function (points) {\r\n                var sa = this, binder = sa._binder, series = sa._series, values = [], dataItems = [], i, pointIx;\r\n                for (i = 0; i < points.length; i++) {\r\n                    pointIx = points[i];\r\n                    values.push(binder.bindPoint(series, pointIx));\r\n                    dataItems.push(series.data[pointIx]);\r\n                }\r\n                return {\r\n                    values: values,\r\n                    dataItems: dataItems\r\n                };\r\n            },\r\n            _bindField: function (data, field) {\r\n                var values = [], count = data.length, i, item, value, valueFields;\r\n                for (i = 0; i < count; i++) {\r\n                    item = data[i];\r\n                    valueFields = item.valueFields;\r\n                    if (defined(valueFields[field])) {\r\n                        value = valueFields[field];\r\n                    } else {\r\n                        value = item.fields[field];\r\n                    }\r\n                    values.push(value);\r\n                }\r\n                return values;\r\n            }\r\n        };\r\n        var ChartAxis = Class.extend({\r\n            init: function (axis) {\r\n                this._axis = axis;\r\n            },\r\n            slot: function (from, to, limit) {\r\n                if (!defined(limit)) {\r\n                    limit = true;\r\n                }\r\n                return this._axis.slot(from, to, limit);\r\n            },\r\n            range: function () {\r\n                return this._axis.range();\r\n            }\r\n        });\r\n        function intersection(a1, a2, b1, b2) {\r\n            var result, ua_t = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x), u_b = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y), ua;\r\n            if (u_b !== 0) {\r\n                ua = ua_t / u_b;\r\n                result = new Point2D(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y));\r\n            }\r\n            return result;\r\n        }\r\n        function applySeriesDefaults(options, themeOptions) {\r\n            var series = options.series, i, seriesLength = series.length, seriesType, seriesDefaults = options.seriesDefaults, commonDefaults = deepExtend({}, options.seriesDefaults), themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {}, commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\r\n            cleanupNestedSeriesDefaults(commonDefaults);\r\n            cleanupNestedSeriesDefaults(commonThemeDefaults);\r\n            for (i = 0; i < seriesLength; i++) {\r\n                seriesType = series[i].type || options.seriesDefaults.type;\r\n                var baseOptions = deepExtend({ data: [] }, commonThemeDefaults, themeSeriesDefaults[seriesType], { tooltip: options.tooltip }, commonDefaults, seriesDefaults[seriesType]);\r\n                series[i]._defaults = baseOptions;\r\n                series[i] = deepExtend({}, baseOptions, series[i]);\r\n            }\r\n        }\r\n        function cleanupNestedSeriesDefaults(seriesDefaults) {\r\n            delete seriesDefaults.bar;\r\n            delete seriesDefaults.column;\r\n            delete seriesDefaults.rangeColumn;\r\n            delete seriesDefaults.line;\r\n            delete seriesDefaults.verticalLine;\r\n            delete seriesDefaults.pie;\r\n            delete seriesDefaults.donut;\r\n            delete seriesDefaults.area;\r\n            delete seriesDefaults.verticalArea;\r\n            delete seriesDefaults.scatter;\r\n            delete seriesDefaults.scatterLine;\r\n            delete seriesDefaults.bubble;\r\n            delete seriesDefaults.candlestick;\r\n            delete seriesDefaults.ohlc;\r\n            delete seriesDefaults.boxPlot;\r\n            delete seriesDefaults.bullet;\r\n            delete seriesDefaults.verticalBullet;\r\n            delete seriesDefaults.polarArea;\r\n            delete seriesDefaults.polarLine;\r\n            delete seriesDefaults.radarArea;\r\n            delete seriesDefaults.radarLine;\r\n            delete seriesDefaults.waterfall;\r\n        }\r\n        function applySeriesColors(options) {\r\n            var series = options.series, colors = options.seriesColors || [], i, currentSeries, seriesColor, defaults;\r\n            for (i = 0; i < series.length; i++) {\r\n                currentSeries = series[i];\r\n                seriesColor = colors[i % colors.length];\r\n                currentSeries.color = currentSeries.color || seriesColor;\r\n                defaults = currentSeries._defaults;\r\n                if (defaults) {\r\n                    defaults.color = defaults.color || seriesColor;\r\n                }\r\n            }\r\n        }\r\n        function resolveAxisAliases(options) {\r\n            var alias;\r\n            each([\r\n                CATEGORY,\r\n                VALUE,\r\n                X,\r\n                Y\r\n            ], function () {\r\n                alias = this + 'Axes';\r\n                if (options[alias]) {\r\n                    options[this + 'Axis'] = options[alias];\r\n                    delete options[alias];\r\n                }\r\n            });\r\n        }\r\n        function applyAxisDefaults(options, themeOptions) {\r\n            var themeAxisDefaults = (themeOptions || {}).axisDefaults || {};\r\n            each([\r\n                CATEGORY,\r\n                VALUE,\r\n                X,\r\n                Y\r\n            ], function () {\r\n                var axisName = this + 'Axis', axes = [].concat(options[axisName]), axisDefaults = options.axisDefaults || {};\r\n                axes = $.map(axes, function (axisOptions) {\r\n                    var axisColor = (axisOptions || {}).color;\r\n                    var result = deepExtend({}, themeAxisDefaults, themeAxisDefaults[axisName], axisDefaults, axisDefaults[axisName], {\r\n                        line: { color: axisColor },\r\n                        labels: { color: axisColor },\r\n                        title: { color: axisColor }\r\n                    }, axisOptions);\r\n                    delete result[axisName];\r\n                    return result;\r\n                });\r\n                options[axisName] = axes.length > 1 ? axes : axes[0];\r\n            });\r\n        }\r\n        function categoriesCount(series) {\r\n            var seriesCount = series.length, categories = 0, i;\r\n            for (i = 0; i < seriesCount; i++) {\r\n                categories = math.max(categories, series[i].data.length);\r\n            }\r\n            return categories;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        extend($.easing, {\r\n            easeOutElastic: function (n, d, first, diff) {\r\n                var s = 1.70158, p = 0, a = diff;\r\n                if (n === 0) {\r\n                    return first;\r\n                }\r\n                if (n === 1) {\r\n                    return first + diff;\r\n                }\r\n                if (!p) {\r\n                    p = 0.5;\r\n                }\r\n                if (a < math.abs(diff)) {\r\n                    a = diff;\r\n                    s = p / 4;\r\n                } else {\r\n                    s = p / (2 * math.PI) * math.asin(diff / a);\r\n                }\r\n                return a * math.pow(2, -10 * n) * math.sin((n * 1 - s) * (1.1 * math.PI) / p) + diff + first;\r\n            }\r\n        });\r\n        function getField(field, row) {\r\n            if (row === null) {\r\n                return row;\r\n            }\r\n            var get = getter(field, true);\r\n            return get(row);\r\n        }\r\n        function getDateField(field, row) {\r\n            if (row === null) {\r\n                return row;\r\n            }\r\n            var key = '_date_' + field, value = row[key];\r\n            if (!value) {\r\n                value = toDate(getter(field, true)(row));\r\n                row[key] = value;\r\n            }\r\n            return value;\r\n        }\r\n        function toDate(value) {\r\n            var result, i;\r\n            if (value instanceof Date) {\r\n                result = value;\r\n            } else if (typeof value === STRING) {\r\n                result = kendo.parseDate(value) || new Date(value);\r\n            } else if (value) {\r\n                if (isArray(value)) {\r\n                    result = [];\r\n                    for (i = 0; i < value.length; i++) {\r\n                        result.push(toDate(value[i]));\r\n                    }\r\n                } else {\r\n                    result = new Date(value);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function toTime(value) {\r\n            if (isArray(value)) {\r\n                return map(value, toTime);\r\n            } else if (value) {\r\n                return toDate(value).getTime();\r\n            }\r\n        }\r\n        function addDuration(date, value, unit, weekStartDay) {\r\n            var result = date, hours;\r\n            if (date) {\r\n                date = toDate(date);\r\n                hours = date.getHours();\r\n                if (unit === YEARS) {\r\n                    result = new Date(date.getFullYear() + value, 0, 1);\r\n                    kendo.date.adjustDST(result, 0);\r\n                } else if (unit === MONTHS) {\r\n                    result = new Date(date.getFullYear(), date.getMonth() + value, 1);\r\n                    kendo.date.adjustDST(result, hours);\r\n                } else if (unit === WEEKS) {\r\n                    result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\r\n                    kendo.date.adjustDST(result, hours);\r\n                } else if (unit === DAYS) {\r\n                    result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\r\n                    kendo.date.adjustDST(result, hours);\r\n                } else if (unit === HOURS) {\r\n                    result = addTicks(new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours()), value * TIME_PER_HOUR);\r\n                } else if (unit === MINUTES) {\r\n                    result = addTicks(date, value * TIME_PER_MINUTE);\r\n                    if (result.getSeconds() > 0) {\r\n                        result.setSeconds(0);\r\n                    }\r\n                } else if (unit === SECONDS) {\r\n                    result = addTicks(date, value * TIME_PER_SECOND);\r\n                }\r\n                if (result.getMilliseconds() > 0) {\r\n                    result.setMilliseconds(0);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function startOfWeek(date, weekStartDay) {\r\n            var day = date.getDay(), daysToSubtract = 0;\r\n            if (!isNaN(day)) {\r\n                weekStartDay = weekStartDay || 0;\r\n                while (day !== weekStartDay) {\r\n                    if (day === 0) {\r\n                        day = 6;\r\n                    } else {\r\n                        day--;\r\n                    }\r\n                    daysToSubtract++;\r\n                }\r\n            }\r\n            return addTicks(date, -daysToSubtract * TIME_PER_DAY);\r\n        }\r\n        function floorDate(date, unit, weekStartDay) {\r\n            date = toDate(date);\r\n            return addDuration(date, 0, unit, weekStartDay);\r\n        }\r\n        function ceilDate(date, unit, weekStartDay) {\r\n            date = toDate(date);\r\n            if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {\r\n                return date;\r\n            }\r\n            return addDuration(date, 1, unit, weekStartDay);\r\n        }\r\n        function dateDiff(a, b) {\r\n            var diff = a.getTime() - b, offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\r\n            return diff - (offsetDiff * diff > 0 ? offsetDiff * TIME_PER_MINUTE : 0);\r\n        }\r\n        function absoluteDateDiff(a, b) {\r\n            var diff = a.getTime() - b, offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\r\n            return diff - offsetDiff * TIME_PER_MINUTE;\r\n        }\r\n        function addTicks(date, ticks) {\r\n            var tzOffsetBefore = date.getTimezoneOffset(), result = new Date(date.getTime() + ticks), tzOffsetDiff = result.getTimezoneOffset() - tzOffsetBefore;\r\n            return new Date(result.getTime() + (ticks * tzOffsetDiff > 0 ? tzOffsetDiff * TIME_PER_MINUTE : 0));\r\n        }\r\n        function duration(a, b, unit) {\r\n            var diff;\r\n            if (unit === YEARS) {\r\n                diff = b.getFullYear() - a.getFullYear();\r\n            } else if (unit === MONTHS) {\r\n                diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();\r\n            } else if (unit === DAYS) {\r\n                diff = math.floor(dateDiff(b, a) / TIME_PER_DAY);\r\n            } else {\r\n                diff = math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);\r\n            }\r\n            return diff;\r\n        }\r\n        function dateIndex(value, start, baseUnit, baseUnitStep) {\r\n            var index;\r\n            var date = toDate(value);\r\n            var startDate = toDate(start);\r\n            if (baseUnit == MONTHS) {\r\n                index = date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12 + timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n            } else if (baseUnit == YEARS) {\r\n                index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;\r\n            } else if (baseUnit == DAYS || baseUnit == WEEKS) {\r\n                index = timeIndex(date, startDate, baseUnit);\r\n            } else {\r\n                index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];\r\n            }\r\n            return index / baseUnitStep;\r\n        }\r\n        function timeIndex(date, start, baseUnit) {\r\n            return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];\r\n        }\r\n        function singleItemOrArray(array) {\r\n            return array.length === 1 ? array[0] : array;\r\n        }\r\n        function axisGroupBox(axes) {\r\n            var length = axes.length, box, i, axisBox;\r\n            if (length > 0) {\r\n                for (i = 0; i < length; i++) {\r\n                    axisBox = axes[i].contentBox();\r\n                    if (!box) {\r\n                        box = axisBox.clone();\r\n                    } else {\r\n                        box.wrap(axisBox);\r\n                    }\r\n                }\r\n            }\r\n            return box || Box2D();\r\n        }\r\n        function equalsIgnoreCase(a, b) {\r\n            if (a && b) {\r\n                return a.toLowerCase() === b.toLowerCase();\r\n            }\r\n            return a === b;\r\n        }\r\n        function dateEquals(a, b) {\r\n            if (a && b) {\r\n                return toTime(a) === toTime(b);\r\n            }\r\n            return a === b;\r\n        }\r\n        function appendIfNotNull(array, element) {\r\n            if (element !== null) {\r\n                array.push(element);\r\n            }\r\n        }\r\n        function lteDateIndex(date, sortedDates) {\r\n            var low = 0, high = sortedDates.length - 1, i, currentDate;\r\n            while (low <= high) {\r\n                i = math.floor((low + high) / 2);\r\n                currentDate = sortedDates[i];\r\n                if (currentDate < date) {\r\n                    low = i + 1;\r\n                    continue;\r\n                }\r\n                if (currentDate > date) {\r\n                    high = i - 1;\r\n                    continue;\r\n                }\r\n                while (dateEquals(sortedDates[i - 1], date)) {\r\n                    i--;\r\n                }\r\n                return i;\r\n            }\r\n            if (sortedDates[i] <= date) {\r\n                return i;\r\n            } else {\r\n                return i - 1;\r\n            }\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function countNumbers(values) {\r\n            var length = values.length, count = 0, i, num;\r\n            for (i = 0; i < length; i++) {\r\n                num = values[i];\r\n                if (isNumber(num)) {\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n        function areNumbers(values) {\r\n            return countNumbers(values) === values.length;\r\n        }\r\n        function axisRanges(axes) {\r\n            var i, axis, axisName, ranges = {};\r\n            for (i = 0; i < axes.length; i++) {\r\n                axis = axes[i];\r\n                axisName = axis.options.name;\r\n                if (axisName) {\r\n                    ranges[axisName] = axis.range();\r\n                }\r\n            }\r\n            return ranges;\r\n        }\r\n        function evalOptions(options, context, state, dryRun) {\r\n            var property, propValue, excluded, defaults, depth, needsEval = false;\r\n            state = state || {};\r\n            excluded = state.excluded = state.excluded || [];\r\n            defaults = state.defaults = state.defaults || {};\r\n            depth = state.depth = state.depth || 0;\r\n            if (depth > MAX_EXPAND_DEPTH) {\r\n                return;\r\n            }\r\n            for (property in options) {\r\n                if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {\r\n                    propValue = options[property];\r\n                    if (isFn(propValue)) {\r\n                        needsEval = true;\r\n                        if (!dryRun) {\r\n                            options[property] = valueOrDefault(propValue(context), defaults[property]);\r\n                        }\r\n                    } else if (typeof propValue === OBJECT) {\r\n                        if (!dryRun) {\r\n                            state.defaults = defaults[property];\r\n                        }\r\n                        state.depth++;\r\n                        needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;\r\n                        state.depth--;\r\n                    }\r\n                }\r\n            }\r\n            return needsEval;\r\n        }\r\n        function groupSeries(series, data) {\r\n            var result = [], nameTemplate, legacyTemplate = series.groupNameTemplate, groupIx, dataLength = data.length, seriesClone;\r\n            if (dataLength === 0) {\r\n                seriesClone = deepExtend({}, series);\r\n                seriesClone.visibleInLegend = false;\r\n                return [seriesClone];\r\n            }\r\n            if (defined(legacyTemplate)) {\r\n                kendo.logToConsole('\\'groupNameTemplate\\' is obsolete and will be removed in future versions. ' + 'Specify the group name template as \\'series.name\\'');\r\n                if (legacyTemplate) {\r\n                    nameTemplate = template(legacyTemplate);\r\n                }\r\n            } else {\r\n                nameTemplate = template(series.name || '');\r\n                if (nameTemplate._slotCount === 0) {\r\n                    nameTemplate = template(defined(series.name) ? '#= group.value #: #= series.name #' : '#= group.value #');\r\n                }\r\n            }\r\n            for (groupIx = 0; groupIx < dataLength; groupIx++) {\r\n                seriesClone = deepExtend({}, series);\r\n                if (!isFn(seriesClone.color)) {\r\n                    seriesClone.color = undefined;\r\n                }\r\n                seriesClone._groupIx = groupIx;\r\n                result.push(seriesClone);\r\n                if (nameTemplate) {\r\n                    seriesClone.name = nameTemplate({\r\n                        series: seriesClone,\r\n                        group: data[groupIx]\r\n                    });\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function filterSeriesByType(series, types) {\r\n            var i, currentSeries, result = [];\r\n            types = [].concat(types);\r\n            for (i = 0; i < series.length; i++) {\r\n                currentSeries = series[i];\r\n                if (inArray(currentSeries.type, types)) {\r\n                    result.push(currentSeries);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function indexOf(item, arr) {\r\n            if (item instanceof Date) {\r\n                for (var i = 0, length = arr.length; i < length; i++) {\r\n                    if (dateEquals(arr[i], item)) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return -1;\r\n            } else {\r\n                return $.inArray(item, arr);\r\n            }\r\n        }\r\n        function sortDates(dates, comparer) {\r\n            comparer = comparer || dateComparer;\r\n            for (var i = 1, length = dates.length; i < length; i++) {\r\n                if (comparer(dates[i], dates[i - 1]) < 0) {\r\n                    dates.sort(comparer);\r\n                    break;\r\n                }\r\n            }\r\n            return dates;\r\n        }\r\n        function uniqueDates(srcDates, comparer) {\r\n            var i, dates = sortDates(srcDates, comparer), length = dates.length, result = length > 0 ? [dates[0]] : [];\r\n            comparer = comparer || dateComparer;\r\n            for (i = 1; i < length; i++) {\r\n                if (comparer(dates[i], last(result)) !== 0) {\r\n                    result.push(dates[i]);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function isDateAxis(axisOptions, sampleCategory) {\r\n            var type = axisOptions.type, dateCategory = sampleCategory instanceof Date;\r\n            return !type && dateCategory || equalsIgnoreCase(type, DATE);\r\n        }\r\n        function transpose(rows) {\r\n            var result = [], rowCount = rows.length, rowIx, row, colIx, colCount;\r\n            for (rowIx = 0; rowIx < rowCount; rowIx++) {\r\n                row = rows[rowIx];\r\n                colCount = row.length;\r\n                for (colIx = 0; colIx < colCount; colIx++) {\r\n                    result[colIx] = result[colIx] || [];\r\n                    result[colIx].push(row[colIx]);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        function ensureTree(fieldName, target) {\r\n            if (fieldName.indexOf('.') > -1) {\r\n                var parts = fieldName.split('.'), path = '', val;\r\n                while (parts.length > 1) {\r\n                    path += parts.shift();\r\n                    val = kendo.getter(path)(target) || {};\r\n                    kendo.setter(path)(target, val);\r\n                    path += '.';\r\n                }\r\n            }\r\n        }\r\n        function seriesTotal(series) {\r\n            var data = series.data;\r\n            var sum = 0;\r\n            for (var i = 0; i < data.length; i++) {\r\n                var pointData = SeriesBinder.current.bindPoint(series, i);\r\n                var value = pointData.valueFields.value;\r\n                if (typeof value === STRING) {\r\n                    value = parseFloat(value);\r\n                }\r\n                if (isNumber(value) && pointData.fields.visible !== false) {\r\n                    sum += math.abs(value);\r\n                }\r\n            }\r\n            return sum;\r\n        }\r\n        function hasGradientOverlay(options) {\r\n            var overlay = options.overlay;\r\n            return overlay && overlay.gradient && overlay.gradient != 'none';\r\n        }\r\n        function anyHasZIndex(elements) {\r\n            for (var idx = 0; idx < elements.length; idx++) {\r\n                if (defined(elements[idx].zIndex)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        function preventDefault() {\r\n            this._defaultPrevented = true;\r\n        }\r\n        function pointByCategoryName(points, name) {\r\n            if (points) {\r\n                for (var idx = 0; idx < points.length; idx++) {\r\n                    if (points[idx].category === name) {\r\n                        return [points[idx]];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function hasValue(value) {\r\n            return defined(value) && value !== null;\r\n        }\r\n        function toChartAxisRanges(axisRanges) {\r\n            var ranges = {};\r\n            var axisRange;\r\n            for (var idx = 0; idx < axisRanges.length; idx++) {\r\n                axisRange = axisRanges[idx];\r\n                if (axisRange.axis.options.name) {\r\n                    ranges[axisRange.axis.options.name] = {\r\n                        min: axisRange.range.min,\r\n                        max: axisRange.range.max\r\n                    };\r\n                }\r\n            }\r\n            return ranges;\r\n        }\r\n        function acceptKey(e, mouseKey) {\r\n            var key = (mouseKey || '').toLowerCase();\r\n            var accept = key == 'none' && !(e.ctrlKey || e.shiftKey || e.altKey) || e[key + 'Key'];\r\n            return accept;\r\n        }\r\n        function preloadFonts(options, callback) {\r\n            var fonts = [];\r\n            fetchFonts(options, fonts);\r\n            kendo.util.loadFonts(fonts, callback);\r\n        }\r\n        function fetchFonts(options, fonts, state) {\r\n            var MAX_DEPTH = 5;\r\n            state = state || { depth: 0 };\r\n            if (!options || state.depth > MAX_DEPTH || !document.fonts) {\r\n                return;\r\n            }\r\n            Object.keys(options).forEach(function (key) {\r\n                var value = options[key];\r\n                if (key === 'dataSource' || key[0] === '$' || !value) {\r\n                    return;\r\n                }\r\n                if (key === 'font') {\r\n                    fonts.push(value);\r\n                } else if (typeof value === 'object') {\r\n                    state.depth++;\r\n                    fetchFonts(value, fonts, state);\r\n                    state.depth--;\r\n                }\r\n            });\r\n        }\r\n        function clearMissingValues(originalOptions, options) {\r\n            var fieldValue, originalValue, field, nullValue;\r\n            for (field in options) {\r\n                fieldValue = options[field];\r\n                originalValue = originalOptions[field];\r\n                if (defined(originalValue)) {\r\n                    nullValue = fieldValue === null;\r\n                    if (nullValue || !defined(fieldValue)) {\r\n                        delete originalOptions[field];\r\n                        if (nullValue) {\r\n                            delete options[field];\r\n                        }\r\n                    } else if (originalValue && isPlainObject(fieldValue)) {\r\n                        if (isPlainObject(fieldValue)) {\r\n                            clearMissingValues(originalValue, fieldValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        dataviz.ui.plugin(Chart);\r\n        PlotAreaFactory.current.register(CategoricalPlotArea, [\r\n            BAR,\r\n            COLUMN,\r\n            LINE,\r\n            VERTICAL_LINE,\r\n            AREA,\r\n            VERTICAL_AREA,\r\n            CANDLESTICK,\r\n            OHLC,\r\n            BULLET,\r\n            VERTICAL_BULLET,\r\n            BOX_PLOT,\r\n            VERTICAL_BOX_PLOT,\r\n            RANGE_COLUMN,\r\n            RANGE_BAR,\r\n            WATERFALL,\r\n            HORIZONTAL_WATERFALL\r\n        ]);\r\n        PlotAreaFactory.current.register(XYPlotArea, [\r\n            SCATTER,\r\n            SCATTER_LINE,\r\n            BUBBLE\r\n        ]);\r\n        PlotAreaFactory.current.register(PiePlotArea, [PIE]);\r\n        PlotAreaFactory.current.register(DonutPlotArea, [DONUT]);\r\n        SeriesBinder.current.register([\r\n            BAR,\r\n            COLUMN,\r\n            LINE,\r\n            VERTICAL_LINE,\r\n            AREA,\r\n            VERTICAL_AREA\r\n        ], [VALUE], [\r\n            CATEGORY,\r\n            COLOR,\r\n            NOTE_TEXT,\r\n            ERROR_LOW_FIELD,\r\n            ERROR_HIGH_FIELD\r\n        ]);\r\n        SeriesBinder.current.register([\r\n            RANGE_COLUMN,\r\n            RANGE_BAR\r\n        ], [\r\n            FROM,\r\n            TO\r\n        ], [\r\n            CATEGORY,\r\n            COLOR,\r\n            NOTE_TEXT\r\n        ]);\r\n        SeriesBinder.current.register([\r\n            WATERFALL,\r\n            HORIZONTAL_WATERFALL\r\n        ], [VALUE], [\r\n            CATEGORY,\r\n            COLOR,\r\n            NOTE_TEXT,\r\n            SUMMARY_FIELD\r\n        ]);\r\n        DefaultAggregates.current.register([\r\n            BAR,\r\n            COLUMN,\r\n            LINE,\r\n            VERTICAL_LINE,\r\n            AREA,\r\n            VERTICAL_AREA,\r\n            WATERFALL,\r\n            HORIZONTAL_WATERFALL\r\n        ], {\r\n            value: MAX,\r\n            color: FIRST,\r\n            noteText: FIRST,\r\n            errorLow: MIN,\r\n            errorHigh: MAX\r\n        });\r\n        DefaultAggregates.current.register([\r\n            RANGE_COLUMN,\r\n            RANGE_BAR\r\n        ], {\r\n            from: MIN,\r\n            to: MAX,\r\n            color: FIRST,\r\n            noteText: FIRST\r\n        });\r\n        SeriesBinder.current.register([\r\n            SCATTER,\r\n            SCATTER_LINE,\r\n            BUBBLE\r\n        ], [\r\n            X,\r\n            Y\r\n        ], [\r\n            COLOR,\r\n            NOTE_TEXT,\r\n            X_ERROR_LOW_FIELD,\r\n            X_ERROR_HIGH_FIELD,\r\n            Y_ERROR_LOW_FIELD,\r\n            Y_ERROR_HIGH_FIELD\r\n        ]);\r\n        SeriesBinder.current.register([BUBBLE], [\r\n            X,\r\n            Y,\r\n            'size'\r\n        ], [\r\n            COLOR,\r\n            CATEGORY,\r\n            NOTE_TEXT\r\n        ]);\r\n        SeriesBinder.current.register([\r\n            CANDLESTICK,\r\n            OHLC\r\n        ], [\r\n            'open',\r\n            'high',\r\n            'low',\r\n            'close'\r\n        ], [\r\n            CATEGORY,\r\n            COLOR,\r\n            'downColor',\r\n            NOTE_TEXT\r\n        ]);\r\n        DefaultAggregates.current.register([\r\n            CANDLESTICK,\r\n            OHLC\r\n        ], {\r\n            open: MAX,\r\n            high: MAX,\r\n            low: MIN,\r\n            close: MAX,\r\n            color: FIRST,\r\n            downColor: FIRST,\r\n            noteText: FIRST\r\n        });\r\n        SeriesBinder.current.register([\r\n            BOX_PLOT,\r\n            VERTICAL_BOX_PLOT\r\n        ], [\r\n            'lower',\r\n            'q1',\r\n            'median',\r\n            'q3',\r\n            'upper',\r\n            'mean',\r\n            'outliers'\r\n        ], [\r\n            CATEGORY,\r\n            COLOR,\r\n            NOTE_TEXT\r\n        ]);\r\n        DefaultAggregates.current.register([\r\n            BOX_PLOT,\r\n            VERTICAL_BOX_PLOT\r\n        ], {\r\n            lower: MAX,\r\n            q1: MAX,\r\n            median: MAX,\r\n            q3: MAX,\r\n            upper: MAX,\r\n            mean: MAX,\r\n            outliers: FIRST,\r\n            color: FIRST,\r\n            noteText: FIRST\r\n        });\r\n        SeriesBinder.current.register([\r\n            BULLET,\r\n            VERTICAL_BULLET\r\n        ], [\r\n            'current',\r\n            'target'\r\n        ], [\r\n            CATEGORY,\r\n            COLOR,\r\n            'visibleInLegend',\r\n            NOTE_TEXT\r\n        ]);\r\n        DefaultAggregates.current.register([\r\n            BULLET,\r\n            VERTICAL_BULLET\r\n        ], {\r\n            current: MAX,\r\n            target: MAX,\r\n            color: FIRST,\r\n            noteText: FIRST\r\n        });\r\n        SeriesBinder.current.register([\r\n            PIE,\r\n            DONUT\r\n        ], [VALUE], [\r\n            CATEGORY,\r\n            COLOR,\r\n            'explode',\r\n            'visibleInLegend',\r\n            'visible'\r\n        ]);\r\n        deepExtend(dataviz, {\r\n            EQUALLY_SPACED_SERIES: EQUALLY_SPACED_SERIES,\r\n            Aggregates: Aggregates,\r\n            AreaChart: AreaChart,\r\n            AreaSegment: AreaSegment,\r\n            AxisGroupRangeTracker: AxisGroupRangeTracker,\r\n            Bar: Bar,\r\n            BarChart: BarChart,\r\n            BarLabel: BarLabel,\r\n            BubbleChart: BubbleChart,\r\n            Bullet: Bullet,\r\n            BulletChart: BulletChart,\r\n            CandlestickChart: CandlestickChart,\r\n            Candlestick: Candlestick,\r\n            CategoricalChart: CategoricalChart,\r\n            CategoricalErrorBar: CategoricalErrorBar,\r\n            CategoricalPlotArea: CategoricalPlotArea,\r\n            CategoryAxis: CategoryAxis,\r\n            ChartAxis: ChartAxis,\r\n            ChartContainer: ChartContainer,\r\n            ClipAnimation: ClipAnimation,\r\n            ClusterLayout: ClusterLayout,\r\n            Crosshair: Crosshair,\r\n            CrosshairTooltip: CrosshairTooltip,\r\n            DateCategoryAxis: DateCategoryAxis,\r\n            DateValueAxis: DateValueAxis,\r\n            DefaultAggregates: DefaultAggregates,\r\n            DonutChart: DonutChart,\r\n            DonutPlotArea: DonutPlotArea,\r\n            DonutSegment: DonutSegment,\r\n            ErrorBarBase: ErrorBarBase,\r\n            ErrorRangeCalculator: ErrorRangeCalculator,\r\n            Highlight: Highlight,\r\n            SharedTooltip: SharedTooltip,\r\n            Legend: Legend,\r\n            LegendItem: LegendItem,\r\n            LegendLayout: LegendLayout,\r\n            LineChart: LineChart,\r\n            LinePoint: LinePoint,\r\n            LineSegment: LineSegment,\r\n            Pane: Pane,\r\n            PieAnimation: PieAnimation,\r\n            PieChart: PieChart,\r\n            PieChartMixin: PieChartMixin,\r\n            PiePlotArea: PiePlotArea,\r\n            PieSegment: PieSegment,\r\n            PlotAreaBase: PlotAreaBase,\r\n            PlotAreaEventsMixin: PlotAreaEventsMixin,\r\n            PlotAreaFactory: PlotAreaFactory,\r\n            PointEventsMixin: PointEventsMixin,\r\n            RangeBar: RangeBar,\r\n            RangeBarChart: RangeBarChart,\r\n            ScatterChart: ScatterChart,\r\n            ScatterErrorBar: ScatterErrorBar,\r\n            ScatterLineChart: ScatterLineChart,\r\n            Selection: Selection,\r\n            SeriesAggregator: SeriesAggregator,\r\n            SeriesBinder: SeriesBinder,\r\n            ShapeElement: ShapeElement,\r\n            SplineSegment: SplineSegment,\r\n            SplineAreaSegment: SplineAreaSegment,\r\n            StackWrap: StackWrap,\r\n            Tooltip: Tooltip,\r\n            OHLCChart: OHLCChart,\r\n            OHLCPoint: OHLCPoint,\r\n            WaterfallChart: WaterfallChart,\r\n            WaterfallSegment: WaterfallSegment,\r\n            XYPlotArea: XYPlotArea,\r\n            MousewheelZoom: MousewheelZoom,\r\n            ZoomSelection: ZoomSelection,\r\n            Pannable: Pannable,\r\n            addDuration: addDuration,\r\n            areNumbers: areNumbers,\r\n            axisGroupBox: axisGroupBox,\r\n            categoriesCount: categoriesCount,\r\n            ceilDate: ceilDate,\r\n            countNumbers: countNumbers,\r\n            duration: duration,\r\n            ensureTree: ensureTree,\r\n            indexOf: indexOf,\r\n            isNumber: isNumber,\r\n            floorDate: floorDate,\r\n            filterSeriesByType: filterSeriesByType,\r\n            hasValue: hasValue,\r\n            lteDateIndex: lteDateIndex,\r\n            evalOptions: evalOptions,\r\n            seriesTotal: seriesTotal,\r\n            singleItemOrArray: singleItemOrArray,\r\n            sortDates: sortDates,\r\n            startOfWeek: startOfWeek,\r\n            transpose: transpose,\r\n            toDate: toDate,\r\n            toTime: toTime,\r\n            uniqueDates: uniqueDates\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.chart.polar', [\r\n        'kendo.dataviz.chart',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.chart.polar',\r\n        name: 'Polar Charts',\r\n        category: 'dataviz',\r\n        depends: ['dataviz.chart'],\r\n        hidden: true\r\n    };\r\n    (function ($, undefined) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, util = kendo.util, append = util.append, draw = kendo.drawing, geom = kendo.geometry, dataviz = kendo.dataviz, AreaSegment = dataviz.AreaSegment, Axis = dataviz.Axis, AxisGroupRangeTracker = dataviz.AxisGroupRangeTracker, BarChart = dataviz.BarChart, Box2D = dataviz.Box2D, CategoryAxis = dataviz.CategoryAxis, CategoricalChart = dataviz.CategoricalChart, CategoricalPlotArea = dataviz.CategoricalPlotArea, ChartElement = dataviz.ChartElement, CurveProcessor = dataviz.CurveProcessor, DonutSegment = dataviz.DonutSegment, LineChart = dataviz.LineChart, LineSegment = dataviz.LineSegment, LogarithmicAxis = dataviz.LogarithmicAxis, NumericAxis = dataviz.NumericAxis, PlotAreaBase = dataviz.PlotAreaBase, PlotAreaEventsMixin = dataviz.PlotAreaEventsMixin, PlotAreaFactory = dataviz.PlotAreaFactory, Point2D = dataviz.Point2D, Ring = dataviz.Ring, ScatterChart = dataviz.ScatterChart, ScatterLineChart = dataviz.ScatterLineChart, SeriesBinder = dataviz.SeriesBinder, ShapeBuilder = dataviz.ShapeBuilder, SplineSegment = dataviz.SplineSegment, SplineAreaSegment = dataviz.SplineAreaSegment, eventTargetElement = dataviz.eventTargetElement, getSpacing = dataviz.getSpacing, filterSeriesByType = dataviz.filterSeriesByType, limitValue = util.limitValue, round = dataviz.round;\r\n        var ARC = 'arc', BLACK = '#000', COORD_PRECISION = dataviz.COORD_PRECISION, DEFAULT_PADDING = 0.15, DEG_TO_RAD = math.PI / 180, GAP = 'gap', INTERPOLATE = 'interpolate', LOGARITHMIC = 'log', POLAR_AREA = 'polarArea', POLAR_LINE = 'polarLine', POLAR_SCATTER = 'polarScatter', RADAR_AREA = 'radarArea', RADAR_COLUMN = 'radarColumn', RADAR_LINE = 'radarLine', SMOOTH = 'smooth', X = 'x', Y = 'y', ZERO = 'zero', POLAR_CHARTS = [\r\n                POLAR_AREA,\r\n                POLAR_LINE,\r\n                POLAR_SCATTER\r\n            ], RADAR_CHARTS = [\r\n                RADAR_AREA,\r\n                RADAR_COLUMN,\r\n                RADAR_LINE\r\n            ];\r\n        var GridLinesMixin = {\r\n            createGridLines: function (altAxis) {\r\n                var axis = this, options = axis.options, radius = math.abs(axis.box.center().y - altAxis.lineBox().y1), majorAngles, minorAngles, skipMajor = false, gridLines = [];\r\n                if (options.majorGridLines.visible) {\r\n                    majorAngles = axis.majorGridLineAngles(altAxis);\r\n                    skipMajor = true;\r\n                    gridLines = axis.renderMajorGridLines(majorAngles, radius, options.majorGridLines);\r\n                }\r\n                if (options.minorGridLines.visible) {\r\n                    minorAngles = axis.minorGridLineAngles(altAxis, skipMajor);\r\n                    append(gridLines, axis.renderMinorGridLines(minorAngles, radius, options.minorGridLines, altAxis, skipMajor));\r\n                }\r\n                return gridLines;\r\n            },\r\n            renderMajorGridLines: function (angles, radius, options) {\r\n                return this.renderGridLines(angles, radius, options);\r\n            },\r\n            renderMinorGridLines: function (angles, radius, options, altAxis, skipMajor) {\r\n                var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);\r\n                return this.renderGridLines(angles, radius, options, radiusCallback);\r\n            },\r\n            renderGridLines: function (angles, radius, options, radiusCallback) {\r\n                var style = {\r\n                    stroke: {\r\n                        width: options.width,\r\n                        color: options.color,\r\n                        dashType: options.dashType\r\n                    }\r\n                };\r\n                var center = this.box.center();\r\n                var circle = new geom.Circle([\r\n                    center.x,\r\n                    center.y\r\n                ], radius);\r\n                var container = this.gridLinesVisual();\r\n                for (var i = 0; i < angles.length; i++) {\r\n                    var line = new draw.Path(style);\r\n                    if (radiusCallback) {\r\n                        circle.radius = radiusCallback(angles[i]);\r\n                    }\r\n                    line.moveTo(circle.center).lineTo(circle.pointAt(angles[i]));\r\n                    container.append(line);\r\n                }\r\n                return container.children;\r\n            },\r\n            gridLineAngles: function (altAxis, size, skip, step, skipAngles) {\r\n                var axis = this, divs = axis.intervals(size, skip, step, skipAngles), options = altAxis.options, altAxisVisible = options.visible && (options.line || {}).visible !== false;\r\n                return $.map(divs, function (d) {\r\n                    var alpha = axis.intervalAngle(d);\r\n                    if (!altAxisVisible || alpha !== 90) {\r\n                        return alpha;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        var RadarCategoryAxis = CategoryAxis.extend({\r\n            options: {\r\n                startAngle: 90,\r\n                labels: { margin: getSpacing(10) },\r\n                majorGridLines: { visible: true },\r\n                justified: true\r\n            },\r\n            range: function () {\r\n                return {\r\n                    min: 0,\r\n                    max: this.options.categories.length\r\n                };\r\n            },\r\n            reflow: function (box) {\r\n                this.box = box;\r\n                this.reflowLabels();\r\n            },\r\n            lineBox: function () {\r\n                return this.box;\r\n            },\r\n            reflowLabels: function () {\r\n                var axis = this, labelOptions = axis.options.labels, skip = labelOptions.skip || 0, step = labelOptions.step || 1, measureBox = new Box2D(), labels = axis.labels, labelBox, i;\r\n                for (i = 0; i < labels.length; i++) {\r\n                    labels[i].reflow(measureBox);\r\n                    labelBox = labels[i].box;\r\n                    labels[i].reflow(axis.getSlot(skip + i * step).adjacentBox(0, labelBox.width(), labelBox.height()));\r\n                }\r\n            },\r\n            intervals: function (size, skip, step, skipAngles) {\r\n                var axis = this, options = axis.options, categories = options.categories.length, angle = 0, divCount = categories / size || 1, divAngle = 360 / divCount, divs = [], i;\r\n                skip = skip || 0;\r\n                step = step || 1;\r\n                for (i = skip; i < divCount; i += step) {\r\n                    if (options.reverse) {\r\n                        angle = 360 - i * divAngle;\r\n                    } else {\r\n                        angle = i * divAngle;\r\n                    }\r\n                    angle = round(angle, COORD_PRECISION) % 360;\r\n                    if (!(skipAngles && dataviz.inArray(angle, skipAngles))) {\r\n                        divs.push(angle);\r\n                    }\r\n                }\r\n                return divs;\r\n            },\r\n            majorIntervals: function () {\r\n                return this.intervals(1);\r\n            },\r\n            minorIntervals: function () {\r\n                return this.intervals(0.5);\r\n            },\r\n            intervalAngle: function (interval) {\r\n                return (360 + interval + this.options.startAngle) % 360;\r\n            },\r\n            majorAngles: function () {\r\n                return $.map(this.majorIntervals(), $.proxy(this.intervalAngle, this));\r\n            },\r\n            createLine: function () {\r\n                return [];\r\n            },\r\n            majorGridLineAngles: function (altAxis) {\r\n                var majorGridLines = this.options.majorGridLines;\r\n                return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);\r\n            },\r\n            minorGridLineAngles: function (altAxis, skipMajor) {\r\n                var options = this.options;\r\n                var minorGridLines = options.minorGridLines;\r\n                var majorGridLines = options.majorGridLines;\r\n                var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;\r\n                return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\r\n            },\r\n            radiusCallback: function (radius, altAxis, skipMajor) {\r\n                if (altAxis.options.type !== ARC) {\r\n                    var minorAngle = 360 / (this.options.categories.length * 2);\r\n                    var minorRadius = math.cos(minorAngle * DEG_TO_RAD) * radius;\r\n                    var majorAngles = this.majorAngles();\r\n                    var radiusCallback = function (angle) {\r\n                        if (!skipMajor && dataviz.inArray(angle, majorAngles)) {\r\n                            return radius;\r\n                        } else {\r\n                            return minorRadius;\r\n                        }\r\n                    };\r\n                    return radiusCallback;\r\n                }\r\n            },\r\n            createPlotBands: function () {\r\n                var axis = this, options = axis.options, plotBands = options.plotBands || [], i, band, slot, singleSlot, head, tail;\r\n                var group = this._plotbandGroup = new draw.Group({ zIndex: -1 });\r\n                for (i = 0; i < plotBands.length; i++) {\r\n                    band = plotBands[i];\r\n                    slot = axis.plotBandSlot(band);\r\n                    singleSlot = axis.getSlot(band.from);\r\n                    head = band.from - math.floor(band.from);\r\n                    slot.startAngle += head * singleSlot.angle;\r\n                    tail = math.ceil(band.to) - band.to;\r\n                    slot.angle -= (tail + head) * singleSlot.angle;\r\n                    var ring = ShapeBuilder.current.createRing(slot, {\r\n                        fill: {\r\n                            color: band.color,\r\n                            opacity: band.opacity\r\n                        },\r\n                        stroke: { opacity: band.opacity }\r\n                    });\r\n                    group.append(ring);\r\n                }\r\n                axis.appendVisual(group);\r\n            },\r\n            plotBandSlot: function (band) {\r\n                return this.getSlot(band.from, band.to - 1);\r\n            },\r\n            getSlot: function (from, to) {\r\n                var axis = this, options = axis.options, justified = options.justified, box = axis.box, divs = axis.majorAngles(), totalDivs = divs.length, slots, slotAngle = 360 / totalDivs, slotStart, angle;\r\n                if (options.reverse && !justified) {\r\n                    from = (from + 1) % totalDivs;\r\n                }\r\n                from = limitValue(math.floor(from), 0, totalDivs - 1);\r\n                slotStart = divs[from];\r\n                if (justified) {\r\n                    slotStart = slotStart - slotAngle / 2;\r\n                    if (slotStart < 0) {\r\n                        slotStart += 360;\r\n                    }\r\n                }\r\n                to = limitValue(math.ceil(to || from), from, totalDivs - 1);\r\n                slots = to - from + 1;\r\n                angle = slotAngle * slots;\r\n                return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);\r\n            },\r\n            slot: function (from, to) {\r\n                var slot = this.getSlot(from, to);\r\n                var startAngle = slot.startAngle + 180;\r\n                var endAngle = startAngle + slot.angle;\r\n                return new geom.Arc([\r\n                    slot.c.x,\r\n                    slot.c.y\r\n                ], {\r\n                    startAngle: startAngle,\r\n                    endAngle: endAngle,\r\n                    radiusX: slot.r,\r\n                    radiusY: slot.r\r\n                });\r\n            },\r\n            pointCategoryIndex: function (point) {\r\n                var axis = this, index = null, i, length = axis.options.categories.length, slot;\r\n                for (i = 0; i < length; i++) {\r\n                    slot = axis.getSlot(i);\r\n                    if (slot.containsPoint(point)) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n                return index;\r\n            }\r\n        });\r\n        deepExtend(RadarCategoryAxis.fn, GridLinesMixin);\r\n        var RadarNumericAxisMixin = {\r\n            options: { majorGridLines: { visible: true } },\r\n            createPlotBands: function () {\r\n                var axis = this, options = axis.options, plotBands = options.plotBands || [], type = options.majorGridLines.type, altAxis = axis.plotArea.polarAxis, majorAngles = altAxis.majorAngles(), center = altAxis.box.center(), i, band, bandStyle, slot, ring;\r\n                var group = this._plotbandGroup = new draw.Group({ zIndex: -1 });\r\n                for (i = 0; i < plotBands.length; i++) {\r\n                    band = plotBands[i];\r\n                    bandStyle = {\r\n                        fill: {\r\n                            color: band.color,\r\n                            opacity: band.opacity\r\n                        },\r\n                        stroke: { opacity: band.opacity }\r\n                    };\r\n                    slot = axis.getSlot(band.from, band.to, true);\r\n                    ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);\r\n                    var shape;\r\n                    if (type === ARC) {\r\n                        shape = ShapeBuilder.current.createRing(ring, bandStyle);\r\n                    } else {\r\n                        shape = draw.Path.fromPoints(axis.plotBandPoints(ring, majorAngles), bandStyle).close();\r\n                    }\r\n                    group.append(shape);\r\n                }\r\n                axis.appendVisual(group);\r\n            },\r\n            plotBandPoints: function (ring, angles) {\r\n                var innerPoints = [], outerPoints = [];\r\n                var center = [\r\n                    ring.c.x,\r\n                    ring.c.y\r\n                ];\r\n                var innerCircle = new geom.Circle(center, ring.ir);\r\n                var outerCircle = new geom.Circle(center, ring.r);\r\n                for (var i = 0; i < angles.length; i++) {\r\n                    innerPoints.push(innerCircle.pointAt(angles[i]));\r\n                    outerPoints.push(outerCircle.pointAt(angles[i]));\r\n                }\r\n                innerPoints.reverse();\r\n                innerPoints.push(innerPoints[0]);\r\n                outerPoints.push(outerPoints[0]);\r\n                return outerPoints.concat(innerPoints);\r\n            },\r\n            createGridLines: function (altAxis) {\r\n                var axis = this, options = axis.options, majorTicks = axis.radarMajorGridLinePositions(), majorAngles = altAxis.majorAngles(), minorTicks, center = altAxis.box.center(), gridLines = [];\r\n                if (options.majorGridLines.visible) {\r\n                    gridLines = axis.renderGridLines(center, majorTicks, majorAngles, options.majorGridLines);\r\n                }\r\n                if (options.minorGridLines.visible) {\r\n                    minorTicks = axis.radarMinorGridLinePositions();\r\n                    append(gridLines, axis.renderGridLines(center, minorTicks, majorAngles, options.minorGridLines));\r\n                }\r\n                return gridLines;\r\n            },\r\n            renderGridLines: function (center, ticks, angles, options) {\r\n                var tickRadius, tickIx, angleIx;\r\n                var style = {\r\n                    stroke: {\r\n                        width: options.width,\r\n                        color: options.color,\r\n                        dashType: options.dashType\r\n                    }\r\n                };\r\n                var container = this.gridLinesVisual();\r\n                for (tickIx = 0; tickIx < ticks.length; tickIx++) {\r\n                    tickRadius = center.y - ticks[tickIx];\r\n                    if (tickRadius > 0) {\r\n                        var circle = new geom.Circle([\r\n                            center.x,\r\n                            center.y\r\n                        ], tickRadius);\r\n                        if (options.type === ARC) {\r\n                            container.append(new draw.Circle(circle, style));\r\n                        } else {\r\n                            var line = new draw.Path(style);\r\n                            for (angleIx = 0; angleIx < angles.length; angleIx++) {\r\n                                line.lineTo(circle.pointAt(angles[angleIx]));\r\n                            }\r\n                            line.close();\r\n                            container.append(line);\r\n                        }\r\n                    }\r\n                }\r\n                return container.children;\r\n            },\r\n            getValue: function (point) {\r\n                var axis = this, options = axis.options, lineBox = axis.lineBox(), altAxis = axis.plotArea.polarAxis, majorAngles = altAxis.majorAngles(), center = altAxis.box.center(), r = point.distanceTo(center), distance = r;\r\n                if (options.majorGridLines.type !== ARC && majorAngles.length > 1) {\r\n                    var dx = point.x - center.x, dy = point.y - center.y, theta = (math.atan2(dy, dx) / DEG_TO_RAD + 540) % 360;\r\n                    majorAngles.sort(function (a, b) {\r\n                        return angularDistance(a, theta) - angularDistance(b, theta);\r\n                    });\r\n                    var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2, alpha = angularDistance(theta, majorAngles[0]), gamma = 90 - midAngle, beta = 180 - alpha - gamma;\r\n                    distance = r * (math.sin(beta * DEG_TO_RAD) / math.sin(gamma * DEG_TO_RAD));\r\n                }\r\n                return axis.axisType().fn.getValue.call(axis, new Point2D(lineBox.x1, lineBox.y2 - distance));\r\n            }\r\n        };\r\n        var RadarNumericAxis = NumericAxis.extend({\r\n            radarMajorGridLinePositions: function () {\r\n                return this.getTickPositions(this.options.majorUnit);\r\n            },\r\n            radarMinorGridLinePositions: function () {\r\n                var axis = this, options = axis.options, minorSkipStep = 0;\r\n                if (options.majorGridLines.visible) {\r\n                    minorSkipStep = options.majorUnit;\r\n                }\r\n                return axis.getTickPositions(options.minorUnit, minorSkipStep);\r\n            },\r\n            axisType: function () {\r\n                return NumericAxis;\r\n            }\r\n        });\r\n        deepExtend(RadarNumericAxis.fn, RadarNumericAxisMixin);\r\n        var RadarLogarithmicAxis = LogarithmicAxis.extend({\r\n            radarMajorGridLinePositions: function () {\r\n                var axis = this, positions = [];\r\n                axis.traverseMajorTicksPositions(function (position) {\r\n                    positions.push(position);\r\n                }, axis.options.majorGridLines);\r\n                return positions;\r\n            },\r\n            radarMinorGridLinePositions: function () {\r\n                var axis = this, positions = [];\r\n                axis.traverseMinorTicksPositions(function (position) {\r\n                    positions.push(position);\r\n                }, axis.options.minorGridLines);\r\n                return positions;\r\n            },\r\n            axisType: function () {\r\n                return LogarithmicAxis;\r\n            }\r\n        });\r\n        deepExtend(RadarLogarithmicAxis.fn, RadarNumericAxisMixin);\r\n        var PolarAxis = Axis.extend({\r\n            init: function (options) {\r\n                var axis = this;\r\n                Axis.fn.init.call(axis, options);\r\n                options = axis.options;\r\n                options.minorUnit = options.minorUnit || axis.options.majorUnit / 2;\r\n            },\r\n            options: {\r\n                type: 'polar',\r\n                startAngle: 0,\r\n                reverse: false,\r\n                majorUnit: 60,\r\n                min: 0,\r\n                max: 360,\r\n                labels: { margin: getSpacing(10) },\r\n                majorGridLines: {\r\n                    color: BLACK,\r\n                    visible: true,\r\n                    width: 1\r\n                },\r\n                minorGridLines: { color: '#aaa' }\r\n            },\r\n            getDivisions: function (stepValue) {\r\n                return NumericAxis.fn.getDivisions.call(this, stepValue) - 1;\r\n            },\r\n            reflow: function (box) {\r\n                this.box = box;\r\n                this.reflowLabels();\r\n            },\r\n            reflowLabels: function () {\r\n                var axis = this, options = axis.options, labelOptions = options.labels, skip = labelOptions.skip || 0, step = labelOptions.step || 1, measureBox = new Box2D(), divs = axis.intervals(options.majorUnit, skip, step), labels = axis.labels, labelBox, i;\r\n                for (i = 0; i < labels.length; i++) {\r\n                    labels[i].reflow(measureBox);\r\n                    labelBox = labels[i].box;\r\n                    labels[i].reflow(axis.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));\r\n                }\r\n            },\r\n            lineBox: function () {\r\n                return this.box;\r\n            },\r\n            intervals: function (size, skip, step, skipAngles) {\r\n                var axis = this, options = axis.options, divisions = axis.getDivisions(size), min = options.min, current, divs = [], i;\r\n                skip = skip || 0;\r\n                step = step || 1;\r\n                for (i = skip; i < divisions; i += step) {\r\n                    current = (360 + min + i * size) % 360;\r\n                    if (!(skipAngles && dataviz.inArray(current, skipAngles))) {\r\n                        divs.push(current);\r\n                    }\r\n                }\r\n                return divs;\r\n            },\r\n            majorIntervals: function () {\r\n                return this.intervals(this.options.majorUnit);\r\n            },\r\n            minorIntervals: function () {\r\n                return this.intervals(this.options.minorUnit);\r\n            },\r\n            intervalAngle: function (i) {\r\n                return (540 - i - this.options.startAngle) % 360;\r\n            },\r\n            majorAngles: RadarCategoryAxis.fn.majorAngles,\r\n            createLine: function () {\r\n                return [];\r\n            },\r\n            majorGridLineAngles: function (altAxis) {\r\n                var majorGridLines = this.options.majorGridLines;\r\n                return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);\r\n            },\r\n            minorGridLineAngles: function (altAxis, skipMajor) {\r\n                var options = this.options;\r\n                var minorGridLines = options.minorGridLines;\r\n                var majorGridLines = options.majorGridLines;\r\n                var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;\r\n                return this.gridLineAngles(altAxis, this.options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\r\n            },\r\n            createPlotBands: RadarCategoryAxis.fn.createPlotBands,\r\n            plotBandSlot: function (band) {\r\n                return this.getSlot(band.from, band.to);\r\n            },\r\n            getSlot: function (a, b) {\r\n                var axis = this, options = axis.options, start = options.startAngle, box = axis.box, tmp;\r\n                a = limitValue(a, options.min, options.max);\r\n                b = limitValue(b || a, a, options.max);\r\n                if (options.reverse) {\r\n                    a *= -1;\r\n                    b *= -1;\r\n                }\r\n                a = (540 - a - start) % 360;\r\n                b = (540 - b - start) % 360;\r\n                if (b < a) {\r\n                    tmp = a;\r\n                    a = b;\r\n                    b = tmp;\r\n                }\r\n                return new Ring(box.center(), 0, box.height() / 2, a, b - a);\r\n            },\r\n            slot: function (from, to) {\r\n                var options = this.options;\r\n                var start = 360 - options.startAngle;\r\n                var slot = this.getSlot(from, to);\r\n                var startAngle;\r\n                var endAngle;\r\n                var min;\r\n                var max;\r\n                if (!dataviz.util.defined(to)) {\r\n                    to = from;\r\n                }\r\n                min = math.min(from, to);\r\n                max = math.max(from, to);\r\n                if (options.reverse) {\r\n                    startAngle = min;\r\n                    endAngle = max;\r\n                } else {\r\n                    startAngle = 360 - max;\r\n                    endAngle = 360 - min;\r\n                }\r\n                startAngle = (startAngle + start) % 360;\r\n                endAngle = (endAngle + start) % 360;\r\n                return new geom.Arc([\r\n                    slot.c.x,\r\n                    slot.c.y\r\n                ], {\r\n                    startAngle: startAngle,\r\n                    endAngle: endAngle,\r\n                    radiusX: slot.r,\r\n                    radiusY: slot.r\r\n                });\r\n            },\r\n            getValue: function (point) {\r\n                var axis = this, options = axis.options, center = axis.box.center(), dx = point.x - center.x, dy = point.y - center.y, theta = math.round(math.atan2(dy, dx) / DEG_TO_RAD), start = options.startAngle;\r\n                if (!options.reverse) {\r\n                    theta *= -1;\r\n                    start *= -1;\r\n                }\r\n                return (theta + start + 360) % 360;\r\n            },\r\n            range: NumericAxis.fn.range,\r\n            labelsCount: NumericAxis.fn.labelsCount,\r\n            createAxisLabel: NumericAxis.fn.createAxisLabel\r\n        });\r\n        deepExtend(PolarAxis.fn, GridLinesMixin);\r\n        var RadarClusterLayout = ChartElement.extend({\r\n            options: {\r\n                gap: 1,\r\n                spacing: 0\r\n            },\r\n            reflow: function (sector) {\r\n                var cluster = this, options = cluster.options, children = cluster.children, gap = options.gap, spacing = options.spacing, count = children.length, slots = count + gap + spacing * (count - 1), slotAngle = sector.angle / slots, slotSector, angle = sector.startAngle + slotAngle * (gap / 2), i;\r\n                for (i = 0; i < count; i++) {\r\n                    slotSector = sector.clone();\r\n                    slotSector.startAngle = angle;\r\n                    slotSector.angle = slotAngle;\r\n                    if (children[i].sector) {\r\n                        slotSector.r = children[i].sector.r;\r\n                    }\r\n                    children[i].reflow(slotSector);\r\n                    children[i].sector = slotSector;\r\n                    angle += slotAngle + slotAngle * spacing;\r\n                }\r\n            }\r\n        });\r\n        var RadarStackLayout = ChartElement.extend({\r\n            reflow: function (sector) {\r\n                var stack = this, reverse = stack.options.isReversed, children = stack.children, childrenCount = children.length, childSector, i, first = reverse ? childrenCount - 1 : 0, step = reverse ? -1 : 1;\r\n                stack.box = new Box2D();\r\n                for (i = first; i >= 0 && i < childrenCount; i += step) {\r\n                    childSector = children[i].sector;\r\n                    childSector.startAngle = sector.startAngle;\r\n                    childSector.angle = sector.angle;\r\n                }\r\n            }\r\n        });\r\n        var RadarSegment = DonutSegment.extend({\r\n            init: function (value, options) {\r\n                DonutSegment.fn.init.call(this, value, null, options);\r\n            },\r\n            options: {\r\n                overlay: { gradient: null },\r\n                labels: { distance: 10 }\r\n            }\r\n        });\r\n        var RadarBarChart = BarChart.extend({\r\n            pointType: function () {\r\n                return RadarSegment;\r\n            },\r\n            clusterType: function () {\r\n                return RadarClusterLayout;\r\n            },\r\n            stackType: function () {\r\n                return RadarStackLayout;\r\n            },\r\n            categorySlot: function (categoryAxis, categoryIx) {\r\n                return categoryAxis.getSlot(categoryIx);\r\n            },\r\n            pointSlot: function (categorySlot, valueSlot) {\r\n                var slot = categorySlot.clone(), y = categorySlot.c.y;\r\n                slot.r = y - valueSlot.y1;\r\n                slot.ir = y - valueSlot.y2;\r\n                return slot;\r\n            },\r\n            reflow: CategoricalChart.fn.reflow,\r\n            reflowPoint: function (point, pointSlot) {\r\n                point.sector = pointSlot;\r\n                point.reflow();\r\n            },\r\n            options: {\r\n                clip: false,\r\n                animation: { type: 'pie' }\r\n            },\r\n            createAnimation: function () {\r\n                this.options.animation.center = this.box.toRect().center();\r\n                BarChart.fn.createAnimation.call(this);\r\n            }\r\n        });\r\n        var RadarLineChart = LineChart.extend({\r\n            options: { clip: false },\r\n            pointSlot: function (categorySlot, valueSlot) {\r\n                var valueRadius = categorySlot.c.y - valueSlot.y1, slot = Point2D.onCircle(categorySlot.c, categorySlot.middle(), valueRadius);\r\n                return new Box2D(slot.x, slot.y, slot.x, slot.y);\r\n            },\r\n            createSegment: function (linePoints, currentSeries, seriesIx) {\r\n                var segment, pointType, style = currentSeries.style;\r\n                if (style == SMOOTH) {\r\n                    pointType = SplineSegment;\r\n                } else {\r\n                    pointType = LineSegment;\r\n                }\r\n                segment = new pointType(linePoints, currentSeries, seriesIx);\r\n                if (linePoints.length === currentSeries.data.length) {\r\n                    segment.options.closed = true;\r\n                }\r\n                return segment;\r\n            }\r\n        });\r\n        var RadarAreaSegment = AreaSegment.extend({\r\n            points: function () {\r\n                return LineSegment.fn.points.call(this, this.stackPoints);\r\n            }\r\n        });\r\n        var SplineRadarAreaSegment = SplineAreaSegment.extend({ closeFill: $.noop });\r\n        var RadarAreaChart = RadarLineChart.extend({\r\n            createSegment: function (linePoints, currentSeries, seriesIx, prevSegment) {\r\n                var chart = this, options = chart.options, isStacked = options.isStacked, stackPoints, segment, style = (currentSeries.line || {}).style;\r\n                if (style === SMOOTH) {\r\n                    segment = new SplineRadarAreaSegment(linePoints, prevSegment, isStacked, currentSeries, seriesIx);\r\n                    segment.options.closed = true;\r\n                } else {\r\n                    if (isStacked && seriesIx > 0 && prevSegment) {\r\n                        stackPoints = prevSegment.linePoints.slice(0).reverse();\r\n                    }\r\n                    linePoints.push(linePoints[0]);\r\n                    segment = new RadarAreaSegment(linePoints, stackPoints, currentSeries, seriesIx);\r\n                }\r\n                return segment;\r\n            },\r\n            seriesMissingValues: function (series) {\r\n                return series.missingValues || ZERO;\r\n            }\r\n        });\r\n        var PolarScatterChart = ScatterChart.extend({\r\n            pointSlot: function (slotX, slotY) {\r\n                var valueRadius = slotX.c.y - slotY.y1, slot = Point2D.onCircle(slotX.c, slotX.startAngle, valueRadius);\r\n                return new Box2D(slot.x, slot.y, slot.x, slot.y);\r\n            },\r\n            options: { clip: false }\r\n        });\r\n        var PolarLineChart = ScatterLineChart.extend({\r\n            pointSlot: PolarScatterChart.fn.pointSlot,\r\n            options: { clip: false }\r\n        });\r\n        var PolarAreaSegment = AreaSegment.extend({\r\n            points: function () {\r\n                var segment = this, chart = segment.parent, plotArea = chart.plotArea, polarAxis = plotArea.polarAxis, center = polarAxis.box.center(), stackPoints = segment.stackPoints, points = LineSegment.fn.points.call(segment, stackPoints);\r\n                points.unshift([\r\n                    center.x,\r\n                    center.y\r\n                ]);\r\n                points.push([\r\n                    center.x,\r\n                    center.y\r\n                ]);\r\n                return points;\r\n            }\r\n        });\r\n        var SplinePolarAreaSegment = SplineAreaSegment.extend({\r\n            closeFill: function (fillPath) {\r\n                var center = this._polarAxisCenter();\r\n                fillPath.lineTo(center.x, center.y);\r\n            },\r\n            _polarAxisCenter: function () {\r\n                var chart = this.parent, plotArea = chart.plotArea, polarAxis = plotArea.polarAxis, center = polarAxis.box.center();\r\n                return center;\r\n            },\r\n            strokeSegments: function () {\r\n                var segments = this._strokeSegments;\r\n                if (!segments) {\r\n                    var center = this._polarAxisCenter(), curveProcessor = new CurveProcessor(false), linePoints = LineSegment.fn.points.call(this);\r\n                    linePoints.push(center);\r\n                    segments = this._strokeSegments = curveProcessor.process(linePoints);\r\n                    segments.pop();\r\n                }\r\n                return segments;\r\n            }\r\n        });\r\n        var PolarAreaChart = PolarLineChart.extend({\r\n            createSegment: function (linePoints, currentSeries, seriesIx) {\r\n                var segment, style = (currentSeries.line || {}).style;\r\n                if (style == SMOOTH) {\r\n                    segment = new SplinePolarAreaSegment(linePoints, null, false, currentSeries, seriesIx);\r\n                } else {\r\n                    segment = new PolarAreaSegment(linePoints, [], currentSeries, seriesIx);\r\n                }\r\n                return segment;\r\n            },\r\n            createMissingValue: function (value, missingValues) {\r\n                var missingValue;\r\n                if (dataviz.hasValue(value.x) && missingValues != INTERPOLATE) {\r\n                    missingValue = {\r\n                        x: value.x,\r\n                        y: value.y\r\n                    };\r\n                    if (missingValues == ZERO) {\r\n                        missingValue.y = 0;\r\n                    }\r\n                }\r\n                return missingValue;\r\n            },\r\n            seriesMissingValues: function (series) {\r\n                return series.missingValues || ZERO;\r\n            },\r\n            _hasMissingValuesGap: function () {\r\n                var series = this.options.series;\r\n                for (var idx = 0; idx < series.length; idx++) {\r\n                    if (this.seriesMissingValues(series[idx]) === GAP) {\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            sortPoints: function (points) {\r\n                var value, point;\r\n                points.sort(xComparer);\r\n                if (this._hasMissingValuesGap()) {\r\n                    for (var idx = 0; idx < points.length; idx++) {\r\n                        point = points[idx];\r\n                        if (point) {\r\n                            value = point.value;\r\n                            if (!dataviz.hasValue(value.y) && this.seriesMissingValues(point.series) === GAP) {\r\n                                delete points[idx];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return points;\r\n            }\r\n        });\r\n        var PolarPlotAreaBase = PlotAreaBase.extend({\r\n            init: function (series, options) {\r\n                var plotArea = this;\r\n                plotArea.valueAxisRangeTracker = new AxisGroupRangeTracker();\r\n                PlotAreaBase.fn.init.call(plotArea, series, options);\r\n            },\r\n            render: function () {\r\n                var plotArea = this;\r\n                plotArea.addToLegend(plotArea.series);\r\n                plotArea.createPolarAxis();\r\n                plotArea.createCharts();\r\n                plotArea.createValueAxis();\r\n            },\r\n            alignAxes: function () {\r\n                var axis = this.valueAxis;\r\n                var range = axis.range();\r\n                var crossingValue = axis.options.reverse ? range.max : range.min;\r\n                var slot = axis.getSlot(crossingValue);\r\n                var center = this.polarAxis.getSlot(0).c;\r\n                var axisBox = axis.box.translate(center.x - slot.x1, center.y - slot.y1);\r\n                axis.reflow(axisBox);\r\n            },\r\n            createValueAxis: function () {\r\n                var plotArea = this, tracker = plotArea.valueAxisRangeTracker, defaultRange = tracker.query(), range, valueAxis, axisOptions = plotArea.valueAxisOptions({\r\n                        roundToMajorUnit: false,\r\n                        zIndex: -1\r\n                    }), axisType, axisDefaultRange;\r\n                if (axisOptions.type === LOGARITHMIC) {\r\n                    axisType = RadarLogarithmicAxis;\r\n                    axisDefaultRange = {\r\n                        min: 0.1,\r\n                        max: 1\r\n                    };\r\n                } else {\r\n                    axisType = RadarNumericAxis;\r\n                    axisDefaultRange = {\r\n                        min: 0,\r\n                        max: 1\r\n                    };\r\n                }\r\n                range = tracker.query(name) || defaultRange || axisDefaultRange;\r\n                if (range && defaultRange) {\r\n                    range.min = math.min(range.min, defaultRange.min);\r\n                    range.max = math.max(range.max, defaultRange.max);\r\n                }\r\n                valueAxis = new axisType(range.min, range.max, axisOptions);\r\n                plotArea.valueAxis = valueAxis;\r\n                plotArea.appendAxis(valueAxis);\r\n            },\r\n            reflowAxes: function () {\r\n                var plotArea = this, options = plotArea.options.plotArea, valueAxis = plotArea.valueAxis, polarAxis = plotArea.polarAxis, box = plotArea.box, defaultPadding = math.min(box.width(), box.height()) * DEFAULT_PADDING, padding = getSpacing(options.padding || {}, defaultPadding), axisBox = box.clone().unpad(padding), valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);\r\n                polarAxis.reflow(axisBox);\r\n                valueAxis.reflow(valueAxisBox);\r\n                var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();\r\n                valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));\r\n                plotArea.axisBox = axisBox;\r\n                plotArea.alignAxes(axisBox);\r\n            },\r\n            backgroundBox: function () {\r\n                return this.box;\r\n            }\r\n        });\r\n        var RadarPlotArea = PolarPlotAreaBase.extend({\r\n            options: {\r\n                categoryAxis: { categories: [] },\r\n                valueAxis: {}\r\n            },\r\n            createPolarAxis: function () {\r\n                var plotArea = this, categoryAxis;\r\n                categoryAxis = new RadarCategoryAxis(plotArea.options.categoryAxis);\r\n                plotArea.polarAxis = categoryAxis;\r\n                plotArea.categoryAxis = categoryAxis;\r\n                plotArea.appendAxis(categoryAxis);\r\n                plotArea.aggregateCategories();\r\n            },\r\n            valueAxisOptions: function (defaults) {\r\n                var plotArea = this;\r\n                if (plotArea._hasBarCharts) {\r\n                    deepExtend(defaults, {\r\n                        majorGridLines: { type: ARC },\r\n                        minorGridLines: { type: ARC }\r\n                    });\r\n                }\r\n                if (plotArea._isStacked100) {\r\n                    deepExtend(defaults, {\r\n                        roundToMajorUnit: false,\r\n                        labels: { format: 'P0' }\r\n                    });\r\n                }\r\n                return deepExtend(defaults, plotArea.options.valueAxis);\r\n            },\r\n            appendChart: CategoricalPlotArea.fn.appendChart,\r\n            aggregateSeries: CategoricalPlotArea.fn.aggregateSeries,\r\n            aggregateCategories: function () {\r\n                CategoricalPlotArea.fn.aggregateCategories.call(this, this.panes);\r\n            },\r\n            filterSeries: function (currentSeries) {\r\n                return currentSeries;\r\n            },\r\n            createCharts: function () {\r\n                var plotArea = this, series = plotArea.filterVisibleSeries(plotArea.series), pane = plotArea.panes[0];\r\n                plotArea.createAreaChart(filterSeriesByType(series, [RADAR_AREA]), pane);\r\n                plotArea.createLineChart(filterSeriesByType(series, [RADAR_LINE]), pane);\r\n                plotArea.createBarChart(filterSeriesByType(series, [RADAR_COLUMN]), pane);\r\n            },\r\n            chartOptions: function (series) {\r\n                var options = { series: series };\r\n                var firstSeries = series[0];\r\n                if (firstSeries) {\r\n                    var filteredSeries = this.filterVisibleSeries(series);\r\n                    var stack = firstSeries.stack;\r\n                    options.isStacked = stack && filteredSeries.length > 1;\r\n                    options.isStacked100 = stack && stack.type === '100%' && filteredSeries.length > 1;\r\n                    if (options.isStacked100) {\r\n                        this._isStacked100 = true;\r\n                    }\r\n                }\r\n                return options;\r\n            },\r\n            createAreaChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var areaChart = new RadarAreaChart(this, this.chartOptions(series));\r\n                this.appendChart(areaChart, pane);\r\n            },\r\n            createLineChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var lineChart = new RadarLineChart(this, this.chartOptions(series));\r\n                this.appendChart(lineChart, pane);\r\n            },\r\n            createBarChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var firstSeries = series[0];\r\n                var options = this.chartOptions(series);\r\n                options.gap = firstSeries.gap;\r\n                options.spacing = firstSeries.spacing;\r\n                var barChart = new RadarBarChart(this, options);\r\n                this.appendChart(barChart, pane);\r\n                this._hasBarCharts = true;\r\n            },\r\n            seriesCategoryAxis: function () {\r\n                return this.categoryAxis;\r\n            },\r\n            _dispatchEvent: function (chart, e, eventType) {\r\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), category, value;\r\n                category = plotArea.categoryAxis.getCategory(point);\r\n                value = plotArea.valueAxis.getValue(point);\r\n                if (category !== null && value !== null) {\r\n                    chart.trigger(eventType, {\r\n                        element: eventTargetElement(e),\r\n                        category: category,\r\n                        value: value\r\n                    });\r\n                }\r\n            },\r\n            createCrosshairs: $.noop\r\n        });\r\n        deepExtend(RadarPlotArea.fn, PlotAreaEventsMixin);\r\n        var PolarPlotArea = PolarPlotAreaBase.extend({\r\n            options: {\r\n                xAxis: {},\r\n                yAxis: {}\r\n            },\r\n            createPolarAxis: function () {\r\n                var plotArea = this, polarAxis;\r\n                polarAxis = new PolarAxis(plotArea.options.xAxis);\r\n                plotArea.polarAxis = polarAxis;\r\n                plotArea.axisX = polarAxis;\r\n                plotArea.appendAxis(polarAxis);\r\n            },\r\n            valueAxisOptions: function (defaults) {\r\n                var plotArea = this;\r\n                return deepExtend(defaults, {\r\n                    majorGridLines: { type: ARC },\r\n                    minorGridLines: { type: ARC }\r\n                }, plotArea.options.yAxis);\r\n            },\r\n            createValueAxis: function () {\r\n                var plotArea = this;\r\n                PolarPlotAreaBase.fn.createValueAxis.call(plotArea);\r\n                plotArea.axisY = plotArea.valueAxis;\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                var plotArea = this;\r\n                plotArea.valueAxisRangeTracker.update(chart.yAxisRanges);\r\n                PlotAreaBase.fn.appendChart.call(plotArea, chart, pane);\r\n            },\r\n            createCharts: function () {\r\n                var plotArea = this, series = plotArea.filterVisibleSeries(plotArea.series), pane = plotArea.panes[0];\r\n                plotArea.createLineChart(filterSeriesByType(series, [POLAR_LINE]), pane);\r\n                plotArea.createScatterChart(filterSeriesByType(series, [POLAR_SCATTER]), pane);\r\n                plotArea.createAreaChart(filterSeriesByType(series, [POLAR_AREA]), pane);\r\n            },\r\n            createLineChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, lineChart = new PolarLineChart(plotArea, { series: series });\r\n                plotArea.appendChart(lineChart, pane);\r\n            },\r\n            createScatterChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, scatterChart = new PolarScatterChart(plotArea, { series: series });\r\n                plotArea.appendChart(scatterChart, pane);\r\n            },\r\n            createAreaChart: function (series, pane) {\r\n                if (series.length === 0) {\r\n                    return;\r\n                }\r\n                var plotArea = this, areaChart = new PolarAreaChart(plotArea, { series: series });\r\n                plotArea.appendChart(areaChart, pane);\r\n            },\r\n            _dispatchEvent: function (chart, e, eventType) {\r\n                var plotArea = this, coords = chart._eventCoordinates(e), point = new Point2D(coords.x, coords.y), xValue, yValue;\r\n                xValue = plotArea.axisX.getValue(point);\r\n                yValue = plotArea.axisY.getValue(point);\r\n                if (xValue !== null && yValue !== null) {\r\n                    chart.trigger(eventType, {\r\n                        element: eventTargetElement(e),\r\n                        x: xValue,\r\n                        y: yValue\r\n                    });\r\n                }\r\n            },\r\n            createCrosshairs: $.noop\r\n        });\r\n        deepExtend(PolarPlotArea.fn, PlotAreaEventsMixin);\r\n        function xComparer(a, b) {\r\n            return a.value.x - b.value.x;\r\n        }\r\n        function angularDistance(a, b) {\r\n            return 180 - math.abs(math.abs(a - b) - 180);\r\n        }\r\n        PlotAreaFactory.current.register(PolarPlotArea, POLAR_CHARTS);\r\n        PlotAreaFactory.current.register(RadarPlotArea, RADAR_CHARTS);\r\n        SeriesBinder.current.register(POLAR_CHARTS, [\r\n            X,\r\n            Y\r\n        ], ['color']);\r\n        SeriesBinder.current.register(RADAR_CHARTS, ['value'], ['color']);\r\n        dataviz.DefaultAggregates.current.register(RADAR_CHARTS, {\r\n            value: 'max',\r\n            color: 'first'\r\n        });\r\n        deepExtend(dataviz, {\r\n            PolarAreaChart: PolarAreaChart,\r\n            PolarAxis: PolarAxis,\r\n            PolarLineChart: PolarLineChart,\r\n            PolarPlotArea: PolarPlotArea,\r\n            RadarAreaChart: RadarAreaChart,\r\n            RadarBarChart: RadarBarChart,\r\n            RadarCategoryAxis: RadarCategoryAxis,\r\n            RadarClusterLayout: RadarClusterLayout,\r\n            RadarLineChart: RadarLineChart,\r\n            RadarNumericAxis: RadarNumericAxis,\r\n            RadarPlotArea: RadarPlotArea,\r\n            SplinePolarAreaSegment: SplinePolarAreaSegment,\r\n            SplineRadarAreaSegment: SplineRadarAreaSegment,\r\n            RadarStackLayout: RadarStackLayout\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.chart.funnel', [\r\n        'kendo.dataviz.chart',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.chart.funnel',\r\n        name: 'Funnel Chart',\r\n        category: 'dataviz',\r\n        depends: ['dataviz.chart'],\r\n        hidden: true\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, extend = $.extend, isFn = kendo.isFunction, template = kendo.template, util = kendo.util, append = util.append, draw = kendo.drawing, geom = kendo.geometry, dataviz = kendo.dataviz, Color = kendo.drawing.Color, ChartElement = dataviz.ChartElement, PieChartMixin = dataviz.PieChartMixin, PlotAreaBase = dataviz.PlotAreaBase, PlotAreaFactory = dataviz.PlotAreaFactory, Point2D = dataviz.Point2D, Box2D = dataviz.Box2D, SeriesBinder = dataviz.SeriesBinder, TextBox = dataviz.TextBox, autoFormat = dataviz.autoFormat, evalOptions = dataviz.evalOptions, limitValue = util.limitValue, seriesTotal = dataviz.seriesTotal;\r\n        var CATEGORY = 'category', COLOR = 'color', FUNNEL = 'funnel', VALUE = 'value', BLACK = 'black', WHITE = 'white';\r\n        var FunnelPlotArea = PlotAreaBase.extend({\r\n            render: function () {\r\n                var plotArea = this, series = plotArea.series;\r\n                plotArea.createFunnelChart(series);\r\n            },\r\n            createFunnelChart: function (series) {\r\n                var plotArea = this, firstSeries = series[0], funnelChart = new FunnelChart(plotArea, {\r\n                        series: series,\r\n                        legend: plotArea.options.legend,\r\n                        neckRatio: firstSeries.neckRatio,\r\n                        dynamicHeight: firstSeries.dynamicHeight,\r\n                        dynamicSlope: firstSeries.dynamicSlope,\r\n                        segmentSpacing: firstSeries.segmentSpacing,\r\n                        highlight: firstSeries.highlight\r\n                    });\r\n                plotArea.appendChart(funnelChart);\r\n            },\r\n            appendChart: function (chart, pane) {\r\n                PlotAreaBase.fn.appendChart.call(this, chart, pane);\r\n                append(this.options.legend.items, chart.legendItems);\r\n            }\r\n        });\r\n        var FunnelChart = ChartElement.extend({\r\n            init: function (plotArea, options) {\r\n                var chart = this;\r\n                ChartElement.fn.init.call(chart, options);\r\n                chart.plotArea = plotArea;\r\n                chart.points = [];\r\n                chart.labels = [];\r\n                chart.legendItems = [];\r\n                chart.render();\r\n            },\r\n            options: {\r\n                neckRatio: 0.3,\r\n                width: 300,\r\n                dynamicSlope: false,\r\n                dynamicHeight: true,\r\n                segmentSpacing: 0,\r\n                labels: {\r\n                    visible: false,\r\n                    align: 'center',\r\n                    position: 'center'\r\n                }\r\n            },\r\n            formatPointValue: function (point, format) {\r\n                return autoFormat(format, point.value);\r\n            },\r\n            render: function () {\r\n                var chart = this, options = chart.options, colors = chart.plotArea.options.seriesColors || [], colorsCount = colors.length, series = options.series[0], pointData, fields, data = series.data;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                var total = seriesTotal(series), value, i;\r\n                for (i = 0; i < data.length; i++) {\r\n                    pointData = SeriesBinder.current.bindPoint(series, i);\r\n                    value = pointData.valueFields.value;\r\n                    if (value === null || value === undefined) {\r\n                        continue;\r\n                    }\r\n                    fields = pointData.fields;\r\n                    if (!isFn(series.color)) {\r\n                        series.color = fields.color || colors[i % colorsCount];\r\n                    }\r\n                    fields = deepExtend({\r\n                        index: i,\r\n                        owner: chart,\r\n                        series: series,\r\n                        category: fields.category,\r\n                        dataItem: data[i],\r\n                        percentage: Math.abs(value) / total,\r\n                        visibleInLegend: fields.visibleInLegend,\r\n                        visible: fields.visible\r\n                    }, fields);\r\n                    var segment = chart.createSegment(value, fields);\r\n                    var label = chart.createLabel(value, fields);\r\n                    if (segment && label) {\r\n                        segment.append(label);\r\n                    }\r\n                }\r\n            },\r\n            evalSegmentOptions: function (options, value, fields) {\r\n                var series = fields.series;\r\n                evalOptions(options, {\r\n                    value: value,\r\n                    series: series,\r\n                    dataItem: fields.dataItem,\r\n                    index: fields.index\r\n                }, {\r\n                    defaults: series._defaults,\r\n                    excluded: [\r\n                        'data',\r\n                        'toggle',\r\n                        'visual'\r\n                    ]\r\n                });\r\n            },\r\n            createSegment: function (value, fields) {\r\n                var chart = this, segment;\r\n                var seriesOptions = deepExtend({}, fields.series);\r\n                chart.evalSegmentOptions(seriesOptions, value, fields);\r\n                chart.createLegendItem(value, seriesOptions, fields);\r\n                if (fields.visible !== false) {\r\n                    segment = new FunnelSegment(value, seriesOptions, fields);\r\n                    extend(segment, fields);\r\n                    chart.append(segment);\r\n                    chart.points.push(segment);\r\n                    return segment;\r\n                }\r\n            },\r\n            createLabel: function (value, fields) {\r\n                var chart = this, series = fields.series, dataItem = fields.dataItem, labels = deepExtend({}, chart.options.labels, series.labels), text = value, textBox;\r\n                if (labels.visible) {\r\n                    if (labels.template) {\r\n                        var labelTemplate = template(labels.template);\r\n                        text = labelTemplate({\r\n                            dataItem: dataItem,\r\n                            value: value,\r\n                            percentage: fields.percentage,\r\n                            category: fields.category,\r\n                            series: series\r\n                        });\r\n                    } else if (labels.format) {\r\n                        text = autoFormat(labels.format, text);\r\n                    }\r\n                    if (!labels.color && labels.align === 'center') {\r\n                        var brightnessValue = new Color(series.color).percBrightness();\r\n                        if (brightnessValue > 180) {\r\n                            labels.color = BLACK;\r\n                        } else {\r\n                            labels.color = WHITE;\r\n                        }\r\n                    }\r\n                    chart.evalSegmentOptions(labels, value, fields);\r\n                    textBox = new TextBox(text, deepExtend({ vAlign: labels.position }, labels));\r\n                    chart.labels.push(textBox);\r\n                    return textBox;\r\n                }\r\n            },\r\n            labelPadding: function () {\r\n                var labels = this.labels, label, align, width, padding = {\r\n                        left: 0,\r\n                        right: 0\r\n                    }, i;\r\n                for (i = 0; i < labels.length; i++) {\r\n                    label = labels[i];\r\n                    align = label.options.align;\r\n                    if (align !== 'center') {\r\n                        width = labels[i].box.width();\r\n                        if (align === 'left') {\r\n                            padding.left = Math.max(padding.left, width);\r\n                        } else {\r\n                            padding.right = Math.max(padding.right, width);\r\n                        }\r\n                    }\r\n                }\r\n                return padding;\r\n            },\r\n            reflow: function (chartBox) {\r\n                var chart = this, options = chart.options, segments = chart.points, count = segments.length, decreasingWidth = options.neckRatio <= 1, i, height, lastUpperSide, points, percentage, offset, box = chartBox.clone().unpad(chart.labelPadding()), width = box.width(), previousHeight = 0, previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2, segmentSpacing = options.segmentSpacing, dynamicSlope = options.dynamicSlope, totalHeight = box.height() - segmentSpacing * (count - 1), neckRatio = decreasingWidth ? options.neckRatio * width : width;\r\n                if (!count) {\r\n                    return;\r\n                }\r\n                if (dynamicSlope) {\r\n                    var firstSegment = segments[0], maxSegment = firstSegment, nextSegment, nextPercentage;\r\n                    $.each(segments, function (idx, val) {\r\n                        if (val.percentage > maxSegment.percentage) {\r\n                            maxSegment = val;\r\n                        }\r\n                    });\r\n                    lastUpperSide = firstSegment.percentage / maxSegment.percentage * width;\r\n                    previousOffset = (width - lastUpperSide) / 2;\r\n                    for (i = 0; i < count; i++) {\r\n                        percentage = segments[i].percentage;\r\n                        nextSegment = segments[i + 1];\r\n                        nextPercentage = nextSegment ? nextSegment.percentage : percentage;\r\n                        points = segments[i].points = [];\r\n                        height = options.dynamicHeight ? totalHeight * percentage : totalHeight / count;\r\n                        if (!percentage) {\r\n                            offset = nextPercentage ? 0 : width / 2;\r\n                        } else {\r\n                            offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;\r\n                        }\r\n                        offset = limitValue(offset, 0, width);\r\n                        points.push(new geom.Point(box.x1 + previousOffset, box.y1 + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + width - offset, box.y1 + height + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + offset, box.y1 + height + previousHeight));\r\n                        previousOffset = offset;\r\n                        previousHeight += height + segmentSpacing;\r\n                        lastUpperSide = limitValue(width - 2 * offset, 0, width);\r\n                    }\r\n                } else {\r\n                    var topMostWidth = decreasingWidth ? width : width - previousOffset * 2, finalNarrow = (topMostWidth - neckRatio) / 2;\r\n                    for (i = 0; i < count; i++) {\r\n                        points = segments[i].points = [];\r\n                        percentage = segments[i].percentage;\r\n                        offset = options.dynamicHeight ? finalNarrow * percentage : finalNarrow / count;\r\n                        height = options.dynamicHeight ? totalHeight * percentage : totalHeight / count;\r\n                        points.push(new geom.Point(box.x1 + previousOffset, box.y1 + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));\r\n                        points.push(new geom.Point(box.x1 + previousOffset + offset, box.y1 + height + previousHeight));\r\n                        previousOffset += offset;\r\n                        previousHeight += height + segmentSpacing;\r\n                    }\r\n                }\r\n                for (i = 0; i < count; i++) {\r\n                    segments[i].reflow(chartBox);\r\n                }\r\n            }\r\n        });\r\n        deepExtend(FunnelChart.fn, PieChartMixin);\r\n        var FunnelSegment = ChartElement.extend({\r\n            init: function (value, options, segmentOptions) {\r\n                var segment = this;\r\n                ChartElement.fn.init.call(segment, options);\r\n                segment.value = value;\r\n                segment.options.index = segmentOptions.index;\r\n            },\r\n            options: {\r\n                color: WHITE,\r\n                border: { width: 1 }\r\n            },\r\n            reflow: function (chartBox) {\r\n                var segment = this, points = segment.points, label = segment.children[0];\r\n                segment.box = new Box2D(points[0].x, points[0].y, points[1].x, points[2].y);\r\n                if (label) {\r\n                    label.reflow(new Box2D(chartBox.x1, points[0].y, chartBox.x2, points[2].y));\r\n                }\r\n            },\r\n            createVisual: function () {\r\n                var segment = this;\r\n                var options = segment.options;\r\n                var visual;\r\n                ChartElement.fn.createVisual.call(this);\r\n                if (options.visual) {\r\n                    visual = options.visual({\r\n                        category: segment.category,\r\n                        dataItem: segment.dataItem,\r\n                        value: segment.value,\r\n                        series: segment.series,\r\n                        percentage: segment.percentage,\r\n                        points: segment.points,\r\n                        options: options,\r\n                        createVisual: function () {\r\n                            return segment.createPath();\r\n                        }\r\n                    });\r\n                } else {\r\n                    visual = segment.createPath();\r\n                }\r\n                if (visual) {\r\n                    this.visual.append(visual);\r\n                }\r\n            },\r\n            createPath: function () {\r\n                var options = this.options;\r\n                var border = options.border;\r\n                var path = draw.Path.fromPoints(this.points, {\r\n                    fill: {\r\n                        color: options.color,\r\n                        opacity: options.opacity\r\n                    },\r\n                    stroke: {\r\n                        color: border.color,\r\n                        opacity: border.opacity,\r\n                        width: border.width\r\n                    }\r\n                }).close();\r\n                return path;\r\n            },\r\n            createHighlight: function (style) {\r\n                return draw.Path.fromPoints(this.points, style);\r\n            },\r\n            highlightVisual: function () {\r\n                return this.visual.children[0];\r\n            },\r\n            highlightVisualArgs: function () {\r\n                var path = draw.Path.fromPoints(this.points).close();\r\n                return {\r\n                    options: this.options,\r\n                    path: path\r\n                };\r\n            },\r\n            highlightOverlay: function (view, opt) {\r\n                var options = this.options, hlOptions = options.highlight || {};\r\n                if (hlOptions.visible === false) {\r\n                    return;\r\n                }\r\n                var border = hlOptions.border || {};\r\n                var calcOptions = extend({}, opt, {\r\n                    fill: hlOptions.color,\r\n                    stroke: border.color,\r\n                    strokeOpacity: border.opacity,\r\n                    strokeWidth: border.width,\r\n                    fillOpacity: hlOptions.opacity\r\n                });\r\n                var element = view.createPolyline(this.points, true, calcOptions);\r\n                return element;\r\n            },\r\n            tooltipAnchor: function (tooltipWidth) {\r\n                var box = this.box;\r\n                return new Point2D(box.center().x - tooltipWidth / 2, box.y1);\r\n            },\r\n            formatValue: function (format) {\r\n                var point = this;\r\n                return point.owner.formatPointValue(point, format);\r\n            }\r\n        });\r\n        deepExtend(FunnelSegment.fn, dataviz.PointEventsMixin);\r\n        PlotAreaFactory.current.register(FunnelPlotArea, [FUNNEL]);\r\n        SeriesBinder.current.register([FUNNEL], [VALUE], [\r\n            CATEGORY,\r\n            COLOR,\r\n            'visibleInLegend',\r\n            'visible'\r\n        ]);\r\n        deepExtend(dataviz, {\r\n            FunnelChart: FunnelChart,\r\n            FunnelSegment: FunnelSegment\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.gauge', [\r\n        'kendo.dataviz.core',\r\n        'kendo.drawing',\r\n        'kendo.dataviz.themes'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.gauge',\r\n        name: 'Gauge',\r\n        category: 'dataviz',\r\n        description: 'Radial and Linear gauges.',\r\n        depends: [\r\n            'dataviz.core',\r\n            'dataviz.themes'\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var math = Math, kendo = window.kendo, util = kendo.util, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, autoMajorUnit = dataviz.autoMajorUnit, ChartElement = dataviz.ChartElement, NumericAxis = dataviz.NumericAxis, Axis = dataviz.Axis, Box2D = dataviz.Box2D, Class = kendo.Class, defined = util.defined, isNumber = util.isNumber, interpolateValue = dataviz.interpolateValue, getSpacing = dataviz.getSpacing, round = dataviz.round, geo = dataviz.geometry, draw = dataviz.drawing, Point = geo.Point, Group = draw.Group, Path = draw.Path, Rect = geo.Rect, Text = draw.Text;\r\n        var ANGULAR_SPEED = 150, LINEAR_SPEED = 250, ARROW = 'arrow', ARROW_POINTER = 'arrowPointer', BAR_POINTER = 'barPointer', BLACK = '#000', CAP_SIZE = 0.05, COORD_PRECISION = dataviz.COORD_PRECISION, MAX_VALUE = Number.MAX_VALUE, MIN_VALUE = -Number.MAX_VALUE, DEFAULT_HEIGHT = 200, DEFAULT_LINE_WIDTH = 0.5, DEFAULT_WIDTH = 200, DEFAULT_MIN_WIDTH = 60, DEFAULT_MIN_HEIGHT = 60, DEFAULT_MARGIN = 5, DEGREE = math.PI / 180, GEO_ARC_ADJUST_ANGLE = 180, INSIDE = 'inside', LINEAR = 'linear', NEEDLE = 'needle', OUTSIDE = 'outside', RADIAL_POINTER = 'radialPointer', X = 'x', Y = 'y';\r\n        var Pointer = Class.extend({\r\n            init: function (scale, options) {\r\n                var pointer = this;\r\n                var scaleOptions = scale.options;\r\n                ChartElement.fn.init.call(pointer, options);\r\n                options = pointer.options;\r\n                options.fill = options.color;\r\n                pointer.scale = scale;\r\n                if (defined(options.value)) {\r\n                    options.value = math.min(math.max(options.value, scaleOptions.min), scaleOptions.max);\r\n                } else {\r\n                    options.value = scaleOptions.min;\r\n                }\r\n            },\r\n            options: { color: BLACK },\r\n            value: function (newValue) {\r\n                var that = this;\r\n                var options = that.options;\r\n                var value = options.value;\r\n                var scaleOptions = that.scale.options;\r\n                if (arguments.length === 0) {\r\n                    return value;\r\n                }\r\n                options._oldValue = options._oldValue !== undefined ? options.value : scaleOptions.min;\r\n                options.value = math.min(math.max(newValue, scaleOptions.min), scaleOptions.max);\r\n                if (that.elements) {\r\n                    that.repaint();\r\n                }\r\n            }\r\n        });\r\n        var RadialPointer = Pointer.extend({\r\n            options: {\r\n                shape: NEEDLE,\r\n                cap: { size: CAP_SIZE },\r\n                arrow: {\r\n                    width: 16,\r\n                    height: 14\r\n                },\r\n                animation: {\r\n                    type: RADIAL_POINTER,\r\n                    duration: ANGULAR_SPEED\r\n                }\r\n            },\r\n            setRadius: function (radius) {\r\n                var that = this;\r\n                if (radius) {\r\n                    that.elements.clear();\r\n                    that.render(that.parent, that.center, radius);\r\n                }\r\n            },\r\n            setAngle: function (angle) {\r\n                this.elements.transform(geo.transform().rotate(angle, this.center));\r\n            },\r\n            repaint: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var options = that.options;\r\n                var oldAngle = scale.slotAngle(options._oldValue);\r\n                var newAngle = scale.slotAngle(options.value);\r\n                if (options.animation.transitions === false) {\r\n                    that.setAngle(newAngle);\r\n                } else {\r\n                    new RadialPointerAnimation(that.elements, deepExtend(options.animation, {\r\n                        oldAngle: oldAngle,\r\n                        newAngle: newAngle\r\n                    })).play();\r\n                }\r\n            },\r\n            render: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var center = scale.arc.center;\r\n                var options = that.options;\r\n                var elements = new Group();\r\n                if (options.animation !== false) {\r\n                    deepExtend(options.animation, {\r\n                        startAngle: 0,\r\n                        center: center,\r\n                        reverse: scale.options.reverse\r\n                    });\r\n                }\r\n                if (options.shape === NEEDLE) {\r\n                    elements.append(that._renderNeedle(), that._renderCap());\r\n                } else {\r\n                    elements.append(that._renderArrow());\r\n                }\r\n                that.elements = elements;\r\n                that.setAngle(DEGREE);\r\n                return elements;\r\n            },\r\n            reflow: function (arc) {\r\n                var that = this;\r\n                var center = that.center = arc.center;\r\n                var radius = that.radius = arc.getRadiusX();\r\n                var capSize = that.capSize = Math.round(radius * that.options.cap.size);\r\n                that.bbox = Rect.fromPoints(new Point(center.x - capSize, center.y - capSize), new Point(center.x + capSize, center.y + capSize));\r\n            },\r\n            _renderNeedle: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var minorTickSize = that.scale.options.minorTicks.size;\r\n                var center = that.center;\r\n                var needleColor = options.color;\r\n                var needlePath = new Path({\r\n                    fill: { color: needleColor },\r\n                    stroke: {\r\n                        color: needleColor,\r\n                        width: DEFAULT_LINE_WIDTH\r\n                    }\r\n                });\r\n                needlePath.moveTo(center.x + that.radius - minorTickSize, center.y).lineTo(center.x, center.y - that.capSize / 2).lineTo(center.x, center.y + that.capSize / 2).close();\r\n                return needlePath;\r\n            },\r\n            _renderCap: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var capColor = options.cap.color || options.color;\r\n                var circle = new geo.Circle(that.center, that.capSize);\r\n                var cap = new draw.Circle(circle, {\r\n                    fill: { color: capColor },\r\n                    stroke: { color: capColor }\r\n                });\r\n                return cap;\r\n            }\r\n        });\r\n        var RadialScale = NumericAxis.extend({\r\n            init: function (options) {\r\n                var scale = this;\r\n                scale.options = deepExtend({}, scale.options, options);\r\n                scale.options.majorUnit = scale.options.majorUnit || autoMajorUnit(scale.options.min, scale.options.max);\r\n                scale.options.minorUnit = scale.options.minorUnit || scale.options.majorUnit / 10;\r\n                Axis.fn.init.call(scale, scale.options);\r\n            },\r\n            options: {\r\n                min: 0,\r\n                max: 100,\r\n                majorTicks: {\r\n                    size: 15,\r\n                    align: INSIDE,\r\n                    color: BLACK,\r\n                    width: DEFAULT_LINE_WIDTH,\r\n                    visible: true\r\n                },\r\n                minorTicks: {\r\n                    size: 10,\r\n                    align: INSIDE,\r\n                    color: BLACK,\r\n                    width: DEFAULT_LINE_WIDTH,\r\n                    visible: true\r\n                },\r\n                startAngle: -30,\r\n                endAngle: 210,\r\n                labels: {\r\n                    position: INSIDE,\r\n                    padding: 2\r\n                }\r\n            },\r\n            render: function (center, radius) {\r\n                var that = this;\r\n                var arc = that.renderArc(center, radius);\r\n                that.bbox = arc.bbox();\r\n                that.labelElements = that.renderLabels();\r\n                that.ticks = that.renderTicks();\r\n                that.ranges = that.renderRanges();\r\n            },\r\n            reflow: function (bbox) {\r\n                var that = this;\r\n                var center = bbox.center();\r\n                var radius = math.min(bbox.height(), bbox.width()) / 2;\r\n                if (that.bbox !== undefined) {\r\n                    that.bbox = that.arc.bbox();\r\n                    that.radius(that.arc.getRadiusX());\r\n                    that.repositionRanges();\r\n                    that.renderLabels();\r\n                } else {\r\n                    return that.render(center, radius);\r\n                }\r\n            },\r\n            slotAngle: function (value) {\r\n                var options = this.options;\r\n                var startAngle = options.startAngle;\r\n                var reverse = options.reverse;\r\n                var angle = options.endAngle - startAngle;\r\n                var min = options.min;\r\n                var max = options.max;\r\n                var result;\r\n                if (reverse) {\r\n                    result = options.endAngle - (value - min) / (max - min) * angle;\r\n                } else {\r\n                    result = (value - min) / (max - min) * angle + startAngle;\r\n                }\r\n                return result + GEO_ARC_ADJUST_ANGLE;\r\n            },\r\n            renderLabels: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var majorTickSize = options.majorTicks.size;\r\n                var arc = that.arc.clone();\r\n                var radius = arc.getRadiusX();\r\n                var tickAngles = that.tickAngles(arc, options.majorUnit);\r\n                var labels = that.labels;\r\n                var count = labels.length;\r\n                var labelsOptions = options.labels;\r\n                var padding = labelsOptions.padding;\r\n                var rangeDistance = radius * 0.05;\r\n                var rangeSize = options.rangeSize = options.rangeSize || radius * 0.1;\r\n                var ranges = options.ranges || [];\r\n                var halfWidth, halfHeight, labelAngle;\r\n                var angle, label, lp, i, cx, cy, isInside;\r\n                var labelsGroup = new Group();\r\n                var lbl, labelPos, prevLabelPos, labelTransform;\r\n                if (that.options.rangeDistance !== undefined) {\r\n                    rangeDistance = that.options.rangeDistance;\r\n                } else {\r\n                    that.options.rangeDistance = rangeDistance;\r\n                }\r\n                if (labelsOptions.position === INSIDE) {\r\n                    radius -= majorTickSize;\r\n                    if (ranges.length && that.labelElements === undefined) {\r\n                        radius -= rangeSize + rangeDistance;\r\n                    }\r\n                    arc.setRadiusX(radius).setRadiusY(radius);\r\n                }\r\n                for (i = 0; i < count; i++) {\r\n                    label = labels[i];\r\n                    halfWidth = label.box.width() / 2;\r\n                    halfHeight = label.box.height() / 2;\r\n                    angle = tickAngles[i];\r\n                    labelAngle = (angle - GEO_ARC_ADJUST_ANGLE) * DEGREE;\r\n                    isInside = labelsOptions.position === INSIDE;\r\n                    lp = arc.pointAt(angle);\r\n                    cx = lp.x + math.cos(labelAngle) * (halfWidth + padding) * (isInside ? 1 : -1);\r\n                    cy = lp.y + math.sin(labelAngle) * (halfHeight + padding) * (isInside ? 1 : -1);\r\n                    label.reflow(new dataviz.Box2D(cx - halfWidth, cy - halfHeight, cx + halfWidth, cy + halfHeight));\r\n                    labelPos = new Point(label.box.x1, label.box.y1);\r\n                    if (that.labelElements === undefined) {\r\n                        lbl = _buildLabel(label, options.labels);\r\n                        labelsGroup.append(lbl);\r\n                    } else {\r\n                        lbl = that.labelElements.children[i];\r\n                        prevLabelPos = lbl.bbox().origin;\r\n                        labelTransform = lbl.transform() || geo.transform();\r\n                        labelTransform.translate(labelPos.x - prevLabelPos.x, labelPos.y - prevLabelPos.y);\r\n                        lbl.transform(labelTransform);\r\n                    }\r\n                    that.bbox = Rect.union(that.bbox, lbl.bbox());\r\n                }\r\n                return labelsGroup;\r\n            },\r\n            repositionRanges: function () {\r\n                var that = this;\r\n                var ranges = that.ranges.children;\r\n                var rangeSize = that.options.rangeSize;\r\n                var rangeDistance = that.options.rangeDistance;\r\n                var rangeRadius, newRadius;\r\n                if (ranges.length > 0) {\r\n                    rangeRadius = that.getRangeRadius();\r\n                    if (that.options.labels.position === INSIDE) {\r\n                        rangeRadius += rangeSize + rangeDistance;\r\n                    }\r\n                    newRadius = rangeRadius + rangeSize / 2;\r\n                    for (var i = 0; i < ranges.length; i++) {\r\n                        ranges[i]._geometry.setRadiusX(newRadius).setRadiusY(newRadius);\r\n                    }\r\n                    that.bbox = Rect.union(that.bbox, that.ranges.bbox());\r\n                }\r\n            },\r\n            renderRanges: function () {\r\n                var that = this;\r\n                var arc = that.arc;\r\n                var result = new Group();\r\n                var from, to;\r\n                var segments = that.rangeSegments();\r\n                var segmentsCount = segments.length;\r\n                var reverse = that.options.reverse;\r\n                var rangeSize = that.options.rangeSize;\r\n                var rangeDistance = that.options.rangeDistance;\r\n                var segment, rangeRadius, rangeGeom, i;\r\n                if (segmentsCount) {\r\n                    rangeRadius = that.getRangeRadius();\r\n                    that.radius(that.radius() - rangeSize - rangeDistance);\r\n                    for (i = 0; i < segmentsCount; i++) {\r\n                        segment = segments[i];\r\n                        from = that.slotAngle(segment[reverse ? 'to' : 'from']);\r\n                        to = that.slotAngle(segment[!reverse ? 'to' : 'from']);\r\n                        if (to - from !== 0) {\r\n                            rangeGeom = new geo.Arc(arc.center, {\r\n                                radiusX: rangeRadius + rangeSize / 2,\r\n                                radiusY: rangeRadius + rangeSize / 2,\r\n                                startAngle: from,\r\n                                endAngle: to\r\n                            });\r\n                            result.append(new draw.Arc(rangeGeom, {\r\n                                stroke: {\r\n                                    width: rangeSize,\r\n                                    color: segment.color,\r\n                                    opacity: segment.opacity\r\n                                }\r\n                            }));\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            rangeSegments: function () {\r\n                var gauge = this;\r\n                var options = gauge.options;\r\n                var ranges = options.ranges || [];\r\n                var count = ranges.length;\r\n                var range;\r\n                var segmentsCount;\r\n                var defaultColor = options.rangePlaceholderColor;\r\n                var segments = [];\r\n                var segment;\r\n                var min = options.min;\r\n                var max = options.max;\r\n                var i, j;\r\n                function rangeSegment(from, to, color, opacity) {\r\n                    return {\r\n                        from: from,\r\n                        to: to,\r\n                        color: color,\r\n                        opacity: opacity\r\n                    };\r\n                }\r\n                if (count) {\r\n                    segments.push(rangeSegment(min, max, defaultColor));\r\n                    for (i = 0; i < count; i++) {\r\n                        range = getRange(ranges[i], min, max);\r\n                        segmentsCount = segments.length;\r\n                        for (j = 0; j < segmentsCount; j++) {\r\n                            segment = segments[j];\r\n                            if (segment.from <= range.from && range.from <= segment.to) {\r\n                                segments.push(rangeSegment(range.from, range.to, range.color, range.opacity));\r\n                                if (segment.from <= range.to && range.to <= segment.to) {\r\n                                    segments.push(rangeSegment(range.to, segment.to, defaultColor, range.opacity));\r\n                                }\r\n                                segment.to = range.from;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return segments;\r\n            },\r\n            getRangeRadius: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var majorTickSize = options.majorTicks.size;\r\n                var rangeSize = options.rangeSize;\r\n                var rangeDistance = options.rangeDistance;\r\n                var arc = that.arc;\r\n                var r;\r\n                if (options.labels.position === OUTSIDE) {\r\n                    r = arc.getRadiusX() - majorTickSize - rangeDistance - rangeSize;\r\n                } else {\r\n                    r = arc.getRadiusX() - rangeSize;\r\n                }\r\n                return r;\r\n            },\r\n            renderArc: function (center, radius) {\r\n                var that = this;\r\n                var options = that.options;\r\n                var arc = that.arc = new geo.Arc(center, {\r\n                    radiusX: radius,\r\n                    radiusY: radius,\r\n                    startAngle: options.startAngle + GEO_ARC_ADJUST_ANGLE,\r\n                    endAngle: options.endAngle + GEO_ARC_ADJUST_ANGLE\r\n                });\r\n                return arc;\r\n            },\r\n            renderTicks: function () {\r\n                var that = this;\r\n                var arc = that.arc;\r\n                var options = that.options;\r\n                var labelsPosition = options.labels.position;\r\n                var allTicks = new Group();\r\n                var majorTickSize = options.majorTicks.size;\r\n                var minorTickSize = options.minorTicks.size;\r\n                var tickArc = arc.clone();\r\n                var radius = tickArc.getRadiusX();\r\n                function drawTicks(arc, tickAngles, unit, tickOptions) {\r\n                    var ticks = new Group(), center = arc.center, radius = arc.getRadiusX(), i, tickStart, tickEnd, visible = tickOptions.visible;\r\n                    if (visible) {\r\n                        for (i = 0; i < tickAngles.length; i++) {\r\n                            tickStart = arc.pointAt(tickAngles[i]);\r\n                            tickEnd = new Point(center.x + radius - tickOptions.size, center.y).rotate(tickAngles[i], center);\r\n                            ticks.append(new Path({\r\n                                stroke: {\r\n                                    color: tickOptions.color,\r\n                                    width: tickOptions.width\r\n                                }\r\n                            }).moveTo(tickStart).lineTo(tickEnd));\r\n                        }\r\n                    }\r\n                    return ticks;\r\n                }\r\n                that.majorTickAngles = that.tickAngles(arc, options.majorUnit);\r\n                that.majorTicks = drawTicks(tickArc, that.majorTickAngles, options.majorUnit, options.majorTicks);\r\n                allTicks.append(that.majorTicks);\r\n                that._tickDifference = majorTickSize - minorTickSize;\r\n                if (labelsPosition === OUTSIDE) {\r\n                    tickArc.setRadiusX(radius - majorTickSize + minorTickSize).setRadiusY(radius - majorTickSize + minorTickSize);\r\n                }\r\n                that.minorTickAngles = that.normalizeTickAngles(that.tickAngles(arc, options.minorUnit));\r\n                that.minorTicks = drawTicks(tickArc, that.minorTickAngles, options.minorUnit, options.minorTicks, options.majorUnit);\r\n                allTicks.append(that.minorTicks);\r\n                return allTicks;\r\n            },\r\n            normalizeTickAngles: function (angles) {\r\n                var that = this;\r\n                var options = that.options;\r\n                var skip = options.majorUnit / options.minorUnit;\r\n                for (var i = angles.length - 1; i >= 0; i--) {\r\n                    if (i % skip === 0) {\r\n                        angles.splice(i, 1);\r\n                    }\r\n                }\r\n                return angles;\r\n            },\r\n            tickAngles: function (ring, stepValue) {\r\n                var scale = this;\r\n                var options = scale.options;\r\n                var reverse = options.reverse;\r\n                var range = options.max - options.min;\r\n                var angle = ring.endAngle - ring.startAngle;\r\n                var pos = ring.startAngle;\r\n                var tickCount = range / stepValue;\r\n                var step = angle / tickCount;\r\n                var positions = [];\r\n                var i;\r\n                if (reverse) {\r\n                    pos += angle;\r\n                    step = -step;\r\n                }\r\n                for (i = 0; i < tickCount; i++) {\r\n                    positions.push(round(pos, COORD_PRECISION));\r\n                    pos += step;\r\n                }\r\n                if (round(pos) <= ring.endAngle) {\r\n                    positions.push(pos);\r\n                }\r\n                return positions;\r\n            },\r\n            radius: function (radius) {\r\n                var that = this;\r\n                if (radius) {\r\n                    that.arc.setRadiusX(radius).setRadiusY(radius);\r\n                    that.repositionTicks(that.majorTicks.children, that.majorTickAngles);\r\n                    that.repositionTicks(that.minorTicks.children, that.minorTickAngles, true);\r\n                } else {\r\n                    return that.arc.getRadiusX();\r\n                }\r\n            },\r\n            repositionTicks: function (ticks, tickAngles, minor) {\r\n                var that = this;\r\n                var diff = minor ? that._tickDifference || 0 : 0;\r\n                var tickArc = that.arc;\r\n                var radius = tickArc.getRadiusX();\r\n                if (minor && that.options.labels.position === OUTSIDE && diff !== 0) {\r\n                    tickArc = that.arc.clone();\r\n                    tickArc.setRadiusX(radius - diff).setRadiusY(radius - diff);\r\n                }\r\n                for (var i = 0; i < ticks.length; i++) {\r\n                    var newPoint = tickArc.pointAt(tickAngles[i]);\r\n                    var segments = ticks[i].segments;\r\n                    var xDiff = newPoint.x - segments[0].anchor().x;\r\n                    var yDiff = newPoint.y - segments[0].anchor().y;\r\n                    ticks[i].transform(new geo.Transformation().translate(xDiff, yDiff));\r\n                }\r\n            }\r\n        });\r\n        var Gauge = Widget.extend({\r\n            init: function (element, userOptions) {\r\n                var gauge = this;\r\n                var options;\r\n                var themeOptions;\r\n                var themeName;\r\n                var themes = dataviz.ui.themes || {};\r\n                var theme;\r\n                kendo.destroy(element);\r\n                $(element).empty();\r\n                Widget.fn.init.call(gauge, element);\r\n                gauge.wrapper = gauge.element;\r\n                gauge._originalOptions = deepExtend({}, userOptions);\r\n                options = deepExtend({}, gauge.options, userOptions);\r\n                themeName = options.theme;\r\n                theme = themes[themeName] || themes[themeName.toLowerCase()];\r\n                themeOptions = themeName && theme ? theme.gauge : {};\r\n                gauge.options = deepExtend({}, themeOptions, options);\r\n                if ($.isArray(options.pointer)) {\r\n                    for (var i = 0; i < options.pointer.length; i++) {\r\n                        gauge.options.pointer[i] = deepExtend({}, themeOptions.pointer, options.pointer[i]);\r\n                    }\r\n                }\r\n                gauge.element.addClass('k-gauge');\r\n                gauge.surface = gauge._createSurface();\r\n                gauge.redraw();\r\n            },\r\n            options: {\r\n                plotArea: {},\r\n                theme: 'default',\r\n                renderAs: '',\r\n                pointer: {},\r\n                scale: {},\r\n                gaugeArea: {}\r\n            },\r\n            destroy: function () {\r\n                this.surface.destroy();\r\n                Widget.fn.destroy.call(this);\r\n            },\r\n            value: function (value) {\r\n                var that = this;\r\n                var pointer = that.pointers[0];\r\n                if (arguments.length === 0) {\r\n                    return pointer.value();\r\n                }\r\n                pointer.value(value);\r\n                that._setValueOptions(value);\r\n            },\r\n            _draw: function () {\r\n                var surface = this.surface;\r\n                surface.clear();\r\n                surface.draw(this._visuals);\r\n            },\r\n            exportVisual: function () {\r\n                return this._visuals;\r\n            },\r\n            allValues: function (values) {\r\n                var that = this;\r\n                var pointers = that.pointers;\r\n                var allValues = [];\r\n                var i;\r\n                if (arguments.length === 0) {\r\n                    for (i = 0; i < pointers.length; i++) {\r\n                        allValues.push(pointers[i].value());\r\n                    }\r\n                    return allValues;\r\n                }\r\n                if ($.isArray(values)) {\r\n                    for (i = 0; i < values.length; i++) {\r\n                        if (isNumber(values[i])) {\r\n                            pointers[i].value(values[i]);\r\n                        }\r\n                    }\r\n                }\r\n                that._setValueOptions(values);\r\n            },\r\n            _setValueOptions: function (values) {\r\n                var pointers = [].concat(this.options.pointer);\r\n                values = [].concat(values);\r\n                for (var i = 0; i < values.length; i++) {\r\n                    pointers[i].value = values[i];\r\n                }\r\n            },\r\n            _resize: function () {\r\n                var that = this;\r\n                var t = that.options.transitions;\r\n                var i;\r\n                that.options.transitions = false;\r\n                for (i = 0; i < that.pointers.length; i++) {\r\n                    that.pointers[i].options.animation.transitions = false;\r\n                }\r\n                that.redraw();\r\n                that.options.transitions = t;\r\n                for (i = 0; i < that.pointers.length; i++) {\r\n                    that.pointers[i].options.animation.transitions = t;\r\n                }\r\n            },\r\n            redraw: function () {\r\n                var that = this;\r\n                var size = deepExtend(that._getSize(), that.options.gaugeArea);\r\n                var wrapper = new Rect([\r\n                    0,\r\n                    0\r\n                ], [\r\n                    size.width,\r\n                    size.height\r\n                ]);\r\n                var bbox;\r\n                that.surface.clear();\r\n                that.gaugeArea = that._createGaugeArea();\r\n                that.surface.element.css({\r\n                    width: size.width,\r\n                    height: size.height\r\n                });\r\n                that._createModel();\r\n                bbox = _unpad(wrapper.bbox(), that._gaugeAreaMargin);\r\n                that.reflow(bbox);\r\n            },\r\n            _createGaugeArea: function () {\r\n                var that = this;\r\n                var options = that.options.gaugeArea;\r\n                var size = that.surface.size();\r\n                var border = options.border || {};\r\n                var areaGeometry = new Rect([\r\n                    0,\r\n                    0\r\n                ], [\r\n                    size.width,\r\n                    size.height\r\n                ]);\r\n                that._gaugeAreaMargin = options.margin || DEFAULT_MARGIN;\r\n                if (border.width > 0) {\r\n                    areaGeometry = _unpad(areaGeometry, border.width);\r\n                }\r\n                var gaugeArea = Path.fromRect(areaGeometry, {\r\n                    stroke: {\r\n                        color: border.width ? border.color : '',\r\n                        width: border.width,\r\n                        dashType: border.dashType,\r\n                        lineJoin: 'round',\r\n                        lineCap: 'round'\r\n                    },\r\n                    fill: { color: options.background }\r\n                });\r\n                return gaugeArea;\r\n            },\r\n            _createSurface: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var size = that._getSize();\r\n                size = options.gaugeArea ? deepExtend(size, options.gaugeArea) : size;\r\n                var wrap = $('<div></div>').appendTo(that.element).css({\r\n                    width: size.width,\r\n                    height: size.height\r\n                });\r\n                return new draw.Surface.create(wrap, { type: options.renderAs });\r\n            },\r\n            getSize: function () {\r\n                return this._getSize();\r\n            },\r\n            _getSize: function () {\r\n                var that = this;\r\n                var element = that.element;\r\n                var width = element.width();\r\n                var height = element.height();\r\n                if (!width) {\r\n                    width = DEFAULT_WIDTH;\r\n                }\r\n                if (!height) {\r\n                    height = DEFAULT_HEIGHT;\r\n                }\r\n                return {\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            }\r\n        });\r\n        var RadialGauge = Gauge.extend({\r\n            init: function (element, options) {\r\n                var radialGauge = this;\r\n                Gauge.fn.init.call(radialGauge, element, options);\r\n                kendo.notify(radialGauge, dataviz.ui);\r\n            },\r\n            options: {\r\n                name: 'RadialGauge',\r\n                transitions: true,\r\n                gaugeArea: { background: '' }\r\n            },\r\n            reflow: function (bbox) {\r\n                var that = this;\r\n                var pointers = that.pointers;\r\n                that.scale.reflow(bbox);\r\n                that._initialPlotArea = that.scale.bbox;\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow(that.scale.arc);\r\n                    that._initialPlotArea = Rect.union(that._initialPlotArea, pointers[i].bbox);\r\n                }\r\n                that.fitScale(bbox);\r\n                that.alignScale(bbox);\r\n                that._buildVisual(that.gaugeArea, pointers, that.scale);\r\n                that._draw();\r\n            },\r\n            _buildVisual: function (gaugeArea, pointers, scale) {\r\n                var visuals = new Group();\r\n                var current;\r\n                visuals.append(gaugeArea);\r\n                visuals.append(scale.ticks);\r\n                visuals.append(scale.ranges);\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    current = pointers[i];\r\n                    current.render();\r\n                    visuals.append(current.elements);\r\n                    current.value(current.options.value);\r\n                }\r\n                visuals.append(scale.labelElements);\r\n                this._visuals = visuals;\r\n            },\r\n            fitScale: function (bbox) {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var arc = scale.arc;\r\n                var plotAreaBox = that._initialPlotArea;\r\n                var step = math.abs(that.getDiff(plotAreaBox, bbox));\r\n                var min = round(step, COORD_PRECISION);\r\n                var max = round(-step, COORD_PRECISION);\r\n                var minDiff, midDiff, maxDiff, mid, oldDiff;\r\n                var staleFlag = 0;\r\n                var i = 0;\r\n                while (i++ < 100) {\r\n                    staleFlag = oldDiff === maxDiff ? staleFlag + 1 : 0;\r\n                    if (staleFlag > 5) {\r\n                        break;\r\n                    }\r\n                    if (min != mid) {\r\n                        minDiff = that.getPlotBox(min, bbox, arc);\r\n                        if (0 <= minDiff && minDiff <= 2) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (max != mid) {\r\n                        maxDiff = that.getPlotBox(max, bbox, arc);\r\n                        if (0 <= maxDiff && maxDiff <= 2) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (minDiff > 0 && maxDiff > 0) {\r\n                        mid = min * 2;\r\n                    } else if (minDiff < 0 && maxDiff < 0) {\r\n                        mid = max * 2;\r\n                    } else {\r\n                        mid = round((min + max) / 2 || 1, COORD_PRECISION);\r\n                    }\r\n                    midDiff = that.getPlotBox(mid, bbox, arc);\r\n                    if (0 <= midDiff && midDiff <= 2) {\r\n                        break;\r\n                    }\r\n                    oldDiff = maxDiff;\r\n                    if (midDiff > 0) {\r\n                        max = mid;\r\n                        maxDiff = midDiff;\r\n                    } else {\r\n                        min = mid;\r\n                        minDiff = midDiff;\r\n                    }\r\n                }\r\n            },\r\n            getPlotBox: function (step, bbox, arc) {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var pointers = that.pointers;\r\n                var radius = arc.getRadiusX();\r\n                arc = arc.clone();\r\n                arc.setRadiusX(radius + step).setRadiusY(radius + step);\r\n                scale.arc = arc;\r\n                scale.reflow(bbox);\r\n                that.plotBbox = scale.bbox;\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow(arc);\r\n                    that.plotBbox = Rect.union(that.plotBbox, pointers[i].bbox);\r\n                }\r\n                return that.getDiff(that.plotBbox, bbox);\r\n            },\r\n            getDiff: function (plotBox, box) {\r\n                return math.min(box.width() - plotBox.width(), box.height() - plotBox.height());\r\n            },\r\n            alignScale: function (bbox) {\r\n                var that = this;\r\n                var plotBoxCenter = that.plotBbox.center();\r\n                var boxCenter = bbox.center();\r\n                var paddingX = plotBoxCenter.x - boxCenter.x;\r\n                var paddingY = plotBoxCenter.y - boxCenter.y;\r\n                var scale = that.scale;\r\n                var pointers = that.pointers;\r\n                scale.arc.center.x -= paddingX;\r\n                scale.arc.center.y -= paddingY;\r\n                scale.reflow(bbox);\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow(scale.arc);\r\n                    that.plotBbox = Rect.union(scale.bbox, pointers[i].bbox);\r\n                }\r\n            },\r\n            _createModel: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var pointers = options.pointer;\r\n                var scale = that.scale = new RadialScale(options.scale);\r\n                var current;\r\n                that.pointers = [];\r\n                pointers = $.isArray(pointers) ? pointers : [pointers];\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    current = new RadialPointer(scale, deepExtend({}, pointers[i], { animation: { transitions: options.transitions } }));\r\n                    that.pointers.push(current);\r\n                }\r\n            }\r\n        });\r\n        var LinearGauge = Gauge.extend({\r\n            init: function (element, options) {\r\n                var linearGauge = this;\r\n                Gauge.fn.init.call(linearGauge, element, options);\r\n                kendo.notify(linearGauge, dataviz.ui);\r\n            },\r\n            options: {\r\n                name: 'LinearGauge',\r\n                transitions: true,\r\n                gaugeArea: { background: '' },\r\n                scale: { vertical: true }\r\n            },\r\n            reflow: function (bbox) {\r\n                var that = this;\r\n                var pointers = that.pointers;\r\n                var bboxX = bbox.origin.x;\r\n                var bboxY = bbox.origin.y;\r\n                var bbox2D = new dataviz.Box2D(bboxX, bboxX, bboxX + bbox.width(), bboxY + bbox.height());\r\n                that.scale.reflow(bbox2D);\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow();\r\n                }\r\n                that.bbox = that._getBox(bbox2D);\r\n                that._alignElements();\r\n                that._shrinkElements();\r\n                that._buildVisual();\r\n                that._draw();\r\n            },\r\n            _buildVisual: function () {\r\n                var that = this;\r\n                var visuals = new Group();\r\n                var scaleElements = that.scale.render();\r\n                var pointers = that.pointers;\r\n                var current;\r\n                visuals.append(that.gaugeArea);\r\n                visuals.append(scaleElements);\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    current = pointers[i];\r\n                    visuals.append(current.render());\r\n                    current.value(current.options.value);\r\n                }\r\n                that._visuals = visuals;\r\n            },\r\n            _createModel: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var pointers = options.pointer;\r\n                var scale = that.scale = new LinearScale(options.scale);\r\n                var current, currentOptions;\r\n                that.pointers = [];\r\n                pointers = $.isArray(pointers) ? pointers : [pointers];\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    currentOptions = deepExtend({}, pointers[i], { animation: { transitions: options.transitions } });\r\n                    if (currentOptions.shape === ARROW) {\r\n                        current = new ArrowLinearPointer(scale, currentOptions);\r\n                    } else {\r\n                        current = new BarLinearPointer(scale, currentOptions);\r\n                    }\r\n                    that.pointers.push(current);\r\n                }\r\n            },\r\n            _getSize: function () {\r\n                var gauge = this;\r\n                var element = gauge.element;\r\n                var width = element.width();\r\n                var height = element.height();\r\n                var vertical = gauge.options.scale.vertical;\r\n                if (!width) {\r\n                    width = vertical ? DEFAULT_MIN_WIDTH : DEFAULT_WIDTH;\r\n                }\r\n                if (!height) {\r\n                    height = vertical ? DEFAULT_HEIGHT : DEFAULT_MIN_HEIGHT;\r\n                }\r\n                return {\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            },\r\n            _getBox: function (box) {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var pointers = that.pointers;\r\n                var boxCenter = box.center();\r\n                var plotAreaBox = pointers[0].box.clone().wrap(scale.box);\r\n                var size;\r\n                for (var i = 0; i < pointers.length; i++) {\r\n                    plotAreaBox.wrap(pointers[i].box.clone());\r\n                }\r\n                if (scale.options.vertical) {\r\n                    size = plotAreaBox.width() / 2;\r\n                    plotAreaBox = new Box2D(boxCenter.x - size, box.y1, boxCenter.x + size, box.y2);\r\n                } else {\r\n                    size = plotAreaBox.height() / 2;\r\n                    plotAreaBox = new Box2D(box.x1, boxCenter.y - size, box.x2, boxCenter.y + size);\r\n                }\r\n                return plotAreaBox;\r\n            },\r\n            _alignElements: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var pointers = that.pointers;\r\n                var scaleBox = scale.box;\r\n                var box = pointers[0].box.clone().wrap(scale.box);\r\n                var plotAreaBox = that.bbox;\r\n                var diff, i;\r\n                for (i = 0; i < pointers.length; i++) {\r\n                    box.wrap(pointers[i].box.clone());\r\n                }\r\n                if (scale.options.vertical) {\r\n                    diff = plotAreaBox.center().x - box.center().x;\r\n                    scale.reflow(new Box2D(scaleBox.x1 + diff, plotAreaBox.y1, scaleBox.x2 + diff, plotAreaBox.y2));\r\n                } else {\r\n                    diff = plotAreaBox.center().y - box.center().y;\r\n                    scale.reflow(new Box2D(plotAreaBox.x1, scaleBox.y1 + diff, plotAreaBox.x2, scaleBox.y2 + diff));\r\n                }\r\n                for (i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow(that.bbox);\r\n                }\r\n            },\r\n            _shrinkElements: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var pointers = that.pointers;\r\n                var scaleBox = scale.box.clone();\r\n                var pos = scale.options.vertical ? 'y' : 'x';\r\n                var pointerBox = pointers[0].box;\r\n                var i;\r\n                for (i = 0; i < pointers.length; i++) {\r\n                    pointerBox.wrap(pointers[i].box.clone());\r\n                }\r\n                scaleBox[pos + 1] += math.max(scaleBox[pos + 1] - pointerBox[pos + 1], 0);\r\n                scaleBox[pos + 2] -= math.max(pointerBox[pos + 2] - scaleBox[pos + 2], 0);\r\n                scale.reflow(scaleBox);\r\n                for (i = 0; i < pointers.length; i++) {\r\n                    pointers[i].reflow(that.bbox);\r\n                }\r\n            }\r\n        });\r\n        var LinearScale = NumericAxis.extend({\r\n            init: function (options) {\r\n                var scale = this;\r\n                scale.options = deepExtend({}, scale.options, options);\r\n                scale.options = deepExtend({}, scale.options, { labels: { mirror: scale.options.mirror } });\r\n                scale.options.majorUnit = scale.options.majorUnit || autoMajorUnit(scale.options.min, scale.options.max);\r\n                Axis.fn.init.call(scale, scale.options);\r\n                scale.options.minorUnit = scale.options.minorUnit || scale.options.majorUnit / 10;\r\n            },\r\n            options: {\r\n                min: 0,\r\n                max: 50,\r\n                majorTicks: {\r\n                    size: 15,\r\n                    align: INSIDE,\r\n                    color: BLACK,\r\n                    width: DEFAULT_LINE_WIDTH,\r\n                    visible: true\r\n                },\r\n                minorTicks: {\r\n                    size: 10,\r\n                    align: INSIDE,\r\n                    color: BLACK,\r\n                    width: DEFAULT_LINE_WIDTH,\r\n                    visible: true\r\n                },\r\n                line: { width: DEFAULT_LINE_WIDTH },\r\n                labels: {\r\n                    position: INSIDE,\r\n                    padding: 2\r\n                },\r\n                mirror: false,\r\n                _alignLines: false\r\n            },\r\n            render: function () {\r\n                var that = this;\r\n                var elements = that.elements = new Group();\r\n                var labels = that.renderLabels();\r\n                var scaleLine = that.renderLine();\r\n                var scaleTicks = that.renderTicks();\r\n                var ranges = that.renderRanges();\r\n                elements.append(scaleLine, labels, scaleTicks, ranges);\r\n                return elements;\r\n            },\r\n            renderRanges: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var min = options.min;\r\n                var max = options.max;\r\n                var ranges = options.ranges || [];\r\n                var vertical = options.vertical;\r\n                var mirror = options.labels.mirror;\r\n                var elements = new Group();\r\n                var count = ranges.length;\r\n                var rangeSize = options.rangeSize || options.minorTicks.size / 2;\r\n                var range, slot, slotX, slotY, i;\r\n                if (count) {\r\n                    for (i = 0; i < count; i++) {\r\n                        range = getRange(ranges[i], min, max);\r\n                        slot = that.getSlot(range.from, range.to);\r\n                        slotX = vertical ? that.lineBox() : slot;\r\n                        slotY = vertical ? slot : that.lineBox();\r\n                        if (vertical) {\r\n                            slotX.x1 -= rangeSize * (mirror ? -1 : 1);\r\n                        } else {\r\n                            slotY.y2 += rangeSize * (mirror ? -1 : 1);\r\n                        }\r\n                        elements.append(Path.fromRect(new Rect([\r\n                            slotX.x1,\r\n                            slotY.y1\r\n                        ], [\r\n                            slotX.x2 - slotX.x1,\r\n                            slotY.y2 - slotY.y1\r\n                        ]), {\r\n                            fill: {\r\n                                color: range.color,\r\n                                opacity: range.opacity\r\n                            },\r\n                            stroke: {}\r\n                        }));\r\n                    }\r\n                }\r\n                return elements;\r\n            },\r\n            renderLabels: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var labels = that.labels;\r\n                var elements = new Group();\r\n                for (var i = 0; i < labels.length; i++) {\r\n                    elements.append(_buildLabel(labels[i], options.labels));\r\n                }\r\n                return elements;\r\n            },\r\n            renderLine: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var line = options.line;\r\n                var lineBox = that.lineBox();\r\n                var linePath;\r\n                var elements = new Group();\r\n                if (line.width > 0 && line.visible) {\r\n                    linePath = new Path({\r\n                        stroke: {\r\n                            color: line.color,\r\n                            dashType: line.dashType,\r\n                            width: line.width\r\n                        }\r\n                    });\r\n                    linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\r\n                    elements.append(linePath);\r\n                }\r\n                return elements;\r\n            },\r\n            renderTicks: function () {\r\n                var that = this;\r\n                var ticks = new Group();\r\n                var options = that.options;\r\n                var lineBox = that.lineBox();\r\n                var mirror = options.labels.mirror;\r\n                var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\r\n                var tickLineOptions = {\r\n                    _alignLines: options._alignLines,\r\n                    vertical: options.vertical\r\n                };\r\n                function render(tickPositions, tickOptions) {\r\n                    var i, count = tickPositions.length;\r\n                    if (tickOptions.visible) {\r\n                        for (i = tickOptions.skip; i < count; i += tickOptions.step) {\r\n                            if (i % tickOptions.skipUnit === 0) {\r\n                                continue;\r\n                            }\r\n                            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\r\n                            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\r\n                            tickLineOptions.position = tickPositions[i];\r\n                            ticks.append(that.renderAxisTick(tickLineOptions, tickOptions));\r\n                        }\r\n                    }\r\n                }\r\n                render(that.getMajorTickPositions(), options.majorTicks);\r\n                render(that.getMinorTickPositions(), deepExtend({}, { skipUnit: majorUnit / options.minorUnit }, options.minorTicks));\r\n                return ticks;\r\n            },\r\n            renderAxisTick: function (options, tickOptions) {\r\n                var tickX = options.tickX;\r\n                var tickY = options.tickY;\r\n                var position = options.position;\r\n                var start, end, tickPath;\r\n                if (options.vertical) {\r\n                    start = new Point(tickX, position);\r\n                    end = new Point(tickX + tickOptions.size, position);\r\n                } else {\r\n                    start = new Point(position, tickY);\r\n                    end = new Point(position, tickY + tickOptions.size);\r\n                }\r\n                tickPath = new Path({\r\n                    stroke: {\r\n                        color: tickOptions.color,\r\n                        width: tickOptions.width\r\n                    }\r\n                }).moveTo(start).lineTo(end);\r\n                return tickPath;\r\n            }\r\n        });\r\n        var LinearPointer = Pointer.extend({\r\n            init: function (scale, options) {\r\n                var pointer = this;\r\n                Pointer.fn.init.call(pointer, scale, options);\r\n                pointer.options = deepExtend({ track: { visible: defined(options.track) } }, pointer.options);\r\n            },\r\n            options: {\r\n                shape: BAR_POINTER,\r\n                track: { border: { width: 1 } },\r\n                color: BLACK,\r\n                border: { width: 1 },\r\n                opacity: 1,\r\n                margin: getSpacing(3),\r\n                animation: { type: BAR_POINTER },\r\n                visible: true\r\n            },\r\n            reflow: function () {\r\n                var pointer = this;\r\n                var options = pointer.options;\r\n                var scale = pointer.scale;\r\n                var scaleLine = scale.lineBox();\r\n                var trackSize = options.track.size || options.size;\r\n                var pointerHalfSize = options.size / 2;\r\n                var mirror = scale.options.mirror;\r\n                var margin = getSpacing(options.margin);\r\n                var vertical = scale.options.vertical;\r\n                var space = vertical ? margin[mirror ? 'left' : 'right'] : margin[mirror ? 'bottom' : 'top'];\r\n                var pointerBox, pointerRangeBox, trackBox;\r\n                space = mirror ? -space : space;\r\n                if (vertical) {\r\n                    trackBox = new Box2D(scaleLine.x1 + space, scaleLine.y1, scaleLine.x1 + space, scaleLine.y2);\r\n                    if (mirror) {\r\n                        trackBox.x1 -= trackSize;\r\n                    } else {\r\n                        trackBox.x2 += trackSize;\r\n                    }\r\n                    if (options.shape !== BAR_POINTER) {\r\n                        pointerRangeBox = new Box2D(scaleLine.x2 + space, scaleLine.y1 - pointerHalfSize, scaleLine.x2 + space, scaleLine.y2 + pointerHalfSize);\r\n                        pointerBox = pointerRangeBox;\r\n                    }\r\n                } else {\r\n                    trackBox = new Box2D(scaleLine.x1, scaleLine.y1 - space, scaleLine.x2, scaleLine.y1 - space);\r\n                    if (mirror) {\r\n                        trackBox.y2 += trackSize;\r\n                    } else {\r\n                        trackBox.y1 -= trackSize;\r\n                    }\r\n                    if (options.shape !== BAR_POINTER) {\r\n                        pointerRangeBox = new Box2D(scaleLine.x1 - pointerHalfSize, scaleLine.y1 - space, scaleLine.x2 + pointerHalfSize, scaleLine.y1 - space);\r\n                        pointerBox = pointerRangeBox;\r\n                    }\r\n                }\r\n                pointer.trackBox = trackBox;\r\n                pointer.pointerRangeBox = pointerRangeBox;\r\n                pointer.box = pointerBox || trackBox.clone().pad(options.border.width);\r\n            },\r\n            getElementOptions: function () {\r\n                var options = this.options;\r\n                return {\r\n                    fill: {\r\n                        color: options.color,\r\n                        opacity: options.opacity\r\n                    },\r\n                    stroke: defined(options.border) ? {\r\n                        color: options.border.width ? options.border.color || options.color : '',\r\n                        width: options.border.width,\r\n                        dashType: options.border.dashType,\r\n                        opacity: options.opacity\r\n                    } : null\r\n                };\r\n            },\r\n            _margin: function () {\r\n                var pointer = this;\r\n                var options = pointer.options;\r\n                var scale = pointer.scale;\r\n                var mirror = scale.options.mirror;\r\n                var margin = getSpacing(options.margin);\r\n                var vertical = scale.options.vertical;\r\n                var space = vertical ? margin[mirror ? 'left' : 'right'] : margin[mirror ? 'bottom' : 'top'];\r\n                return space;\r\n            }\r\n        });\r\n        var ArrowLinearPointer = LinearPointer.extend({\r\n            init: function (scale, options) {\r\n                LinearPointer.fn.init.call(this, scale, options);\r\n                if (this.options.size === undefined) {\r\n                    this.options.size = this.scale.options.majorTicks.size * 0.6;\r\n                }\r\n            },\r\n            pointerShape: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var scale = that.scale;\r\n                var size = options.size;\r\n                var vertical = scale.options.vertical;\r\n                var halfSize = size / 2;\r\n                var sign = scale.options.mirror ? -1 : 1;\r\n                var reverse = scale.options.reverse;\r\n                var pos, shape;\r\n                if (vertical) {\r\n                    pos = reverse ? 'y2' : 'y1';\r\n                    shape = [\r\n                        new Point(0, 0 - halfSize),\r\n                        new Point(0 - sign * size, 0),\r\n                        new Point(0, 0 + halfSize)\r\n                    ];\r\n                } else {\r\n                    pos = reverse ? 'x1' : 'x2';\r\n                    shape = [\r\n                        new Point(0 - halfSize, 0),\r\n                        new Point(0, 0 + sign * size),\r\n                        new Point(0 + halfSize, 0)\r\n                    ];\r\n                }\r\n                return shape;\r\n            },\r\n            repaint: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var options = that.options;\r\n                var animation = new ArrowLinearPointerAnimation(that.elements, deepExtend(options.animation, {\r\n                    vertical: scale.options.vertical,\r\n                    mirror: scale.options.mirror,\r\n                    margin: that._margin(options.margin),\r\n                    from: scale.getSlot(options._oldValue),\r\n                    to: scale.getSlot(options.value)\r\n                }));\r\n                if (options.animation.transitions === false) {\r\n                    animation.options.duration = 0;\r\n                }\r\n                animation.setup();\r\n                animation.play();\r\n            },\r\n            render: function () {\r\n                var that = this;\r\n                var options = that.options;\r\n                var elements = new Group();\r\n                var scale = that.scale;\r\n                var elementOptions = that.getElementOptions();\r\n                var shape = that.pointerShape(options.value);\r\n                options.animation.type = ARROW_POINTER;\r\n                elements = new Path({\r\n                    stroke: elementOptions.stroke,\r\n                    fill: elementOptions.fill\r\n                }).moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).close();\r\n                var slot = scale.getSlot(options.value);\r\n                elements.transform(geo.transform().translate(slot.x1, slot.y1));\r\n                that.elements = elements;\r\n                return elements;\r\n            }\r\n        });\r\n        var BarLinearPointer = LinearPointer.extend({\r\n            init: function (scale, options) {\r\n                LinearPointer.fn.init.call(this, scale, options);\r\n                if (this.options.size === undefined) {\r\n                    this.options.size = this.scale.options.majorTicks.size * 0.3;\r\n                }\r\n            },\r\n            pointerShape: function (value) {\r\n                var that = this;\r\n                var options = that.options;\r\n                var scale = that.scale;\r\n                var vertical = scale.options.vertical;\r\n                var mirror = scale.options.mirror;\r\n                var dir = mirror == vertical ? -1 : 1;\r\n                var size = options.size * dir;\r\n                var minSlot = scale.getSlot(scale.options.min);\r\n                var slot = scale.getSlot(value);\r\n                var axis = vertical ? Y : X;\r\n                var sizeAxis = vertical ? X : Y;\r\n                var margin = that._margin() * dir;\r\n                var p1 = new Point();\r\n                p1[axis] = minSlot[axis + '1'];\r\n                p1[sizeAxis] = minSlot[sizeAxis + '1'];\r\n                var p2 = new Point();\r\n                p2[axis] = slot[axis + '1'];\r\n                p2[sizeAxis] = slot[sizeAxis + '1'];\r\n                if (vertical) {\r\n                    p1.translate(margin, 0);\r\n                    p2.translate(margin, 0);\r\n                } else {\r\n                    p1.translate(0, margin);\r\n                    p2.translate(0, margin);\r\n                }\r\n                var p3 = p2.clone();\r\n                var p4 = p1.clone();\r\n                if (vertical) {\r\n                    p3.translate(size, 0);\r\n                    p4.translate(size, 0);\r\n                } else {\r\n                    p3.translate(0, size);\r\n                    p4.translate(0, size);\r\n                }\r\n                return [\r\n                    p1,\r\n                    p2,\r\n                    p3,\r\n                    p4\r\n                ];\r\n            },\r\n            repaint: function () {\r\n                var that = this;\r\n                var scale = that.scale;\r\n                var options = that.options;\r\n                var shape = that.pointerShape(options.value);\r\n                var pointerPath = that.elements.children[0];\r\n                var oldShape = that.pointerShape(options._oldValue);\r\n                pointerPath.moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).lineTo(shape[3]).close();\r\n                var animation = new BarLinearPointerAnimation(pointerPath, deepExtend(options.animation, {\r\n                    reverse: scale.options.reverse,\r\n                    vertical: scale.options.vertical,\r\n                    oldPoints: [\r\n                        oldShape[1],\r\n                        oldShape[2]\r\n                    ],\r\n                    newPoints: [\r\n                        shape[1],\r\n                        shape[2]\r\n                    ]\r\n                }));\r\n                if (options.animation.transitions === false) {\r\n                    animation.options.duration = 0;\r\n                }\r\n                animation.setup();\r\n                animation.play();\r\n            },\r\n            render: function () {\r\n                var that = this;\r\n                var group = new Group();\r\n                var elementOptions = that.getElementOptions();\r\n                var pointer = new Path({\r\n                    stroke: elementOptions.stroke,\r\n                    fill: elementOptions.fill\r\n                });\r\n                group.append(pointer);\r\n                that.elements = group;\r\n                return group;\r\n            }\r\n        });\r\n        var RadialPointerAnimation = draw.Animation.extend({\r\n            init: function (element, options) {\r\n                draw.Animation.fn.init.call(this, element, options);\r\n                options = this.options;\r\n                options.duration = math.max(math.abs(options.newAngle - options.oldAngle) / options.duration * 1000, 1);\r\n            },\r\n            options: {\r\n                easing: LINEAR,\r\n                duration: ANGULAR_SPEED\r\n            },\r\n            step: function (pos) {\r\n                var anim = this;\r\n                var options = anim.options;\r\n                var angle = interpolateValue(options.oldAngle, options.newAngle, pos);\r\n                anim.element.transform(geo.transform().rotate(angle, options.center));\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(RADIAL_POINTER, RadialPointerAnimation);\r\n        var ArrowLinearPointerAnimation = draw.Animation.extend({\r\n            options: {\r\n                easing: LINEAR,\r\n                duration: LINEAR_SPEED\r\n            },\r\n            setup: function () {\r\n                var options = this.options;\r\n                var margin = options.margin;\r\n                var from = options.from;\r\n                var to = options.to;\r\n                var axis = options.vertical ? 'x1' : 'y1';\r\n                if (options.mirror == options.vertical) {\r\n                    from[axis] -= margin;\r\n                    to[axis] -= margin;\r\n                } else {\r\n                    from[axis] += margin;\r\n                    to[axis] += margin;\r\n                }\r\n                var fromScale = this.fromScale = new Point(from.x1, from.y1);\r\n                var toScale = this.toScale = new Point(to.x1, to.y1);\r\n                if (options.duration !== 0) {\r\n                    options.duration = math.max(fromScale.distanceTo(toScale) / options.duration * 1000, 1);\r\n                }\r\n            },\r\n            step: function (pos) {\r\n                var translateX = interpolateValue(this.fromScale.x, this.toScale.x, pos);\r\n                var translateY = interpolateValue(this.fromScale.y, this.toScale.y, pos);\r\n                this.element.transform(geo.transform().translate(translateX, translateY));\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(ARROW_POINTER, ArrowLinearPointerAnimation);\r\n        var BarLinearPointerAnimation = draw.Animation.extend({\r\n            options: {\r\n                easing: LINEAR,\r\n                speed: LINEAR_SPEED\r\n            },\r\n            setup: function () {\r\n                var options = this.options;\r\n                var newPoints = options.newPoints;\r\n                var oldPoints = options.oldPoints;\r\n                var axis = this.axis = options.vertical ? Y : X;\r\n                var to = this.to = newPoints[0][axis];\r\n                var from = this.from = oldPoints[0][axis];\r\n                if (options.duration !== 0) {\r\n                    options.duration = math.max(math.abs(to - from) / options.speed * 1000, 1);\r\n                }\r\n                this._set(from);\r\n            },\r\n            step: function (pos) {\r\n                var value = interpolateValue(this.from, this.to, pos);\r\n                this._set(value);\r\n            },\r\n            _set: function (value) {\r\n                var setter = 'set' + this.axis.toUpperCase();\r\n                var points = this.options.newPoints;\r\n                points[0][setter](value);\r\n                points[1][setter](value);\r\n            }\r\n        });\r\n        draw.AnimationFactory.current.register(BAR_POINTER, BarLinearPointerAnimation);\r\n        function _buildLabel(label, options) {\r\n            var labelBox = label.box;\r\n            var textBox = label.children[0].box;\r\n            var border = options.border || {};\r\n            var background = options.background || '';\r\n            var elements = new Group();\r\n            var styleBox, styleGeometry, wrapper;\r\n            wrapper = Path.fromRect(new Rect([\r\n                labelBox.x1,\r\n                labelBox.y1\r\n            ], [\r\n                labelBox.width(),\r\n                labelBox.height()\r\n            ]), { stroke: {} });\r\n            var text = new Text(label.text, new Point(textBox.x1, textBox.y1), {\r\n                font: options.font,\r\n                fill: { color: options.color }\r\n            });\r\n            styleGeometry = _pad(text.bbox().clone(), options.padding);\r\n            styleBox = Path.fromRect(styleGeometry, {\r\n                stroke: {\r\n                    color: border.width ? border.color : '',\r\n                    width: border.width,\r\n                    dashType: border.dashType,\r\n                    lineJoin: 'round',\r\n                    lineCap: 'round'\r\n                },\r\n                fill: { color: background }\r\n            });\r\n            elements.append(wrapper);\r\n            elements.append(styleBox);\r\n            elements.append(text);\r\n            return elements;\r\n        }\r\n        function getRange(range, min, max) {\r\n            var from = defined(range.from) ? range.from : MIN_VALUE;\r\n            var to = defined(range.to) ? range.to : MAX_VALUE;\r\n            range.from = math.max(math.min(to, from), min);\r\n            range.to = math.min(math.max(to, from), max);\r\n            return range;\r\n        }\r\n        function _pad(bbox, value) {\r\n            var origin = bbox.getOrigin();\r\n            var size = bbox.getSize();\r\n            var spacing = getSpacing(value);\r\n            bbox.setOrigin([\r\n                origin.x - spacing.left,\r\n                origin.y - spacing.top\r\n            ]);\r\n            bbox.setSize([\r\n                size.width + (spacing.left + spacing.right),\r\n                size.height + (spacing.top + spacing.bottom)\r\n            ]);\r\n            return bbox;\r\n        }\r\n        function _unpad(bbox, value) {\r\n            var spacing = getSpacing(value);\r\n            spacing.left = -spacing.left;\r\n            spacing.top = -spacing.top;\r\n            spacing.right = -spacing.right;\r\n            spacing.bottom = -spacing.bottom;\r\n            return _pad(bbox, spacing);\r\n        }\r\n        dataviz.ui.plugin(RadialGauge);\r\n        dataviz.ui.plugin(LinearGauge);\r\n        dataviz.ExportMixin.extend(Gauge.fn);\r\n        deepExtend(dataviz, {\r\n            Gauge: Gauge,\r\n            RadialPointer: RadialPointer,\r\n            LinearPointer: LinearPointer,\r\n            ArrowLinearPointer: ArrowLinearPointer,\r\n            BarLinearPointer: BarLinearPointer,\r\n            LinearScale: LinearScale,\r\n            RadialScale: RadialScale,\r\n            LinearGauge: LinearGauge,\r\n            RadialGauge: RadialGauge\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.barcode', [\r\n        'kendo.dataviz.core',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.barcode',\r\n        name: 'Barcode',\r\n        category: 'dataviz',\r\n        description: 'Barcode widget',\r\n        depends: ['dataviz.core']\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, Widget = kendo.ui.Widget, extend = $.extend, deepExtend = kendo.deepExtend, inArray = $.inArray, isPlainObject = $.isPlainObject, draw = kendo.drawing, geom = kendo.geometry, util = kendo.util, defined = util.defined, dataviz = kendo.dataviz, Box2D = dataviz.Box2D, TextBox = dataviz.TextBox, DEFAULT_WIDTH = 300, DEFAULT_HEIGHT = 100, DEFAULT_QUIETZONE_LENGTH = 10, numberRegex = /^\\d+$/, alphanumericRegex = /^[a-z0-9]+$/i, InvalidCharacterErrorTemplate = 'Character \\'{0}\\' is not valid for symbology {1}';\r\n        function getNext(value, index, count) {\r\n            return value.substring(index, index + count);\r\n        }\r\n        var Encoding = kendo.Class.extend({\r\n            init: function (options) {\r\n                this.setOptions(options);\r\n            },\r\n            setOptions: function (options) {\r\n                var that = this;\r\n                that.options = extend({}, that.options, options);\r\n                that.quietZoneLength = that.options.addQuietZone ? 2 * that.options.quietZoneLength : 0;\r\n            },\r\n            encode: function (value, width, height) {\r\n                var that = this;\r\n                if (defined(value)) {\r\n                    value += '';\r\n                }\r\n                that.initValue(value, width, height);\r\n                if (that.options.addQuietZone) {\r\n                    that.addQuietZone();\r\n                }\r\n                that.addData();\r\n                if (that.options.addQuietZone) {\r\n                    that.addQuietZone();\r\n                }\r\n                return {\r\n                    baseUnit: that.baseUnit,\r\n                    pattern: that.pattern\r\n                };\r\n            },\r\n            options: {\r\n                quietZoneLength: DEFAULT_QUIETZONE_LENGTH,\r\n                addQuietZone: true,\r\n                addCheckSum: true\r\n            },\r\n            initValue: function () {\r\n            },\r\n            addQuietZone: function () {\r\n                this.pattern.push(this.options.quietZoneLength || DEFAULT_QUIETZONE_LENGTH);\r\n            },\r\n            addData: function () {\r\n            },\r\n            invalidCharacterError: function (character) {\r\n                throw new Error(kendo.format(InvalidCharacterErrorTemplate, character, this.name));\r\n            }\r\n        });\r\n        var encodings = {};\r\n        var code39Base = Encoding.extend({\r\n            minBaseUnitLength: 0.7,\r\n            addData: function () {\r\n                var that = this, value = that.value;\r\n                that.addStart();\r\n                for (var idx = 0; idx < value.length; idx++) {\r\n                    that.addCharacter(value.charAt(idx));\r\n                }\r\n                if (that.options.addCheckSum) {\r\n                    that.pushCheckSum();\r\n                }\r\n                that.addStop();\r\n                that.prepareValues();\r\n            },\r\n            addCharacter: function (character) {\r\n                var that = this, charData = that.characterMap[character];\r\n                if (!charData) {\r\n                    that.invalidCharacterError(character);\r\n                }\r\n                that.addBase(charData);\r\n            },\r\n            addBase: function () {\r\n            }\r\n        });\r\n        var code39ExtendedBase = {\r\n            addCharacter: function (character) {\r\n                var that = this;\r\n                if (that.characterMap[character]) {\r\n                    that.addBase(that.characterMap[character]);\r\n                } else if (character.charCodeAt(0) > 127) {\r\n                    that.invalidCharacterError(character);\r\n                } else {\r\n                    that.addExtended(character.charCodeAt(0));\r\n                }\r\n            },\r\n            addExtended: function (code) {\r\n                var that = this, patterns;\r\n                for (var i = 0; i < that.extendedMappings.length; i++) {\r\n                    if (patterns = that.extendedMappings[i].call(that, code)) {\r\n                        for (var j = 0; j < patterns.length; j++) {\r\n                            that.addBase(patterns[j]);\r\n                        }\r\n                        that.dataLength += patterns.length - 1;\r\n                        return;\r\n                    }\r\n                }\r\n            },\r\n            extendedMappings: [\r\n                function (code) {\r\n                    if (97 <= code && code <= 122) {\r\n                        var that = this;\r\n                        return [\r\n                            that.characterMap[that.shiftCharacters[0]],\r\n                            that.characterMap[String.fromCharCode(code - 32)]\r\n                        ];\r\n                    }\r\n                },\r\n                function (code) {\r\n                    if (33 <= code && code <= 58) {\r\n                        var that = this;\r\n                        return [\r\n                            that.characterMap[that.shiftCharacters[1]],\r\n                            that.characterMap[String.fromCharCode(code + 32)]\r\n                        ];\r\n                    }\r\n                },\r\n                function (code) {\r\n                    if (1 <= code && code <= 26) {\r\n                        var that = this;\r\n                        return [\r\n                            that.characterMap[that.shiftCharacters[2]],\r\n                            that.characterMap[String.fromCharCode(code + 64)]\r\n                        ];\r\n                    }\r\n                },\r\n                function (code) {\r\n                    var that = this, result, dataCharacter;\r\n                    if (!that.specialAsciiCodes[code]) {\r\n                        dataCharacter = Math.floor(code / 32) * 6 + (code - 27) % 32 + 64;\r\n                        result = [\r\n                            that.characterMap[that.shiftCharacters[3]],\r\n                            that.characterMap[String.fromCharCode(dataCharacter)]\r\n                        ];\r\n                    } else {\r\n                        result = [];\r\n                        for (var i = 0; i < that.specialAsciiCodes[code].length; i++) {\r\n                            result.push(that.characterMap[that.shiftCharacters[3]]);\r\n                            result.push(that.characterMap[that.specialAsciiCodes[code][i]]);\r\n                        }\r\n                    }\r\n                    return result;\r\n                }\r\n            ],\r\n            specialAsciiCodes: {\r\n                '0': ['U'],\r\n                '64': ['V'],\r\n                '96': ['W'],\r\n                '127': [\r\n                    'T',\r\n                    'X',\r\n                    'Y',\r\n                    'Z'\r\n                ]\r\n            },\r\n            shiftValuesAsciiCodes: {\r\n                '39': 36,\r\n                '40': 47,\r\n                '41': 43,\r\n                '42': 37\r\n            },\r\n            characterMap: {\r\n                '+': false,\r\n                '/': false,\r\n                '$': false,\r\n                '%': false\r\n            },\r\n            shiftCharacters: [\r\n                'SHIFT0',\r\n                'SHIFT1',\r\n                'SHIFT2',\r\n                'SHIFT3'\r\n            ]\r\n        };\r\n        encodings.code39 = code39Base.extend({\r\n            name: 'Code 39',\r\n            checkSumMod: 43,\r\n            minRatio: 2.5,\r\n            maxRatio: 3,\r\n            gapWidth: 1,\r\n            splitCharacter: '|',\r\n            initValue: function (value, width, height) {\r\n                var that = this;\r\n                that.width = width;\r\n                that.height = height;\r\n                that.value = value;\r\n                that.dataLength = value.length;\r\n                that.pattern = [];\r\n                that.patternString = '';\r\n            },\r\n            prepareValues: function () {\r\n                var that = this, baseUnit, minBaseUnit = that.minBaseUnitLength, ratio = that.maxRatio, minRatio = that.minRatio, minHeight = Math.max(0.15 * that.width, 24);\r\n                if (that.height < minHeight) {\r\n                    throw new Error('Insufficient Height. The minimum height for value: ' + that.value + ' is: ' + minHeight);\r\n                }\r\n                while ((baseUnit = that.getBaseUnit(ratio)) < minBaseUnit && ratio > minRatio) {\r\n                    ratio = parseFloat((ratio - 0.1).toFixed(1));\r\n                }\r\n                if (baseUnit < minBaseUnit) {\r\n                    var minWidth = Math.ceil(that.getBaseWidth(minRatio) * minBaseUnit);\r\n                    throw new Error('Insufficient width. The minimum width for value: ' + that.value + ' is: ' + minWidth);\r\n                }\r\n                that.ratio = ratio;\r\n                that.baseUnit = baseUnit;\r\n                that.patternString = that.patternString.substring(0, that.patternString.length - 1);\r\n                that.pattern = that.pattern.concat(that.patternString.replace(/ratio/g, ratio).split(that.splitCharacter));\r\n            },\r\n            getBaseUnit: function (ratio) {\r\n                return this.width / this.getBaseWidth(ratio);\r\n            },\r\n            getBaseWidth: function (ratio) {\r\n                var that = this, characterLength = 3 * (ratio + 2);\r\n                return that.quietZoneLength + characterLength * (that.dataLength + 2) + that.gapWidth * (that.dataLength + 1);\r\n            },\r\n            addStart: function () {\r\n                var that = this;\r\n                that.addPattern(that.characterMap.START.pattern);\r\n                that.addCharacterGap();\r\n            },\r\n            addBase: function (character) {\r\n                this.addPattern(character.pattern);\r\n                this.addCharacterGap();\r\n            },\r\n            addStop: function () {\r\n                this.addPattern(this.characterMap.START.pattern);\r\n            },\r\n            addPattern: function (pattern) {\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    this.patternString += this.patternMappings[pattern.charAt(i)];\r\n                }\r\n            },\r\n            addCharacterGap: function () {\r\n                var that = this;\r\n                that.patternString += that.gapWidth + that.splitCharacter;\r\n            },\r\n            patternMappings: {\r\n                'b': '1|',\r\n                'w': '1|',\r\n                'B': 'ratio|',\r\n                'W': 'ratio|'\r\n            },\r\n            characterMap: {\r\n                '0': {\r\n                    'pattern': 'bwbWBwBwb',\r\n                    'value': 0\r\n                },\r\n                '1': {\r\n                    'pattern': 'BwbWbwbwB',\r\n                    'value': 1\r\n                },\r\n                '2': {\r\n                    'pattern': 'bwBWbwbwB',\r\n                    'value': 2\r\n                },\r\n                '3': {\r\n                    'pattern': 'BwBWbwbwb',\r\n                    'value': 3\r\n                },\r\n                '4': {\r\n                    'pattern': 'bwbWBwbwB',\r\n                    'value': 4\r\n                },\r\n                '5': {\r\n                    'pattern': 'BwbWBwbwb',\r\n                    'value': 5\r\n                },\r\n                '6': {\r\n                    'pattern': 'bwBWBwbwb',\r\n                    'value': 6\r\n                },\r\n                '7': {\r\n                    'pattern': 'bwbWbwBwB',\r\n                    'value': 7\r\n                },\r\n                '8': {\r\n                    'pattern': 'BwbWbwBwb',\r\n                    'value': 8\r\n                },\r\n                '9': {\r\n                    'pattern': 'bwBWbwBwb',\r\n                    'value': 9\r\n                },\r\n                'A': {\r\n                    'pattern': 'BwbwbWbwB',\r\n                    'value': 10\r\n                },\r\n                'B': {\r\n                    'pattern': 'bwBwbWbwB',\r\n                    'value': 11\r\n                },\r\n                'C': {\r\n                    'pattern': 'BwBwbWbwb',\r\n                    'value': 12\r\n                },\r\n                'D': {\r\n                    'pattern': 'bwbwBWbwB',\r\n                    'value': 13\r\n                },\r\n                'E': {\r\n                    'pattern': 'BwbwBWbwb',\r\n                    'value': 14\r\n                },\r\n                'F': {\r\n                    'pattern': 'bwBwBWbwb',\r\n                    'value': 15\r\n                },\r\n                'G': {\r\n                    'pattern': 'bwbwbWBwB',\r\n                    'value': 16\r\n                },\r\n                'H': {\r\n                    'pattern': 'BwbwbWBwb',\r\n                    'value': 17\r\n                },\r\n                'I': {\r\n                    'pattern': 'bwBwbWBwb',\r\n                    'value': 18\r\n                },\r\n                'J': {\r\n                    'pattern': 'bwbwBWBwb',\r\n                    'value': 19\r\n                },\r\n                'K': {\r\n                    'pattern': 'BwbwbwbWB',\r\n                    'value': 20\r\n                },\r\n                'L': {\r\n                    'pattern': 'bwBwbwbWB',\r\n                    'value': 21\r\n                },\r\n                'M': {\r\n                    'pattern': 'BwBwbwbWb',\r\n                    'value': 22\r\n                },\r\n                'N': {\r\n                    'pattern': 'bwbwBwbWB',\r\n                    'value': 23\r\n                },\r\n                'O': {\r\n                    'pattern': 'BwbwBwbWb',\r\n                    'value': 24\r\n                },\r\n                'P': {\r\n                    'pattern': 'bwBwBwbWb',\r\n                    'value': 25\r\n                },\r\n                'Q': {\r\n                    'pattern': 'bwbwbwBWB',\r\n                    'value': 26\r\n                },\r\n                'R': {\r\n                    'pattern': 'BwbwbwBWb',\r\n                    'value': 27\r\n                },\r\n                'S': {\r\n                    'pattern': 'bwBwbwBWb',\r\n                    'value': 28\r\n                },\r\n                'T': {\r\n                    'pattern': 'bwbwBwBWb',\r\n                    'value': 29\r\n                },\r\n                'U': {\r\n                    'pattern': 'BWbwbwbwB',\r\n                    'value': 30\r\n                },\r\n                'V': {\r\n                    'pattern': 'bWBwbwbwB',\r\n                    'value': 31\r\n                },\r\n                'W': {\r\n                    'pattern': 'BWBwbwbwb',\r\n                    'value': 32\r\n                },\r\n                'X': {\r\n                    'pattern': 'bWbwBwbwB',\r\n                    'value': 33\r\n                },\r\n                'Y': {\r\n                    'pattern': 'BWbwBwbwb',\r\n                    'value': 34\r\n                },\r\n                'Z': {\r\n                    'pattern': 'bWBwBwbwb',\r\n                    'value': 35\r\n                },\r\n                '-': {\r\n                    'pattern': 'bWbwbwBwB',\r\n                    'value': 36\r\n                },\r\n                '.': {\r\n                    'pattern': 'BWbwbwBwb',\r\n                    'value': 37\r\n                },\r\n                ' ': {\r\n                    'pattern': 'bWBwbwBwb',\r\n                    'value': 38\r\n                },\r\n                '$': {\r\n                    'pattern': 'bWbWbWbwb',\r\n                    'value': 39\r\n                },\r\n                '/': {\r\n                    'pattern': 'bWbWbwbWb',\r\n                    'value': 40\r\n                },\r\n                '+': {\r\n                    'pattern': 'bWbwbWbWb',\r\n                    'value': 41\r\n                },\r\n                '%': {\r\n                    'pattern': 'bwbWbWbWb',\r\n                    'value': 42\r\n                },\r\n                START: { pattern: 'bWbwBwBwb' }\r\n            },\r\n            options: { addCheckSum: false }\r\n        });\r\n        encodings.code39extended = encodings.code39.extend(deepExtend({}, code39ExtendedBase, {\r\n            name: 'Code 39 extended',\r\n            characterMap: {\r\n                SHIFT0: {\r\n                    'pattern': 'bWbwbWbWb',\r\n                    'value': 41\r\n                },\r\n                SHIFT1: {\r\n                    'pattern': 'bWbWbwbWb',\r\n                    'value': 40\r\n                },\r\n                SHIFT2: {\r\n                    'pattern': 'bWbWbWbwb',\r\n                    'value': 39\r\n                },\r\n                SHIFT3: {\r\n                    'pattern': 'bwbWbWbWb',\r\n                    'value': 42\r\n                }\r\n            }\r\n        }));\r\n        encodings.code93 = code39Base.extend({\r\n            name: 'Code 93',\r\n            cCheckSumTotal: 20,\r\n            kCheckSumTotal: 15,\r\n            checkSumMod: 47,\r\n            initValue: function (value, width, height) {\r\n                var that = this;\r\n                that.value = value;\r\n                that.width = width;\r\n                that.height = height;\r\n                that.pattern = [];\r\n                that.values = [];\r\n                that.dataLength = value.length;\r\n            },\r\n            prepareValues: function () {\r\n                var that = this, minHeight = Math.max(0.15 * that.width, 24);\r\n                if (that.height < minHeight) {\r\n                    throw new Error('Insufficient Height');\r\n                }\r\n                that.setBaseUnit();\r\n                if (that.baseUnit < that.minBaseUnitLength) {\r\n                    throw new Error('Insufficient Width');\r\n                }\r\n            },\r\n            setBaseUnit: function () {\r\n                var that = this, checkSumLength = 2;\r\n                that.baseUnit = that.width / (9 * (that.dataLength + 2 + checkSumLength) + that.quietZoneLength + 1);\r\n            },\r\n            addStart: function () {\r\n                var pattern = this.characterMap.START.pattern;\r\n                this.addPattern(pattern);\r\n            },\r\n            addStop: function () {\r\n                var that = this;\r\n                that.addStart();\r\n                that.pattern.push(that.characterMap.TERMINATION_BAR);\r\n            },\r\n            addBase: function (charData) {\r\n                this.addPattern(charData.pattern);\r\n                this.values.push(charData.value);\r\n            },\r\n            pushCheckSum: function () {\r\n                var that = this, checkValues = that._getCheckValues(), charData;\r\n                that.checksum = checkValues.join('');\r\n                for (var i = 0; i < checkValues.length; i++) {\r\n                    charData = that.characterMap[that._findCharacterByValue(checkValues[i])];\r\n                    that.addPattern(charData.pattern);\r\n                }\r\n            },\r\n            _getCheckValues: function () {\r\n                var that = this, values = that.values, length = values.length, wightedSum = 0, cValue, kValue, idx;\r\n                for (idx = length - 1; idx >= 0; idx--) {\r\n                    wightedSum += that.weightedValue(values[idx], length - idx, that.cCheckSumTotal);\r\n                }\r\n                cValue = wightedSum % that.checkSumMod;\r\n                wightedSum = that.weightedValue(cValue, 1, that.kCheckSumTotal);\r\n                for (idx = length - 1; idx >= 0; idx--) {\r\n                    wightedSum += that.weightedValue(values[idx], length - idx + 1, that.kCheckSumTotal);\r\n                }\r\n                kValue = wightedSum % that.checkSumMod;\r\n                return [\r\n                    cValue,\r\n                    kValue\r\n                ];\r\n            },\r\n            _findCharacterByValue: function (value) {\r\n                for (var character in this.characterMap) {\r\n                    if (this.characterMap[character].value === value) {\r\n                        return character;\r\n                    }\r\n                }\r\n            },\r\n            weightedValue: function (value, index, total) {\r\n                return (index % total || total) * value;\r\n            },\r\n            addPattern: function (pattern) {\r\n                var value;\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    value = parseInt(pattern.charAt(i), 10);\r\n                    this.pattern.push(value);\r\n                }\r\n            },\r\n            characterMap: {\r\n                '0': {\r\n                    'pattern': '131112',\r\n                    'value': 0\r\n                },\r\n                '1': {\r\n                    'pattern': '111213',\r\n                    'value': 1\r\n                },\r\n                '2': {\r\n                    'pattern': '111312',\r\n                    'value': 2\r\n                },\r\n                '3': {\r\n                    'pattern': '111411',\r\n                    'value': 3\r\n                },\r\n                '4': {\r\n                    'pattern': '121113',\r\n                    'value': 4\r\n                },\r\n                '5': {\r\n                    'pattern': '121212',\r\n                    'value': 5\r\n                },\r\n                '6': {\r\n                    'pattern': '121311',\r\n                    'value': 6\r\n                },\r\n                '7': {\r\n                    'pattern': '111114',\r\n                    'value': 7\r\n                },\r\n                '8': {\r\n                    'pattern': '131211',\r\n                    'value': 8\r\n                },\r\n                '9': {\r\n                    'pattern': '141111',\r\n                    'value': 9\r\n                },\r\n                'A': {\r\n                    'pattern': '211113',\r\n                    'value': 10\r\n                },\r\n                'B': {\r\n                    'pattern': '211212',\r\n                    'value': 11\r\n                },\r\n                'C': {\r\n                    'pattern': '211311',\r\n                    'value': 12\r\n                },\r\n                'D': {\r\n                    'pattern': '221112',\r\n                    'value': 13\r\n                },\r\n                'E': {\r\n                    'pattern': '221211',\r\n                    'value': 14\r\n                },\r\n                'F': {\r\n                    'pattern': '231111',\r\n                    'value': 15\r\n                },\r\n                'G': {\r\n                    'pattern': '112113',\r\n                    'value': 16\r\n                },\r\n                'H': {\r\n                    'pattern': '112212',\r\n                    'value': 17\r\n                },\r\n                'I': {\r\n                    'pattern': '112311',\r\n                    'value': 18\r\n                },\r\n                'J': {\r\n                    'pattern': '122112',\r\n                    'value': 19\r\n                },\r\n                'K': {\r\n                    'pattern': '132111',\r\n                    'value': 20\r\n                },\r\n                'L': {\r\n                    'pattern': '111123',\r\n                    'value': 21\r\n                },\r\n                'M': {\r\n                    'pattern': '111222',\r\n                    'value': 22\r\n                },\r\n                'N': {\r\n                    'pattern': '111321',\r\n                    'value': 23\r\n                },\r\n                'O': {\r\n                    'pattern': '121122',\r\n                    'value': 24\r\n                },\r\n                'P': {\r\n                    'pattern': '131121',\r\n                    'value': 25\r\n                },\r\n                'Q': {\r\n                    'pattern': '212112',\r\n                    'value': 26\r\n                },\r\n                'R': {\r\n                    'pattern': '212211',\r\n                    'value': 27\r\n                },\r\n                'S': {\r\n                    'pattern': '211122',\r\n                    'value': 28\r\n                },\r\n                'T': {\r\n                    'pattern': '211221',\r\n                    'value': 29\r\n                },\r\n                'U': {\r\n                    'pattern': '221121',\r\n                    'value': 30\r\n                },\r\n                'V': {\r\n                    'pattern': '222111',\r\n                    'value': 31\r\n                },\r\n                'W': {\r\n                    'pattern': '112122',\r\n                    'value': 32\r\n                },\r\n                'X': {\r\n                    'pattern': '112221',\r\n                    'value': 33\r\n                },\r\n                'Y': {\r\n                    'pattern': '122121',\r\n                    'value': 34\r\n                },\r\n                'Z': {\r\n                    'pattern': '123111',\r\n                    'value': 35\r\n                },\r\n                '-': {\r\n                    'pattern': '121131',\r\n                    'value': 36\r\n                },\r\n                '.': {\r\n                    'pattern': '311112',\r\n                    'value': 37\r\n                },\r\n                ' ': {\r\n                    'pattern': '311211',\r\n                    'value': 38\r\n                },\r\n                '$': {\r\n                    'pattern': '321111',\r\n                    'value': 39\r\n                },\r\n                '/': {\r\n                    'pattern': '112131',\r\n                    'value': 40\r\n                },\r\n                '+': {\r\n                    'pattern': '113121',\r\n                    'value': 41\r\n                },\r\n                '%': {\r\n                    'pattern': '211131',\r\n                    'value': 42\r\n                },\r\n                SHIFT0: {\r\n                    'pattern': '122211',\r\n                    'value': 46\r\n                },\r\n                SHIFT1: {\r\n                    'pattern': '311121',\r\n                    'value': 45\r\n                },\r\n                SHIFT2: {\r\n                    'pattern': '121221',\r\n                    'value': 43\r\n                },\r\n                SHIFT3: {\r\n                    'pattern': '312111',\r\n                    'value': 44\r\n                },\r\n                START: { 'pattern': '111141' },\r\n                TERMINATION_BAR: '1'\r\n            }\r\n        });\r\n        encodings.code93extended = encodings.code93.extend(deepExtend({}, code39ExtendedBase, {\r\n            name: 'Code 93 extended',\r\n            pushCheckSum: function () {\r\n                var that = this, checkValues = that._getCheckValues(), value;\r\n                that.checksum = checkValues.join('');\r\n                for (var i = 0; i < checkValues.length; i++) {\r\n                    value = checkValues[i];\r\n                    if (that.shiftValuesAsciiCodes[value]) {\r\n                        that.addExtended(that.shiftValuesAsciiCodes[value]);\r\n                    } else {\r\n                        that.addPattern(that.characterMap[that._findCharacterByValue(value)].pattern);\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        var state128 = kendo.Class.extend({\r\n            init: function (encoding) {\r\n                this.encoding = encoding;\r\n            },\r\n            addStart: function () {\r\n            },\r\n            is: function () {\r\n            },\r\n            move: function () {\r\n            },\r\n            pushState: function () {\r\n            }\r\n        });\r\n        var state128AB = state128.extend({\r\n            FNC4: 'FNC4',\r\n            init: function (encoding, states) {\r\n                var that = this;\r\n                that.encoding = encoding;\r\n                that.states = states;\r\n                that._initMoves(states);\r\n            },\r\n            addStart: function () {\r\n                this.encoding.addPattern(this.START);\r\n            },\r\n            is: function (value, index) {\r\n                var code = value.charCodeAt(index);\r\n                return this.isCode(code);\r\n            },\r\n            move: function (encodingState) {\r\n                var that = this, idx = 0;\r\n                while (!that._moves[idx].call(that, encodingState) && idx < that._moves.length) {\r\n                    idx++;\r\n                }\r\n            },\r\n            pushState: function (encodingState) {\r\n                var that = this, states = that.states, value = encodingState.value, maxLength = value.length, code;\r\n                if (inArray('C', states) >= 0) {\r\n                    var numberMatch = value.substr(encodingState.index).match(/\\d{4,}/g);\r\n                    if (numberMatch) {\r\n                        maxLength = value.indexOf(numberMatch[0], encodingState.index);\r\n                    }\r\n                }\r\n                while ((code = encodingState.value.charCodeAt(encodingState.index)) >= 0 && that.isCode(code) && encodingState.index < maxLength) {\r\n                    that.encoding.addPattern(that.getValue(code));\r\n                    encodingState.index++;\r\n                }\r\n            },\r\n            _initMoves: function (states) {\r\n                var that = this;\r\n                that._moves = [];\r\n                if (inArray(that.FNC4, states) >= 0) {\r\n                    that._moves.push(that._moveFNC);\r\n                }\r\n                if (inArray(that.shiftKey, states) >= 0) {\r\n                    that._moves.push(that._shiftState);\r\n                }\r\n                that._moves.push(that._moveState);\r\n            },\r\n            _moveFNC: function (encodingState) {\r\n                if (encodingState.fnc) {\r\n                    encodingState.fnc = false;\r\n                    return encodingState.previousState == this.key;\r\n                }\r\n            },\r\n            _shiftState: function (encodingState) {\r\n                var that = this;\r\n                if (encodingState.previousState == that.shiftKey && (encodingState.index + 1 >= encodingState.value.length || that.encoding[that.shiftKey].is(encodingState.value, encodingState.index + 1))) {\r\n                    that.encoding.addPattern(that.SHIFT);\r\n                    encodingState.shifted = true;\r\n                    return true;\r\n                }\r\n            },\r\n            _moveState: function () {\r\n                this.encoding.addPattern(this.MOVE);\r\n                return true;\r\n            },\r\n            SHIFT: 98\r\n        });\r\n        var states128 = {};\r\n        states128.A = state128AB.extend({\r\n            key: 'A',\r\n            shiftKey: 'B',\r\n            isCode: function (code) {\r\n                return 0 <= code && code < 96;\r\n            },\r\n            getValue: function (code) {\r\n                if (code < 32) {\r\n                    return code + 64;\r\n                }\r\n                return code - 32;\r\n            },\r\n            MOVE: 101,\r\n            START: 103\r\n        });\r\n        states128.B = state128AB.extend({\r\n            key: 'B',\r\n            shiftKey: 'A',\r\n            isCode: function (code) {\r\n                return 32 <= code && code < 128;\r\n            },\r\n            getValue: function (code) {\r\n                return code - 32;\r\n            },\r\n            MOVE: 100,\r\n            START: 104\r\n        });\r\n        states128.C = state128.extend({\r\n            key: 'C',\r\n            addStart: function () {\r\n                this.encoding.addPattern(this.START);\r\n            },\r\n            is: function (value, index) {\r\n                var next4 = getNext(value, index, 4);\r\n                return (index + 4 <= value.length || value.length == 2) && numberRegex.test(next4);\r\n            },\r\n            move: function () {\r\n                this.encoding.addPattern(this.MOVE);\r\n            },\r\n            pushState: function (encodingState) {\r\n                var code;\r\n                while ((code = getNext(encodingState.value, encodingState.index, 2)) && numberRegex.test(code) && code.length == 2) {\r\n                    this.encoding.addPattern(parseInt(code, 10));\r\n                    encodingState.index += 2;\r\n                }\r\n            },\r\n            getValue: function (code) {\r\n                return code;\r\n            },\r\n            MOVE: 99,\r\n            START: 105\r\n        });\r\n        states128.FNC4 = state128.extend({\r\n            key: 'FNC4',\r\n            dependentStates: [\r\n                'A',\r\n                'B'\r\n            ],\r\n            init: function (encoding, states) {\r\n                this.encoding = encoding;\r\n                this._initSubStates(states);\r\n            },\r\n            addStart: function (encodingState) {\r\n                var code = encodingState.value.charCodeAt(0) - 128, subState = this._getSubState(code);\r\n                this.encoding[subState].addStart();\r\n            },\r\n            is: function (value, index) {\r\n                var code = value.charCodeAt(index);\r\n                return this.isCode(code);\r\n            },\r\n            isCode: function (code) {\r\n                return 128 <= code && code < 256;\r\n            },\r\n            pushState: function (encodingState) {\r\n                var that = this, subState = that._initSubState(encodingState), encoding = that.encoding, length = subState.value.length;\r\n                encodingState.index += length;\r\n                if (length < 3) {\r\n                    var code;\r\n                    for (; subState.index < length; subState.index++) {\r\n                        code = subState.value.charCodeAt(subState.index);\r\n                        subState.state = that._getSubState(code);\r\n                        if (subState.previousState != subState.state) {\r\n                            subState.previousState = subState.state;\r\n                            encoding[subState.state].move(subState);\r\n                        }\r\n                        encoding.addPattern(encoding[subState.state].MOVE);\r\n                        encoding.addPattern(encoding[subState.state].getValue(code));\r\n                    }\r\n                } else {\r\n                    if (subState.state != subState.previousState) {\r\n                        encoding[subState.state].move(subState);\r\n                    }\r\n                    that._pushStart(subState);\r\n                    encoding.pushData(subState, that.subStates);\r\n                    if (encodingState.index < encodingState.value.length) {\r\n                        that._pushStart(subState);\r\n                    }\r\n                }\r\n                encodingState.fnc = true;\r\n                encodingState.state = subState.state;\r\n            },\r\n            _pushStart: function (subState) {\r\n                var that = this;\r\n                that.encoding.addPattern(that.encoding[subState.state].MOVE);\r\n                that.encoding.addPattern(that.encoding[subState.state].MOVE);\r\n            },\r\n            _initSubState: function (encodingState) {\r\n                var that = this, subState = {\r\n                        value: that._getAll(encodingState.value, encodingState.index),\r\n                        index: 0\r\n                    };\r\n                subState.state = that._getSubState(subState.value.charCodeAt(0));\r\n                subState.previousState = encodingState.previousState == that.key ? subState.state : encodingState.previousState;\r\n                return subState;\r\n            },\r\n            _initSubStates: function (states) {\r\n                var that = this;\r\n                that.subStates = [];\r\n                for (var i = 0; i < states.length; i++) {\r\n                    if (inArray(states[i], that.dependentStates) >= 0) {\r\n                        that.subStates.push(states[i]);\r\n                    }\r\n                }\r\n            },\r\n            _getSubState: function (code) {\r\n                var that = this;\r\n                for (var i = 0; i < that.subStates.length; i++) {\r\n                    if (that.encoding[that.subStates[i]].isCode(code)) {\r\n                        return that.subStates[i];\r\n                    }\r\n                }\r\n            },\r\n            _getAll: function (value, index) {\r\n                var code, result = '';\r\n                while ((code = value.charCodeAt(index++)) && this.isCode(code)) {\r\n                    result += String.fromCharCode(code - 128);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n        states128.FNC1 = state128.extend({\r\n            key: 'FNC1',\r\n            startState: 'C',\r\n            dependentStates: [\r\n                'C',\r\n                'B'\r\n            ],\r\n            startAI: '(',\r\n            endAI: ')',\r\n            init: function (encoding, states) {\r\n                this.encoding = encoding;\r\n                this.states = states;\r\n            },\r\n            addStart: function () {\r\n                this.encoding[this.startState].addStart();\r\n            },\r\n            is: function () {\r\n                return inArray(this.key, this.states) >= 0;\r\n            },\r\n            pushState: function (encodingState) {\r\n                var that = this, encoding = that.encoding, value = encodingState.value.replace(/\\s/g, ''), regexSeparators = new RegExp('[' + that.startAI + that.endAI + ']', 'g'), index = encodingState.index, subState = { state: that.startState }, current, nextStart, separatorLength;\r\n                encoding.addPattern(that.START);\r\n                while (true) {\r\n                    subState.index = 0;\r\n                    separatorLength = value.charAt(index) === that.startAI ? 2 : 0;\r\n                    current = separatorLength > 0 ? that.getBySeparator(value, index) : that.getByLength(value, index);\r\n                    if (current.ai.length) {\r\n                        nextStart = index + separatorLength + current.id.length + current.ai.length;\r\n                    } else {\r\n                        nextStart = value.indexOf(that.startAI, index + 1);\r\n                        if (nextStart < 0) {\r\n                            if (index + current.ai.max + current.id.length + separatorLength < value.length) {\r\n                                throw new Error('Separators are required after variable length identifiers');\r\n                            }\r\n                            nextStart = value.length;\r\n                        }\r\n                    }\r\n                    subState.value = value.substring(index, nextStart).replace(regexSeparators, '');\r\n                    that.validate(current, subState.value);\r\n                    encoding.pushData(subState, that.dependentStates);\r\n                    if (nextStart >= value.length) {\r\n                        break;\r\n                    }\r\n                    index = nextStart;\r\n                    if (subState.state != that.startState) {\r\n                        encoding[that.startState].move(subState);\r\n                        subState.state = that.startState;\r\n                    }\r\n                    if (!current.ai.length) {\r\n                        encoding.addPattern(that.START);\r\n                    }\r\n                }\r\n                encodingState.index = encodingState.value.length;\r\n            },\r\n            validate: function (current, value) {\r\n                var code = value.substr(current.id.length), ai = current.ai;\r\n                if (!ai.type && !numberRegex.test(code)) {\r\n                    throw new Error('Application identifier ' + current.id + ' is numeric only but contains non numeric character(s).');\r\n                }\r\n                if (ai.type == 'alphanumeric' && !alphanumericRegex.test(code)) {\r\n                    throw new Error('Application identifier ' + current.id + ' is alphanumeric only but contains non alphanumeric character(s).');\r\n                }\r\n                if (ai.length && ai.length !== code.length) {\r\n                    throw new Error('Application identifier ' + current.id + ' must be ' + ai.length + ' characters long.');\r\n                }\r\n                if (ai.min && ai.min > code.length) {\r\n                    throw new Error('Application identifier ' + current.id + ' must be at least ' + ai.min + ' characters long.');\r\n                }\r\n                if (ai.max && ai.max < code.length) {\r\n                    throw new Error('Application identifier ' + current.id + ' must be at most ' + ai.max + ' characters long.');\r\n                }\r\n            },\r\n            getByLength: function (value, index) {\r\n                var that = this, id, ai;\r\n                for (var i = 2; i <= 4; i++) {\r\n                    id = getNext(value, index, i);\r\n                    ai = that.getAI(id) || that.getAI(id.substring(0, id.length - 1));\r\n                    if (ai) {\r\n                        return {\r\n                            id: id,\r\n                            ai: ai\r\n                        };\r\n                    }\r\n                }\r\n                that.unsupportedAIError(id);\r\n            },\r\n            unsupportedAIError: function (id) {\r\n                throw new Error(kendo.format('\\'{0}\\' is not a supported Application Identifier'), id);\r\n            },\r\n            getBySeparator: function (value, index) {\r\n                var that = this, start = value.indexOf(that.startAI, index), end = value.indexOf(that.endAI, start), id = value.substring(start + 1, end), ai = that.getAI(id) || that.getAI(id.substr(id.length - 1));\r\n                if (!ai) {\r\n                    that.unsupportedAIError(id);\r\n                }\r\n                return {\r\n                    ai: ai,\r\n                    id: id\r\n                };\r\n            },\r\n            getAI: function (id) {\r\n                var ai = this.applicationIdentifiers, multiKey = ai.multiKey;\r\n                if (ai[id]) {\r\n                    return ai[id];\r\n                }\r\n                for (var i = 0; i < multiKey.length; i++) {\r\n                    if (multiKey[i].ids && inArray(id, multiKey[i].ids) >= 0) {\r\n                        return multiKey[i].type;\r\n                    } else if (multiKey[i].ranges) {\r\n                        var ranges = multiKey[i].ranges;\r\n                        for (var j = 0; j < ranges.length; j++) {\r\n                            if (ranges[j][0] <= id && id <= ranges[j][1]) {\r\n                                return multiKey[i].type;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            applicationIdentifiers: {\r\n                '22': {\r\n                    max: 29,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '402': { length: 17 },\r\n                '7004': {\r\n                    max: 4,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '242': {\r\n                    max: 6,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '8020': {\r\n                    max: 25,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '703': {\r\n                    min: 3,\r\n                    max: 30,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '8008': {\r\n                    min: 8,\r\n                    max: 12,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '253': {\r\n                    min: 13,\r\n                    max: 17,\r\n                    type: 'alphanumeric'\r\n                },\r\n                '8003': {\r\n                    min: 14,\r\n                    max: 30,\r\n                    type: 'alphanumeric'\r\n                },\r\n                multiKey: [\r\n                    {\r\n                        ids: [\r\n                            '15',\r\n                            '17',\r\n                            '8005',\r\n                            '8100'\r\n                        ],\r\n                        ranges: [\r\n                            [\r\n                                11,\r\n                                13\r\n                            ],\r\n                            [\r\n                                310,\r\n                                316\r\n                            ],\r\n                            [\r\n                                320,\r\n                                336\r\n                            ],\r\n                            [\r\n                                340,\r\n                                369\r\n                            ]\r\n                        ],\r\n                        type: { length: 6 }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '240',\r\n                            '241',\r\n                            '250',\r\n                            '251',\r\n                            '400',\r\n                            '401',\r\n                            '403',\r\n                            '7002',\r\n                            '8004',\r\n                            '8007',\r\n                            '8110'\r\n                        ],\r\n                        ranges: [[90 - 99]],\r\n                        type: {\r\n                            max: 30,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: ['7001'],\r\n                        ranges: [[\r\n                                410,\r\n                                414\r\n                            ]],\r\n                        type: { length: 13 }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '10',\r\n                            '21',\r\n                            '254',\r\n                            '420',\r\n                            '8002'\r\n                        ],\r\n                        type: {\r\n                            max: 20,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '00',\r\n                            '8006',\r\n                            '8017',\r\n                            '8018'\r\n                        ],\r\n                        type: { length: 18 }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '01',\r\n                            '02',\r\n                            '8001'\r\n                        ],\r\n                        type: { length: 14 }\r\n                    },\r\n                    {\r\n                        ids: ['422'],\r\n                        ranges: [[\r\n                                424,\r\n                                426\r\n                            ]],\r\n                        type: { length: 3 }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '20',\r\n                            '8102'\r\n                        ],\r\n                        type: { length: 2 }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '30',\r\n                            '37'\r\n                        ],\r\n                        type: {\r\n                            max: 8,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '390',\r\n                            '392'\r\n                        ],\r\n                        type: {\r\n                            max: 15,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '421',\r\n                            '423'\r\n                        ],\r\n                        type: {\r\n                            min: 3,\r\n                            max: 15,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '391',\r\n                            '393'\r\n                        ],\r\n                        type: {\r\n                            min: 3,\r\n                            max: 18,\r\n                            type: 'alphanumeric'\r\n                        }\r\n                    },\r\n                    {\r\n                        ids: [\r\n                            '7003',\r\n                            '8101'\r\n                        ],\r\n                        type: { length: 10 }\r\n                    }\r\n                ]\r\n            },\r\n            START: 102\r\n        });\r\n        var code128Base = Encoding.extend({\r\n            init: function (options) {\r\n                Encoding.fn.init.call(this, options);\r\n                this._initStates();\r\n            },\r\n            _initStates: function () {\r\n                var that = this;\r\n                for (var i = 0; i < that.states.length; i++) {\r\n                    that[that.states[i]] = new states128[that.states[i]](that, that.states);\r\n                }\r\n            },\r\n            initValue: function (value, width, height) {\r\n                var that = this;\r\n                that.pattern = [];\r\n                that.value = value;\r\n                that.width = width;\r\n                that.height = height;\r\n                that.checkSum = 0;\r\n                that.totalUnits = 0;\r\n                that.index = 0;\r\n                that.position = 1;\r\n            },\r\n            addData: function () {\r\n                var that = this, encodingState = {\r\n                        value: that.value,\r\n                        index: 0,\r\n                        state: ''\r\n                    };\r\n                if (that.value.length === 0) {\r\n                    return;\r\n                }\r\n                encodingState.state = encodingState.previousState = that.getNextState(encodingState, that.states);\r\n                that.addStart(encodingState);\r\n                that.pushData(encodingState, that.states);\r\n                that.addCheckSum();\r\n                that.addStop();\r\n                that.setBaseUnit();\r\n            },\r\n            pushData: function (encodingState, states) {\r\n                var that = this;\r\n                while (true) {\r\n                    that[encodingState.state].pushState(encodingState);\r\n                    if (encodingState.index >= encodingState.value.length) {\r\n                        break;\r\n                    }\r\n                    if (!encodingState.shifted) {\r\n                        encodingState.previousState = encodingState.state;\r\n                        encodingState.state = that.getNextState(encodingState, states);\r\n                        that[encodingState.state].move(encodingState);\r\n                    } else {\r\n                        var temp = encodingState.state;\r\n                        encodingState.state = encodingState.previousState;\r\n                        encodingState.previousState = temp;\r\n                        encodingState.shifted = false;\r\n                    }\r\n                }\r\n            },\r\n            addStart: function (encodingState) {\r\n                this[encodingState.state].addStart(encodingState);\r\n                this.position = 1;\r\n            },\r\n            addCheckSum: function () {\r\n                var that = this;\r\n                that.checksum = that.checkSum % 103;\r\n                that.addPattern(that.checksum);\r\n            },\r\n            addStop: function () {\r\n                this.addPattern(this.STOP);\r\n            },\r\n            setBaseUnit: function () {\r\n                var that = this;\r\n                that.baseUnit = that.width / (that.totalUnits + that.quietZoneLength);\r\n            },\r\n            addPattern: function (code) {\r\n                var that = this, pattern = that.characterMap[code].toString(), value;\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    value = parseInt(pattern.charAt(i), 10);\r\n                    that.pattern.push(value);\r\n                    that.totalUnits += value;\r\n                }\r\n                that.checkSum += code * that.position++;\r\n            },\r\n            getNextState: function (encodingState, states) {\r\n                for (var i = 0; i < states.length; i++) {\r\n                    if (this[states[i]].is(encodingState.value, encodingState.index)) {\r\n                        return states[i];\r\n                    }\r\n                }\r\n                this.invalidCharacterError(encodingState.value.charAt(encodingState.index));\r\n            },\r\n            characterMap: [\r\n                212222,\r\n                222122,\r\n                222221,\r\n                121223,\r\n                121322,\r\n                131222,\r\n                122213,\r\n                122312,\r\n                132212,\r\n                221213,\r\n                221312,\r\n                231212,\r\n                112232,\r\n                122132,\r\n                122231,\r\n                113222,\r\n                123122,\r\n                123221,\r\n                223211,\r\n                221132,\r\n                221231,\r\n                213212,\r\n                223112,\r\n                312131,\r\n                311222,\r\n                321122,\r\n                321221,\r\n                312212,\r\n                322112,\r\n                322211,\r\n                212123,\r\n                212321,\r\n                232121,\r\n                111323,\r\n                131123,\r\n                131321,\r\n                112313,\r\n                132113,\r\n                132311,\r\n                211313,\r\n                231113,\r\n                231311,\r\n                112133,\r\n                112331,\r\n                132131,\r\n                113123,\r\n                113321,\r\n                133121,\r\n                313121,\r\n                211331,\r\n                231131,\r\n                213113,\r\n                213311,\r\n                213131,\r\n                311123,\r\n                311321,\r\n                331121,\r\n                312113,\r\n                312311,\r\n                332111,\r\n                314111,\r\n                221411,\r\n                431111,\r\n                111224,\r\n                111422,\r\n                121124,\r\n                121421,\r\n                141122,\r\n                141221,\r\n                112214,\r\n                112412,\r\n                122114,\r\n                122411,\r\n                142112,\r\n                142211,\r\n                241211,\r\n                221114,\r\n                413111,\r\n                241112,\r\n                134111,\r\n                111242,\r\n                121142,\r\n                121241,\r\n                114212,\r\n                124112,\r\n                124211,\r\n                411212,\r\n                421112,\r\n                421211,\r\n                212141,\r\n                214121,\r\n                412121,\r\n                111143,\r\n                111341,\r\n                131141,\r\n                114113,\r\n                114311,\r\n                411113,\r\n                411311,\r\n                113141,\r\n                114131,\r\n                311141,\r\n                411131,\r\n                211412,\r\n                211214,\r\n                211232,\r\n                2331112\r\n            ],\r\n            STOP: 106\r\n        });\r\n        encodings.code128a = code128Base.extend({\r\n            name: 'Code 128 A',\r\n            states: ['A']\r\n        });\r\n        encodings.code128b = code128Base.extend({\r\n            name: 'Code 128 B',\r\n            states: ['B']\r\n        });\r\n        encodings.code128c = code128Base.extend({\r\n            name: 'Code 128 C',\r\n            states: ['C']\r\n        });\r\n        encodings.code128 = code128Base.extend({\r\n            name: 'Code 128',\r\n            states: [\r\n                'C',\r\n                'B',\r\n                'A',\r\n                'FNC4'\r\n            ]\r\n        });\r\n        encodings['gs1-128'] = code128Base.extend({\r\n            name: 'Code GS1-128',\r\n            states: [\r\n                'FNC1',\r\n                'C',\r\n                'B'\r\n            ]\r\n        });\r\n        var msiBase = Encoding.extend({\r\n            initValue: function (value, width) {\r\n                var that = this;\r\n                that.pattern = [];\r\n                that.value = value;\r\n                that.checkSumLength = 0;\r\n                that.width = width;\r\n            },\r\n            setBaseUnit: function () {\r\n                var that = this, startStopLength = 7;\r\n                that.baseUnit = that.width / (12 * (that.value.length + that.checkSumLength) + that.quietZoneLength + startStopLength);\r\n            },\r\n            addData: function () {\r\n                var that = this, value = that.value;\r\n                that.addPattern(that.START);\r\n                for (var i = 0; i < value.length; i++) {\r\n                    that.addCharacter(value.charAt(i));\r\n                }\r\n                if (that.options.addCheckSum) {\r\n                    that.addCheckSum();\r\n                }\r\n                that.addPattern(that.STOP);\r\n                that.setBaseUnit();\r\n            },\r\n            addCharacter: function (character) {\r\n                var that = this, pattern = that.characterMap[character];\r\n                if (!pattern) {\r\n                    that.invalidCharacterError(character);\r\n                }\r\n                that.addPattern(pattern);\r\n            },\r\n            addPattern: function (pattern) {\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    this.pattern.push(parseInt(pattern.charAt(i), 10));\r\n                }\r\n            },\r\n            addCheckSum: function () {\r\n                var that = this, checkSumFunction = that.checkSums[that.checkSumType], checkValues;\r\n                checkValues = checkSumFunction.call(that.checkSums, that.value);\r\n                that.checksum = checkValues.join('');\r\n                for (var i = 0; i < checkValues.length; i++) {\r\n                    that.checkSumLength++;\r\n                    that.addPattern(that.characterMap[checkValues[i]]);\r\n                }\r\n            },\r\n            checkSums: {\r\n                Modulo10: function (value) {\r\n                    var checkValues = [\r\n                            0,\r\n                            ''\r\n                        ], odd = value.length % 2, idx, evenSum, oddSum;\r\n                    for (idx = 0; idx < value.length; idx++) {\r\n                        checkValues[(idx + odd) % 2] += parseInt(value.charAt(idx), 10);\r\n                    }\r\n                    oddSum = checkValues[0];\r\n                    evenSum = (checkValues[1] * 2).toString();\r\n                    for (idx = 0; idx < evenSum.length; idx++) {\r\n                        oddSum += parseInt(evenSum.charAt(idx), 10);\r\n                    }\r\n                    return [(10 - oddSum % 10) % 10];\r\n                },\r\n                Modulo11: function (value) {\r\n                    var weightedSum = 0, mod = 11, length = value.length, weight, checkValue;\r\n                    for (var i = 0; i < length; i++) {\r\n                        weight = ((length - i) % 6 || 6) + 1;\r\n                        weightedSum += weight * value.charAt(i);\r\n                    }\r\n                    checkValue = (mod - weightedSum % mod) % mod;\r\n                    if (checkValue != 10) {\r\n                        return [checkValue];\r\n                    }\r\n                    return [\r\n                        1,\r\n                        0\r\n                    ];\r\n                },\r\n                Modulo11Modulo10: function (value) {\r\n                    var checkValues = this.Modulo11(value), mod11Value;\r\n                    mod11Value = value + checkValues[0];\r\n                    return checkValues.concat(this.Modulo10(mod11Value));\r\n                },\r\n                Modulo10Modulo10: function (value) {\r\n                    var checkValues = this.Modulo10(value), mod10Value;\r\n                    mod10Value = value + checkValues[0];\r\n                    return checkValues.concat(this.Modulo10(mod10Value));\r\n                }\r\n            },\r\n            characterMap: [\r\n                '12121212',\r\n                '12121221',\r\n                '12122112',\r\n                '12122121',\r\n                '12211212',\r\n                '12211221',\r\n                '12212112',\r\n                '12212121',\r\n                '21121212',\r\n                '21121221'\r\n            ],\r\n            START: '21',\r\n            STOP: '121',\r\n            checkSumType: ''\r\n        });\r\n        encodings.msimod10 = msiBase.extend({\r\n            name: 'MSI Modulo10',\r\n            checkSumType: 'Modulo10'\r\n        });\r\n        encodings.msimod11 = msiBase.extend({\r\n            name: 'MSI Modulo11',\r\n            checkSumType: 'Modulo11'\r\n        });\r\n        encodings.msimod1110 = msiBase.extend({\r\n            name: 'MSI Modulo11 Modulo10',\r\n            checkSumType: 'Modulo11Modulo10'\r\n        });\r\n        encodings.msimod1010 = msiBase.extend({\r\n            name: 'MSI Modulo10 Modulo10',\r\n            checkSumType: 'Modulo10Modulo10'\r\n        });\r\n        encodings.code11 = Encoding.extend({\r\n            name: 'Code 11',\r\n            cCheckSumTotal: 10,\r\n            kCheckSumTotal: 9,\r\n            kCheckSumMinLength: 10,\r\n            checkSumMod: 11,\r\n            DASH_VALUE: 10,\r\n            DASH: '-',\r\n            START: '112211',\r\n            STOP: '11221',\r\n            initValue: function (value, width) {\r\n                var that = this;\r\n                that.pattern = [];\r\n                that.value = value;\r\n                that.width = width;\r\n                that.totalUnits = 0;\r\n            },\r\n            addData: function () {\r\n                var that = this;\r\n                var value = that.value;\r\n                that.addPattern(that.START);\r\n                for (var i = 0; i < value.length; i++) {\r\n                    that.addCharacter(value.charAt(i));\r\n                }\r\n                if (that.options.addCheckSum) {\r\n                    that.addCheckSum();\r\n                }\r\n                that.addPattern(that.STOP);\r\n                that.setBaseUnit();\r\n            },\r\n            setBaseUnit: function () {\r\n                var that = this;\r\n                that.baseUnit = that.width / (that.totalUnits + that.quietZoneLength);\r\n            },\r\n            addCheckSum: function () {\r\n                var that = this, value = that.value, length = value.length, cValue;\r\n                cValue = that.getWeightedSum(value, length, that.cCheckSumTotal) % that.checkSumMod;\r\n                that.checksum = cValue + '';\r\n                that.addPattern(that.characterMap[cValue]);\r\n                length++;\r\n                if (length >= that.kCheckSumMinLength) {\r\n                    var kValue = (cValue + that.getWeightedSum(value, length, that.kCheckSumTotal)) % that.checkSumMod;\r\n                    that.checksum += kValue;\r\n                    that.addPattern(that.characterMap[kValue]);\r\n                }\r\n            },\r\n            getWeightedSum: function (value, length, total) {\r\n                var weightedSum = 0;\r\n                for (var i = 0; i < value.length; i++) {\r\n                    weightedSum += this.weightedValue(this.getValue(value.charAt(i)), length, i, total);\r\n                }\r\n                return weightedSum;\r\n            },\r\n            weightedValue: function (value, length, index, total) {\r\n                var weight = (length - index) % total || total;\r\n                return weight * value;\r\n            },\r\n            getValue: function (character) {\r\n                var that = this;\r\n                if (!isNaN(character)) {\r\n                    return parseInt(character, 10);\r\n                } else if (character !== that.DASH) {\r\n                    that.invalidCharacterError(character);\r\n                }\r\n                return that.DASH_VALUE;\r\n            },\r\n            addCharacter: function (character) {\r\n                var that = this, value = that.getValue(character), pattern = that.characterMap[value];\r\n                that.addPattern(pattern);\r\n            },\r\n            addPattern: function (pattern) {\r\n                var value;\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    value = parseInt(pattern.charAt(i), 10);\r\n                    this.pattern.push(value);\r\n                    this.totalUnits += value;\r\n                }\r\n            },\r\n            characterMap: [\r\n                '111121',\r\n                '211121',\r\n                '121121',\r\n                '221111',\r\n                '112121',\r\n                '212111',\r\n                '122111',\r\n                '111221',\r\n                '211211',\r\n                '211111',\r\n                '112111'\r\n            ],\r\n            options: { addCheckSum: true }\r\n        });\r\n        encodings.postnet = Encoding.extend({\r\n            name: 'Postnet',\r\n            START: '2',\r\n            VALID_CODE_LENGTHS: [\r\n                5,\r\n                9,\r\n                11\r\n            ],\r\n            DIGIT_SEPARATOR: '-',\r\n            initValue: function (value, width, height) {\r\n                var that = this;\r\n                that.height = height;\r\n                that.width = width;\r\n                that.baseHeight = height / 2;\r\n                that.value = value.replace(new RegExp(that.DIGIT_SEPARATOR, 'g'), '');\r\n                that.pattern = [];\r\n                that.validate(that.value);\r\n                that.checkSum = 0;\r\n                that.setBaseUnit();\r\n            },\r\n            addData: function () {\r\n                var that = this, value = that.value;\r\n                that.addPattern(that.START);\r\n                for (var i = 0; i < value.length; i++) {\r\n                    that.addCharacter(value.charAt(i));\r\n                }\r\n                if (that.options.addCheckSum) {\r\n                    that.addCheckSum();\r\n                }\r\n                that.addPattern(that.START);\r\n                that.pattern.pop();\r\n            },\r\n            addCharacter: function (character) {\r\n                var that = this, pattern = that.characterMap[character];\r\n                that.checkSum += parseInt(character, 10);\r\n                that.addPattern(pattern);\r\n            },\r\n            addCheckSum: function () {\r\n                var that = this;\r\n                that.checksum = (10 - that.checkSum % 10) % 10;\r\n                that.addCharacter(that.checksum);\r\n            },\r\n            setBaseUnit: function () {\r\n                var that = this, startStopLength = 3;\r\n                that.baseUnit = that.width / ((that.value.length + 1) * 10 + startStopLength + that.quietZoneLength);\r\n            },\r\n            validate: function (value) {\r\n                var that = this;\r\n                if (!numberRegex.test(value)) {\r\n                    that.invalidCharacterError(value.match(/[^0-9]/)[0]);\r\n                }\r\n                if (inArray(value.length, that.VALID_CODE_LENGTHS) < 0) {\r\n                    throw new Error('Invalid value length. Valid lengths for the Postnet symbology are ' + that.VALID_CODE_LENGTHS.join(','));\r\n                }\r\n            },\r\n            addPattern: function (pattern) {\r\n                var that = this, y1;\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    y1 = that.height - that.baseHeight * pattern.charAt(i);\r\n                    that.pattern.push({\r\n                        width: 1,\r\n                        y1: y1,\r\n                        y2: that.height\r\n                    });\r\n                    that.pattern.push(1);\r\n                }\r\n            },\r\n            characterMap: [\r\n                '22111',\r\n                '11122',\r\n                '11212',\r\n                '11221',\r\n                '12112',\r\n                '12121',\r\n                '12211',\r\n                '21112',\r\n                '21121',\r\n                '21211'\r\n            ]\r\n        });\r\n        encodings.ean13 = Encoding.extend({\r\n            initValue: function (value, width, height) {\r\n                value += '';\r\n                if (value.length != 12 || /\\D/.test(value)) {\r\n                    throw new Error('The value of the \"EAN13\" encoding should be 12 symbols');\r\n                }\r\n                var that = this;\r\n                that.pattern = [];\r\n                that.options.height = height;\r\n                that.baseUnit = width / (95 + that.quietZoneLength);\r\n                that.value = value;\r\n                that.checksum = that.calculateChecksum();\r\n                that.leftKey = value[0];\r\n                that.leftPart = value.substr(1, 6);\r\n                that.rightPart = value.substr(7) + that.checksum;\r\n            },\r\n            addData: function () {\r\n                var that = this;\r\n                that.addPieces(that.characterMap.start);\r\n                that.addSide(that.leftPart, that.leftKey);\r\n                that.addPieces(that.characterMap.middle);\r\n                that.addSide(that.rightPart);\r\n                that.addPieces(that.characterMap.start);\r\n            },\r\n            addSide: function (leftPart, key) {\r\n                var that = this;\r\n                for (var i = 0; i < leftPart.length; i++) {\r\n                    if (key && parseInt(that.keyTable[key].charAt(i), 10)) {\r\n                        that.addPieces(Array.prototype.slice.call(that.characterMap.digits[leftPart.charAt(i)]).reverse(), true);\r\n                    } else {\r\n                        that.addPieces(that.characterMap.digits[leftPart.charAt(i)], true);\r\n                    }\r\n                }\r\n            },\r\n            addPieces: function (arrToAdd, limitedHeight) {\r\n                var that = this;\r\n                for (var i = 0; i < arrToAdd.length; i++) {\r\n                    if (limitedHeight) {\r\n                        that.pattern.push({\r\n                            y1: 0,\r\n                            y2: that.options.height * 0.95,\r\n                            width: arrToAdd[i]\r\n                        });\r\n                    } else {\r\n                        that.pattern.push(arrToAdd[i]);\r\n                    }\r\n                }\r\n            },\r\n            calculateChecksum: function () {\r\n                var odd = 0, even = 0, value = this.value.split('').reverse().join('');\r\n                for (var i = 0; i < value.length; i++) {\r\n                    if (i % 2) {\r\n                        even += parseInt(value.charAt(i), 10);\r\n                    } else {\r\n                        odd += parseInt(value.charAt(i), 10);\r\n                    }\r\n                }\r\n                var checksum = (10 - (3 * odd + even) % 10) % 10;\r\n                return checksum;\r\n            },\r\n            keyTable: [\r\n                '000000',\r\n                '001011',\r\n                '001101',\r\n                '001110',\r\n                '010011',\r\n                '011001',\r\n                '011100',\r\n                '010101',\r\n                '010110',\r\n                '011010'\r\n            ],\r\n            characterMap: {\r\n                digits: [\r\n                    [\r\n                        3,\r\n                        2,\r\n                        1,\r\n                        1\r\n                    ],\r\n                    [\r\n                        2,\r\n                        2,\r\n                        2,\r\n                        1\r\n                    ],\r\n                    [\r\n                        2,\r\n                        1,\r\n                        2,\r\n                        2\r\n                    ],\r\n                    [\r\n                        1,\r\n                        4,\r\n                        1,\r\n                        1\r\n                    ],\r\n                    [\r\n                        1,\r\n                        1,\r\n                        3,\r\n                        2\r\n                    ],\r\n                    [\r\n                        1,\r\n                        2,\r\n                        3,\r\n                        1\r\n                    ],\r\n                    [\r\n                        1,\r\n                        1,\r\n                        1,\r\n                        4\r\n                    ],\r\n                    [\r\n                        1,\r\n                        3,\r\n                        1,\r\n                        2\r\n                    ],\r\n                    [\r\n                        1,\r\n                        2,\r\n                        1,\r\n                        3\r\n                    ],\r\n                    [\r\n                        3,\r\n                        1,\r\n                        1,\r\n                        2\r\n                    ]\r\n                ],\r\n                start: [\r\n                    1,\r\n                    1,\r\n                    1\r\n                ],\r\n                middle: [\r\n                    1,\r\n                    1,\r\n                    1,\r\n                    1,\r\n                    1\r\n                ]\r\n            }\r\n        });\r\n        encodings.ean8 = encodings.ean13.extend({\r\n            initValue: function (value, width, height) {\r\n                var that = this;\r\n                if (value.length != 7 || /\\D/.test(value)) {\r\n                    throw new Error('Invalid value provided');\r\n                }\r\n                that.value = value;\r\n                that.options.height = height;\r\n                that.checksum = that.calculateChecksum(that.value);\r\n                that.leftPart = that.value.substr(0, 4);\r\n                that.rightPart = that.value.substr(4) + that.checksum;\r\n                that.pattern = [];\r\n                that.baseUnit = width / (67 + that.quietZoneLength);\r\n            }\r\n        });\r\n        var Barcode = Widget.extend({\r\n            init: function (element, options) {\r\n                var that = this;\r\n                Widget.fn.init.call(that, element, options);\r\n                that.element = $(element);\r\n                that.wrapper = that.element;\r\n                that.element.addClass('k-barcode').css('display', 'block');\r\n                that.surfaceWrap = $('<div />').css('position', 'relative').appendTo(this.element);\r\n                that.surface = draw.Surface.create(that.surfaceWrap, { type: that.options.renderAs });\r\n                that.setOptions(options);\r\n            },\r\n            setOptions: function (options) {\r\n                var that = this;\r\n                that.type = (options.type || that.options.type).toLowerCase();\r\n                if (that.type == 'upca') {\r\n                    that.type = 'ean13';\r\n                    options.value = '0' + options.value;\r\n                }\r\n                if (that.type == 'upce') {\r\n                    that.type = 'ean8';\r\n                    options.value = '0' + options.value;\r\n                }\r\n                if (!encodings[that.type]) {\r\n                    throw new Error('Encoding ' + that.type + 'is not supported.');\r\n                }\r\n                that.encoding = new encodings[that.type]();\r\n                that.options = extend(true, that.options, options);\r\n                if (!defined(options.value)) {\r\n                    return;\r\n                }\r\n                that.redraw();\r\n            },\r\n            redraw: function () {\r\n                var size = this._getSize();\r\n                this.surface.clear();\r\n                this.surface.setSize({\r\n                    width: size.width,\r\n                    height: size.height\r\n                });\r\n                this.createVisual();\r\n                this.surface.draw(this.visual);\r\n            },\r\n            getSize: function () {\r\n                return kendo.dimensions(this.element);\r\n            },\r\n            _resize: function () {\r\n                this.redraw();\r\n            },\r\n            createVisual: function () {\r\n                this.visual = this._render();\r\n            },\r\n            _render: function () {\r\n                var that = this, options = that.options, value = options.value, textOptions = options.text, textMargin = dataviz.getSpacing(textOptions.margin), size = that._getSize(), border = options.border || {}, encoding = that.encoding, contentBox = Box2D(0, 0, size.width, size.height).unpad(border.width).unpad(options.padding), barHeight = contentBox.height(), result, textToDisplay, textHeight;\r\n                var visual = new draw.Group();\r\n                that.contentBox = contentBox;\r\n                visual.append(that._getBackground(size));\r\n                if (textOptions.visible) {\r\n                    textHeight = draw.util.measureText(value, { font: textOptions.font }).height;\r\n                    barHeight -= textHeight + textMargin.top + textMargin.bottom;\r\n                }\r\n                result = encoding.encode(value, contentBox.width(), barHeight);\r\n                if (textOptions.visible) {\r\n                    textToDisplay = value;\r\n                    if (options.checksum && defined(encoding.checksum)) {\r\n                        textToDisplay += ' ' + encoding.checksum;\r\n                    }\r\n                    visual.append(that._getText(textToDisplay));\r\n                }\r\n                that.barHeight = barHeight;\r\n                this._bandsGroup = this._getBands(result.pattern, result.baseUnit);\r\n                visual.append(this._bandsGroup);\r\n                return visual;\r\n            },\r\n            exportVisual: function () {\r\n                return this._render();\r\n            },\r\n            _getSize: function () {\r\n                var that = this, element = that.element, size = new geom.Size(DEFAULT_WIDTH, DEFAULT_HEIGHT);\r\n                if (element.width() > 0) {\r\n                    size.width = element.width();\r\n                }\r\n                if (element.height() > 0) {\r\n                    size.height = element.height();\r\n                }\r\n                if (that.options.width) {\r\n                    size.width = that.options.width;\r\n                }\r\n                if (that.options.height) {\r\n                    size.height = that.options.height;\r\n                }\r\n                return size;\r\n            },\r\n            value: function (value) {\r\n                var that = this;\r\n                if (!defined(value)) {\r\n                    return that.options.value;\r\n                }\r\n                that.options.value = value + '';\r\n                that.redraw();\r\n            },\r\n            _getBands: function (pattern, baseUnit) {\r\n                var that = this, contentBox = that.contentBox, position = contentBox.x1, step, item;\r\n                var group = new draw.Group();\r\n                for (var i = 0; i < pattern.length; i++) {\r\n                    item = isPlainObject(pattern[i]) ? pattern[i] : {\r\n                        width: pattern[i],\r\n                        y1: 0,\r\n                        y2: that.barHeight\r\n                    };\r\n                    step = item.width * baseUnit;\r\n                    if (i % 2) {\r\n                        var rect = geom.Rect.fromPoints(new geom.Point(position, item.y1 + contentBox.y1), new geom.Point(position + step, item.y2 + contentBox.y1));\r\n                        var path = draw.Path.fromRect(rect, {\r\n                            fill: { color: that.options.color },\r\n                            stroke: null\r\n                        });\r\n                        group.append(path);\r\n                    }\r\n                    position += step;\r\n                }\r\n                return group;\r\n            },\r\n            _getBackground: function (size) {\r\n                var that = this, options = that.options, border = options.border || {};\r\n                var box = Box2D(0, 0, size.width, size.height).unpad(border.width / 2);\r\n                var path = draw.Path.fromRect(box.toRect(), {\r\n                    fill: { color: options.background },\r\n                    stroke: {\r\n                        color: border.width ? border.color : '',\r\n                        width: border.width,\r\n                        dashType: border.dashType\r\n                    }\r\n                });\r\n                return path;\r\n            },\r\n            _getText: function (value) {\r\n                var that = this, textOptions = that.options.text, text = that._textbox = new TextBox(value, {\r\n                        font: textOptions.font,\r\n                        color: textOptions.color,\r\n                        align: 'center',\r\n                        vAlign: 'bottom',\r\n                        margin: textOptions.margin\r\n                    });\r\n                text.reflow(that.contentBox);\r\n                text.renderVisual();\r\n                return text.visual;\r\n            },\r\n            options: {\r\n                name: 'Barcode',\r\n                renderAs: 'svg',\r\n                value: '',\r\n                type: 'code39',\r\n                checksum: false,\r\n                width: 0,\r\n                height: 0,\r\n                color: 'black',\r\n                background: 'white',\r\n                text: {\r\n                    visible: true,\r\n                    font: '16px Consolas, Monaco, Sans Mono, monospace, sans-serif',\r\n                    color: 'black',\r\n                    margin: {\r\n                        top: 0,\r\n                        bottom: 0,\r\n                        left: 0,\r\n                        right: 0\r\n                    }\r\n                },\r\n                border: {\r\n                    width: 0,\r\n                    dashType: 'solid',\r\n                    color: 'black'\r\n                },\r\n                padding: {\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0\r\n                }\r\n            }\r\n        });\r\n        dataviz.ExportMixin.extend(Barcode.fn);\r\n        dataviz.ui.plugin(Barcode);\r\n        kendo.deepExtend(dataviz, {\r\n            encodings: encodings,\r\n            Encoding: Encoding\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.qrcode', [\r\n        'kendo.dataviz.core',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.qrcode',\r\n        name: 'QRCode',\r\n        category: 'dataviz',\r\n        description: 'QRCode widget.',\r\n        depends: [\r\n            'dataviz.core',\r\n            'drawing'\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, extend = $.extend, draw = kendo.drawing, dataviz = kendo.dataviz, Widget = kendo.ui.Widget, Box2D = dataviz.Box2D, terminator = '0000', NUMERIC = 'numeric', ALPHA_NUMERIC = 'alphanumeric', BYTE = 'byte', powersOfTwo = { '1': 0 }, powersOfTwoResult = { '0': 1 }, generatorPolynomials = [\r\n                [\r\n                    1,\r\n                    0\r\n                ],\r\n                [\r\n                    1,\r\n                    25,\r\n                    0\r\n                ]\r\n            ], irregularAlignmentPatternsStartDistance = {\r\n                15: 20,\r\n                16: 20,\r\n                18: 24,\r\n                19: 24,\r\n                22: 20,\r\n                24: 22,\r\n                26: 24,\r\n                28: 20,\r\n                30: 20,\r\n                31: 24,\r\n                32: 28,\r\n                33: 24,\r\n                36: 18,\r\n                37: 22,\r\n                39: 20,\r\n                40: 24\r\n            }, versionsCodewordsInformation = [\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                1,\r\n                                19\r\n                            ]],\r\n                        totalDataCodewords: 19,\r\n                        errorCodewordsPerBlock: 7\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                1,\r\n                                16\r\n                            ]],\r\n                        totalDataCodewords: 16,\r\n                        errorCodewordsPerBlock: 10\r\n                    },\r\n                    Q: {\r\n                        groups: [[\r\n                                1,\r\n                                13\r\n                            ]],\r\n                        totalDataCodewords: 13,\r\n                        errorCodewordsPerBlock: 13\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                1,\r\n                                9\r\n                            ]],\r\n                        totalDataCodewords: 9,\r\n                        errorCodewordsPerBlock: 17\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                1,\r\n                                34\r\n                            ]],\r\n                        totalDataCodewords: 34,\r\n                        errorCodewordsPerBlock: 10\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                1,\r\n                                28\r\n                            ]],\r\n                        totalDataCodewords: 28,\r\n                        errorCodewordsPerBlock: 16\r\n                    },\r\n                    Q: {\r\n                        groups: [[\r\n                                1,\r\n                                22\r\n                            ]],\r\n                        totalDataCodewords: 22,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                1,\r\n                                16\r\n                            ]],\r\n                        totalDataCodewords: 16,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                1,\r\n                                55\r\n                            ]],\r\n                        totalDataCodewords: 55,\r\n                        errorCodewordsPerBlock: 15\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                1,\r\n                                44\r\n                            ]],\r\n                        totalDataCodewords: 44,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [[\r\n                                2,\r\n                                17\r\n                            ]],\r\n                        totalDataCodewords: 34,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                2,\r\n                                13\r\n                            ]],\r\n                        totalDataCodewords: 26,\r\n                        errorCodewordsPerBlock: 22\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                1,\r\n                                80\r\n                            ]],\r\n                        totalDataCodewords: 80,\r\n                        errorCodewordsPerBlock: 20\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                2,\r\n                                32\r\n                            ]],\r\n                        totalDataCodewords: 64,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    Q: {\r\n                        groups: [[\r\n                                2,\r\n                                24\r\n                            ]],\r\n                        totalDataCodewords: 48,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                4,\r\n                                9\r\n                            ]],\r\n                        totalDataCodewords: 36,\r\n                        errorCodewordsPerBlock: 16\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                1,\r\n                                108\r\n                            ]],\r\n                        totalDataCodewords: 108,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                2,\r\n                                43\r\n                            ]],\r\n                        totalDataCodewords: 86,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                15\r\n                            ],\r\n                            [\r\n                                2,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 62,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                11\r\n                            ],\r\n                            [\r\n                                2,\r\n                                12\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 46,\r\n                        errorCodewordsPerBlock: 22\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                2,\r\n                                68\r\n                            ]],\r\n                        totalDataCodewords: 136,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                4,\r\n                                27\r\n                            ]],\r\n                        totalDataCodewords: 108,\r\n                        errorCodewordsPerBlock: 16\r\n                    },\r\n                    Q: {\r\n                        groups: [[\r\n                                4,\r\n                                19\r\n                            ]],\r\n                        totalDataCodewords: 76,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                4,\r\n                                15\r\n                            ]],\r\n                        totalDataCodewords: 60,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                2,\r\n                                78\r\n                            ]],\r\n                        totalDataCodewords: 156,\r\n                        errorCodewordsPerBlock: 20\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                4,\r\n                                31\r\n                            ]],\r\n                        totalDataCodewords: 124,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                14\r\n                            ],\r\n                            [\r\n                                4,\r\n                                15\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 88,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                13\r\n                            ],\r\n                            [\r\n                                1,\r\n                                14\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 66,\r\n                        errorCodewordsPerBlock: 26\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                2,\r\n                                97\r\n                            ]],\r\n                        totalDataCodewords: 194,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                38\r\n                            ],\r\n                            [\r\n                                2,\r\n                                39\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 154,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                18\r\n                            ],\r\n                            [\r\n                                2,\r\n                                19\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 110,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                14\r\n                            ],\r\n                            [\r\n                                2,\r\n                                15\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 86,\r\n                        errorCodewordsPerBlock: 26\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                2,\r\n                                116\r\n                            ]],\r\n                        totalDataCodewords: 232,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                36\r\n                            ],\r\n                            [\r\n                                2,\r\n                                37\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 182,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                16\r\n                            ],\r\n                            [\r\n                                4,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 132,\r\n                        errorCodewordsPerBlock: 20\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                12\r\n                            ],\r\n                            [\r\n                                4,\r\n                                13\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 100,\r\n                        errorCodewordsPerBlock: 24\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                68\r\n                            ],\r\n                            [\r\n                                2,\r\n                                69\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 274,\r\n                        errorCodewordsPerBlock: 18\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                43\r\n                            ],\r\n                            [\r\n                                1,\r\n                                44\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 216,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                19\r\n                            ],\r\n                            [\r\n                                2,\r\n                                20\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 154,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                15\r\n                            ],\r\n                            [\r\n                                2,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 122,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                4,\r\n                                81\r\n                            ]],\r\n                        totalDataCodewords: 324,\r\n                        errorCodewordsPerBlock: 20\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                1,\r\n                                50\r\n                            ],\r\n                            [\r\n                                4,\r\n                                51\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 254,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                22\r\n                            ],\r\n                            [\r\n                                4,\r\n                                23\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 180,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                12\r\n                            ],\r\n                            [\r\n                                8,\r\n                                13\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 140,\r\n                        errorCodewordsPerBlock: 24\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                92\r\n                            ],\r\n                            [\r\n                                2,\r\n                                93\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 370,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                36\r\n                            ],\r\n                            [\r\n                                2,\r\n                                37\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 290,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                20\r\n                            ],\r\n                            [\r\n                                6,\r\n                                21\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 206,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                7,\r\n                                14\r\n                            ],\r\n                            [\r\n                                4,\r\n                                15\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 158,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                4,\r\n                                107\r\n                            ]],\r\n                        totalDataCodewords: 428,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                37\r\n                            ],\r\n                            [\r\n                                1,\r\n                                38\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 334,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                20\r\n                            ],\r\n                            [\r\n                                4,\r\n                                21\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 244,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                12,\r\n                                11\r\n                            ],\r\n                            [\r\n                                4,\r\n                                12\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 180,\r\n                        errorCodewordsPerBlock: 22\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                115\r\n                            ],\r\n                            [\r\n                                1,\r\n                                116\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 461,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                40\r\n                            ],\r\n                            [\r\n                                5,\r\n                                41\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 365,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                16\r\n                            ],\r\n                            [\r\n                                5,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 261,\r\n                        errorCodewordsPerBlock: 20\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                12\r\n                            ],\r\n                            [\r\n                                5,\r\n                                13\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 197,\r\n                        errorCodewordsPerBlock: 24\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                87\r\n                            ],\r\n                            [\r\n                                1,\r\n                                88\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 523,\r\n                        errorCodewordsPerBlock: 22\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                41\r\n                            ],\r\n                            [\r\n                                5,\r\n                                42\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 415,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                24\r\n                            ],\r\n                            [\r\n                                7,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 295,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                12\r\n                            ],\r\n                            [\r\n                                7,\r\n                                13\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 223,\r\n                        errorCodewordsPerBlock: 24\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                98\r\n                            ],\r\n                            [\r\n                                1,\r\n                                99\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 589,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                7,\r\n                                45\r\n                            ],\r\n                            [\r\n                                3,\r\n                                46\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 453,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                15,\r\n                                19\r\n                            ],\r\n                            [\r\n                                2,\r\n                                20\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 325,\r\n                        errorCodewordsPerBlock: 24\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                15\r\n                            ],\r\n                            [\r\n                                13,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 253,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                1,\r\n                                107\r\n                            ],\r\n                            [\r\n                                5,\r\n                                108\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 647,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                10,\r\n                                46\r\n                            ],\r\n                            [\r\n                                1,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 507,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                1,\r\n                                22\r\n                            ],\r\n                            [\r\n                                15,\r\n                                23\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 367,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                14\r\n                            ],\r\n                            [\r\n                                17,\r\n                                15\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 283,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                120\r\n                            ],\r\n                            [\r\n                                1,\r\n                                121\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 721,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                9,\r\n                                43\r\n                            ],\r\n                            [\r\n                                4,\r\n                                44\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 563,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                17,\r\n                                22\r\n                            ],\r\n                            [\r\n                                1,\r\n                                23\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 397,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                14\r\n                            ],\r\n                            [\r\n                                19,\r\n                                15\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 313,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                113\r\n                            ],\r\n                            [\r\n                                4,\r\n                                114\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 795,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                44\r\n                            ],\r\n                            [\r\n                                11,\r\n                                45\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 627,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                17,\r\n                                21\r\n                            ],\r\n                            [\r\n                                4,\r\n                                22\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 445,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                9,\r\n                                13\r\n                            ],\r\n                            [\r\n                                16,\r\n                                14\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 341,\r\n                        errorCodewordsPerBlock: 26\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                107\r\n                            ],\r\n                            [\r\n                                5,\r\n                                108\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 861,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                41\r\n                            ],\r\n                            [\r\n                                13,\r\n                                42\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 669,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                15,\r\n                                24\r\n                            ],\r\n                            [\r\n                                5,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 485,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                15,\r\n                                15\r\n                            ],\r\n                            [\r\n                                10,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 385,\r\n                        errorCodewordsPerBlock: 28\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                116\r\n                            ],\r\n                            [\r\n                                4,\r\n                                117\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 932,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                17,\r\n                                42\r\n                            ]],\r\n                        totalDataCodewords: 714,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                17,\r\n                                22\r\n                            ],\r\n                            [\r\n                                6,\r\n                                23\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 512,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                16\r\n                            ],\r\n                            [\r\n                                6,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 406,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                111\r\n                            ],\r\n                            [\r\n                                7,\r\n                                112\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1006,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [[\r\n                                17,\r\n                                46\r\n                            ]],\r\n                        totalDataCodewords: 782,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                7,\r\n                                24\r\n                            ],\r\n                            [\r\n                                16,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 568,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [[\r\n                                34,\r\n                                13\r\n                            ]],\r\n                        totalDataCodewords: 442,\r\n                        errorCodewordsPerBlock: 24\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                121\r\n                            ],\r\n                            [\r\n                                5,\r\n                                122\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1094,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                47\r\n                            ],\r\n                            [\r\n                                14,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 860,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                24\r\n                            ],\r\n                            [\r\n                                14,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 614,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                16,\r\n                                15\r\n                            ],\r\n                            [\r\n                                14,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 464,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                117\r\n                            ],\r\n                            [\r\n                                4,\r\n                                118\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1174,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                45\r\n                            ],\r\n                            [\r\n                                14,\r\n                                46\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 914,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                24\r\n                            ],\r\n                            [\r\n                                16,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 664,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                30,\r\n                                16\r\n                            ],\r\n                            [\r\n                                2,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 514,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                106\r\n                            ],\r\n                            [\r\n                                4,\r\n                                107\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1276,\r\n                        errorCodewordsPerBlock: 26\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                47\r\n                            ],\r\n                            [\r\n                                13,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1000,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                7,\r\n                                24\r\n                            ],\r\n                            [\r\n                                22,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 718,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                22,\r\n                                15\r\n                            ],\r\n                            [\r\n                                13,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 538,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                10,\r\n                                114\r\n                            ],\r\n                            [\r\n                                2,\r\n                                115\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1370,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                46\r\n                            ],\r\n                            [\r\n                                4,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1062,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                28,\r\n                                22\r\n                            ],\r\n                            [\r\n                                6,\r\n                                23\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 754,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                33,\r\n                                16\r\n                            ],\r\n                            [\r\n                                4,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 596,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                122\r\n                            ],\r\n                            [\r\n                                4,\r\n                                123\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1468,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                22,\r\n                                45\r\n                            ],\r\n                            [\r\n                                3,\r\n                                46\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1128,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                8,\r\n                                23\r\n                            ],\r\n                            [\r\n                                26,\r\n                                24\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 808,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                12,\r\n                                15\r\n                            ],\r\n                            [\r\n                                28,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 628,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                117\r\n                            ],\r\n                            [\r\n                                10,\r\n                                118\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1531,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                3,\r\n                                45\r\n                            ],\r\n                            [\r\n                                23,\r\n                                46\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1193,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                24\r\n                            ],\r\n                            [\r\n                                31,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 871,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                15\r\n                            ],\r\n                            [\r\n                                31,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 661,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                7,\r\n                                116\r\n                            ],\r\n                            [\r\n                                7,\r\n                                117\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1631,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                21,\r\n                                45\r\n                            ],\r\n                            [\r\n                                7,\r\n                                46\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1267,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                1,\r\n                                23\r\n                            ],\r\n                            [\r\n                                37,\r\n                                24\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 911,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                15\r\n                            ],\r\n                            [\r\n                                26,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 701,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                5,\r\n                                115\r\n                            ],\r\n                            [\r\n                                10,\r\n                                116\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1735,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                47\r\n                            ],\r\n                            [\r\n                                10,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1373,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                15,\r\n                                24\r\n                            ],\r\n                            [\r\n                                25,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 985,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                23,\r\n                                15\r\n                            ],\r\n                            [\r\n                                25,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 745,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                13,\r\n                                115\r\n                            ],\r\n                            [\r\n                                3,\r\n                                116\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1843,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                46\r\n                            ],\r\n                            [\r\n                                29,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1455,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                42,\r\n                                24\r\n                            ],\r\n                            [\r\n                                1,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1033,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                23,\r\n                                15\r\n                            ],\r\n                            [\r\n                                28,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 793,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [[\r\n                                17,\r\n                                115\r\n                            ]],\r\n                        totalDataCodewords: 1955,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                10,\r\n                                46\r\n                            ],\r\n                            [\r\n                                23,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1541,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                10,\r\n                                24\r\n                            ],\r\n                            [\r\n                                35,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1115,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                15\r\n                            ],\r\n                            [\r\n                                35,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 845,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                17,\r\n                                115\r\n                            ],\r\n                            [\r\n                                1,\r\n                                116\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2071,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                14,\r\n                                46\r\n                            ],\r\n                            [\r\n                                21,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1631,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                29,\r\n                                24\r\n                            ],\r\n                            [\r\n                                19,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1171,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                11,\r\n                                15\r\n                            ],\r\n                            [\r\n                                46,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 901,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                13,\r\n                                115\r\n                            ],\r\n                            [\r\n                                6,\r\n                                116\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2191,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                14,\r\n                                46\r\n                            ],\r\n                            [\r\n                                23,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1725,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                44,\r\n                                24\r\n                            ],\r\n                            [\r\n                                7,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1231,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                59,\r\n                                16\r\n                            ],\r\n                            [\r\n                                1,\r\n                                17\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 961,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                12,\r\n                                121\r\n                            ],\r\n                            [\r\n                                7,\r\n                                122\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2306,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                12,\r\n                                47\r\n                            ],\r\n                            [\r\n                                26,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1812,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                39,\r\n                                24\r\n                            ],\r\n                            [\r\n                                14,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1286,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                22,\r\n                                15\r\n                            ],\r\n                            [\r\n                                41,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 986,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                121\r\n                            ],\r\n                            [\r\n                                14,\r\n                                122\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2434,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                6,\r\n                                47\r\n                            ],\r\n                            [\r\n                                34,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1914,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                46,\r\n                                24\r\n                            ],\r\n                            [\r\n                                10,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1354,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                2,\r\n                                15\r\n                            ],\r\n                            [\r\n                                64,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1054,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                17,\r\n                                122\r\n                            ],\r\n                            [\r\n                                4,\r\n                                123\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2566,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                29,\r\n                                46\r\n                            ],\r\n                            [\r\n                                14,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1992,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                49,\r\n                                24\r\n                            ],\r\n                            [\r\n                                10,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1426,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                24,\r\n                                15\r\n                            ],\r\n                            [\r\n                                46,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1096,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                4,\r\n                                122\r\n                            ],\r\n                            [\r\n                                18,\r\n                                123\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2702,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                13,\r\n                                46\r\n                            ],\r\n                            [\r\n                                32,\r\n                                47\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2102,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                48,\r\n                                24\r\n                            ],\r\n                            [\r\n                                14,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1502,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                42,\r\n                                15\r\n                            ],\r\n                            [\r\n                                32,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1142,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                20,\r\n                                117\r\n                            ],\r\n                            [\r\n                                4,\r\n                                118\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2812,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                40,\r\n                                47\r\n                            ],\r\n                            [\r\n                                7,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2216,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                43,\r\n                                24\r\n                            ],\r\n                            [\r\n                                22,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1582,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                10,\r\n                                15\r\n                            ],\r\n                            [\r\n                                67,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1222,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                },\r\n                {\r\n                    L: {\r\n                        groups: [\r\n                            [\r\n                                19,\r\n                                118\r\n                            ],\r\n                            [\r\n                                6,\r\n                                119\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2956,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    M: {\r\n                        groups: [\r\n                            [\r\n                                18,\r\n                                47\r\n                            ],\r\n                            [\r\n                                31,\r\n                                48\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 2334,\r\n                        errorCodewordsPerBlock: 28\r\n                    },\r\n                    Q: {\r\n                        groups: [\r\n                            [\r\n                                34,\r\n                                24\r\n                            ],\r\n                            [\r\n                                34,\r\n                                25\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1666,\r\n                        errorCodewordsPerBlock: 30\r\n                    },\r\n                    H: {\r\n                        groups: [\r\n                            [\r\n                                20,\r\n                                15\r\n                            ],\r\n                            [\r\n                                61,\r\n                                16\r\n                            ]\r\n                        ],\r\n                        totalDataCodewords: 1276,\r\n                        errorCodewordsPerBlock: 30\r\n                    }\r\n                }\r\n            ], finderPattern = [\r\n                1,\r\n                0,\r\n                1,\r\n                1,\r\n                1\r\n            ], alignmentPattern = [\r\n                1,\r\n                0,\r\n                1\r\n            ], errorCorrectionPatterns = {\r\n                L: '01',\r\n                M: '00',\r\n                Q: '11',\r\n                H: '10'\r\n            }, formatMaskPattern = '101010000010010', formatGeneratorPolynomial = '10100110111', versionGeneratorPolynomial = '1111100100101', paddingCodewords = [\r\n                '11101100',\r\n                '00010001'\r\n            ], finderPatternValue = 93, maskPatternConditions = [\r\n                function (row, column) {\r\n                    return (row + column) % 2 === 0;\r\n                },\r\n                function (row) {\r\n                    return row % 2 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return column % 3 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return (row + column) % 3 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return (Math.floor(row / 2) + Math.floor(column / 3)) % 2 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return row * column % 2 + row * column % 3 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return (row * column % 2 + row * column % 3) % 2 === 0;\r\n                },\r\n                function (row, column) {\r\n                    return ((row + column) % 2 + row * column % 3) % 2 === 0;\r\n                }\r\n            ], numberRegex = /^\\d+/, alphaPattern = 'A-Z0-9 $%*+./:-', alphaExclusiveSet = 'A-Z $%*+./:-', alphaRegex = new RegExp('^[' + alphaExclusiveSet + ']+'), alphaNumericRegex = new RegExp('^[' + alphaPattern + ']+'), byteRegex = new RegExp('^[^' + alphaPattern + ']+'), initMinNumericBeforeAlpha = 8, initMinNumericBeforeByte = 5, initMinAlphaBeforeByte = 8, minNumericBeforeAlpha = 17, minNumericBeforeByte = 9, minAlphaBeforeByte = 16, round = Math.round;\r\n        function toDecimal(value) {\r\n            return parseInt(value, 2);\r\n        }\r\n        function toBitsString(value, length) {\r\n            var result = Number(value).toString(2);\r\n            if (result.length < length) {\r\n                result = new Array(length - result.length + 1).join(0) + result;\r\n            }\r\n            return result;\r\n        }\r\n        function splitInto(str, n) {\r\n            var result = [], idx = 0;\r\n            while (idx < str.length) {\r\n                result.push(str.substring(idx, idx + n));\r\n                idx += n;\r\n            }\r\n            return result;\r\n        }\r\n        var QRDataMode = kendo.Class.extend({\r\n            getVersionIndex: function (version) {\r\n                if (version < 10) {\r\n                    return 0;\r\n                } else if (version > 26) {\r\n                    return 2;\r\n                }\r\n                return 1;\r\n            },\r\n            getBitsCharacterCount: function (version) {\r\n                var mode = this;\r\n                return mode.bitsInCharacterCount[mode.getVersionIndex(version || 40)];\r\n            },\r\n            getModeCountString: function (length, version) {\r\n                var mode = this;\r\n                return mode.modeIndicator + toBitsString(length, mode.getBitsCharacterCount(version));\r\n            },\r\n            encode: function () {\r\n            },\r\n            getStringBitsLength: function () {\r\n            },\r\n            getValue: function () {\r\n            },\r\n            modeIndicator: '',\r\n            bitsInCharacterCount: []\r\n        });\r\n        var modes = {};\r\n        modes[NUMERIC] = QRDataMode.extend({\r\n            bitsInCharacterCount: [\r\n                10,\r\n                12,\r\n                14\r\n            ],\r\n            modeIndicator: '0001',\r\n            getValue: function (character) {\r\n                return parseInt(character, 10);\r\n            },\r\n            encode: function (str, version) {\r\n                var mode = this, parts = splitInto(str, 3), result = mode.getModeCountString(str.length, version);\r\n                for (var i = 0; i < parts.length - 1; i++) {\r\n                    result += toBitsString(parts[i], 10);\r\n                }\r\n                return result + toBitsString(parts[i], 1 + 3 * parts[i].length);\r\n            },\r\n            getStringBitsLength: function (inputLength, version) {\r\n                var mod3 = inputLength % 3;\r\n                return 4 + this.getBitsCharacterCount(version) + 10 * Math.floor(inputLength / 3) + 3 * mod3 + (mod3 === 0 ? 0 : 1);\r\n            }\r\n        });\r\n        modes[ALPHA_NUMERIC] = QRDataMode.extend({\r\n            characters: {\r\n                '0': 0,\r\n                '1': 1,\r\n                '2': 2,\r\n                '3': 3,\r\n                '4': 4,\r\n                '5': 5,\r\n                '6': 6,\r\n                '7': 7,\r\n                '8': 8,\r\n                '9': 9,\r\n                'A': 10,\r\n                'B': 11,\r\n                'C': 12,\r\n                'D': 13,\r\n                'E': 14,\r\n                'F': 15,\r\n                'G': 16,\r\n                'H': 17,\r\n                'I': 18,\r\n                'J': 19,\r\n                'K': 20,\r\n                'L': 21,\r\n                'M': 22,\r\n                'N': 23,\r\n                'O': 24,\r\n                'P': 25,\r\n                'Q': 26,\r\n                'R': 27,\r\n                'S': 28,\r\n                'T': 29,\r\n                'U': 30,\r\n                'V': 31,\r\n                'W': 32,\r\n                'X': 33,\r\n                'Y': 34,\r\n                'Z': 35,\r\n                ' ': 36,\r\n                '$': 37,\r\n                '%': 38,\r\n                '*': 39,\r\n                '+': 40,\r\n                '-': 41,\r\n                '.': 42,\r\n                '/': 43,\r\n                ':': 44\r\n            },\r\n            bitsInCharacterCount: [\r\n                9,\r\n                11,\r\n                13\r\n            ],\r\n            modeIndicator: '0010',\r\n            getValue: function (character) {\r\n                return this.characters[character];\r\n            },\r\n            encode: function (str, version) {\r\n                var mode = this, parts = splitInto(str, 2), result = mode.getModeCountString(str.length, version), value;\r\n                for (var i = 0; i < parts.length - 1; i++) {\r\n                    value = 45 * mode.getValue(parts[i].charAt(0)) + mode.getValue(parts[i].charAt(1));\r\n                    result += toBitsString(value, 11);\r\n                }\r\n                value = parts[i].length == 2 ? 45 * mode.getValue(parts[i].charAt(0)) + mode.getValue(parts[i].charAt(1)) : mode.getValue(parts[i].charAt(0));\r\n                return result + toBitsString(value, 1 + 5 * parts[i].length);\r\n            },\r\n            getStringBitsLength: function (inputLength, version) {\r\n                return 4 + this.getBitsCharacterCount(version) + 11 * Math.floor(inputLength / 2) + 6 * (inputLength % 2);\r\n            }\r\n        });\r\n        modes[BYTE] = QRDataMode.extend({\r\n            bitsInCharacterCount: [\r\n                8,\r\n                16,\r\n                16\r\n            ],\r\n            modeIndicator: '0100',\r\n            getValue: function (character) {\r\n                var code = character.charCodeAt(0);\r\n                if (code <= 127 || 160 <= code && code <= 255) {\r\n                    return code;\r\n                } else {\r\n                    throw new Error('Unsupported character: ' + character);\r\n                }\r\n            },\r\n            encode: function (str, version) {\r\n                var mode = this, result = mode.getModeCountString(str.length, version);\r\n                for (var i = 0; i < str.length; i++) {\r\n                    result += toBitsString(mode.getValue(str.charAt(i)), 8);\r\n                }\r\n                return result;\r\n            },\r\n            getStringBitsLength: function (inputLength, version) {\r\n                return 4 + this.getBitsCharacterCount(version) + 8 * inputLength;\r\n            }\r\n        });\r\n        var modeInstances = {};\r\n        for (var mode in modes) {\r\n            modeInstances[mode] = new modes[mode]();\r\n        }\r\n        var FreeCellVisitor = function (matrix) {\r\n            var that = this, row = matrix.length - 1, column = matrix.length - 1, startColumn = column, dir = -1, c = 0;\r\n            that.move = function () {\r\n                row += dir * c;\r\n                c ^= 1;\r\n                column = startColumn - c;\r\n            };\r\n            that.getNextCell = function () {\r\n                while (matrix[row][column] !== undefined) {\r\n                    that.move();\r\n                    if (row < 0 || row >= matrix.length) {\r\n                        dir = -dir;\r\n                        startColumn -= startColumn != 8 ? 2 : 3;\r\n                        column = startColumn;\r\n                        row = dir < 0 ? matrix.length - 1 : 0;\r\n                    }\r\n                }\r\n                return {\r\n                    row: row,\r\n                    column: column\r\n                };\r\n            };\r\n            that.getNextRemainderCell = function () {\r\n                that.move();\r\n                if (matrix[row][column] === undefined) {\r\n                    return {\r\n                        row: row,\r\n                        column: column\r\n                    };\r\n                }\r\n            };\r\n        };\r\n        function fillFunctionCell(matrices, bit, x, y) {\r\n            for (var i = 0; i < matrices.length; i++) {\r\n                matrices[i][x][y] = bit;\r\n            }\r\n        }\r\n        function fillDataCell(matrices, bit, x, y) {\r\n            for (var i = 0; i < maskPatternConditions.length; i++) {\r\n                matrices[i][x][y] = maskPatternConditions[i](x, y) ? bit ^ 1 : parseInt(bit, 10);\r\n            }\r\n        }\r\n        var fillData = function (matrices, blocks) {\r\n            var cellVisitor = new FreeCellVisitor(matrices[0]), block, codewordIdx, cell;\r\n            for (var blockIdx = 0; blockIdx < blocks.length; blockIdx++) {\r\n                block = blocks[blockIdx];\r\n                codewordIdx = 0;\r\n                while (block.length > 0) {\r\n                    for (var i = 0; i < block.length; i++) {\r\n                        for (var j = 0; j < 8; j++) {\r\n                            cell = cellVisitor.getNextCell();\r\n                            fillDataCell(matrices, block[i][codewordIdx].charAt(j), cell.row, cell.column);\r\n                        }\r\n                    }\r\n                    codewordIdx++;\r\n                    while (block[0] && codewordIdx == block[0].length) {\r\n                        block.splice(0, 1);\r\n                    }\r\n                }\r\n            }\r\n            while (cell = cellVisitor.getNextRemainderCell()) {\r\n                fillDataCell(matrices, 0, cell.row, cell.column);\r\n            }\r\n        };\r\n        var padDataString = function (dataString, totalDataCodewords) {\r\n            var dataBitsCount = totalDataCodewords * 8, terminatorIndex = 0, paddingCodewordIndex = 0;\r\n            while (dataString.length < dataBitsCount && terminatorIndex < terminator.length) {\r\n                dataString += terminator.charAt(terminatorIndex++);\r\n            }\r\n            if (dataString.length % 8 !== 0) {\r\n                dataString += new Array(9 - dataString.length % 8).join('0');\r\n            }\r\n            while (dataString.length < dataBitsCount) {\r\n                dataString += paddingCodewords[paddingCodewordIndex];\r\n                paddingCodewordIndex ^= 1;\r\n            }\r\n            return dataString;\r\n        };\r\n        function generatePowersOfTwo() {\r\n            var result;\r\n            for (var power = 1; power < 255; power++) {\r\n                result = powersOfTwoResult[power - 1] * 2;\r\n                if (result > 255) {\r\n                    result = result ^ 285;\r\n                }\r\n                powersOfTwoResult[power] = result;\r\n                powersOfTwo[result] = power;\r\n            }\r\n            result = powersOfTwoResult[power - 1] * 2 ^ 285;\r\n            powersOfTwoResult[power] = result;\r\n            powersOfTwoResult[-1] = 0;\r\n        }\r\n        var xorPolynomials = function (x, y) {\r\n            var result = [], idx = x.length - 2;\r\n            for (var i = idx; i >= 0; i--) {\r\n                result[i] = x[i] ^ y[i];\r\n            }\r\n            return result;\r\n        };\r\n        var multiplyPolynomials = function (x, y) {\r\n            var result = [];\r\n            for (var i = 0; i < x.length; i++) {\r\n                for (var j = 0; j < y.length; j++) {\r\n                    if (result[i + j] === undefined) {\r\n                        result[i + j] = (x[i] + (y[j] >= 0 ? y[j] : 0)) % 255;\r\n                    } else {\r\n                        result[i + j] = powersOfTwo[powersOfTwoResult[result[i + j]] ^ powersOfTwoResult[(x[i] + y[j]) % 255]];\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        function generateGeneratorPolynomials() {\r\n            var maxErrorCorrectionCodeWordsCount = 68;\r\n            for (var idx = 2; idx <= maxErrorCorrectionCodeWordsCount; idx++) {\r\n                var firstPolynomial = generatorPolynomials[idx - 1], secondPolynomial = [\r\n                        idx,\r\n                        0\r\n                    ];\r\n                generatorPolynomials[idx] = multiplyPolynomials(firstPolynomial, secondPolynomial);\r\n            }\r\n        }\r\n        generatePowersOfTwo();\r\n        generateGeneratorPolynomials();\r\n        function multiplyByConstant(polynomial, power) {\r\n            var result = [], idx = polynomial.length - 1;\r\n            do {\r\n                result[idx] = powersOfTwoResult[(polynomial[idx] + power) % 255];\r\n                idx--;\r\n            } while (polynomial[idx] !== undefined);\r\n            return result;\r\n        }\r\n        var generateErrorCodewords = function (data, errorCodewordsCount) {\r\n            var generator = generatorPolynomials[errorCodewordsCount - 1], result = new Array(errorCodewordsCount).concat(data), generatorPolynomial = new Array(result.length - generator.length).concat(generator), steps = data.length, errorCodewords = [], divisor, idx;\r\n            for (idx = 0; idx < steps; idx++) {\r\n                divisor = multiplyByConstant(generatorPolynomial, powersOfTwo[result[result.length - 1]]);\r\n                generatorPolynomial.splice(0, 1);\r\n                result = xorPolynomials(divisor, result);\r\n            }\r\n            for (idx = result.length - 1; idx >= 0; idx--) {\r\n                errorCodewords[errorCodewordsCount - 1 - idx] = toBitsString(result[idx], 8);\r\n            }\r\n            return errorCodewords;\r\n        };\r\n        var getBlocks = function (dataStream, versionCodewordsInformation) {\r\n            var codewordStart = 0, dataBlocks = [], errorBlocks = [], dataBlock, versionGroups = versionCodewordsInformation.groups, blockCodewordsCount, groupBlocksCount, messagePolynomial, codeword;\r\n            for (var groupIdx = 0; groupIdx < versionGroups.length; groupIdx++) {\r\n                groupBlocksCount = versionGroups[groupIdx][0];\r\n                for (var blockIdx = 0; blockIdx < groupBlocksCount; blockIdx++) {\r\n                    blockCodewordsCount = versionGroups[groupIdx][1];\r\n                    dataBlock = [];\r\n                    messagePolynomial = [];\r\n                    for (var codewordIdx = 1; codewordIdx <= blockCodewordsCount; codewordIdx++) {\r\n                        codeword = dataStream.substring(codewordStart, codewordStart + 8);\r\n                        dataBlock.push(codeword);\r\n                        messagePolynomial[blockCodewordsCount - codewordIdx] = toDecimal(codeword);\r\n                        codewordStart += 8;\r\n                    }\r\n                    dataBlocks.push(dataBlock);\r\n                    errorBlocks.push(generateErrorCodewords(messagePolynomial, versionCodewordsInformation.errorCodewordsPerBlock));\r\n                }\r\n            }\r\n            return [\r\n                dataBlocks,\r\n                errorBlocks\r\n            ];\r\n        };\r\n        var chooseMode = function (str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode) {\r\n            var numeric = numberRegex.exec(str), numericMatch = numeric ? numeric[0] : '', alpha = alphaRegex.exec(str), alphaMatch = alpha ? alpha[0] : '', alphaNumeric = alphaNumericRegex.exec(str), alphaNumericMatch = alphaNumeric ? alphaNumeric[0] : '', mode, modeString;\r\n            if (numericMatch && (numericMatch.length >= minNumericBeforeAlpha || str.length == numericMatch.length || numericMatch.length >= minNumericBeforeByte && !alphaNumericRegex.test(str.charAt(numericMatch.length)))) {\r\n                mode = NUMERIC;\r\n                modeString = numericMatch;\r\n            } else if (alphaNumericMatch && (str.length == alphaNumericMatch.length || alphaNumericMatch.length >= minAlphaBeforeByte || previousMode == ALPHA_NUMERIC)) {\r\n                mode = ALPHA_NUMERIC;\r\n                modeString = numericMatch || alphaMatch;\r\n            } else {\r\n                mode = BYTE;\r\n                if (alphaNumericMatch) {\r\n                    modeString = alphaNumericMatch + byteRegex.exec(str.substring(alphaNumericMatch.length))[0];\r\n                } else {\r\n                    modeString = byteRegex.exec(str)[0];\r\n                }\r\n            }\r\n            return {\r\n                mode: mode,\r\n                modeString: modeString\r\n            };\r\n        };\r\n        var getModes = function (str) {\r\n            var modes = [], previousMode, idx = 0;\r\n            modes.push(chooseMode(str, initMinNumericBeforeAlpha, initMinNumericBeforeByte, initMinAlphaBeforeByte, previousMode));\r\n            previousMode = modes[0].mode;\r\n            str = str.substr(modes[0].modeString.length);\r\n            while (str.length > 0) {\r\n                var nextMode = chooseMode(str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode);\r\n                if (nextMode.mode != previousMode) {\r\n                    previousMode = nextMode.mode;\r\n                    modes.push(nextMode);\r\n                    idx++;\r\n                } else {\r\n                    modes[idx].modeString += nextMode.modeString;\r\n                }\r\n                str = str.substr(nextMode.modeString.length);\r\n            }\r\n            return modes;\r\n        };\r\n        var getDataCodewordsCount = function (modes) {\r\n            var length = 0, mode;\r\n            for (var i = 0; i < modes.length; i++) {\r\n                mode = modeInstances[modes[i].mode];\r\n                length += mode.getStringBitsLength(modes[i].modeString.length);\r\n            }\r\n            return Math.ceil(length / 8);\r\n        };\r\n        var getVersion = function (dataCodewordsCount, errorCorrectionLevel) {\r\n            var x = 0, y = versionsCodewordsInformation.length - 1, version = Math.floor(versionsCodewordsInformation.length / 2);\r\n            do {\r\n                if (dataCodewordsCount < versionsCodewordsInformation[version][errorCorrectionLevel].totalDataCodewords) {\r\n                    y = version;\r\n                } else {\r\n                    x = version;\r\n                }\r\n                version = x + Math.floor((y - x) / 2);\r\n            } while (y - x > 1);\r\n            if (dataCodewordsCount <= versionsCodewordsInformation[x][errorCorrectionLevel].totalDataCodewords) {\r\n                return version + 1;\r\n            }\r\n            return y + 1;\r\n        };\r\n        var getDataString = function (modes, version) {\r\n            var dataString = '', mode;\r\n            for (var i = 0; i < modes.length; i++) {\r\n                mode = modeInstances[modes[i].mode];\r\n                dataString += mode.encode(modes[i].modeString, version);\r\n            }\r\n            return dataString;\r\n        };\r\n        var encodeFormatInformation = function (format) {\r\n            var formatNumber = toDecimal(format), encodedString, result = '';\r\n            if (formatNumber === 0) {\r\n                return '101010000010010';\r\n            } else {\r\n                encodedString = encodeBCH(toDecimal(format), formatGeneratorPolynomial, 15);\r\n            }\r\n            for (var i = 0; i < encodedString.length; i++) {\r\n                result += encodedString.charAt(i) ^ formatMaskPattern.charAt(i);\r\n            }\r\n            return result;\r\n        };\r\n        var encodeBCH = function (value, generatorPolynomial, codeLength) {\r\n            var generatorNumber = toDecimal(generatorPolynomial), polynomialLength = generatorPolynomial.length - 1, valueNumber = value << polynomialLength, length = codeLength - polynomialLength, valueString = toBitsString(value, length), result = dividePolynomials(valueNumber, generatorNumber);\r\n            result = valueString + toBitsString(result, polynomialLength);\r\n            return result;\r\n        };\r\n        var dividePolynomials = function (numberX, numberY) {\r\n            var yLength = numberY.toString(2).length, xLength = numberX.toString(2).length;\r\n            do {\r\n                numberX ^= numberY << xLength - yLength;\r\n                xLength = numberX.toString(2).length;\r\n            } while (xLength >= yLength);\r\n            return numberX;\r\n        };\r\n        function getNumberAt(str, idx) {\r\n            return parseInt(str.charAt(idx), 10);\r\n        }\r\n        var initMatrices = function (version) {\r\n            var matrices = [], modules = 17 + 4 * version;\r\n            for (var i = 0; i < maskPatternConditions.length; i++) {\r\n                matrices[i] = new Array(modules);\r\n                for (var j = 0; j < modules; j++) {\r\n                    matrices[i][j] = new Array(modules);\r\n                }\r\n            }\r\n            return matrices;\r\n        };\r\n        var addFormatInformation = function (matrices, formatString) {\r\n            var matrix = matrices[0], x, y, idx = 0, length = formatString.length;\r\n            for (x = 0, y = 8; x <= 8; x++) {\r\n                if (x !== 6) {\r\n                    fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\r\n                }\r\n            }\r\n            for (x = 8, y = 7; y >= 0; y--) {\r\n                if (y !== 6) {\r\n                    fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\r\n                }\r\n            }\r\n            idx = 0;\r\n            for (y = matrix.length - 1, x = 8; y >= matrix.length - 8; y--) {\r\n                fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\r\n            }\r\n            fillFunctionCell(matrices, 1, matrix.length - 8, 8);\r\n            for (x = matrix.length - 7, y = 8; x < matrix.length; x++) {\r\n                fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\r\n            }\r\n        };\r\n        var encodeVersionInformation = function (version) {\r\n            return encodeBCH(version, versionGeneratorPolynomial, 18);\r\n        };\r\n        var addVersionInformation = function (matrices, dataString) {\r\n            var matrix = matrices[0], modules = matrix.length, x1 = 0, y1 = modules - 11, x2 = modules - 11, y2 = 0, quotient, mod, value;\r\n            for (var idx = 0; idx < dataString.length; idx++) {\r\n                quotient = Math.floor(idx / 3);\r\n                mod = idx % 3;\r\n                value = getNumberAt(dataString, dataString.length - idx - 1);\r\n                fillFunctionCell(matrices, value, x1 + quotient, y1 + mod);\r\n                fillFunctionCell(matrices, value, x2 + mod, y2 + quotient);\r\n            }\r\n        };\r\n        var addCentricPattern = function (matrices, pattern, x, y) {\r\n            var size = pattern.length + 2, length = pattern.length + 1, value;\r\n            for (var i = 0; i < pattern.length; i++) {\r\n                for (var j = i; j < size - i; j++) {\r\n                    value = pattern[i];\r\n                    fillFunctionCell(matrices, value, x + j, y + i);\r\n                    fillFunctionCell(matrices, value, x + i, y + j);\r\n                    fillFunctionCell(matrices, value, x + length - j, y + length - i);\r\n                    fillFunctionCell(matrices, value, x + length - i, y + length - j);\r\n                }\r\n            }\r\n        };\r\n        var addFinderSeparator = function (matrices, direction, x, y) {\r\n            var nextX = x, nextY = y, matrix = matrices[0];\r\n            do {\r\n                fillFunctionCell(matrices, 0, nextX, y);\r\n                fillFunctionCell(matrices, 0, x, nextY);\r\n                nextX += direction[0];\r\n                nextY += direction[1];\r\n            } while (nextX >= 0 && nextX < matrix.length);\r\n        };\r\n        var addFinderPatterns = function (matrices) {\r\n            var modules = matrices[0].length;\r\n            addCentricPattern(matrices, finderPattern, 0, 0);\r\n            addFinderSeparator(matrices, [\r\n                -1,\r\n                -1\r\n            ], 7, 7);\r\n            addCentricPattern(matrices, finderPattern, modules - 7, 0);\r\n            addFinderSeparator(matrices, [\r\n                1,\r\n                -1\r\n            ], modules - 8, 7);\r\n            addCentricPattern(matrices, finderPattern, 0, modules - 7);\r\n            addFinderSeparator(matrices, [\r\n                -1,\r\n                1\r\n            ], 7, modules - 8);\r\n        };\r\n        var addAlignmentPatterns = function (matrices, version) {\r\n            if (version < 2) {\r\n                return;\r\n            }\r\n            var matrix = matrices[0], modules = matrix.length, pointsCount = Math.floor(version / 7), points = [6], startDistance, distance, idx = 0;\r\n            if (startDistance = irregularAlignmentPatternsStartDistance[version]) {\r\n                distance = (modules - 13 - startDistance) / pointsCount;\r\n            } else {\r\n                startDistance = distance = (modules - 13) / (pointsCount + 1);\r\n            }\r\n            points.push(points[idx++] + startDistance);\r\n            while (points[idx] + distance < modules) {\r\n                points.push(points[idx++] + distance);\r\n            }\r\n            for (var i = 0; i < points.length; i++) {\r\n                for (var j = 0; j < points.length; j++) {\r\n                    if (matrix[points[i]][points[j]] === undefined) {\r\n                        addCentricPattern(matrices, alignmentPattern, points[i] - 2, points[j] - 2);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var addTimingFunctions = function (matrices) {\r\n            var row = 6, column = 6, value = 1, modules = matrices[0].length;\r\n            for (var i = 8; i < modules - 8; i++) {\r\n                fillFunctionCell(matrices, value, row, i);\r\n                fillFunctionCell(matrices, value, i, column);\r\n                value ^= 1;\r\n            }\r\n        };\r\n        var scoreMaskMatrixes = function (matrices) {\r\n            var scores = [], previousBits = [], darkModules = [], patterns = [], adjacentSameBits = [], matrix, i, row = 0, column = 1, modules = matrices[0].length;\r\n            for (i = 0; i < matrices.length; i++) {\r\n                scores[i] = 0;\r\n                darkModules[i] = 0;\r\n                adjacentSameBits[i] = [\r\n                    0,\r\n                    0\r\n                ];\r\n                patterns[i] = [\r\n                    0,\r\n                    0\r\n                ];\r\n                previousBits[i] = [];\r\n            }\r\n            for (i = 0; i < modules; i++) {\r\n                for (var j = 0; j < modules; j++) {\r\n                    for (var k = 0; k < matrices.length; k++) {\r\n                        matrix = matrices[k];\r\n                        darkModules[k] += parseInt(matrix[i][j], 10);\r\n                        if (previousBits[k][row] === matrix[i][j] && i + 1 < modules && j - 1 >= 0 && matrix[i + 1][j] == previousBits[k][row] && matrix[i + 1][j - 1] == previousBits[k][row]) {\r\n                            scores[k] += 3;\r\n                        }\r\n                        scoreFinderPatternOccurance(k, patterns, scores, row, matrix[i][j]);\r\n                        scoreFinderPatternOccurance(k, patterns, scores, column, matrix[j][i]);\r\n                        scoreAdjacentSameBits(k, scores, previousBits, matrix[i][j], adjacentSameBits, row);\r\n                        scoreAdjacentSameBits(k, scores, previousBits, matrix[j][i], adjacentSameBits, column);\r\n                    }\r\n                }\r\n            }\r\n            var total = modules * modules, minIdx, min = Number.MAX_VALUE;\r\n            for (i = 0; i < scores.length; i++) {\r\n                scores[i] += calculateDarkModulesRatioScore(darkModules[i], total);\r\n                if (scores[i] < min) {\r\n                    min = scores[i];\r\n                    minIdx = i;\r\n                }\r\n            }\r\n            return minIdx;\r\n        };\r\n        function scoreFinderPatternOccurance(idx, patterns, scores, rowColumn, bit) {\r\n            patterns[idx][rowColumn] = (patterns[idx][rowColumn] << 1 ^ bit) % 128;\r\n            if (patterns[idx][rowColumn] == finderPatternValue) {\r\n                scores[idx] += 40;\r\n            }\r\n        }\r\n        function scoreAdjacentSameBits(idx, scores, previousBits, bit, adjacentBits, rowColumn) {\r\n            if (previousBits[idx][rowColumn] == bit) {\r\n                adjacentBits[idx][rowColumn]++;\r\n            } else {\r\n                previousBits[idx][rowColumn] = bit;\r\n                if (adjacentBits[idx][rowColumn] >= 5) {\r\n                    scores[idx] += 3 + adjacentBits[idx][rowColumn] - 5;\r\n                }\r\n                adjacentBits[idx][rowColumn] = 1;\r\n            }\r\n        }\r\n        function calculateDarkModulesRatioScore(darkModules, total) {\r\n            var percent = Math.floor(darkModules / total * 100), mod5 = percent % 5, previous = Math.abs(percent - mod5 - 50), next = Math.abs(percent + 5 - mod5 - 50), score = 10 * Math.min(previous / 5, next / 5);\r\n            return score;\r\n        }\r\n        var EncodingResult = function (dataString, version) {\r\n            this.dataString = dataString;\r\n            this.version = version;\r\n        };\r\n        var IsoEncoder = function () {\r\n            this.getEncodingResult = function (inputString, errorCorrectionLevel) {\r\n                var modes = getModes(inputString), dataCodewordsCount = getDataCodewordsCount(modes), version = getVersion(dataCodewordsCount, errorCorrectionLevel), dataString = getDataString(modes, version);\r\n                return new EncodingResult(dataString, version);\r\n            };\r\n        };\r\n        var UTF8Encoder = function () {\r\n            this.mode = modeInstances[this.encodingMode];\r\n        };\r\n        UTF8Encoder.fn = UTF8Encoder.prototype = {\r\n            encodingMode: BYTE,\r\n            utfBOM: '111011111011101110111111',\r\n            initialModeCountStringLength: 20,\r\n            getEncodingResult: function (inputString, errorCorrectionLevel) {\r\n                var that = this, data = that.encode(inputString), dataCodewordsCount = that.getDataCodewordsCount(data), version = getVersion(dataCodewordsCount, errorCorrectionLevel), dataString = that.mode.getModeCountString(data.length / 8, version) + data;\r\n                return new EncodingResult(dataString, version);\r\n            },\r\n            getDataCodewordsCount: function (data) {\r\n                var that = this, dataLength = data.length, dataCodewordsCount = Math.ceil((that.initialModeCountStringLength + dataLength) / 8);\r\n                return dataCodewordsCount;\r\n            },\r\n            encode: function (str) {\r\n                var that = this, result = that.utfBOM;\r\n                for (var i = 0; i < str.length; i++) {\r\n                    result += that.encodeCharacter(str.charCodeAt(i));\r\n                }\r\n                return result;\r\n            },\r\n            encodeCharacter: function (code) {\r\n                var bytesCount = this.getBytesCount(code), bc = bytesCount - 1, result = '';\r\n                if (bytesCount == 1) {\r\n                    result = toBitsString(code, 8);\r\n                } else {\r\n                    var significantOnes = 8 - bytesCount;\r\n                    for (var i = 0; i < bc; i++) {\r\n                        result = toBitsString(code >> i * 6 & 63 | 128, 8) + result;\r\n                    }\r\n                    result = (code >> bc * 6 | 255 >> significantOnes << significantOnes).toString(2) + result;\r\n                }\r\n                return result;\r\n            },\r\n            getBytesCount: function (code) {\r\n                var ranges = this.ranges;\r\n                for (var i = 0; i < ranges.length; i++) {\r\n                    if (code < ranges[i]) {\r\n                        return i + 1;\r\n                    }\r\n                }\r\n            },\r\n            ranges: [\r\n                128,\r\n                2048,\r\n                65536,\r\n                2097152,\r\n                67108864\r\n            ]\r\n        };\r\n        var QRCodeDataEncoder = function (encoding) {\r\n            if (encoding && encoding.toLowerCase().indexOf('utf_8') >= 0) {\r\n                return new UTF8Encoder();\r\n            } else {\r\n                return new IsoEncoder();\r\n            }\r\n        };\r\n        var encodeData = function (inputString, errorCorrectionLevel, encoding) {\r\n            var encoder = new QRCodeDataEncoder(encoding), encodingResult = encoder.getEncodingResult(inputString, errorCorrectionLevel), version = encodingResult.version, versionInformation = versionsCodewordsInformation[version - 1][errorCorrectionLevel], dataString = padDataString(encodingResult.dataString, versionInformation.totalDataCodewords), blocks = getBlocks(dataString, versionInformation), matrices = initMatrices(version);\r\n            addFinderPatterns(matrices);\r\n            addAlignmentPatterns(matrices, version);\r\n            addTimingFunctions(matrices);\r\n            if (version >= 7) {\r\n                addVersionInformation(matrices, toBitsString(0, 18));\r\n            }\r\n            addFormatInformation(matrices, toBitsString(0, 15));\r\n            fillData(matrices, blocks);\r\n            var minIdx = scoreMaskMatrixes(matrices), optimalMatrix = matrices[minIdx];\r\n            if (version >= 7) {\r\n                addVersionInformation([optimalMatrix], encodeVersionInformation(version));\r\n            }\r\n            var formatString = errorCorrectionPatterns[errorCorrectionLevel] + toBitsString(minIdx, 3);\r\n            addFormatInformation([optimalMatrix], encodeFormatInformation(formatString));\r\n            return optimalMatrix;\r\n        };\r\n        var QRCodeDefaults = {\r\n            DEFAULT_SIZE: 200,\r\n            QUIET_ZONE_LENGTH: 4,\r\n            DEFAULT_ERROR_CORRECTION_LEVEL: 'L',\r\n            DEFAULT_BACKGROUND: '#fff',\r\n            DEFAULT_DARK_MODULE_COLOR: '#000',\r\n            MIN_BASE_UNIT_SIZE: 1\r\n        };\r\n        var QRCode = Widget.extend({\r\n            init: function (element, options) {\r\n                var that = this;\r\n                Widget.fn.init.call(that, element, options);\r\n                that.element = $(element);\r\n                that.wrapper = that.element;\r\n                that.element.addClass('k-qrcode');\r\n                that.surfaceWrap = $('<div />').css('position', 'relative').appendTo(this.element);\r\n                that.surface = draw.Surface.create(that.surfaceWrap, { type: that.options.renderAs });\r\n                that.setOptions(options);\r\n            },\r\n            redraw: function () {\r\n                var size = this._getSize();\r\n                this.surfaceWrap.css({\r\n                    width: size,\r\n                    height: size\r\n                });\r\n                this.surface.clear();\r\n                this.createVisual();\r\n                this.surface.draw(this.visual);\r\n            },\r\n            getSize: function () {\r\n                return kendo.dimensions(this.element);\r\n            },\r\n            _resize: function () {\r\n                this.redraw();\r\n            },\r\n            createVisual: function () {\r\n                this.visual = this._render();\r\n            },\r\n            exportVisual: function () {\r\n                return this._render();\r\n            },\r\n            _render: function () {\r\n                var that = this, value = that._value, baseUnit, border = that.options.border || {}, padding = that.options.padding || 0, borderWidth = border.width || 0, quietZoneSize, matrix, size, dataSize, contentSize;\r\n                border.width = borderWidth;\r\n                var visual = new draw.Group();\r\n                if (value) {\r\n                    matrix = encodeData(value, that.options.errorCorrection, that.options.encoding);\r\n                    size = that._getSize();\r\n                    contentSize = size - 2 * (borderWidth + padding);\r\n                    baseUnit = that._calculateBaseUnit(contentSize, matrix.length);\r\n                    dataSize = matrix.length * baseUnit;\r\n                    quietZoneSize = borderWidth + padding + (contentSize - dataSize) / 2;\r\n                    visual.append(that._renderBackground(size, border));\r\n                    visual.append(that._renderMatrix(matrix, baseUnit, quietZoneSize));\r\n                }\r\n                return visual;\r\n            },\r\n            _getSize: function () {\r\n                var that = this, size;\r\n                if (that.options.size) {\r\n                    size = parseInt(that.options.size, 10);\r\n                } else {\r\n                    var element = that.element, min = Math.min(element.width(), element.height());\r\n                    if (min > 0) {\r\n                        size = min;\r\n                    } else {\r\n                        size = QRCodeDefaults.DEFAULT_SIZE;\r\n                    }\r\n                }\r\n                return size;\r\n            },\r\n            _calculateBaseUnit: function (size, matrixSize) {\r\n                var baseUnit = Math.floor(size / matrixSize);\r\n                if (baseUnit < QRCodeDefaults.MIN_BASE_UNIT_SIZE) {\r\n                    throw new Error('Insufficient size.');\r\n                }\r\n                if (baseUnit * matrixSize >= size && baseUnit - 1 >= QRCodeDefaults.MIN_BASE_UNIT_SIZE) {\r\n                    baseUnit--;\r\n                }\r\n                return baseUnit;\r\n            },\r\n            _renderMatrix: function (matrix, baseUnit, quietZoneSize) {\r\n                var path = new draw.MultiPath({\r\n                    fill: { color: this.options.color },\r\n                    stroke: null\r\n                });\r\n                for (var row = 0; row < matrix.length; row++) {\r\n                    var y = quietZoneSize + row * baseUnit;\r\n                    var column = 0;\r\n                    while (column < matrix.length) {\r\n                        while (matrix[row][column] === 0 && column < matrix.length) {\r\n                            column++;\r\n                        }\r\n                        if (column < matrix.length) {\r\n                            var x = column;\r\n                            while (matrix[row][column] == 1) {\r\n                                column++;\r\n                            }\r\n                            var x1 = round(quietZoneSize + x * baseUnit);\r\n                            var y1 = round(y);\r\n                            var x2 = round(quietZoneSize + column * baseUnit);\r\n                            var y2 = round(y + baseUnit);\r\n                            path.moveTo(x1, y1).lineTo(x1, y2).lineTo(x2, y2).lineTo(x2, y1).close();\r\n                        }\r\n                    }\r\n                }\r\n                return path;\r\n            },\r\n            _renderBackground: function (size, border) {\r\n                var box = Box2D(0, 0, size, size).unpad(border.width / 2);\r\n                return draw.Path.fromRect(box.toRect(), {\r\n                    fill: { color: this.options.background },\r\n                    stroke: {\r\n                        color: border.color,\r\n                        width: border.width\r\n                    }\r\n                });\r\n            },\r\n            setOptions: function (options) {\r\n                var that = this;\r\n                options = options || {};\r\n                that.options = extend(that.options, options);\r\n                if (options.value !== undefined) {\r\n                    that._value = that.options.value + '';\r\n                }\r\n                that.redraw();\r\n            },\r\n            value: function (value) {\r\n                var that = this;\r\n                if (value === undefined) {\r\n                    return that._value;\r\n                }\r\n                that._value = value + '';\r\n                that.redraw();\r\n            },\r\n            options: {\r\n                name: 'QRCode',\r\n                renderAs: 'svg',\r\n                encoding: 'ISO_8859_1',\r\n                value: '',\r\n                errorCorrection: QRCodeDefaults.DEFAULT_ERROR_CORRECTION_LEVEL,\r\n                background: QRCodeDefaults.DEFAULT_BACKGROUND,\r\n                color: QRCodeDefaults.DEFAULT_DARK_MODULE_COLOR,\r\n                size: '',\r\n                padding: 0,\r\n                border: {\r\n                    color: '',\r\n                    width: 0\r\n                }\r\n            }\r\n        });\r\n        dataviz.ExportMixin.extend(QRCode.fn);\r\n        dataviz.ui.plugin(QRCode);\r\n        kendo.deepExtend(dataviz, {\r\n            QRCode: QRCode,\r\n            QRCodeDefaults: QRCodeDefaults,\r\n            QRCodeFunctions: {\r\n                FreeCellVisitor: FreeCellVisitor,\r\n                fillData: fillData,\r\n                padDataString: padDataString,\r\n                generateErrorCodewords: generateErrorCodewords,\r\n                xorPolynomials: xorPolynomials,\r\n                getBlocks: getBlocks,\r\n                multiplyPolynomials: multiplyPolynomials,\r\n                chooseMode: chooseMode,\r\n                getModes: getModes,\r\n                getDataCodewordsCount: getDataCodewordsCount,\r\n                getVersion: getVersion,\r\n                getDataString: getDataString,\r\n                encodeFormatInformation: encodeFormatInformation,\r\n                encodeBCH: encodeBCH,\r\n                dividePolynomials: dividePolynomials,\r\n                initMatrices: initMatrices,\r\n                addFormatInformation: addFormatInformation,\r\n                encodeVersionInformation: encodeVersionInformation,\r\n                addVersionInformation: addVersionInformation,\r\n                addCentricPattern: addCentricPattern,\r\n                addFinderSeparator: addFinderSeparator,\r\n                addFinderPatterns: addFinderPatterns,\r\n                addAlignmentPatterns: addAlignmentPatterns,\r\n                addTimingFunctions: addTimingFunctions,\r\n                scoreMaskMatrixes: scoreMaskMatrixes,\r\n                encodeData: encodeData,\r\n                UTF8Encoder: UTF8Encoder\r\n            },\r\n            QRCodeFields: {\r\n                modes: modeInstances,\r\n                powersOfTwo: powersOfTwo,\r\n                powersOfTwoResult: powersOfTwoResult,\r\n                generatorPolynomials: generatorPolynomials\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.stock', ['kendo.dataviz.chart'], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.stockchart',\r\n        name: 'StockChart',\r\n        category: 'dataviz',\r\n        description: 'StockChart widget and associated financial series.',\r\n        depends: ['dataviz.chart']\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, Class = kendo.Class, Observable = kendo.Observable, deepExtend = kendo.deepExtend, math = Math, proxy = $.proxy, util = kendo.util, last = util.last, renderTemplate = util.renderTemplate, dataviz = kendo.dataviz, defined = util.defined, filterSeriesByType = dataviz.filterSeriesByType, template = kendo.template, Chart = dataviz.ui.Chart, Selection = dataviz.Selection, addDuration = dataviz.addDuration, limitValue = util.limitValue, lteDateIndex = dataviz.lteDateIndex, toDate = dataviz.toDate, toTime = dataviz.toTime;\r\n        var AUTO_CATEGORY_WIDTH = 28, CHANGE = 'change', CSS_PREFIX = 'k-', DRAG = 'drag', DRAG_END = 'dragEnd', NAVIGATOR_PANE = '_navigator', NAVIGATOR_AXIS = NAVIGATOR_PANE, EQUALLY_SPACED_SERIES = dataviz.EQUALLY_SPACED_SERIES, ZOOM_ACCELERATION = 3, ZOOM = 'zoom', ZOOM_END = 'zoomEnd';\r\n        var StockChart = Chart.extend({\r\n            init: function (element, userOptions) {\r\n                $(element).addClass(CSS_PREFIX + 'chart');\r\n                Chart.fn.init.call(this, element, userOptions);\r\n            },\r\n            _applyDefaults: function (options, themeOptions) {\r\n                var chart = this, width = chart.element.width() || dataviz.DEFAULT_WIDTH;\r\n                var stockDefaults = {\r\n                    seriesDefaults: { categoryField: options.dateField },\r\n                    axisDefaults: {\r\n                        categoryAxis: {\r\n                            name: 'default',\r\n                            majorGridLines: { visible: false },\r\n                            labels: { step: 2 },\r\n                            majorTicks: { visible: false },\r\n                            maxDateGroups: math.floor(width / AUTO_CATEGORY_WIDTH)\r\n                        }\r\n                    }\r\n                };\r\n                if (themeOptions) {\r\n                    themeOptions = deepExtend({}, themeOptions, stockDefaults);\r\n                }\r\n                Navigator.setup(options, themeOptions);\r\n                Chart.fn._applyDefaults.call(chart, options, themeOptions);\r\n            },\r\n            setOptions: function (options) {\r\n                this._destroyNavigator();\r\n                Chart.fn.setOptions.call(this, options);\r\n            },\r\n            _initDataSource: function (userOptions) {\r\n                var options = userOptions || {}, dataSource = options.dataSource, hasServerFiltering = dataSource && dataSource.serverFiltering, mainAxis = [].concat(options.categoryAxis)[0], naviOptions = options.navigator || {}, select = naviOptions.select, hasSelect = select && select.from && select.to, filter, dummyAxis;\r\n                if (hasServerFiltering && hasSelect) {\r\n                    filter = [].concat(dataSource.filter || []);\r\n                    dummyAxis = new dataviz.DateCategoryAxis(deepExtend({ baseUnit: 'fit' }, mainAxis, {\r\n                        categories: [\r\n                            select.from,\r\n                            select.to\r\n                        ]\r\n                    }));\r\n                    dataSource.filter = Navigator.buildFilter(dummyAxis.range().min, select.to).concat(filter);\r\n                }\r\n                Chart.fn._initDataSource.call(this, userOptions);\r\n            },\r\n            options: {\r\n                name: 'StockChart',\r\n                dateField: 'date',\r\n                axisDefaults: {\r\n                    categoryAxis: {\r\n                        type: 'date',\r\n                        baseUnit: 'fit',\r\n                        justified: true\r\n                    },\r\n                    valueAxis: {\r\n                        narrowRange: true,\r\n                        labels: { format: 'C' }\r\n                    }\r\n                },\r\n                navigator: {\r\n                    select: {},\r\n                    seriesDefaults: {\r\n                        markers: { visible: false },\r\n                        tooltip: {\r\n                            visible: true,\r\n                            template: '#= kendo.toString(category, \\'d\\') #'\r\n                        },\r\n                        line: { width: 2 }\r\n                    },\r\n                    hint: {},\r\n                    visible: true\r\n                },\r\n                tooltip: { visible: true },\r\n                legend: { visible: false }\r\n            },\r\n            _resize: function () {\r\n                var t = this.options.transitions;\r\n                this.options.transitions = false;\r\n                this._fullRedraw();\r\n                this.options.transitions = t;\r\n            },\r\n            _redraw: function () {\r\n                var chart = this, navigator = chart._navigator;\r\n                if (!this._dirty() && navigator && navigator.dataSource) {\r\n                    navigator.redrawSlaves();\r\n                } else {\r\n                    chart._fullRedraw();\r\n                }\r\n            },\r\n            _dirty: function () {\r\n                var options = this.options;\r\n                var series = [].concat(options.series, options.navigator.series);\r\n                var seriesCount = $.grep(series, function (s) {\r\n                    return s && s.visible;\r\n                }).length;\r\n                var dirty = this._seriesCount !== seriesCount;\r\n                this._seriesCount = seriesCount;\r\n                return dirty;\r\n            },\r\n            _fullRedraw: function () {\r\n                var chart = this, navigator = chart._navigator;\r\n                if (!navigator) {\r\n                    navigator = chart._navigator = chart.navigator = new Navigator(chart);\r\n                }\r\n                navigator._setRange();\r\n                Chart.fn._redraw.call(chart);\r\n                navigator._initSelection();\r\n            },\r\n            _onDataChanged: function () {\r\n                var chart = this;\r\n                Chart.fn._onDataChanged.call(chart);\r\n                chart._dataBound = true;\r\n            },\r\n            _bindCategoryAxis: function (axis, data, axisIx) {\r\n                var chart = this, categoryAxes = chart.options.categoryAxis, axesLength = categoryAxes.length, currentAxis;\r\n                Chart.fn._bindCategoryAxis.apply(this, arguments);\r\n                if (axis.name === NAVIGATOR_AXIS) {\r\n                    while (axisIx < axesLength) {\r\n                        currentAxis = categoryAxes[axisIx++];\r\n                        if (currentAxis.pane == NAVIGATOR_PANE) {\r\n                            currentAxis.categories = axis.categories;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            _trackSharedTooltip: function (coords) {\r\n                var chart = this, plotArea = chart._plotArea, pane = plotArea.paneByPoint(coords);\r\n                if (pane && pane.options.name === NAVIGATOR_PANE) {\r\n                    chart._unsetActivePoint();\r\n                } else {\r\n                    Chart.fn._trackSharedTooltip.call(chart, coords);\r\n                }\r\n            },\r\n            _destroyNavigator: function () {\r\n                this._navigator.destroy();\r\n                this._navigator = null;\r\n            },\r\n            destroy: function () {\r\n                this._destroyNavigator();\r\n                Chart.fn.destroy.call(this);\r\n            }\r\n        });\r\n        var Navigator = Observable.extend({\r\n            init: function (chart) {\r\n                var navi = this;\r\n                navi.chart = chart;\r\n                navi.options = deepExtend({}, navi.options, chart.options.navigator);\r\n                navi._initDataSource();\r\n                if (!defined(navi.options.hint.visible)) {\r\n                    navi.options.hint.visible = navi.options.visible;\r\n                }\r\n                chart.bind(DRAG, proxy(navi._drag, navi));\r\n                chart.bind(DRAG_END, proxy(navi._dragEnd, navi));\r\n                chart.bind(ZOOM, proxy(navi._zoom, navi));\r\n                chart.bind(ZOOM_END, proxy(navi._zoomEnd, navi));\r\n            },\r\n            options: {},\r\n            _initDataSource: function () {\r\n                var navi = this, options = navi.options, autoBind = options.autoBind, dsOptions = options.dataSource;\r\n                if (!defined(autoBind)) {\r\n                    autoBind = navi.chart.options.autoBind;\r\n                }\r\n                navi._dataChangedHandler = proxy(navi._onDataChanged, navi);\r\n                if (dsOptions) {\r\n                    navi.dataSource = kendo.data.DataSource.create(dsOptions).bind(CHANGE, navi._dataChangedHandler);\r\n                    if (autoBind) {\r\n                        navi.dataSource.fetch();\r\n                    }\r\n                }\r\n            },\r\n            _onDataChanged: function () {\r\n                var navi = this, chart = navi.chart, series = chart.options.series, seriesIx, seriesLength = series.length, categoryAxes = chart.options.categoryAxis, axisIx, axesLength = categoryAxes.length, data = navi.dataSource.view(), currentSeries, currentAxis, naviCategories;\r\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\r\n                    currentSeries = series[seriesIx];\r\n                    if (currentSeries.axis == NAVIGATOR_AXIS && chart._isBindable(currentSeries)) {\r\n                        currentSeries.data = data;\r\n                    }\r\n                }\r\n                for (axisIx = 0; axisIx < axesLength; axisIx++) {\r\n                    currentAxis = categoryAxes[axisIx];\r\n                    if (currentAxis.pane == NAVIGATOR_PANE) {\r\n                        if (currentAxis.name == NAVIGATOR_AXIS) {\r\n                            chart._bindCategoryAxis(currentAxis, data, axisIx);\r\n                            naviCategories = currentAxis.categories;\r\n                        } else {\r\n                            currentAxis.categories = naviCategories;\r\n                        }\r\n                    }\r\n                }\r\n                if (chart._model) {\r\n                    navi.redraw();\r\n                    navi._setRange();\r\n                    if (!chart.options.dataSource || chart.options.dataSource && chart._dataBound) {\r\n                        navi.redrawSlaves();\r\n                    }\r\n                }\r\n            },\r\n            destroy: function () {\r\n                var navi = this, dataSource = navi.dataSource;\r\n                if (dataSource) {\r\n                    dataSource.unbind(CHANGE, navi._dataChangeHandler);\r\n                }\r\n                if (navi.selection) {\r\n                    navi.selection.destroy();\r\n                }\r\n            },\r\n            redraw: function () {\r\n                this._redrawSelf();\r\n                this._initSelection();\r\n            },\r\n            _initSelection: function () {\r\n                var navi = this, chart = navi.chart, options = navi.options, axis = navi.mainAxis(), axisClone = clone(axis), range = axis.range(), min = range.min, max = range.max, groups = axis.options.categories, select = navi.options.select, selection = navi.selection, from = toDate(select.from), to = toDate(select.to);\r\n                if (groups.length === 0) {\r\n                    return;\r\n                }\r\n                if (selection) {\r\n                    selection.destroy();\r\n                    selection.wrapper.remove();\r\n                }\r\n                axisClone.box = axis.box;\r\n                selection = navi.selection = new Selection(chart, axisClone, {\r\n                    min: min,\r\n                    max: max,\r\n                    from: from || min,\r\n                    to: to || max,\r\n                    selectStart: $.proxy(navi._selectStart, navi),\r\n                    select: $.proxy(navi._select, navi),\r\n                    selectEnd: $.proxy(navi._selectEnd, navi),\r\n                    mousewheel: { zoom: 'left' },\r\n                    visible: options.visible\r\n                });\r\n                if (options.hint.visible) {\r\n                    navi.hint = new NavigatorHint(chart.element, {\r\n                        min: min,\r\n                        max: max,\r\n                        template: options.hint.template,\r\n                        format: options.hint.format\r\n                    });\r\n                }\r\n            },\r\n            _setRange: function () {\r\n                var plotArea = this.chart._createPlotArea(true);\r\n                var axis = plotArea.namedCategoryAxes[NAVIGATOR_AXIS];\r\n                var range = axis.datesRange();\r\n                var min = range.min;\r\n                var max = range.max;\r\n                var select = this.options.select || {};\r\n                var from = toDate(select.from) || min;\r\n                if (from < min) {\r\n                    from = min;\r\n                }\r\n                var to = toDate(select.to) || max;\r\n                if (to > max) {\r\n                    to = max;\r\n                }\r\n                this.options.select = {\r\n                    from: from,\r\n                    to: to\r\n                };\r\n                this.filterAxes();\r\n            },\r\n            _redrawSelf: function (silent) {\r\n                var plotArea = this.chart._plotArea;\r\n                if (plotArea) {\r\n                    plotArea.redraw(last(plotArea.panes), silent);\r\n                }\r\n            },\r\n            redrawSlaves: function () {\r\n                var navi = this, chart = navi.chart, plotArea = chart._plotArea, slavePanes = plotArea.panes.slice(0, -1);\r\n                plotArea.srcSeries = chart.options.series;\r\n                plotArea.redraw(slavePanes);\r\n            },\r\n            _drag: function (e) {\r\n                var navi = this, chart = navi.chart, coords = chart._eventCoordinates(e.originalEvent), navigatorAxis = navi.mainAxis(), naviRange = navigatorAxis.datesRange(), inNavigator = navigatorAxis.pane.box.containsPoint(coords), axis = chart._plotArea.categoryAxis, range = e.axisRanges[axis.options.name], select = navi.options.select, selection = navi.selection, duration, from, to;\r\n                if (!range || inNavigator || !selection) {\r\n                    return;\r\n                }\r\n                if (select.from && select.to) {\r\n                    duration = toTime(select.to) - toTime(select.from);\r\n                } else {\r\n                    duration = toTime(selection.options.to) - toTime(selection.options.from);\r\n                }\r\n                from = toDate(limitValue(toTime(range.min), naviRange.min, toTime(naviRange.max) - duration));\r\n                to = toDate(limitValue(toTime(from) + duration, toTime(naviRange.min) + duration, naviRange.max));\r\n                navi.options.select = {\r\n                    from: from,\r\n                    to: to\r\n                };\r\n                if (navi._liveDrag()) {\r\n                    navi.filterAxes();\r\n                    navi.redrawSlaves();\r\n                }\r\n                selection.set(from, to);\r\n                navi.showHint(from, to);\r\n            },\r\n            _dragEnd: function () {\r\n                var navi = this;\r\n                navi.filterAxes();\r\n                navi.filterDataSource();\r\n                navi.redrawSlaves();\r\n                if (navi.hint) {\r\n                    navi.hint.hide();\r\n                }\r\n            },\r\n            _liveDrag: function () {\r\n                var support = kendo.support, isTouch = support.touch, browser = support.browser, isFirefox = browser.mozilla, isOldIE = browser.msie && browser.version < 9;\r\n                return !isTouch && !isFirefox && !isOldIE;\r\n            },\r\n            readSelection: function () {\r\n                var navi = this, selection = navi.selection, src = selection.options, dst = navi.options.select;\r\n                dst.from = src.from;\r\n                dst.to = src.to;\r\n            },\r\n            filterAxes: function () {\r\n                var navi = this, select = navi.options.select || {}, chart = navi.chart, allAxes = chart.options.categoryAxis, from = select.from, to = select.to, i, axis;\r\n                for (i = 0; i < allAxes.length; i++) {\r\n                    axis = allAxes[i];\r\n                    if (axis.pane !== NAVIGATOR_PANE) {\r\n                        axis.min = toDate(from);\r\n                        axis.max = toDate(to);\r\n                    }\r\n                }\r\n            },\r\n            filterDataSource: function () {\r\n                var navi = this, select = navi.options.select || {}, chart = navi.chart, chartDataSource = chart.dataSource, hasServerFiltering = chartDataSource && chartDataSource.options.serverFiltering, axisOptions;\r\n                if (navi.dataSource && hasServerFiltering) {\r\n                    axisOptions = new dataviz.DateCategoryAxis(deepExtend({ baseUnit: 'fit' }, chart.options.categoryAxis[0], {\r\n                        categories: [\r\n                            select.from,\r\n                            select.to\r\n                        ]\r\n                    })).options;\r\n                    chartDataSource.filter(Navigator.buildFilter(addDuration(axisOptions.min, -axisOptions.baseUnitStep, axisOptions.baseUnit), addDuration(axisOptions.max, axisOptions.baseUnitStep, axisOptions.baseUnit)));\r\n                }\r\n            },\r\n            _zoom: function (e) {\r\n                var navi = this, chart = navi.chart, delta = e.delta, axis = chart._plotArea.categoryAxis, select = navi.options.select, selection = navi.selection, categories = navi.mainAxis().options.categories, fromIx, toIx;\r\n                if (!selection) {\r\n                    return;\r\n                }\r\n                fromIx = lteDateIndex(selection.options.from, categories);\r\n                toIx = lteDateIndex(selection.options.to, categories);\r\n                e.originalEvent.preventDefault();\r\n                if (math.abs(delta) > 1) {\r\n                    delta *= ZOOM_ACCELERATION;\r\n                }\r\n                if (toIx - fromIx > 1) {\r\n                    selection.expand(delta);\r\n                    navi.readSelection();\r\n                } else {\r\n                    axis.options.min = select.from;\r\n                    select.from = axis.scaleRange(-e.delta).min;\r\n                }\r\n                if (!kendo.support.touch) {\r\n                    navi.filterAxes();\r\n                    navi.redrawSlaves();\r\n                }\r\n                selection.set(select.from, select.to);\r\n                navi.showHint(navi.options.select.from, navi.options.select.to);\r\n            },\r\n            _zoomEnd: function (e) {\r\n                this._dragEnd(e);\r\n            },\r\n            showHint: function (from, to) {\r\n                var navi = this, chart = navi.chart, plotArea = chart._plotArea;\r\n                if (navi.hint) {\r\n                    navi.hint.show(from, to, plotArea.backgroundBox());\r\n                }\r\n            },\r\n            _selectStart: function (e) {\r\n                var chart = this.chart;\r\n                chart._selectStart.call(chart, e);\r\n            },\r\n            _select: function (e) {\r\n                var navi = this, chart = navi.chart;\r\n                navi.showHint(e.from, e.to);\r\n                chart._select.call(chart, e);\r\n            },\r\n            _selectEnd: function (e) {\r\n                var navi = this, chart = navi.chart;\r\n                if (navi.hint) {\r\n                    navi.hint.hide();\r\n                }\r\n                navi.readSelection();\r\n                navi.filterAxes();\r\n                navi.filterDataSource();\r\n                navi.redrawSlaves();\r\n                chart._selectEnd.call(chart, e);\r\n            },\r\n            mainAxis: function () {\r\n                var plotArea = this.chart._plotArea;\r\n                if (plotArea) {\r\n                    return plotArea.namedCategoryAxes[NAVIGATOR_AXIS];\r\n                }\r\n            },\r\n            select: function (from, to) {\r\n                var select = this.options.select;\r\n                if (from && to) {\r\n                    select.from = toDate(from);\r\n                    select.to = toDate(to);\r\n                    this.filterAxes();\r\n                    this.filterDataSource();\r\n                    this.redrawSlaves();\r\n                    this.selection.set(from, to);\r\n                }\r\n                return {\r\n                    from: select.from,\r\n                    to: select.to\r\n                };\r\n            }\r\n        });\r\n        Navigator.setup = function (options, themeOptions) {\r\n            options = options || {};\r\n            themeOptions = themeOptions || {};\r\n            if (options.__navi) {\r\n                return;\r\n            }\r\n            options.__navi = true;\r\n            var naviOptions = deepExtend({}, themeOptions.navigator, options.navigator), panes = options.panes = [].concat(options.panes), paneOptions = deepExtend({}, naviOptions.pane, { name: NAVIGATOR_PANE });\r\n            if (!naviOptions.visible) {\r\n                paneOptions.visible = false;\r\n                paneOptions.height = 0.1;\r\n            }\r\n            panes.push(paneOptions);\r\n            Navigator.attachAxes(options, naviOptions);\r\n            Navigator.attachSeries(options, naviOptions, themeOptions);\r\n        };\r\n        Navigator.attachAxes = function (options, naviOptions) {\r\n            var categoryAxes, valueAxes, series = naviOptions.series || [];\r\n            categoryAxes = options.categoryAxis = [].concat(options.categoryAxis);\r\n            valueAxes = options.valueAxis = [].concat(options.valueAxis);\r\n            var equallySpacedSeries = filterSeriesByType(series, EQUALLY_SPACED_SERIES);\r\n            var justifyAxis = equallySpacedSeries.length === 0;\r\n            var base = deepExtend({\r\n                type: 'date',\r\n                pane: NAVIGATOR_PANE,\r\n                roundToBaseUnit: !justifyAxis,\r\n                justified: justifyAxis,\r\n                _collapse: false,\r\n                majorTicks: { visible: true },\r\n                tooltip: { visible: false },\r\n                labels: { step: 1 },\r\n                autoBind: !naviOptions.dataSource,\r\n                autoBaseUnitSteps: {\r\n                    minutes: [1],\r\n                    hours: [\r\n                        1,\r\n                        2\r\n                    ],\r\n                    days: [\r\n                        1,\r\n                        2\r\n                    ],\r\n                    weeks: [],\r\n                    months: [1],\r\n                    years: [1]\r\n                },\r\n                _overlap: false\r\n            });\r\n            var user = naviOptions.categoryAxis;\r\n            categoryAxes.push(deepExtend({}, base, { maxDateGroups: 200 }, user, {\r\n                name: NAVIGATOR_AXIS,\r\n                title: null,\r\n                baseUnit: 'fit',\r\n                baseUnitStep: 'auto',\r\n                labels: { visible: false },\r\n                majorTicks: { visible: false }\r\n            }), deepExtend({}, base, user, {\r\n                name: NAVIGATOR_AXIS + '_labels',\r\n                maxDateGroups: 20,\r\n                baseUnitStep: 'auto',\r\n                plotBands: [],\r\n                autoBaseUnitSteps: { minutes: [] }\r\n            }), deepExtend({}, base, user, {\r\n                name: NAVIGATOR_AXIS + '_ticks',\r\n                maxDateGroups: 200,\r\n                majorTicks: { width: 0.5 },\r\n                plotBands: [],\r\n                title: null,\r\n                labels: {\r\n                    visible: false,\r\n                    mirror: true\r\n                }\r\n            }));\r\n            valueAxes.push(deepExtend({\r\n                name: NAVIGATOR_AXIS,\r\n                pane: NAVIGATOR_PANE,\r\n                majorGridLines: { visible: false },\r\n                visible: false\r\n            }, naviOptions.valueAxis));\r\n        };\r\n        Navigator.attachSeries = function (options, naviOptions, themeOptions) {\r\n            var series = options.series = options.series || [], navigatorSeries = [].concat(naviOptions.series || []), seriesColors = themeOptions.seriesColors, defaults = naviOptions.seriesDefaults, i;\r\n            for (i = 0; i < navigatorSeries.length; i++) {\r\n                series.push(deepExtend({\r\n                    color: seriesColors[i % seriesColors.length],\r\n                    categoryField: naviOptions.dateField,\r\n                    visibleInLegend: false,\r\n                    tooltip: { visible: false }\r\n                }, defaults, navigatorSeries[i], {\r\n                    axis: NAVIGATOR_AXIS,\r\n                    categoryAxis: NAVIGATOR_AXIS,\r\n                    autoBind: !naviOptions.dataSource\r\n                }));\r\n            }\r\n        };\r\n        Navigator.buildFilter = function (from, to) {\r\n            return [\r\n                {\r\n                    field: 'Date',\r\n                    operator: 'gte',\r\n                    value: toDate(from)\r\n                },\r\n                {\r\n                    field: 'Date',\r\n                    operator: 'lt',\r\n                    value: toDate(to)\r\n                }\r\n            ];\r\n        };\r\n        var NavigatorHint = Class.extend({\r\n            init: function (container, options) {\r\n                var hint = this;\r\n                hint.options = deepExtend({}, hint.options, options);\r\n                hint.container = container;\r\n                hint.chartPadding = {\r\n                    top: parseInt(container.css('paddingTop'), 10),\r\n                    left: parseInt(container.css('paddingLeft'), 10)\r\n                };\r\n                hint.template = hint.template;\r\n                if (!hint.template) {\r\n                    hint.template = hint.template = renderTemplate('<div class=\\'' + CSS_PREFIX + 'navigator-hint\\' ' + 'style=\\'display: none; position: absolute; top: 1px; left: 1px;\\'>' + '<div class=\\'' + CSS_PREFIX + 'tooltip ' + CSS_PREFIX + 'chart-tooltip\\'>&nbsp;</div>' + '<div class=\\'' + CSS_PREFIX + 'scroll\\' />' + '</div>');\r\n                }\r\n                hint.element = $(hint.template()).appendTo(container);\r\n            },\r\n            options: {\r\n                format: '{0:d} - {1:d}',\r\n                hideDelay: 500\r\n            },\r\n            show: function (from, to, bbox) {\r\n                var hint = this, middle = toDate(toTime(from) + toTime(to - from) / 2), options = hint.options, text = kendo.format(hint.options.format, from, to), tooltip = hint.element.find('.' + CSS_PREFIX + 'tooltip'), scroll = hint.element.find('.' + CSS_PREFIX + 'scroll'), scrollWidth = bbox.width() * 0.4, minPos = bbox.center().x - scrollWidth, maxPos = bbox.center().x, posRange = maxPos - minPos, range = options.max - options.min, scale = posRange / range, offset = middle - options.min, hintTemplate;\r\n                if (hint._hideTimeout) {\r\n                    clearTimeout(hint._hideTimeout);\r\n                }\r\n                if (!hint._visible) {\r\n                    hint.element.stop(false, true).css('visibility', 'hidden').show();\r\n                    hint._visible = true;\r\n                }\r\n                if (options.template) {\r\n                    hintTemplate = template(options.template);\r\n                    text = hintTemplate({\r\n                        from: from,\r\n                        to: to\r\n                    });\r\n                }\r\n                tooltip.html(text).css({\r\n                    left: bbox.center().x - tooltip.outerWidth() / 2,\r\n                    top: bbox.y1\r\n                });\r\n                scroll.css({\r\n                    width: scrollWidth,\r\n                    left: minPos + offset * scale,\r\n                    top: bbox.y1 + parseInt(tooltip.css('margin-top'), 10) + parseInt(tooltip.css('border-top-width'), 10) + tooltip.height() / 2\r\n                });\r\n                hint.element.css('visibility', 'visible');\r\n            },\r\n            hide: function () {\r\n                var hint = this;\r\n                if (hint._hideTimeout) {\r\n                    clearTimeout(hint._hideTimeout);\r\n                }\r\n                hint._hideTimeout = setTimeout(function () {\r\n                    hint._visible = false;\r\n                    hint.element.fadeOut('slow');\r\n                }, hint.options.hideDelay);\r\n            }\r\n        });\r\n        function ClonedObject() {\r\n        }\r\n        function clone(obj) {\r\n            ClonedObject.prototype = obj;\r\n            return new ClonedObject();\r\n        }\r\n        dataviz.ui.plugin(StockChart);\r\n        deepExtend(dataviz, { Navigator: Navigator });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.sparkline', ['kendo.dataviz.chart'], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.sparkline',\r\n        name: 'Sparkline',\r\n        category: 'dataviz',\r\n        description: 'Sparkline widgets.',\r\n        depends: ['dataviz.chart']\r\n    };\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, dataviz = kendo.dataviz, Chart = dataviz.ui.Chart, ObservableArray = kendo.data.ObservableArray, SharedTooltip = dataviz.SharedTooltip, deepExtend = kendo.deepExtend, isArray = $.isArray, proxy = $.proxy, inArray = dataviz.inArray, math = Math;\r\n        var CSS_PREFIX = 'k-', DEAULT_BAR_WIDTH = 150, DEAULT_BULLET_WIDTH = 150, BAR = 'bar', BULLET = 'bullet', PIE = 'pie', LEAVE = 'leave', NO_CROSSHAIR = [\r\n                BAR,\r\n                BULLET\r\n            ];\r\n        var Sparkline = Chart.extend({\r\n            init: function (element, userOptions) {\r\n                var chart = this, stage = chart.stage = $('<span />'), options = userOptions || {};\r\n                element = $(element).addClass(CSS_PREFIX + 'sparkline').empty().append(stage);\r\n                chart._initialWidth = math.floor(element.width());\r\n                options = wrapNumber(options);\r\n                if (isArray(options) || options instanceof ObservableArray) {\r\n                    options = { seriesDefaults: { data: options } };\r\n                }\r\n                if (!options.series) {\r\n                    options.series = [{ data: wrapNumber(options.data) }];\r\n                }\r\n                deepExtend(options, { seriesDefaults: { type: options.type } });\r\n                if (inArray(options.series[0].type, NO_CROSSHAIR) || inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {\r\n                    options = deepExtend({}, { categoryAxis: { crosshair: { visible: false } } }, options);\r\n                }\r\n                Chart.fn.init.call(chart, element, options);\r\n            },\r\n            options: {\r\n                name: 'Sparkline',\r\n                chartArea: { margin: 2 },\r\n                axisDefaults: {\r\n                    visible: false,\r\n                    majorGridLines: { visible: false },\r\n                    valueAxis: { narrowRange: true }\r\n                },\r\n                seriesDefaults: {\r\n                    type: 'line',\r\n                    area: { line: { width: 0.5 } },\r\n                    bar: { stack: true },\r\n                    padding: 2,\r\n                    width: 0.5,\r\n                    overlay: { gradient: null },\r\n                    highlight: { visible: false },\r\n                    border: { width: 0 },\r\n                    markers: {\r\n                        size: 2,\r\n                        visible: false\r\n                    }\r\n                },\r\n                tooltip: {\r\n                    visible: true,\r\n                    shared: true\r\n                },\r\n                categoryAxis: {\r\n                    crosshair: {\r\n                        visible: true,\r\n                        tooltip: { visible: false }\r\n                    }\r\n                },\r\n                legend: { visible: false },\r\n                transitions: false,\r\n                pointWidth: 5,\r\n                panes: [{ clip: false }]\r\n            },\r\n            _modelOptions: function () {\r\n                var chart = this, chartOptions = chart.options, options, width = chart._initialWidth, stage = chart.stage;\r\n                chart.stage.children().hide();\r\n                var space = $('<span>&nbsp;</span>');\r\n                chart.stage.append(space);\r\n                options = deepExtend({\r\n                    width: width ? width : chart._autoWidth(),\r\n                    height: stage.height(),\r\n                    transitions: chartOptions.transitions\r\n                }, chartOptions.chartArea, {\r\n                    inline: true,\r\n                    align: false\r\n                });\r\n                stage.css({\r\n                    width: options.width,\r\n                    height: options.height\r\n                });\r\n                space.remove();\r\n                chart.stage.children().show();\r\n                chart.surface.resize();\r\n                return options;\r\n            },\r\n            _createTooltip: function () {\r\n                var chart = this, options = chart.options, element = chart.element, tooltip;\r\n                if (chart._sharedTooltip()) {\r\n                    tooltip = new SparklineSharedTooltip(element, chart._plotArea, options.tooltip);\r\n                } else {\r\n                    tooltip = Chart.fn._createTooltip.call(chart);\r\n                }\r\n                tooltip.bind(LEAVE, proxy(chart._tooltipleave, chart));\r\n                return tooltip;\r\n            },\r\n            _surfaceWrap: function () {\r\n                return this.stage;\r\n            },\r\n            _autoWidth: function () {\r\n                var chart = this, options = chart.options, margin = dataviz.getSpacing(options.chartArea.margin), series = options.series, dsTotal = chart.dataSource.total(), seriesTotal = 0, width, i, currentSeries;\r\n                for (i = 0; i < series.length; i++) {\r\n                    currentSeries = series[i];\r\n                    if (currentSeries.type === BAR) {\r\n                        return DEAULT_BAR_WIDTH;\r\n                    }\r\n                    if (currentSeries.type === BULLET) {\r\n                        return DEAULT_BULLET_WIDTH;\r\n                    }\r\n                    if (currentSeries.type === PIE) {\r\n                        return chart.stage.height();\r\n                    }\r\n                    if (currentSeries.data) {\r\n                        seriesTotal = math.max(seriesTotal, currentSeries.data.length);\r\n                    }\r\n                }\r\n                width = math.max(dsTotal, seriesTotal) * options.pointWidth;\r\n                if (width > 0) {\r\n                    width += margin.left + margin.right;\r\n                }\r\n                return width;\r\n            }\r\n        });\r\n        var SparklineSharedTooltip = SharedTooltip.extend({\r\n            options: { animation: { duration: 0 } },\r\n            _anchor: function (point, slot) {\r\n                var anchor = SharedTooltip.fn._anchor.call(this, point, slot);\r\n                var size = this._measure();\r\n                anchor.y = -size.height - this.options.offset;\r\n                return anchor;\r\n            },\r\n            _hideElement: function () {\r\n                if (this.element) {\r\n                    this.element.hide().remove();\r\n                }\r\n            }\r\n        });\r\n        function wrapNumber(x) {\r\n            return typeof x === 'number' ? [x] : x;\r\n        }\r\n        dataviz.ui.plugin(Sparkline);\r\n        deepExtend(dataviz, { SparklineSharedTooltip: SparklineSharedTooltip });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/location', ['kendo.drawing'], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var math = Math, abs = math.abs, atan = math.atan, atan2 = math.atan2, cos = math.cos, max = math.max, min = math.min, sin = math.sin, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, deg = util.deg, rad = util.rad, round = util.round, sqr = util.sqr, valueOrDefault = util.valueOrDefault;\r\n        var Location = Class.extend({\r\n            init: function (lat, lng) {\r\n                if (arguments.length === 1) {\r\n                    this.lat = lat[0];\r\n                    this.lng = lat[1];\r\n                } else {\r\n                    this.lat = lat;\r\n                    this.lng = lng;\r\n                }\r\n            },\r\n            DISTANCE_ITERATIONS: 100,\r\n            DISTANCE_CONVERGENCE: 1e-12,\r\n            DISTANCE_PRECISION: 2,\r\n            FORMAT: '{0:N6},{1:N6}',\r\n            toArray: function () {\r\n                return [\r\n                    this.lat,\r\n                    this.lng\r\n                ];\r\n            },\r\n            equals: function (loc) {\r\n                return loc && loc.lat === this.lat && loc.lng === this.lng;\r\n            },\r\n            clone: function () {\r\n                return new Location(this.lat, this.lng);\r\n            },\r\n            round: function (precision) {\r\n                this.lng = round(this.lng, precision);\r\n                this.lat = round(this.lat, precision);\r\n                return this;\r\n            },\r\n            wrap: function () {\r\n                this.lng = this.lng % 180;\r\n                this.lat = this.lat % 90;\r\n                return this;\r\n            },\r\n            distanceTo: function (dest, datum) {\r\n                return this.greatCircleTo(dest, datum).distance;\r\n            },\r\n            destination: function (distance, bearing, datum) {\r\n                bearing = rad(bearing);\r\n                datum = datum || dataviz.map.datums.WGS84;\r\n                var fromLat = rad(this.lat);\r\n                var fromLng = rad(this.lng);\r\n                var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\r\n                var lat = math.asin(sin(fromLat) * cos(dToR) + cos(fromLat) * sin(dToR) * cos(bearing));\r\n                var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat), cos(dToR) - sin(fromLat) * sin(lat));\r\n                return new Location(deg(lat), deg(lng));\r\n            },\r\n            greatCircleTo: function (dest, datum) {\r\n                dest = Location.create(dest);\r\n                datum = datum || dataviz.map.datums.WGS84;\r\n                if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\r\n                    return {\r\n                        distance: 0,\r\n                        azimuthFrom: 0,\r\n                        azimuthTo: 0\r\n                    };\r\n                }\r\n                var a = datum.a;\r\n                var b = datum.b;\r\n                var f = datum.f;\r\n                var L = rad(dest.lng - this.lng);\r\n                var U1 = atan((1 - f) * tan(rad(this.lat)));\r\n                var sinU1 = sin(U1);\r\n                var cosU1 = cos(U1);\r\n                var U2 = atan((1 - f) * tan(rad(dest.lat)));\r\n                var sinU2 = sin(U2);\r\n                var cosU2 = cos(U2);\r\n                var lambda = L;\r\n                var prevLambda;\r\n                var i = this.DISTANCE_ITERATIONS;\r\n                var converged = false;\r\n                var sinLambda;\r\n                var cosLambda;\r\n                var sino;\r\n                var cosA2;\r\n                var coso;\r\n                var cos2om;\r\n                var sigma;\r\n                while (!converged && i-- > 0) {\r\n                    sinLambda = sin(lambda);\r\n                    cosLambda = cos(lambda);\r\n                    sino = math.sqrt(sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\r\n                    coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\r\n                    sigma = atan2(sino, coso);\r\n                    var sinA = cosU1 * cosU2 * sinLambda / sino;\r\n                    cosA2 = 1 - sqr(sinA);\r\n                    cos2om = 0;\r\n                    if (cosA2 !== 0) {\r\n                        cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\r\n                    }\r\n                    prevLambda = lambda;\r\n                    var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\r\n                    lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om))));\r\n                    converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\r\n                }\r\n                var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\r\n                var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\r\n                var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\r\n                var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))));\r\n                var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\r\n                var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\r\n                return {\r\n                    distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\r\n                    azimuthFrom: deg(azimuthFrom),\r\n                    azimuthTo: deg(azimuthTo)\r\n                };\r\n            }\r\n        });\r\n        Location.fn.toString = function () {\r\n            return kendo.format(this.FORMAT, this.lat, this.lng);\r\n        };\r\n        Location.fromLngLat = function (ll) {\r\n            return new Location(ll[1], ll[0]);\r\n        };\r\n        Location.fromLatLng = function (ll) {\r\n            return new Location(ll[0], ll[1]);\r\n        };\r\n        Location.create = function (a, b) {\r\n            if (defined(a)) {\r\n                if (a instanceof Location) {\r\n                    return a.clone();\r\n                } else if (arguments.length === 1 && a.length === 2) {\r\n                    return Location.fromLatLng(a);\r\n                } else {\r\n                    return new Location(a, b);\r\n                }\r\n            }\r\n        };\r\n        var Extent = Class.extend({\r\n            init: function (nw, se) {\r\n                nw = Location.create(nw);\r\n                se = Location.create(se);\r\n                if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {\r\n                    this.se = nw;\r\n                    this.nw = se;\r\n                } else {\r\n                    this.se = se;\r\n                    this.nw = nw;\r\n                }\r\n            },\r\n            contains: function (loc) {\r\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\r\n                return loc && lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 && lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;\r\n            },\r\n            center: function () {\r\n                var nw = this.nw;\r\n                var se = this.se;\r\n                var lng = nw.lng + (se.lng - nw.lng) / 2;\r\n                var lat = nw.lat + (se.lat - nw.lat) / 2;\r\n                return new Location(lat, lng);\r\n            },\r\n            containsAny: function (locs) {\r\n                var result = false;\r\n                for (var i = 0; i < locs.length; i++) {\r\n                    result = result || this.contains(locs[i]);\r\n                }\r\n                return result;\r\n            },\r\n            include: function (loc) {\r\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\r\n                nw.lng = min(nw.lng, lng);\r\n                nw.lat = max(nw.lat, lat);\r\n                se.lng = max(se.lng, lng);\r\n                se.lat = min(se.lat, lat);\r\n            },\r\n            includeAll: function (locs) {\r\n                for (var i = 0; i < locs.length; i++) {\r\n                    this.include(locs[i]);\r\n                }\r\n            },\r\n            edges: function () {\r\n                var nw = this.nw, se = this.se;\r\n                return {\r\n                    nw: this.nw,\r\n                    ne: new Location(nw.lat, se.lng),\r\n                    se: this.se,\r\n                    sw: new Location(se.lat, nw.lng)\r\n                };\r\n            },\r\n            toArray: function () {\r\n                var nw = this.nw, se = this.se;\r\n                return [\r\n                    nw,\r\n                    new Location(nw.lat, se.lng),\r\n                    se,\r\n                    new Location(se.lat, nw.lng)\r\n                ];\r\n            },\r\n            overlaps: function (extent) {\r\n                return this.containsAny(extent.toArray()) || extent.containsAny(this.toArray());\r\n            }\r\n        });\r\n        Extent.World = new Extent([\r\n            90,\r\n            -180\r\n        ], [\r\n            -90,\r\n            180\r\n        ]);\r\n        Extent.create = function (a, b) {\r\n            if (a instanceof Extent) {\r\n                return a;\r\n            } else if (a && b) {\r\n                return new Extent(a, b);\r\n            } else if (a && a.length === 4 && !b) {\r\n                return new Extent([\r\n                    a[0],\r\n                    a[1]\r\n                ], [\r\n                    a[2],\r\n                    a[3]\r\n                ]);\r\n            }\r\n        };\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                Extent: Extent,\r\n                Location: Location\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/attribution', ['kendo.drawing'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, Widget = kendo.ui.Widget, template = kendo.template, valueOrDefault = kendo.util.valueOrDefault, defined = kendo.util.defined;\r\n        var Attribution = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                this._initOptions(options);\r\n                this.items = [];\r\n                this.element.addClass('k-widget k-attribution');\r\n            },\r\n            options: {\r\n                name: 'Attribution',\r\n                separator: '&nbsp;|&nbsp;',\r\n                itemTemplate: '#= text #'\r\n            },\r\n            filter: function (extent, zoom) {\r\n                this._extent = extent;\r\n                this._zoom = zoom;\r\n                this._render();\r\n            },\r\n            add: function (item) {\r\n                if (defined(item)) {\r\n                    if (typeof item === 'string') {\r\n                        item = { text: item };\r\n                    }\r\n                    this.items.push(item);\r\n                    this._render();\r\n                }\r\n            },\r\n            remove: function (text) {\r\n                var result = [];\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    if (item.text !== text) {\r\n                        result.push(item);\r\n                    }\r\n                }\r\n                this.items = result;\r\n                this._render();\r\n            },\r\n            clear: function () {\r\n                this.items = [];\r\n                this.element.empty();\r\n            },\r\n            _render: function () {\r\n                var result = [];\r\n                var itemTemplate = template(this.options.itemTemplate);\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    var item = this.items[i];\r\n                    var text = this._itemText(item);\r\n                    if (text !== '') {\r\n                        result.push(itemTemplate({ text: text }));\r\n                    }\r\n                }\r\n                if (result.length > 0) {\r\n                    this.element.empty().append(result.join(this.options.separator)).show();\r\n                } else {\r\n                    this.element.hide();\r\n                }\r\n            },\r\n            _itemText: function (item) {\r\n                var text = '';\r\n                var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\r\n                var inArea = this._inArea(item.extent);\r\n                if (inZoomLevel && inArea) {\r\n                    text += item.text;\r\n                }\r\n                return text;\r\n            },\r\n            _inZoomLevel: function (min, max) {\r\n                var result = true;\r\n                min = valueOrDefault(min, -Number.MAX_VALUE);\r\n                max = valueOrDefault(max, Number.MAX_VALUE);\r\n                result = this._zoom > min && this._zoom < max;\r\n                return result;\r\n            },\r\n            _inArea: function (area) {\r\n                var result = true;\r\n                if (area) {\r\n                    result = area.contains(this._extent);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n        kendo.dataviz.ui.plugin(Attribution);\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/navigator', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var kendo = window.kendo;\r\n        var Widget = kendo.ui.Widget;\r\n        var keys = kendo.keys;\r\n        var proxy = $.proxy;\r\n        var NS = '.kendoNavigator';\r\n        function button(dir) {\r\n            return kendo.format('<button class=\"k-button k-navigator-{0}\">' + '<span class=\"k-icon k-i-arrow-{0}\"/>' + '</button>', dir);\r\n        }\r\n        var BUTTONS = button('n') + button('e') + button('s') + button('w');\r\n        var Navigator = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                this._initOptions(options);\r\n                this.element.addClass('k-widget k-header k-shadow k-navigator').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\r\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\r\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\r\n                this._tabindex(this._keyroot);\r\n                this._keydown = proxy(this._keydown, this);\r\n                this._keyroot.on('keydown', this._keydown);\r\n            },\r\n            options: {\r\n                name: 'Navigator',\r\n                panStep: 1\r\n            },\r\n            events: ['pan'],\r\n            dispose: function () {\r\n                this._keyroot.off('keydown', this._keydown);\r\n            },\r\n            _pan: function (x, y) {\r\n                var panStep = this.options.panStep;\r\n                this.trigger('pan', {\r\n                    x: x * panStep,\r\n                    y: y * panStep\r\n                });\r\n            },\r\n            _click: function (e) {\r\n                var x = 0;\r\n                var y = 0;\r\n                var button = $(e.currentTarget);\r\n                if (button.is('.k-navigator-n')) {\r\n                    y = 1;\r\n                } else if (button.is('.k-navigator-s')) {\r\n                    y = -1;\r\n                } else if (button.is('.k-navigator-e')) {\r\n                    x = 1;\r\n                } else if (button.is('.k-navigator-w')) {\r\n                    x = -1;\r\n                }\r\n                this._pan(x, y);\r\n                e.preventDefault();\r\n            },\r\n            _keydown: function (e) {\r\n                switch (e.which) {\r\n                case keys.UP:\r\n                    this._pan(0, 1);\r\n                    e.preventDefault();\r\n                    break;\r\n                case keys.DOWN:\r\n                    this._pan(0, -1);\r\n                    e.preventDefault();\r\n                    break;\r\n                case keys.RIGHT:\r\n                    this._pan(1, 0);\r\n                    e.preventDefault();\r\n                    break;\r\n                case keys.LEFT:\r\n                    this._pan(-1, 0);\r\n                    e.preventDefault();\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        kendo.dataviz.ui.plugin(Navigator);\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/zoom', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var kendo = window.kendo;\r\n        var Widget = kendo.ui.Widget;\r\n        var keys = kendo.keys;\r\n        var proxy = $.proxy;\r\n        function button(dir, symbol) {\r\n            return kendo.format('<button class=\"k-button k-zoom-{0}\" title=\"zoom-{0}\">{1}</button>', dir, symbol);\r\n        }\r\n        var NS = '.kendoZoomControl';\r\n        var BUTTONS = button('in', '+') + button('out', '-');\r\n        var PLUS = 187;\r\n        var MINUS = 189;\r\n        var FF_PLUS = 61;\r\n        var FF_MINUS = 173;\r\n        var ZoomControl = Widget.extend({\r\n            init: function (element, options) {\r\n                Widget.fn.init.call(this, element, options);\r\n                this._initOptions(options);\r\n                this.element.addClass('k-widget k-zoom-control k-button-wrap k-buttons-horizontal').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\r\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\r\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\r\n                this._tabindex(this._keyroot);\r\n                this._keydown = proxy(this._keydown, this);\r\n                this._keyroot.on('keydown', this._keydown);\r\n            },\r\n            options: {\r\n                name: 'ZoomControl',\r\n                zoomStep: 1\r\n            },\r\n            events: ['change'],\r\n            _change: function (dir) {\r\n                var zoomStep = this.options.zoomStep;\r\n                this.trigger('change', { delta: dir * zoomStep });\r\n            },\r\n            _click: function (e) {\r\n                var button = $(e.currentTarget);\r\n                var dir = 1;\r\n                if (button.is('.k-zoom-out')) {\r\n                    dir = -1;\r\n                }\r\n                this._change(dir);\r\n                e.preventDefault();\r\n            },\r\n            _keydown: function (e) {\r\n                switch (e.which) {\r\n                case keys.NUMPAD_PLUS:\r\n                case PLUS:\r\n                case FF_PLUS:\r\n                    this._change(1);\r\n                    break;\r\n                case keys.NUMPAD_MINUS:\r\n                case MINUS:\r\n                case FF_MINUS:\r\n                    this._change(-1);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        kendo.dataviz.ui.plugin(ZoomControl);\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/crs', [\r\n        'dataviz/map/location',\r\n        'kendo.drawing'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var math = Math, atan = math.atan, exp = math.exp, pow = math.pow, sin = math.sin, log = math.log, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, map = dataviz.map, Location = map.Location, util = kendo.util, rad = util.rad, deg = util.deg, limit = util.limitValue;\r\n        var PI = math.PI, PI_DIV_2 = PI / 2, PI_DIV_4 = PI / 4, DEG_TO_RAD = PI / 180;\r\n        var WGS84 = {\r\n            a: 6378137,\r\n            b: 6356752.314245179,\r\n            f: 0.0033528106647474805,\r\n            e: 0.08181919084262149\r\n        };\r\n        var Mercator = Class.extend({\r\n            init: function (options) {\r\n                this._initOptions(options);\r\n            },\r\n            MAX_LNG: 180,\r\n            MAX_LAT: 85.0840590501,\r\n            INVERSE_ITERATIONS: 15,\r\n            INVERSE_CONVERGENCE: 1e-12,\r\n            options: {\r\n                centralMeridian: 0,\r\n                datum: WGS84\r\n            },\r\n            forward: function (loc, clamp) {\r\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT), lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng, x = rad(lng - lng0) * r, y = proj._projectLat(lat);\r\n                return new Point(x, y);\r\n            },\r\n            _projectLat: function (lat) {\r\n                var datum = this.options.datum, ecc = datum.e, r = datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2), con = ecc * sin(y), p = pow((1 - con) / (1 + con), ecc / 2);\r\n                return r * log(ts * p);\r\n            },\r\n            inverse: function (point, clamp) {\r\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lng = point.x / (DEG_TO_RAD * r) + lng0, lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\r\n                if (clamp) {\r\n                    lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\r\n                }\r\n                return new Location(lat, lng);\r\n            },\r\n            _inverseY: function (y) {\r\n                var proj = this, datum = proj.options.datum, r = datum.a, ecc = datum.e, ecch = ecc / 2, ts = exp(-y / r), phi = PI_DIV_2 - 2 * atan(ts), i;\r\n                for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\r\n                    var con = ecc * sin(phi), p = pow((1 - con) / (1 + con), ecch), dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\r\n                    phi += dphi;\r\n                    if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\r\n                        break;\r\n                    }\r\n                }\r\n                return deg(phi);\r\n            }\r\n        });\r\n        var SphericalMercator = Mercator.extend({\r\n            MAX_LAT: 85.0511287798,\r\n            _projectLat: function (lat) {\r\n                var r = this.options.datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2);\r\n                return r * log(ts);\r\n            },\r\n            _inverseY: function (y) {\r\n                var r = this.options.datum.a, ts = exp(-y / r);\r\n                return deg(PI_DIV_2 - 2 * atan(ts));\r\n            }\r\n        });\r\n        var Equirectangular = Class.extend({\r\n            forward: function (loc) {\r\n                return new Point(loc.lng, loc.lat);\r\n            },\r\n            inverse: function (point) {\r\n                return new Location(point.y, point.x);\r\n            }\r\n        });\r\n        var EPSG3857 = Class.extend({\r\n            init: function () {\r\n                var crs = this, proj = crs._proj = new SphericalMercator();\r\n                var c = this.c = 2 * PI * proj.options.datum.a;\r\n                this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\r\n                this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\r\n            },\r\n            toPoint: function (loc, scale, clamp) {\r\n                var point = this._proj.forward(loc, clamp);\r\n                return point.transform(this._tm).scale(scale || 1);\r\n            },\r\n            toLocation: function (point, scale, clamp) {\r\n                point = point.clone().scale(1 / (scale || 1)).transform(this._itm);\r\n                return this._proj.inverse(point, clamp);\r\n            }\r\n        });\r\n        var EPSG3395 = Class.extend({\r\n            init: function () {\r\n                this._proj = new Mercator();\r\n            },\r\n            toPoint: function (loc) {\r\n                return this._proj.forward(loc);\r\n            },\r\n            toLocation: function (point) {\r\n                return this._proj.inverse(point);\r\n            }\r\n        });\r\n        var EPSG4326 = Class.extend({\r\n            init: function () {\r\n                this._proj = new Equirectangular();\r\n            },\r\n            toPoint: function (loc) {\r\n                return this._proj.forward(loc);\r\n            },\r\n            toLocation: function (point) {\r\n                return this._proj.inverse(point);\r\n            }\r\n        });\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                crs: {\r\n                    EPSG3395: EPSG3395,\r\n                    EPSG3857: EPSG3857,\r\n                    EPSG4326: EPSG4326\r\n                },\r\n                datums: { WGS84: WGS84 },\r\n                projections: {\r\n                    Equirectangular: Equirectangular,\r\n                    Mercator: Mercator,\r\n                    SphericalMercator: SphericalMercator\r\n                }\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/base', [\r\n        'kendo.core',\r\n        'dataviz/map/location'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, Extent = dataviz.map.Extent, util = kendo.util, defined = util.defined;\r\n        var Layer = Class.extend({\r\n            init: function (map, options) {\r\n                this._initOptions(options);\r\n                this.map = map;\r\n                this.element = $('<div class=\\'k-layer\\'></div>').css({\r\n                    'zIndex': this.options.zIndex,\r\n                    'opacity': this.options.opacity\r\n                }).appendTo(map.scrollElement);\r\n                this._beforeReset = proxy(this._beforeReset, this);\r\n                this._reset = proxy(this._reset, this);\r\n                this._resize = proxy(this._resize, this);\r\n                this._panEnd = proxy(this._panEnd, this);\r\n                this._activate();\r\n                this._updateAttribution();\r\n            },\r\n            destroy: function () {\r\n                this._deactivate();\r\n            },\r\n            show: function () {\r\n                this.reset();\r\n                this._activate();\r\n                this._applyExtent(true);\r\n            },\r\n            hide: function () {\r\n                this._deactivate();\r\n                this._setVisibility(false);\r\n            },\r\n            reset: function () {\r\n                this._beforeReset();\r\n                this._reset();\r\n            },\r\n            _reset: function () {\r\n                this._applyExtent();\r\n            },\r\n            _beforeReset: $.noop,\r\n            _resize: $.noop,\r\n            _panEnd: function () {\r\n                this._applyExtent();\r\n            },\r\n            _applyExtent: function () {\r\n                var options = this.options;\r\n                var zoom = this.map.zoom();\r\n                var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\r\n                var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\r\n                var extent = Extent.create(options.extent);\r\n                var inside = !extent || extent.overlaps(this.map.extent());\r\n                this._setVisibility(matchMinZoom && matchMaxZoom && inside);\r\n            },\r\n            _setVisibility: function (visible) {\r\n                this.element.css('display', visible ? '' : 'none');\r\n            },\r\n            _activate: function () {\r\n                var map = this.map;\r\n                map.bind('beforeReset', this._beforeReset);\r\n                map.bind('reset', this._reset);\r\n                map.bind('resize', this._resize);\r\n                map.bind('panEnd', this._panEnd);\r\n            },\r\n            _deactivate: function () {\r\n                var map = this.map;\r\n                map.unbind('beforeReset', this._beforeReset);\r\n                map.unbind('reset', this._reset);\r\n                map.unbind('resize', this._resize);\r\n                map.unbind('panEnd', this._panEnd);\r\n            },\r\n            _updateAttribution: function () {\r\n                var attr = this.map.attribution;\r\n                if (attr) {\r\n                    attr.add(this.options.attribution);\r\n                }\r\n            }\r\n        });\r\n        deepExtend(dataviz, { map: { layers: { Layer: Layer } } });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/shape', [\r\n        'dataviz/map/layers/base',\r\n        'dataviz/map/location'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, last = kendo.util.last, defined = kendo.util.defined, g = kendo.geometry, d = kendo.drawing, Group = d.Group, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\r\n        var ShapeLayer = Layer.extend({\r\n            init: function (map, options) {\r\n                this._pan = proxy(this._pan, this);\r\n                Layer.fn.init.call(this, map, options);\r\n                this.surface = d.Surface.create(this.element, {\r\n                    width: map.scrollElement.width(),\r\n                    height: map.scrollElement.height()\r\n                });\r\n                this._initRoot();\r\n                this.movable = new kendo.ui.Movable(this.surface.element);\r\n                this._markers = [];\r\n                this._click = this._handler('shapeClick');\r\n                this.surface.bind('click', this._click);\r\n                this._mouseenter = this._handler('shapeMouseEnter');\r\n                this.surface.bind('mouseenter', this._mouseenter);\r\n                this._mouseleave = this._handler('shapeMouseLeave');\r\n                this.surface.bind('mouseleave', this._mouseleave);\r\n                this._initDataSource();\r\n            },\r\n            options: { autoBind: true },\r\n            destroy: function () {\r\n                Layer.fn.destroy.call(this);\r\n                this.surface.destroy();\r\n                this.dataSource.unbind('change', this._dataChange);\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                if (this.dataSource) {\r\n                    this.dataSource.unbind('change', this._dataChange);\r\n                }\r\n                this.dataSource = kendo.data.DataSource.create(dataSource);\r\n                this.dataSource.bind('change', this._dataChange);\r\n                if (this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            },\r\n            _reset: function () {\r\n                Layer.fn._reset.call(this);\r\n                this._translateSurface();\r\n                if (this._data) {\r\n                    this._load(this._data);\r\n                }\r\n            },\r\n            _initRoot: function () {\r\n                this._root = new Group();\r\n                this.surface.draw(this._root);\r\n            },\r\n            _beforeReset: function () {\r\n                this.surface.clear();\r\n                this._initRoot();\r\n            },\r\n            _resize: function () {\r\n                this.surface.size(this.map.size());\r\n            },\r\n            _initDataSource: function () {\r\n                var dsOptions = this.options.dataSource;\r\n                this._dataChange = proxy(this._dataChange, this);\r\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\r\n                if (dsOptions && this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            },\r\n            _dataChange: function (e) {\r\n                this._data = e.sender.view();\r\n                this._load(this._data);\r\n            },\r\n            _load: function (data) {\r\n                this._clearMarkers();\r\n                if (!this._loader) {\r\n                    this._loader = new GeoJSONLoader(this.map, this.options.style, this);\r\n                }\r\n                var container = new Group();\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var shape = this._loader.parse(data[i]);\r\n                    if (shape) {\r\n                        container.append(shape);\r\n                    }\r\n                }\r\n                this._root.clear();\r\n                this._root.append(container);\r\n            },\r\n            shapeCreated: function (shape) {\r\n                var cancelled = false;\r\n                if (shape instanceof d.Circle) {\r\n                    cancelled = defined(this._createMarker(shape));\r\n                }\r\n                if (!cancelled) {\r\n                    var args = {\r\n                        layer: this,\r\n                        shape: shape\r\n                    };\r\n                    cancelled = this.map.trigger('shapeCreated', args);\r\n                }\r\n                return cancelled;\r\n            },\r\n            featureCreated: function (e) {\r\n                e.layer = this;\r\n                this.map.trigger('shapeFeatureCreated', e);\r\n            },\r\n            _createMarker: function (shape) {\r\n                var marker = this.map.markers.bind({ location: shape.location }, shape.dataItem);\r\n                if (marker) {\r\n                    this._markers.push(marker);\r\n                }\r\n                return marker;\r\n            },\r\n            _clearMarkers: function () {\r\n                for (var i = 0; i < this._markers.length; i++) {\r\n                    this.map.markers.remove(this._markers[i]);\r\n                }\r\n                this._markers = [];\r\n            },\r\n            _pan: function () {\r\n                if (!this._panning) {\r\n                    this._panning = true;\r\n                    this.surface.suspendTracking();\r\n                }\r\n            },\r\n            _panEnd: function (e) {\r\n                Layer.fn._panEnd.call(this, e);\r\n                this._translateSurface();\r\n                this.surface.resumeTracking();\r\n                this._panning = false;\r\n            },\r\n            _translateSurface: function () {\r\n                var map = this.map;\r\n                var nw = map.locationToView(map.extent().nw);\r\n                if (this.surface.translate) {\r\n                    this.surface.translate(nw);\r\n                    this.movable.moveTo({\r\n                        x: nw.x,\r\n                        y: nw.y\r\n                    });\r\n                }\r\n            },\r\n            _handler: function (event) {\r\n                var layer = this;\r\n                return function (e) {\r\n                    if (e.element) {\r\n                        var args = {\r\n                            layer: layer,\r\n                            shape: e.element,\r\n                            originalEvent: e.originalEvent\r\n                        };\r\n                        layer.map.trigger(event, args);\r\n                    }\r\n                };\r\n            },\r\n            _activate: function () {\r\n                Layer.fn._activate.call(this);\r\n                this.map.bind('pan', this._pan);\r\n            },\r\n            _deactivate: function () {\r\n                Layer.fn._deactivate.call(this);\r\n                this.map.unbind('pan', this._pan);\r\n            }\r\n        });\r\n        var GeoJSONLoader = Class.extend({\r\n            init: function (locator, defaultStyle, observer) {\r\n                this.observer = observer;\r\n                this.locator = locator;\r\n                this.style = defaultStyle;\r\n            },\r\n            parse: function (item) {\r\n                var root = new Group();\r\n                var unwrap = true;\r\n                if (item.type === 'Feature') {\r\n                    unwrap = false;\r\n                    this._loadGeometryTo(root, item.geometry, item);\r\n                    this._featureCreated(root, item);\r\n                } else {\r\n                    this._loadGeometryTo(root, item, item);\r\n                }\r\n                if (unwrap && root.children.length < 2) {\r\n                    root = root.children[0];\r\n                }\r\n                return root;\r\n            },\r\n            _shapeCreated: function (shape) {\r\n                var cancelled = false;\r\n                if (this.observer && this.observer.shapeCreated) {\r\n                    cancelled = this.observer.shapeCreated(shape);\r\n                }\r\n                return cancelled;\r\n            },\r\n            _featureCreated: function (group, dataItem) {\r\n                if (this.observer && this.observer.featureCreated) {\r\n                    this.observer.featureCreated({\r\n                        group: group,\r\n                        dataItem: dataItem,\r\n                        properties: dataItem.properties\r\n                    });\r\n                }\r\n            },\r\n            _loadGeometryTo: function (container, geometry, dataItem) {\r\n                var coords = geometry.coordinates;\r\n                var i;\r\n                var path;\r\n                switch (geometry.type) {\r\n                case 'LineString':\r\n                    path = this._loadPolygon(container, [coords], dataItem);\r\n                    this._setLineFill(path);\r\n                    break;\r\n                case 'MultiLineString':\r\n                    for (i = 0; i < coords.length; i++) {\r\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\r\n                        this._setLineFill(path);\r\n                    }\r\n                    break;\r\n                case 'Polygon':\r\n                    this._loadPolygon(container, coords, dataItem);\r\n                    break;\r\n                case 'MultiPolygon':\r\n                    for (i = 0; i < coords.length; i++) {\r\n                        this._loadPolygon(container, coords[i], dataItem);\r\n                    }\r\n                    break;\r\n                case 'Point':\r\n                    this._loadPoint(container, coords, dataItem);\r\n                    break;\r\n                case 'MultiPoint':\r\n                    for (i = 0; i < coords.length; i++) {\r\n                        this._loadPoint(container, coords[i], dataItem);\r\n                    }\r\n                    break;\r\n                }\r\n            },\r\n            _setLineFill: function (path) {\r\n                var segments = path.segments;\r\n                if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\r\n                    path.options.fill = null;\r\n                }\r\n            },\r\n            _loadShape: function (container, shape) {\r\n                if (!this._shapeCreated(shape)) {\r\n                    container.append(shape);\r\n                }\r\n                return shape;\r\n            },\r\n            _loadPolygon: function (container, rings, dataItem) {\r\n                var shape = this._buildPolygon(rings);\r\n                shape.dataItem = dataItem;\r\n                return this._loadShape(container, shape);\r\n            },\r\n            _buildPolygon: function (rings) {\r\n                var type = rings.length > 1 ? d.MultiPath : d.Path;\r\n                var path = new type(this.style);\r\n                for (var i = 0; i < rings.length; i++) {\r\n                    for (var j = 0; j < rings[i].length; j++) {\r\n                        var point = this.locator.locationToView(Location.fromLngLat(rings[i][j]));\r\n                        if (j === 0) {\r\n                            path.moveTo(point.x, point.y);\r\n                        } else {\r\n                            path.lineTo(point.x, point.y);\r\n                        }\r\n                    }\r\n                }\r\n                return path;\r\n            },\r\n            _loadPoint: function (container, coords, dataItem) {\r\n                var location = Location.fromLngLat(coords);\r\n                var point = this.locator.locationToView(location);\r\n                var circle = new g.Circle(point, 10);\r\n                var shape = new d.Circle(circle, this.style);\r\n                shape.dataItem = dataItem;\r\n                shape.location = location;\r\n                return this._loadShape(container, shape);\r\n            }\r\n        });\r\n        deepExtend(kendo.data, {\r\n            schemas: {\r\n                geojson: {\r\n                    type: 'json',\r\n                    data: function (data) {\r\n                        if (data.type === 'FeatureCollection') {\r\n                            return data.features;\r\n                        }\r\n                        if (data.type === 'GeometryCollection') {\r\n                            return data.geometries;\r\n                        }\r\n                        return data;\r\n                    }\r\n                }\r\n            },\r\n            transports: { geojson: { read: { dataType: 'json' } } }\r\n        });\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                layers: {\r\n                    shape: ShapeLayer,\r\n                    ShapeLayer: ShapeLayer\r\n                },\r\n                GeoJSONLoader: GeoJSONLoader\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/bubble', ['dataviz/map/layers/shape'], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, getter = kendo.getter, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, g = kendo.geometry, d = kendo.drawing, map = dataviz.map, Location = map.Location, ShapeLayer = map.layers.ShapeLayer;\r\n        var BubbleLayer = ShapeLayer.extend({\r\n            options: {\r\n                autoBind: true,\r\n                locationField: 'location',\r\n                valueField: 'value',\r\n                minSize: 0,\r\n                maxSize: 100,\r\n                scale: 'sqrt',\r\n                symbol: 'circle'\r\n            },\r\n            _load: function (data) {\r\n                this.surface.clear();\r\n                if (data.length === 0) {\r\n                    return;\r\n                }\r\n                var opt = this.options;\r\n                var getValue = getter(opt.valueField);\r\n                data = data.slice(0);\r\n                data.sort(function (a, b) {\r\n                    return getValue(b) - getValue(a);\r\n                });\r\n                var scaleType = this._scaleType();\r\n                var scale;\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var dataItem = data[i];\r\n                    var location = getter(opt.locationField)(dataItem);\r\n                    var value = getter(opt.valueField)(dataItem);\r\n                    if (defined(location) && defined(value)) {\r\n                        if (!scale) {\r\n                            scale = new scaleType([\r\n                                0,\r\n                                value\r\n                            ], [\r\n                                opt.minSize,\r\n                                opt.maxSize\r\n                            ]);\r\n                        }\r\n                        location = Location.create(location);\r\n                        var center = this.map.locationToView(location);\r\n                        var size = scale.map(value);\r\n                        var symbol = this._createSymbol({\r\n                            center: center,\r\n                            size: size,\r\n                            style: opt.style,\r\n                            dataItem: dataItem,\r\n                            location: location\r\n                        });\r\n                        symbol.dataItem = dataItem;\r\n                        symbol.location = location;\r\n                        symbol.value = value;\r\n                        this._drawSymbol(symbol);\r\n                    }\r\n                }\r\n            },\r\n            _scaleType: function () {\r\n                var scale = this.options.scale;\r\n                if (kendo.isFunction(scale)) {\r\n                    return scale;\r\n                }\r\n                return dataviz.map.scales[scale];\r\n            },\r\n            _createSymbol: function (args) {\r\n                var symbol = this.options.symbol;\r\n                if (!kendo.isFunction(symbol)) {\r\n                    symbol = dataviz.map.symbols[symbol];\r\n                }\r\n                return symbol(args);\r\n            },\r\n            _drawSymbol: function (shape) {\r\n                var args = {\r\n                    layer: this,\r\n                    shape: shape\r\n                };\r\n                var cancelled = this.map.trigger('shapeCreated', args);\r\n                if (!cancelled) {\r\n                    this.surface.draw(shape);\r\n                }\r\n            }\r\n        });\r\n        var SqrtScale = kendo.Class.extend({\r\n            init: function (domain, range) {\r\n                this._domain = domain;\r\n                this._range = range;\r\n                var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\r\n                var outputRange = range[1] - range[0];\r\n                this._ratio = outputRange / domainRange;\r\n            },\r\n            map: function (value) {\r\n                var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\r\n                return this._range[0] + rel;\r\n            }\r\n        });\r\n        var Symbols = {\r\n            circle: function (args) {\r\n                var geo = new g.Circle(args.center, args.size / 2);\r\n                return new d.Circle(geo, args.style);\r\n            },\r\n            square: function (args) {\r\n                var path = new d.Path(args.style);\r\n                var halfSize = args.size / 2;\r\n                var center = args.center;\r\n                path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();\r\n                return path;\r\n            }\r\n        };\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                layers: {\r\n                    bubble: BubbleLayer,\r\n                    BubbleLayer: BubbleLayer\r\n                },\r\n                scales: { sqrt: SqrtScale },\r\n                symbols: Symbols\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/tile', [\r\n        'dataviz/map/layers/base',\r\n        'dataviz/map/location'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var math = Math, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, template = kendo.template, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Layer = dataviz.map.layers.Layer, util = kendo.util, round = util.round, renderSize = util.renderSize, limit = util.limitValue;\r\n        var TileLayer = Layer.extend({\r\n            init: function (map, options) {\r\n                Layer.fn.init.call(this, map, options);\r\n                if (typeof this.options.subdomains === 'string') {\r\n                    this.options.subdomains = this.options.subdomains.split('');\r\n                }\r\n                var viewType = this._viewType();\r\n                this._view = new viewType(this.element, this.options);\r\n            },\r\n            destroy: function () {\r\n                Layer.fn.destroy.call(this);\r\n                this._view.destroy();\r\n                this._view = null;\r\n            },\r\n            _beforeReset: function () {\r\n                var map = this.map;\r\n                var origin = map.locationToLayer(map.extent().nw).round();\r\n                this._view.viewOrigin(origin);\r\n            },\r\n            _reset: function () {\r\n                Layer.fn._reset.call(this);\r\n                this._updateView();\r\n                this._view.reset();\r\n            },\r\n            _viewType: function () {\r\n                return TileView;\r\n            },\r\n            _activate: function () {\r\n                Layer.fn._activate.call(this);\r\n                if (!kendo.support.mobileOS) {\r\n                    if (!this._pan) {\r\n                        this._pan = kendo.throttle(proxy(this._render, this), 100);\r\n                    }\r\n                    this.map.bind('pan', this._pan);\r\n                }\r\n            },\r\n            _deactivate: function () {\r\n                Layer.fn._deactivate.call(this);\r\n                if (this._pan) {\r\n                    this.map.unbind('pan', this._pan);\r\n                }\r\n            },\r\n            _updateView: function () {\r\n                var view = this._view, map = this.map, extent = map.extent(), extentToPoint = {\r\n                        nw: map.locationToLayer(extent.nw).round(),\r\n                        se: map.locationToLayer(extent.se).round()\r\n                    };\r\n                view.center(map.locationToLayer(map.center()));\r\n                view.extent(extentToPoint);\r\n                view.zoom(map.zoom());\r\n            },\r\n            _resize: function () {\r\n                this._render();\r\n            },\r\n            _panEnd: function (e) {\r\n                Layer.fn._panEnd.call(this, e);\r\n                this._render();\r\n            },\r\n            _render: function () {\r\n                this._updateView();\r\n                this._view.render();\r\n            }\r\n        });\r\n        var TileView = Class.extend({\r\n            init: function (element, options) {\r\n                this.element = element;\r\n                this._initOptions(options);\r\n                this.pool = new TilePool();\r\n            },\r\n            options: {\r\n                tileSize: 256,\r\n                subdomains: [\r\n                    'a',\r\n                    'b',\r\n                    'c'\r\n                ],\r\n                urlTemplate: ''\r\n            },\r\n            center: function (center) {\r\n                this._center = center;\r\n            },\r\n            extent: function (extent) {\r\n                this._extent = extent;\r\n            },\r\n            viewOrigin: function (origin) {\r\n                this._viewOrigin = origin;\r\n            },\r\n            zoom: function (zoom) {\r\n                this._zoom = zoom;\r\n            },\r\n            pointToTileIndex: function (point) {\r\n                return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\r\n            },\r\n            tileCount: function () {\r\n                var size = this.size(), firstTileIndex = this.pointToTileIndex(this._extent.nw), nw = this._extent.nw, point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\r\n                return {\r\n                    x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\r\n                    y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\r\n                };\r\n            },\r\n            size: function () {\r\n                var nw = this._extent.nw, se = this._extent.se, diff = se.clone().translate(-nw.x, -nw.y);\r\n                return {\r\n                    width: diff.x,\r\n                    height: diff.y\r\n                };\r\n            },\r\n            indexToPoint: function (index) {\r\n                var x = index.x, y = index.y;\r\n                return new Point(x * this.options.tileSize, y * this.options.tileSize);\r\n            },\r\n            subdomainText: function () {\r\n                var subdomains = this.options.subdomains;\r\n                return subdomains[this.subdomainIndex++ % subdomains.length];\r\n            },\r\n            destroy: function () {\r\n                this.element.empty();\r\n                this.pool.empty();\r\n            },\r\n            reset: function () {\r\n                this.pool.reset();\r\n                this.subdomainIndex = 0;\r\n                this.render();\r\n            },\r\n            render: function () {\r\n                var size = this.tileCount(), firstTileIndex = this.pointToTileIndex(this._extent.nw), tile, x, y;\r\n                for (x = 0; x < size.x; x++) {\r\n                    for (y = 0; y < size.y; y++) {\r\n                        tile = this.createTile({\r\n                            x: firstTileIndex.x + x,\r\n                            y: firstTileIndex.y + y\r\n                        });\r\n                        if (!tile.visible) {\r\n                            tile.show();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            createTile: function (currentIndex) {\r\n                var options = this.tileOptions(currentIndex);\r\n                var tile = this.pool.get(this._center, options);\r\n                if (tile.element.parent().length === 0) {\r\n                    this.element.append(tile.element);\r\n                }\r\n                return tile;\r\n            },\r\n            tileOptions: function (currentIndex) {\r\n                var index = this.wrapIndex(currentIndex), point = this.indexToPoint(currentIndex), origin = this._viewOrigin, offset = point.clone().translate(-origin.x, -origin.y);\r\n                return {\r\n                    index: index,\r\n                    currentIndex: currentIndex,\r\n                    point: point,\r\n                    offset: roundPoint(offset),\r\n                    zoom: this._zoom,\r\n                    size: this.options.tileSize,\r\n                    subdomain: this.subdomainText(),\r\n                    urlTemplate: this.options.urlTemplate,\r\n                    errorUrlTemplate: this.options.errorUrlTemplate\r\n                };\r\n            },\r\n            wrapIndex: function (index) {\r\n                var boundary = math.pow(2, this._zoom);\r\n                return {\r\n                    x: this.wrapValue(index.x, boundary),\r\n                    y: limit(index.y, 0, boundary - 1)\r\n                };\r\n            },\r\n            wrapValue: function (value, boundary) {\r\n                var remainder = math.abs(value) % boundary;\r\n                if (value >= 0) {\r\n                    value = remainder;\r\n                } else {\r\n                    value = boundary - (remainder === 0 ? boundary : remainder);\r\n                }\r\n                return value;\r\n            }\r\n        });\r\n        var ImageTile = Class.extend({\r\n            init: function (id, options) {\r\n                this.id = id;\r\n                this.visible = true;\r\n                this._initOptions(options);\r\n                this.createElement();\r\n                this.show();\r\n            },\r\n            options: {\r\n                urlTemplate: '',\r\n                errorUrlTemplate: ''\r\n            },\r\n            createElement: function () {\r\n                this.element = $('<img style=\\'position: absolute; display: block;\\' />').css({\r\n                    width: this.options.size,\r\n                    height: this.options.size\r\n                }).error(proxy(function (e) {\r\n                    if (this.errorUrl()) {\r\n                        e.target.setAttribute('src', this.errorUrl());\r\n                    } else {\r\n                        e.target.removeAttribute('src');\r\n                    }\r\n                }, this));\r\n            },\r\n            show: function () {\r\n                var element = this.element[0];\r\n                element.style.top = renderSize(this.options.offset.y);\r\n                element.style.left = renderSize(this.options.offset.x);\r\n                var url = this.url();\r\n                if (url) {\r\n                    element.setAttribute('src', url);\r\n                }\r\n                element.style.visibility = 'visible';\r\n                this.visible = true;\r\n            },\r\n            hide: function () {\r\n                this.element[0].style.visibility = 'hidden';\r\n                this.visible = false;\r\n            },\r\n            url: function () {\r\n                var urlResult = template(this.options.urlTemplate);\r\n                return urlResult(this.urlOptions());\r\n            },\r\n            errorUrl: function () {\r\n                var urlResult = template(this.options.errorUrlTemplate);\r\n                return urlResult(this.urlOptions());\r\n            },\r\n            urlOptions: function () {\r\n                var options = this.options;\r\n                return {\r\n                    zoom: options.zoom,\r\n                    subdomain: options.subdomain,\r\n                    z: options.zoom,\r\n                    x: options.index.x,\r\n                    y: options.index.y,\r\n                    s: options.subdomain,\r\n                    quadkey: options.quadkey,\r\n                    q: options.quadkey,\r\n                    culture: options.culture,\r\n                    c: options.culture\r\n                };\r\n            },\r\n            destroy: function () {\r\n                if (this.element) {\r\n                    this.element.remove();\r\n                    this.element = null;\r\n                }\r\n            }\r\n        });\r\n        var TilePool = Class.extend({\r\n            init: function () {\r\n                this._items = [];\r\n            },\r\n            options: { maxSize: 100 },\r\n            get: function (center, options) {\r\n                if (this._items.length >= this.options.maxSize) {\r\n                    this._remove(center);\r\n                }\r\n                return this._create(options);\r\n            },\r\n            empty: function () {\r\n                var items = this._items;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i].destroy();\r\n                }\r\n                this._items = [];\r\n            },\r\n            reset: function () {\r\n                var items = this._items;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i].hide();\r\n                }\r\n            },\r\n            _create: function (options) {\r\n                var items = this._items;\r\n                var tile;\r\n                var id = util.hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if (items[i].id === id) {\r\n                        tile = items[i];\r\n                        break;\r\n                    }\r\n                }\r\n                if (tile) {\r\n                    tile.show();\r\n                } else {\r\n                    tile = new ImageTile(id, options);\r\n                    this._items.push(tile);\r\n                }\r\n                return tile;\r\n            },\r\n            _remove: function (center) {\r\n                var items = this._items;\r\n                var maxDist = -1;\r\n                var index = -1;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var dist = items[i].options.point.distanceTo(center);\r\n                    if (dist > maxDist && !items[i].visible) {\r\n                        index = i;\r\n                        maxDist = dist;\r\n                    }\r\n                }\r\n                if (index !== -1) {\r\n                    items[index].destroy();\r\n                    items.splice(index, 1);\r\n                }\r\n            }\r\n        });\r\n        function roundPoint(point) {\r\n            return new Point(round(point.x), round(point.y));\r\n        }\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                layers: {\r\n                    tile: TileLayer,\r\n                    TileLayer: TileLayer,\r\n                    ImageTile: ImageTile,\r\n                    TilePool: TilePool,\r\n                    TileView: TileView\r\n                }\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/bing', ['dataviz/map/layers/tile'], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, defined = kendo.util.defined, Extent = dataviz.map.Extent, Location = dataviz.map.Location, TileLayer = dataviz.map.layers.TileLayer, TileView = dataviz.map.layers.TileView;\r\n        var BingLayer = TileLayer.extend({\r\n            init: function (map, options) {\r\n                this.options.baseUrl = this._scheme() + '://dev.virtualearth.net/REST/v1/Imagery/Metadata/';\r\n                TileLayer.fn.init.call(this, map, options);\r\n                this._onMetadata = $.proxy(this._onMetadata, this);\r\n                this._fetchMetadata();\r\n            },\r\n            options: { imagerySet: 'road' },\r\n            _fetchMetadata: function () {\r\n                var options = this.options;\r\n                if (!options.key) {\r\n                    throw new Error('Bing tile layer: API key is required');\r\n                }\r\n                $.ajax({\r\n                    url: options.baseUrl + options.imagerySet,\r\n                    data: {\r\n                        output: 'json',\r\n                        include: 'ImageryProviders',\r\n                        key: options.key,\r\n                        uriScheme: this._scheme()\r\n                    },\r\n                    type: 'get',\r\n                    dataType: 'jsonp',\r\n                    jsonp: 'jsonp',\r\n                    success: this._onMetadata\r\n                });\r\n            },\r\n            _scheme: function (proto) {\r\n                proto = proto || window.location.protocol;\r\n                return proto.replace(':', '') === 'https' ? 'https' : 'http';\r\n            },\r\n            _onMetadata: function (data) {\r\n                if (data && data.resourceSets.length) {\r\n                    var resource = this.resource = data.resourceSets[0].resources[0];\r\n                    deepExtend(this._view.options, {\r\n                        urlTemplate: resource.imageUrl.replace('{subdomain}', '#= subdomain #').replace('{quadkey}', '#= quadkey #').replace('{culture}', '#= culture #'),\r\n                        subdomains: resource.imageUrlSubdomains\r\n                    });\r\n                    var options = this.options;\r\n                    if (!defined(options.minZoom)) {\r\n                        options.minZoom = resource.zoomMin;\r\n                    }\r\n                    if (!defined(options.maxZoom)) {\r\n                        options.maxZoom = resource.zoomMax;\r\n                    }\r\n                    this._addAttribution();\r\n                    if (this.element.css('display') !== 'none') {\r\n                        this._reset();\r\n                    }\r\n                }\r\n            },\r\n            _viewType: function () {\r\n                return BingView;\r\n            },\r\n            _addAttribution: function () {\r\n                var attr = this.map.attribution;\r\n                if (attr) {\r\n                    var items = this.resource.imageryProviders;\r\n                    if (items) {\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            var item = items[i];\r\n                            for (var y = 0; y < item.coverageAreas.length; y++) {\r\n                                var area = item.coverageAreas[y];\r\n                                attr.add({\r\n                                    text: item.attribution,\r\n                                    minZoom: area.zoomMin,\r\n                                    maxZoom: area.zoomMax,\r\n                                    extent: new Extent(new Location(area.bbox[2], area.bbox[1]), new Location(area.bbox[0], area.bbox[3]))\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            imagerySet: function (value) {\r\n                if (value) {\r\n                    this.options.imagerySet = value;\r\n                    this.map.attribution.clear();\r\n                    this._fetchMetadata();\r\n                } else {\r\n                    return this.options.imagerySet;\r\n                }\r\n            }\r\n        });\r\n        var BingView = TileView.extend({\r\n            options: { culture: 'en-US' },\r\n            tileOptions: function (currentIndex) {\r\n                var options = TileView.fn.tileOptions.call(this, currentIndex);\r\n                options.culture = this.options.culture;\r\n                options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\r\n                return options;\r\n            },\r\n            tileQuadKey: function (index) {\r\n                var quadKey = '', digit, mask, i;\r\n                for (i = this._zoom; i > 0; i--) {\r\n                    digit = 0;\r\n                    mask = 1 << i - 1;\r\n                    if ((index.x & mask) !== 0) {\r\n                        digit++;\r\n                    }\r\n                    if ((index.y & mask) !== 0) {\r\n                        digit += 2;\r\n                    }\r\n                    quadKey += digit;\r\n                }\r\n                return quadKey;\r\n            }\r\n        });\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                layers: {\r\n                    bing: BingLayer,\r\n                    BingLayer: BingLayer,\r\n                    BingView: BingView\r\n                }\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/layers/marker', [\r\n        'dataviz/map/layers/base',\r\n        'dataviz/map/location',\r\n        'kendo.data',\r\n        'kendo.tooltip'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var doc = document, math = Math, indexOf = $.inArray, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, Tooltip = kendo.ui.Tooltip, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\r\n        var MarkerLayer = Layer.extend({\r\n            init: function (map, options) {\r\n                Layer.fn.init.call(this, map, options);\r\n                this._markerClick = proxy(this._markerClick, this);\r\n                this.element.on('click', '.k-marker', this._markerClick);\r\n                this.items = [];\r\n                this._initDataSource();\r\n            },\r\n            destroy: function () {\r\n                Layer.fn.destroy.call(this);\r\n                this.element.off('click', '.k-marker', this._markerClick);\r\n                this.dataSource.unbind('change', this._dataChange);\r\n                this.clear();\r\n            },\r\n            options: {\r\n                zIndex: 1000,\r\n                autoBind: true,\r\n                dataSource: {},\r\n                locationField: 'location',\r\n                titleField: 'title'\r\n            },\r\n            add: function (arg) {\r\n                if ($.isArray(arg)) {\r\n                    for (var i = 0; i < arg.length; i++) {\r\n                        this._addOne(arg[i]);\r\n                    }\r\n                } else {\r\n                    return this._addOne(arg);\r\n                }\r\n            },\r\n            remove: function (marker) {\r\n                marker.destroy();\r\n                var index = indexOf(marker, this.items);\r\n                if (index > -1) {\r\n                    this.items.splice(index, 1);\r\n                }\r\n            },\r\n            clear: function () {\r\n                for (var i = 0; i < this.items.length; i++) {\r\n                    this.items[i].destroy();\r\n                }\r\n                this.items = [];\r\n            },\r\n            update: function (marker) {\r\n                var loc = marker.location();\r\n                if (loc) {\r\n                    marker.showAt(this.map.locationToView(loc));\r\n                    var args = {\r\n                        marker: marker,\r\n                        layer: this\r\n                    };\r\n                    this.map.trigger('markerActivate', args);\r\n                }\r\n            },\r\n            _reset: function () {\r\n                Layer.fn._reset.call(this);\r\n                var items = this.items;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    this.update(items[i]);\r\n                }\r\n            },\r\n            bind: function (options, dataItem) {\r\n                var marker = map.Marker.create(options, this.options);\r\n                marker.dataItem = dataItem;\r\n                var args = {\r\n                    marker: marker,\r\n                    layer: this\r\n                };\r\n                var cancelled = this.map.trigger('markerCreated', args);\r\n                if (!cancelled) {\r\n                    this.add(marker);\r\n                    return marker;\r\n                }\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                if (this.dataSource) {\r\n                    this.dataSource.unbind('change', this._dataChange);\r\n                }\r\n                this.dataSource = kendo.data.DataSource.create(dataSource);\r\n                this.dataSource.bind('change', this._dataChange);\r\n                if (this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            },\r\n            _addOne: function (arg) {\r\n                var marker = Marker.create(arg, this.options);\r\n                marker.addTo(this);\r\n                return marker;\r\n            },\r\n            _initDataSource: function () {\r\n                var dsOptions = this.options.dataSource;\r\n                this._dataChange = proxy(this._dataChange, this);\r\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\r\n                if (dsOptions && this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            },\r\n            _dataChange: function (e) {\r\n                this._load(e.sender.view());\r\n            },\r\n            _load: function (data) {\r\n                this._data = data;\r\n                this.clear();\r\n                var getLocation = kendo.getter(this.options.locationField);\r\n                var getTitle = kendo.getter(this.options.titleField);\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var dataItem = data[i];\r\n                    this.bind({\r\n                        location: getLocation(dataItem),\r\n                        title: getTitle(dataItem)\r\n                    }, dataItem);\r\n                }\r\n            },\r\n            _markerClick: function (e) {\r\n                var args = {\r\n                    marker: $(e.target).data('kendoMarker'),\r\n                    layer: this\r\n                };\r\n                this.map.trigger('markerClick', args);\r\n            }\r\n        });\r\n        var Marker = Class.extend({\r\n            init: function (options) {\r\n                this.options = options || {};\r\n            },\r\n            addTo: function (parent) {\r\n                this.layer = parent.markers || parent;\r\n                this.layer.items.push(this);\r\n                this.layer.update(this);\r\n            },\r\n            location: function (value) {\r\n                if (value) {\r\n                    this.options.location = Location.create(value).toArray();\r\n                    if (this.layer) {\r\n                        this.layer.update(this);\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    return Location.create(this.options.location);\r\n                }\r\n            },\r\n            showAt: function (point) {\r\n                this.render();\r\n                this.element.css({\r\n                    left: math.round(point.x),\r\n                    top: math.round(point.y)\r\n                });\r\n                if (this.tooltip && this.tooltip.popup) {\r\n                    this.tooltip.popup._position();\r\n                }\r\n            },\r\n            hide: function () {\r\n                if (this.element) {\r\n                    this.element.remove();\r\n                    this.element = null;\r\n                }\r\n                if (this.tooltip) {\r\n                    this.tooltip.destroy();\r\n                    this.tooltip = null;\r\n                }\r\n            },\r\n            destroy: function () {\r\n                this.layer = null;\r\n                this.hide();\r\n            },\r\n            render: function () {\r\n                if (!this.element) {\r\n                    var options = this.options;\r\n                    var layer = this.layer;\r\n                    this.element = $(doc.createElement('span')).addClass('k-marker k-marker-' + kendo.toHyphens(options.shape || 'pin')).attr('title', options.title).attr(options.attributes || {}).data('kendoMarker', this).css('zIndex', options.zIndex);\r\n                    if (layer) {\r\n                        layer.element.append(this.element);\r\n                    }\r\n                    this.renderTooltip();\r\n                }\r\n            },\r\n            renderTooltip: function () {\r\n                var marker = this;\r\n                var title = marker.options.title;\r\n                var options = marker.options.tooltip || {};\r\n                if (options && Tooltip) {\r\n                    var template = options.template;\r\n                    if (template) {\r\n                        var contentTemplate = kendo.template(template);\r\n                        options.content = function (e) {\r\n                            e.location = marker.location();\r\n                            e.marker = marker;\r\n                            return contentTemplate(e);\r\n                        };\r\n                    }\r\n                    if (title || options.content || options.contentUrl) {\r\n                        this.tooltip = new Tooltip(this.element, options);\r\n                        this.tooltip.marker = this;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        Marker.create = function (arg, defaults) {\r\n            if (arg instanceof Marker) {\r\n                return arg;\r\n            }\r\n            return new Marker(deepExtend({}, defaults, arg));\r\n        };\r\n        deepExtend(dataviz, {\r\n            map: {\r\n                layers: {\r\n                    marker: MarkerLayer,\r\n                    MarkerLayer: MarkerLayer\r\n                },\r\n                Marker: Marker\r\n            }\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/map/main', [\r\n        'dataviz/map/crs',\r\n        'dataviz/map/location'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var doc = document, math = Math, min = math.min, pow = math.pow, proxy = $.proxy, kendo = window.kendo, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, ui = dataviz.ui, g = kendo.geometry, Point = g.Point, map = dataviz.map, Extent = map.Extent, Location = map.Location, EPSG3857 = map.crs.EPSG3857, util = kendo.util, defined = util.defined, limit = util.limitValue, renderPos = util.renderPos, valueOrDefault = util.valueOrDefault;\r\n        var CSS_PREFIX = 'k-', FRICTION = 0.9, FRICTION_MOBILE = 0.93, MOUSEWHEEL = 'DOMMouseScroll mousewheel', VELOCITY_MULTIPLIER = 5;\r\n        var Map = Widget.extend({\r\n            init: function (element, options) {\r\n                kendo.destroy(element);\r\n                Widget.fn.init.call(this, element);\r\n                this._initOptions(options);\r\n                this.bind(this.events, options);\r\n                this.crs = new EPSG3857();\r\n                this.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative').empty().append(doc.createElement('div'));\r\n                this._viewOrigin = this._getOrigin();\r\n                this._initScroller();\r\n                this._initMarkers();\r\n                this._initControls();\r\n                this._initLayers();\r\n                this._reset();\r\n                this._mousewheel = proxy(this._mousewheel, this);\r\n                this.element.bind('click', proxy(this._click, this));\r\n                this.element.bind(MOUSEWHEEL, this._mousewheel);\r\n            },\r\n            options: {\r\n                name: 'Map',\r\n                controls: {\r\n                    attribution: true,\r\n                    navigator: { panStep: 100 },\r\n                    zoom: true\r\n                },\r\n                layers: [],\r\n                layerDefaults: {\r\n                    shape: {\r\n                        style: {\r\n                            fill: { color: '#fff' },\r\n                            stroke: {\r\n                                color: '#aaa',\r\n                                width: 0.5\r\n                            }\r\n                        }\r\n                    },\r\n                    bubble: {\r\n                        style: {\r\n                            fill: {\r\n                                color: '#fff',\r\n                                opacity: 0.5\r\n                            },\r\n                            stroke: {\r\n                                color: '#aaa',\r\n                                width: 0.5\r\n                            }\r\n                        }\r\n                    },\r\n                    marker: {\r\n                        shape: 'pinTarget',\r\n                        tooltip: { position: 'top' }\r\n                    }\r\n                },\r\n                center: [\r\n                    0,\r\n                    0\r\n                ],\r\n                zoom: 3,\r\n                minSize: 256,\r\n                minZoom: 1,\r\n                maxZoom: 19,\r\n                markers: [],\r\n                markerDefaults: {\r\n                    shape: 'pinTarget',\r\n                    tooltip: { position: 'top' }\r\n                },\r\n                wraparound: true\r\n            },\r\n            events: [\r\n                'beforeReset',\r\n                'click',\r\n                'markerActivate',\r\n                'markerClick',\r\n                'markerCreated',\r\n                'pan',\r\n                'panEnd',\r\n                'reset',\r\n                'shapeClick',\r\n                'shapeCreated',\r\n                'shapeFeatureCreated',\r\n                'shapeMouseEnter',\r\n                'shapeMouseLeave',\r\n                'zoomEnd',\r\n                'zoomStart'\r\n            ],\r\n            destroy: function () {\r\n                this.scroller.destroy();\r\n                if (this.navigator) {\r\n                    this.navigator.destroy();\r\n                }\r\n                if (this.attribution) {\r\n                    this.attribution.destroy();\r\n                }\r\n                if (this.zoomControl) {\r\n                    this.zoomControl.destroy();\r\n                }\r\n                this.markers.destroy();\r\n                for (var i = 0; i < this.layers.length; i++) {\r\n                    this.layers[i].destroy();\r\n                }\r\n                Widget.fn.destroy.call(this);\r\n            },\r\n            zoom: function (level) {\r\n                var options = this.options;\r\n                if (defined(level)) {\r\n                    level = math.round(limit(level, options.minZoom, options.maxZoom));\r\n                    if (options.zoom !== level) {\r\n                        options.zoom = level;\r\n                        this._reset();\r\n                    }\r\n                    return this;\r\n                } else {\r\n                    return options.zoom;\r\n                }\r\n            },\r\n            center: function (center) {\r\n                if (center) {\r\n                    this.options.center = Location.create(center).toArray();\r\n                    this._reset();\r\n                    return this;\r\n                } else {\r\n                    return Location.create(this.options.center);\r\n                }\r\n            },\r\n            extent: function (extent) {\r\n                if (extent) {\r\n                    this._setExtent(extent);\r\n                    return this;\r\n                } else {\r\n                    return this._getExtent();\r\n                }\r\n            },\r\n            setOptions: function (options) {\r\n                Widget.fn.setOptions.call(this, options);\r\n                this._reset();\r\n            },\r\n            locationToLayer: function (location, zoom) {\r\n                var clamp = !this.options.wraparound;\r\n                location = Location.create(location);\r\n                return this.crs.toPoint(location, this._layerSize(zoom), clamp);\r\n            },\r\n            layerToLocation: function (point, zoom) {\r\n                var clamp = !this.options.wraparound;\r\n                point = Point.create(point);\r\n                return this.crs.toLocation(point, this._layerSize(zoom), clamp);\r\n            },\r\n            locationToView: function (location) {\r\n                location = Location.create(location);\r\n                var origin = this.locationToLayer(this._viewOrigin);\r\n                var point = this.locationToLayer(location);\r\n                return point.translateWith(origin.scale(-1));\r\n            },\r\n            viewToLocation: function (point, zoom) {\r\n                var origin = this.locationToLayer(this._getOrigin(), zoom);\r\n                point = Point.create(point);\r\n                point = point.clone().translateWith(origin);\r\n                return this.layerToLocation(point, zoom);\r\n            },\r\n            eventOffset: function (e) {\r\n                var offset = this.element.offset();\r\n                var event = e.originalEvent || e;\r\n                var x = valueOrDefault(event.pageX, event.clientX) - offset.left;\r\n                var y = valueOrDefault(event.pageY, event.clientY) - offset.top;\r\n                return new g.Point(x, y);\r\n            },\r\n            eventToView: function (e) {\r\n                var cursor = this.eventOffset(e);\r\n                return this.locationToView(this.viewToLocation(cursor));\r\n            },\r\n            eventToLayer: function (e) {\r\n                return this.locationToLayer(this.eventToLocation(e));\r\n            },\r\n            eventToLocation: function (e) {\r\n                var cursor = this.eventOffset(e);\r\n                return this.viewToLocation(cursor);\r\n            },\r\n            viewSize: function () {\r\n                var element = this.element;\r\n                var scale = this._layerSize();\r\n                var width = element.width();\r\n                if (!this.options.wraparound) {\r\n                    width = min(scale, width);\r\n                }\r\n                return {\r\n                    width: width,\r\n                    height: min(scale, element.height())\r\n                };\r\n            },\r\n            exportVisual: function () {\r\n                this._reset();\r\n                return false;\r\n            },\r\n            _setOrigin: function (origin, zoom) {\r\n                var size = this.viewSize(), topLeft;\r\n                origin = this._origin = Location.create(origin);\r\n                topLeft = this.locationToLayer(origin, zoom);\r\n                topLeft.x += size.width / 2;\r\n                topLeft.y += size.height / 2;\r\n                this.options.center = this.layerToLocation(topLeft, zoom).toArray();\r\n                return this;\r\n            },\r\n            _getOrigin: function (invalidate) {\r\n                var size = this.viewSize(), topLeft;\r\n                if (invalidate || !this._origin) {\r\n                    topLeft = this.locationToLayer(this.center());\r\n                    topLeft.x -= size.width / 2;\r\n                    topLeft.y -= size.height / 2;\r\n                    this._origin = this.layerToLocation(topLeft);\r\n                }\r\n                return this._origin;\r\n            },\r\n            _setExtent: function (extent) {\r\n                extent = Extent.create(extent);\r\n                this.center(extent.center());\r\n                var width = this.element.width();\r\n                var height = this.element.height();\r\n                for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\r\n                    var nw = this.locationToLayer(extent.nw, zoom);\r\n                    var se = this.locationToLayer(extent.se, zoom);\r\n                    var layerWidth = math.abs(se.x - nw.x);\r\n                    var layerHeight = math.abs(se.y - nw.y);\r\n                    if (layerWidth <= width && layerHeight <= height) {\r\n                        break;\r\n                    }\r\n                }\r\n                this.zoom(zoom);\r\n            },\r\n            _getExtent: function () {\r\n                var nw = this._getOrigin();\r\n                var bottomRight = this.locationToLayer(nw);\r\n                var size = this.viewSize();\r\n                bottomRight.x += size.width;\r\n                bottomRight.y += size.height;\r\n                var se = this.layerToLocation(bottomRight);\r\n                return new Extent(nw, se);\r\n            },\r\n            _zoomAround: function (pivot, level) {\r\n                this._setOrigin(this.layerToLocation(pivot, level), level);\r\n                this.zoom(level);\r\n            },\r\n            _initControls: function () {\r\n                var controls = this.options.controls;\r\n                if (ui.Attribution && controls.attribution) {\r\n                    this._createAttribution(controls.attribution);\r\n                }\r\n                if (!kendo.support.mobileOS) {\r\n                    if (ui.Navigator && controls.navigator) {\r\n                        this._createNavigator(controls.navigator);\r\n                    }\r\n                    if (ui.ZoomControl && controls.zoom) {\r\n                        this._createZoomControl(controls.zoom);\r\n                    }\r\n                }\r\n            },\r\n            _createControlElement: function (options, defaultPos) {\r\n                var pos = options.position || defaultPos;\r\n                var posSelector = '.' + renderPos(pos).replace(' ', '.');\r\n                var wrap = $('.k-map-controls' + posSelector, this.element);\r\n                if (wrap.length === 0) {\r\n                    wrap = $('<div>').addClass('k-map-controls ' + renderPos(pos)).appendTo(this.element);\r\n                }\r\n                return $('<div>').appendTo(wrap);\r\n            },\r\n            _createAttribution: function (options) {\r\n                var element = this._createControlElement(options, 'bottomRight');\r\n                this.attribution = new ui.Attribution(element, options);\r\n            },\r\n            _createNavigator: function (options) {\r\n                var element = this._createControlElement(options, 'topLeft');\r\n                var navigator = this.navigator = new ui.Navigator(element, options);\r\n                this._navigatorPan = proxy(this._navigatorPan, this);\r\n                navigator.bind('pan', this._navigatorPan);\r\n                this._navigatorCenter = proxy(this._navigatorCenter, this);\r\n                navigator.bind('center', this._navigatorCenter);\r\n            },\r\n            _navigatorPan: function (e) {\r\n                var map = this;\r\n                var scroller = map.scroller;\r\n                var x = scroller.scrollLeft + e.x;\r\n                var y = scroller.scrollTop - e.y;\r\n                var bounds = this._virtualSize;\r\n                var height = this.element.height();\r\n                var width = this.element.width();\r\n                x = limit(x, bounds.x.min, bounds.x.max - width);\r\n                y = limit(y, bounds.y.min, bounds.y.max - height);\r\n                map.scroller.one('scroll', function (e) {\r\n                    map._scrollEnd(e);\r\n                });\r\n                map.scroller.scrollTo(-x, -y);\r\n            },\r\n            _navigatorCenter: function () {\r\n                this.center(this.options.center);\r\n            },\r\n            _createZoomControl: function (options) {\r\n                var element = this._createControlElement(options, 'topLeft');\r\n                var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\r\n                this._zoomControlChange = proxy(this._zoomControlChange, this);\r\n                zoomControl.bind('change', this._zoomControlChange);\r\n            },\r\n            _zoomControlChange: function (e) {\r\n                if (!this.trigger('zoomStart', { originalEvent: e })) {\r\n                    this.zoom(this.zoom() + e.delta);\r\n                    this.trigger('zoomEnd', { originalEvent: e });\r\n                }\r\n            },\r\n            _initScroller: function () {\r\n                var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\r\n                var zoomable = this.options.zoomable !== false;\r\n                var scroller = this.scroller = new kendo.mobile.ui.Scroller(this.element.children(0), {\r\n                    friction: friction,\r\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\r\n                    zoom: zoomable,\r\n                    mousewheelScrolling: false\r\n                });\r\n                scroller.bind('scroll', proxy(this._scroll, this));\r\n                scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\r\n                scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\r\n                scroller.userEvents.bind('gestureend', proxy(this._scale, this));\r\n                this.scrollElement = scroller.scrollElement;\r\n            },\r\n            _initLayers: function () {\r\n                var defs = this.options.layers, layers = this.layers = [];\r\n                for (var i = 0; i < defs.length; i++) {\r\n                    var options = defs[i];\r\n                    var type = options.type || 'shape';\r\n                    var defaults = this.options.layerDefaults[type];\r\n                    var impl = dataviz.map.layers[type];\r\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\r\n                }\r\n            },\r\n            _initMarkers: function () {\r\n                this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\r\n                this.markers.add(this.options.markers);\r\n            },\r\n            _scroll: function (e) {\r\n                var origin = this.locationToLayer(this._viewOrigin).round();\r\n                var movable = e.sender.movable;\r\n                var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\r\n                origin.x += offset.x;\r\n                origin.y += offset.y;\r\n                this._scrollOffset = offset;\r\n                this._setOrigin(this.layerToLocation(origin));\r\n                this.trigger('pan', {\r\n                    originalEvent: e,\r\n                    origin: this._getOrigin(),\r\n                    center: this.center()\r\n                });\r\n            },\r\n            _scrollEnd: function (e) {\r\n                if (!this._scrollOffset || !this._panComplete()) {\r\n                    return;\r\n                }\r\n                this._scrollOffset = null;\r\n                this._panEndTS = new Date();\r\n                this.trigger('panEnd', {\r\n                    originalEvent: e,\r\n                    origin: this._getOrigin(),\r\n                    center: this.center()\r\n                });\r\n            },\r\n            _panComplete: function () {\r\n                return new Date() - (this._panEndTS || 0) > 50;\r\n            },\r\n            _scaleStart: function (e) {\r\n                if (this.trigger('zoomStart', { originalEvent: e })) {\r\n                    var touch = e.touches[1];\r\n                    if (touch) {\r\n                        touch.cancel();\r\n                    }\r\n                }\r\n            },\r\n            _scale: function (e) {\r\n                var scale = this.scroller.movable.scale;\r\n                var zoom = this._scaleToZoom(scale);\r\n                var gestureCenter = new g.Point(e.center.x, e.center.y);\r\n                var centerLocation = this.viewToLocation(gestureCenter, zoom);\r\n                var centerPoint = this.locationToLayer(centerLocation, zoom);\r\n                var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\r\n                this._zoomAround(originPoint, zoom);\r\n                this.trigger('zoomEnd', { originalEvent: e });\r\n            },\r\n            _scaleToZoom: function (scaleDelta) {\r\n                var scale = this._layerSize() * scaleDelta;\r\n                var tiles = scale / this.options.minSize;\r\n                var zoom = math.log(tiles) / math.log(2);\r\n                return math.round(zoom);\r\n            },\r\n            _reset: function () {\r\n                if (this.attribution) {\r\n                    this.attribution.filter(this.center(), this.zoom());\r\n                }\r\n                this._viewOrigin = this._getOrigin(true);\r\n                this._resetScroller();\r\n                this.trigger('beforeReset');\r\n                this.trigger('reset');\r\n            },\r\n            _resetScroller: function () {\r\n                var scroller = this.scroller;\r\n                var x = scroller.dimensions.x;\r\n                var y = scroller.dimensions.y;\r\n                var scale = this._layerSize();\r\n                var nw = this.extent().nw;\r\n                var topLeft = this.locationToLayer(nw).round();\r\n                scroller.movable.round = true;\r\n                scroller.reset();\r\n                scroller.userEvents.cancel();\r\n                var zoom = this.zoom();\r\n                scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\r\n                scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\r\n                var xBounds = {\r\n                    min: -topLeft.x,\r\n                    max: scale - topLeft.x\r\n                };\r\n                var yBounds = {\r\n                    min: -topLeft.y,\r\n                    max: scale - topLeft.y\r\n                };\r\n                if (this.options.wraparound) {\r\n                    xBounds.max = 20 * scale;\r\n                    xBounds.min = -xBounds.max;\r\n                }\r\n                if (this.options.pannable === false) {\r\n                    var viewSize = this.viewSize();\r\n                    xBounds.min = yBounds.min = 0;\r\n                    xBounds.max = viewSize.width;\r\n                    yBounds.max = viewSize.height;\r\n                }\r\n                x.makeVirtual();\r\n                y.makeVirtual();\r\n                x.virtualSize(xBounds.min, xBounds.max);\r\n                y.virtualSize(yBounds.min, yBounds.max);\r\n                this._virtualSize = {\r\n                    x: xBounds,\r\n                    y: yBounds\r\n                };\r\n            },\r\n            _renderLayers: function () {\r\n                var defs = this.options.layers, layers = this.layers = [], scrollWrap = this.scrollWrap;\r\n                scrollWrap.empty();\r\n                for (var i = 0; i < defs.length; i++) {\r\n                    var options = defs[i];\r\n                    var type = options.type || 'shape';\r\n                    var defaults = this.options.layerDefaults[type];\r\n                    var impl = dataviz.map.layers[type];\r\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\r\n                }\r\n            },\r\n            _layerSize: function (zoom) {\r\n                zoom = valueOrDefault(zoom, this.options.zoom);\r\n                return this.options.minSize * pow(2, zoom);\r\n            },\r\n            _click: function (e) {\r\n                if (!this._panComplete()) {\r\n                    return;\r\n                }\r\n                var cursor = this.eventOffset(e);\r\n                this.trigger('click', {\r\n                    originalEvent: e,\r\n                    location: this.viewToLocation(cursor)\r\n                });\r\n            },\r\n            _mousewheel: function (e) {\r\n                e.preventDefault();\r\n                var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\r\n                var options = this.options;\r\n                var fromZoom = this.zoom();\r\n                var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\r\n                if (options.zoomable !== false && toZoom !== fromZoom) {\r\n                    if (!this.trigger('zoomStart', { originalEvent: e })) {\r\n                        var cursor = this.eventOffset(e);\r\n                        var location = this.viewToLocation(cursor);\r\n                        var postZoom = this.locationToLayer(location, toZoom);\r\n                        var origin = postZoom.translate(-cursor.x, -cursor.y);\r\n                        this._zoomAround(origin, toZoom);\r\n                        this.trigger('zoomEnd', { originalEvent: e });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        dataviz.ui.plugin(Map);\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.map', [\r\n        'kendo.data',\r\n        'kendo.userevents',\r\n        'kendo.tooltip',\r\n        'kendo.mobile.scroller',\r\n        'kendo.draganddrop',\r\n        'kendo.dataviz.core',\r\n        'dataviz/map/location',\r\n        'dataviz/map/attribution',\r\n        'dataviz/map/navigator',\r\n        'dataviz/map/zoom',\r\n        'dataviz/map/crs',\r\n        'dataviz/map/layers/base',\r\n        'dataviz/map/layers/shape',\r\n        'dataviz/map/layers/bubble',\r\n        'dataviz/map/layers/tile',\r\n        'dataviz/map/layers/bing',\r\n        'dataviz/map/layers/marker',\r\n        'dataviz/map/main'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.map',\r\n        name: 'Map',\r\n        category: 'dataviz',\r\n        description: 'The Kendo DataViz Map displays spatial data',\r\n        depends: [\r\n            'data',\r\n            'userevents',\r\n            'tooltip',\r\n            'dataviz.core',\r\n            'drawing',\r\n            'mobile.scroller'\r\n        ]\r\n    };\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/utils', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, diagram = kendo.dataviz.diagram = {}, deepExtend = kendo.deepExtend, isArray = $.isArray, EPSILON = 0.000001;\r\n        var Utils = {};\r\n        deepExtend(Utils, {\r\n            isNearZero: function (num) {\r\n                return Math.abs(num) < EPSILON;\r\n            },\r\n            isDefined: function (obj) {\r\n                return typeof obj !== 'undefined';\r\n            },\r\n            isUndefined: function (obj) {\r\n                return typeof obj === 'undefined' || obj === null;\r\n            },\r\n            isObject: function (obj) {\r\n                return obj === Object(obj);\r\n            },\r\n            has: function (obj, key) {\r\n                return Object.hasOwnProperty.call(obj, key);\r\n            },\r\n            isString: function (obj) {\r\n                return Object.prototype.toString.call(obj) == '[object String]';\r\n            },\r\n            isBoolean: function (obj) {\r\n                return Object.prototype.toString.call(obj) == '[object Boolean]';\r\n            },\r\n            isType: function (obj, type) {\r\n                return Object.prototype.toString.call(obj) == '[object ' + type + ']';\r\n            },\r\n            isNumber: function (obj) {\r\n                return !isNaN(parseFloat(obj)) && isFinite(obj);\r\n            },\r\n            isEmpty: function (obj) {\r\n                if (obj === null) {\r\n                    return true;\r\n                }\r\n                if (isArray(obj) || Utils.isString(obj)) {\r\n                    return obj.length === 0;\r\n                }\r\n                for (var key in obj) {\r\n                    if (Utils.has(obj, key)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            },\r\n            simpleExtend: function (destination, source) {\r\n                if (!Utils.isObject(source)) {\r\n                    return;\r\n                }\r\n                for (var name in source) {\r\n                    destination[name] = source[name];\r\n                }\r\n            },\r\n            initArray: function createIdArray(size, value) {\r\n                var array = [];\r\n                for (var i = 0; i < size; ++i) {\r\n                    array[i] = value;\r\n                }\r\n                return array;\r\n            },\r\n            serializePoints: function (points) {\r\n                var res = [];\r\n                for (var i = 0; i < points.length; i++) {\r\n                    var p = points[i];\r\n                    res.push(p.x + ';' + p.y);\r\n                }\r\n                return res.join(';');\r\n            },\r\n            deserializePoints: function (s) {\r\n                var v = s.split(';'), points = [];\r\n                if (v.length % 2 !== 0) {\r\n                    throw 'Not an array of points.';\r\n                }\r\n                for (var i = 0; i < v.length; i += 2) {\r\n                    points.push(new diagram.Point(parseInt(v[i], 10), parseInt(v[i + 1], 10)));\r\n                }\r\n                return points;\r\n            },\r\n            randomInteger: function (lower, upper) {\r\n                return parseInt(Math.floor(Math.random() * upper) + lower, 10);\r\n            },\r\n            DFT: function (el, func) {\r\n                func(el);\r\n                if (el.childNodes) {\r\n                    for (var i = 0; i < el.childNodes.length; i++) {\r\n                        var item = el.childNodes[i];\r\n                        this.DFT(item, func);\r\n                    }\r\n                }\r\n            },\r\n            getMatrixAngle: function (m) {\r\n                if (m === null || m.d === 0) {\r\n                    return 0;\r\n                }\r\n                return Math.atan2(m.b, m.d) * 180 / Math.PI;\r\n            },\r\n            getMatrixScaling: function (m) {\r\n                var sX = Math.sqrt(m.a * m.a + m.c * m.c);\r\n                var sY = Math.sqrt(m.b * m.b + m.d * m.d);\r\n                return [\r\n                    sX,\r\n                    sY\r\n                ];\r\n            }\r\n        });\r\n        function Range(start, stop, step) {\r\n            if (typeof start == 'undefined' || typeof stop == 'undefined') {\r\n                return [];\r\n            }\r\n            if (step && Utils.sign(stop - start) != Utils.sign(step)) {\r\n                throw 'The sign of the increment should allow to reach the stop-value.';\r\n            }\r\n            step = step || 1;\r\n            start = start || 0;\r\n            stop = stop || start;\r\n            if ((stop - start) / step === Infinity) {\r\n                throw 'Infinite range defined.';\r\n            }\r\n            var range = [], i = -1, j;\r\n            function rangeIntegerScale(x) {\r\n                var k = 1;\r\n                while (x * k % 1) {\r\n                    k *= 10;\r\n                }\r\n                return k;\r\n            }\r\n            var k = rangeIntegerScale(Math.abs(step));\r\n            start *= k;\r\n            stop *= k;\r\n            step *= k;\r\n            if (start > stop && step > 0) {\r\n                step = -step;\r\n            }\r\n            if (step < 0) {\r\n                while ((j = start + step * ++i) >= stop) {\r\n                    range.push(j / k);\r\n                }\r\n            } else {\r\n                while ((j = start + step * ++i) <= stop) {\r\n                    range.push(j / k);\r\n                }\r\n            }\r\n            return range;\r\n        }\r\n        function findRadian(start, end) {\r\n            if (start == end) {\r\n                return 0;\r\n            }\r\n            var sngXComp = end.x - start.x, sngYComp = start.y - end.y, atan = Math.atan(sngXComp / sngYComp);\r\n            if (sngYComp >= 0) {\r\n                return sngXComp < 0 ? atan + 2 * Math.PI : atan;\r\n            }\r\n            return atan + Math.PI;\r\n        }\r\n        Utils.sign = function (number) {\r\n            return number ? number < 0 ? -1 : 1 : 0;\r\n        };\r\n        Utils.findAngle = function (center, end) {\r\n            return findRadian(center, end) * 180 / Math.PI;\r\n        };\r\n        Utils.forEach = function (arr, iterator, thisRef) {\r\n            for (var i = 0; i < arr.length; i++) {\r\n                iterator.call(thisRef, arr[i], i, arr);\r\n            }\r\n        };\r\n        Utils.any = function (arr, predicate) {\r\n            for (var i = 0; i < arr.length; ++i) {\r\n                if (predicate(arr[i])) {\r\n                    return arr[i];\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        Utils.remove = function (arr, what) {\r\n            var ax;\r\n            while ((ax = Utils.indexOf(arr, what)) !== -1) {\r\n                arr.splice(ax, 1);\r\n            }\r\n            return arr;\r\n        };\r\n        Utils.contains = function (arr, obj) {\r\n            return Utils.indexOf(arr, obj) !== -1;\r\n        };\r\n        Utils.indexOf = function (arr, what) {\r\n            return $.inArray(what, arr);\r\n        };\r\n        Utils.fold = function (list, iterator, acc, context) {\r\n            var initial = arguments.length > 2;\r\n            for (var i = 0; i < list.length; i++) {\r\n                var value = list[i];\r\n                if (!initial) {\r\n                    acc = value;\r\n                    initial = true;\r\n                } else {\r\n                    acc = iterator.call(context, acc, value, i, list);\r\n                }\r\n            }\r\n            if (!initial) {\r\n                throw 'Reduce of empty array with no initial value';\r\n            }\r\n            return acc;\r\n        };\r\n        Utils.find = function (arr, iterator, context) {\r\n            var result;\r\n            Utils.any(arr, function (value, index, list) {\r\n                if (iterator.call(context, value, index, list)) {\r\n                    result = value;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            return result;\r\n        };\r\n        Utils.first = function (arr, constraint, context) {\r\n            if (arr.length === 0) {\r\n                return null;\r\n            }\r\n            if (Utils.isUndefined(constraint)) {\r\n                return arr[0];\r\n            }\r\n            return Utils.find(arr, constraint, context);\r\n        };\r\n        Utils.insert = function (arr, element, position) {\r\n            arr.splice(position, 0, element);\r\n            return arr;\r\n        };\r\n        Utils.all = function (arr, iterator, context) {\r\n            var result = true;\r\n            var value;\r\n            for (var i = 0; i < arr.length; i++) {\r\n                value = arr[i];\r\n                result = result && iterator.call(context, value, i, arr);\r\n                if (!result) {\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        Utils.clear = function (arr) {\r\n            arr.splice(0, arr.length);\r\n        };\r\n        Utils.bisort = function (a, b, sortfunc) {\r\n            if (Utils.isUndefined(a)) {\r\n                throw 'First array is not specified.';\r\n            }\r\n            if (Utils.isUndefined(b)) {\r\n                throw 'Second array is not specified.';\r\n            }\r\n            if (a.length != b.length) {\r\n                throw 'The two arrays should have equal length';\r\n            }\r\n            var all = [], i;\r\n            for (i = 0; i < a.length; i++) {\r\n                all.push({\r\n                    'x': a[i],\r\n                    'y': b[i]\r\n                });\r\n            }\r\n            if (Utils.isUndefined(sortfunc)) {\r\n                all.sort(function (m, n) {\r\n                    return m.x - n.x;\r\n                });\r\n            } else {\r\n                all.sort(function (m, n) {\r\n                    return sortfunc(m.x, n.x);\r\n                });\r\n            }\r\n            Utils.clear(a);\r\n            Utils.clear(b);\r\n            for (i = 0; i < all.length; i++) {\r\n                a.push(all[i].x);\r\n                b.push(all[i].y);\r\n            }\r\n        };\r\n        Utils.addRange = function (arr, range) {\r\n            arr.push.apply(arr, range);\r\n        };\r\n        var Easing = {\r\n            easeInOut: function (pos) {\r\n                return -Math.cos(pos * Math.PI) / 2 + 0.5;\r\n            }\r\n        };\r\n        var Ticker = kendo.Class.extend({\r\n            init: function () {\r\n                this.adapters = [];\r\n                this.target = 0;\r\n                this.tick = 0;\r\n                this.interval = 20;\r\n                this.duration = 800;\r\n                this.lastTime = null;\r\n                this.handlers = [];\r\n                var _this = this;\r\n                this.transition = Easing.easeInOut;\r\n                this.timerDelegate = function () {\r\n                    _this.onTimerEvent();\r\n                };\r\n            },\r\n            addAdapter: function (a) {\r\n                this.adapters.push(a);\r\n            },\r\n            onComplete: function (handler) {\r\n                this.handlers.push(handler);\r\n            },\r\n            removeHandler: function (handler) {\r\n                this.handlers = $.grep(this.handlers, function (h) {\r\n                    return h !== handler;\r\n                });\r\n            },\r\n            trigger: function () {\r\n                var _this = this;\r\n                if (this.handlers) {\r\n                    Utils.forEach(this.handlers, function (h) {\r\n                        return h.call(_this.caller !== null ? _this.caller : _this);\r\n                    });\r\n                }\r\n            },\r\n            onStep: function () {\r\n            },\r\n            seekTo: function (to) {\r\n                this.seekFromTo(this.tick, to);\r\n            },\r\n            seekFromTo: function (from, to) {\r\n                this.target = Math.max(0, Math.min(1, to));\r\n                this.tick = Math.max(0, Math.min(1, from));\r\n                this.lastTime = new Date().getTime();\r\n                if (!this.intervalId) {\r\n                    this.intervalId = window.setInterval(this.timerDelegate, this.interval);\r\n                }\r\n            },\r\n            stop: function () {\r\n                if (this.intervalId) {\r\n                    window.clearInterval(this.intervalId);\r\n                    this.intervalId = null;\r\n                    this.trigger();\r\n                }\r\n            },\r\n            play: function (origin) {\r\n                if (this.adapters.length === 0) {\r\n                    return;\r\n                }\r\n                if (origin !== null) {\r\n                    this.caller = origin;\r\n                }\r\n                this.initState();\r\n                this.seekFromTo(0, 1);\r\n            },\r\n            reverse: function () {\r\n                this.seekFromTo(1, 0);\r\n            },\r\n            initState: function () {\r\n                if (this.adapters.length === 0) {\r\n                    return;\r\n                }\r\n                for (var i = 0; i < this.adapters.length; i++) {\r\n                    this.adapters[i].initState();\r\n                }\r\n            },\r\n            propagate: function () {\r\n                var value = this.transition(this.tick);\r\n                for (var i = 0; i < this.adapters.length; i++) {\r\n                    this.adapters[i].update(value);\r\n                }\r\n            },\r\n            onTimerEvent: function () {\r\n                var now = new Date().getTime();\r\n                var timePassed = now - this.lastTime;\r\n                this.lastTime = now;\r\n                var movement = timePassed / this.duration * (this.tick < this.target ? 1 : -1);\r\n                if (Math.abs(movement) >= Math.abs(this.tick - this.target)) {\r\n                    this.tick = this.target;\r\n                } else {\r\n                    this.tick += movement;\r\n                }\r\n                try {\r\n                    this.propagate();\r\n                } finally {\r\n                    this.onStep.call(this);\r\n                    if (this.target == this.tick) {\r\n                        this.stop();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        kendo.deepExtend(diagram, {\r\n            init: function (element) {\r\n                kendo.init(element, diagram.ui);\r\n            },\r\n            Utils: Utils,\r\n            Range: Range,\r\n            Ticker: Ticker\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/math', [\r\n        'dataviz/diagram/utils',\r\n        'kendo.dataviz.core'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, diagram = kendo.dataviz.diagram, Class = kendo.Class, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, Utils = diagram.Utils, Point = dataviz.Point2D, isFunction = kendo.isFunction, contains = Utils.contains, map = $.map;\r\n        var HITTESTAREA = 3, EPSILON = 0.000001;\r\n        deepExtend(Point.fn, {\r\n            plus: function (p) {\r\n                return new Point(this.x + p.x, this.y + p.y);\r\n            },\r\n            minus: function (p) {\r\n                return new Point(this.x - p.x, this.y - p.y);\r\n            },\r\n            offset: function (value) {\r\n                return new Point(this.x - value, this.y - value);\r\n            },\r\n            times: function (s) {\r\n                return new Point(this.x * s, this.y * s);\r\n            },\r\n            normalize: function () {\r\n                if (this.length() === 0) {\r\n                    return new Point();\r\n                }\r\n                return this.times(1 / this.length());\r\n            },\r\n            length: function () {\r\n                return Math.sqrt(this.x * this.x + this.y * this.y);\r\n            },\r\n            toString: function () {\r\n                return '(' + this.x + ',' + this.y + ')';\r\n            },\r\n            lengthSquared: function () {\r\n                return this.x * this.x + this.y * this.y;\r\n            },\r\n            middleOf: function MiddleOf(p, q) {\r\n                return new Point(q.x - p.x, q.y - p.y).times(0.5).plus(p);\r\n            },\r\n            toPolar: function (useDegrees) {\r\n                var factor = 1;\r\n                if (useDegrees) {\r\n                    factor = 180 / Math.PI;\r\n                }\r\n                var a = Math.atan2(Math.abs(this.y), Math.abs(this.x));\r\n                var halfpi = Math.PI / 2;\r\n                var len = this.length();\r\n                if (this.x === 0) {\r\n                    if (this.y === 0) {\r\n                        return new Polar(0, 0);\r\n                    }\r\n                    if (this.y > 0) {\r\n                        return new Polar(len, factor * halfpi);\r\n                    }\r\n                    if (this.y < 0) {\r\n                        return new Polar(len, factor * 3 * halfpi);\r\n                    }\r\n                } else if (this.x > 0) {\r\n                    if (this.y === 0) {\r\n                        return new Polar(len, 0);\r\n                    }\r\n                    if (this.y > 0) {\r\n                        return new Polar(len, factor * a);\r\n                    }\r\n                    if (this.y < 0) {\r\n                        return new Polar(len, factor * (4 * halfpi - a));\r\n                    }\r\n                } else {\r\n                    if (this.y === 0) {\r\n                        return new Polar(len, 2 * halfpi);\r\n                    }\r\n                    if (this.y > 0) {\r\n                        return new Polar(len, factor * (2 * halfpi - a));\r\n                    }\r\n                    if (this.y < 0) {\r\n                        return new Polar(len, factor * (2 * halfpi + a));\r\n                    }\r\n                }\r\n            },\r\n            isOnLine: function (from, to) {\r\n                if (from.x > to.x) {\r\n                    var temp = to;\r\n                    to = from;\r\n                    from = temp;\r\n                }\r\n                var r1 = new Rect(from.x, from.y).inflate(HITTESTAREA, HITTESTAREA), r2 = new Rect(to.x, to.y).inflate(HITTESTAREA, HITTESTAREA), o1, u1;\r\n                if (r1.union(r2).contains(this)) {\r\n                    if (from.x === to.x || from.y === to.y) {\r\n                        return true;\r\n                    } else if (from.y < to.y) {\r\n                        o1 = r1.x + (r2.x - r1.x) * (this.y - (r1.y + r1.height)) / (r2.y + r2.height - (r1.y + r1.height));\r\n                        u1 = r1.x + r1.width + (r2.x + r2.width - (r1.x + r1.width)) * (this.y - r1.y) / (r2.y - r1.y);\r\n                    } else {\r\n                        o1 = r1.x + (r2.x - r1.x) * (this.y - r1.y) / (r2.y - r1.y);\r\n                        u1 = r1.x + r1.width + (r2.x + r2.width - (r1.x + r1.width)) * (this.y - (r1.y + r1.height)) / (r2.y + r2.height - (r1.y + r1.height));\r\n                    }\r\n                    return this.x > o1 && this.x < u1;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        deepExtend(Point, {\r\n            parse: function (str) {\r\n                var tempStr = str.slice(1, str.length - 1), xy = tempStr.split(','), x = parseInt(xy[0], 10), y = parseInt(xy[1], 10);\r\n                if (!isNaN(x) && !isNaN(y)) {\r\n                    return new Point(x, y);\r\n                }\r\n            }\r\n        });\r\n        var PathDefiner = Class.extend({\r\n            init: function (p, left, right) {\r\n                this.point = p;\r\n                this.left = left;\r\n                this.right = right;\r\n            }\r\n        });\r\n        var Rect = Class.extend({\r\n            init: function (x, y, width, height) {\r\n                this.x = x || 0;\r\n                this.y = y || 0;\r\n                this.width = width || 0;\r\n                this.height = height || 0;\r\n            },\r\n            contains: function (point) {\r\n                return point.x >= this.x && point.x <= this.x + this.width && point.y >= this.y && point.y <= this.y + this.height;\r\n            },\r\n            inflate: function (dx, dy) {\r\n                if (dy === undefined) {\r\n                    dy = dx;\r\n                }\r\n                this.x -= dx;\r\n                this.y -= dy;\r\n                this.width += 2 * dx + 1;\r\n                this.height += 2 * dy + 1;\r\n                return this;\r\n            },\r\n            offset: function (dx, dy) {\r\n                var x = dx, y = dy;\r\n                if (dx instanceof Point) {\r\n                    x = dx.x;\r\n                    y = dx.y;\r\n                }\r\n                this.x += x;\r\n                this.y += y;\r\n                return this;\r\n            },\r\n            union: function (r) {\r\n                var x1 = Math.min(this.x, r.x);\r\n                var y1 = Math.min(this.y, r.y);\r\n                var x2 = Math.max(this.x + this.width, r.x + r.width);\r\n                var y2 = Math.max(this.y + this.height, r.y + r.height);\r\n                return new Rect(x1, y1, x2 - x1, y2 - y1);\r\n            },\r\n            center: function () {\r\n                return new Point(this.x + this.width / 2, this.y + this.height / 2);\r\n            },\r\n            top: function () {\r\n                return new Point(this.x + this.width / 2, this.y);\r\n            },\r\n            right: function () {\r\n                return new Point(this.x + this.width, this.y + this.height / 2);\r\n            },\r\n            bottom: function () {\r\n                return new Point(this.x + this.width / 2, this.y + this.height);\r\n            },\r\n            left: function () {\r\n                return new Point(this.x, this.y + this.height / 2);\r\n            },\r\n            topLeft: function () {\r\n                return new Point(this.x, this.y);\r\n            },\r\n            topRight: function () {\r\n                return new Point(this.x + this.width, this.y);\r\n            },\r\n            bottomLeft: function () {\r\n                return new Point(this.x, this.y + this.height);\r\n            },\r\n            bottomRight: function () {\r\n                return new Point(this.x + this.width, this.y + this.height);\r\n            },\r\n            clone: function () {\r\n                return new Rect(this.x, this.y, this.width, this.height);\r\n            },\r\n            isEmpty: function () {\r\n                return !this.width && !this.height;\r\n            },\r\n            equals: function (rect) {\r\n                return this.x === rect.x && this.y === rect.y && this.width === rect.width && this.height === rect.height;\r\n            },\r\n            rotatedBounds: function (angle) {\r\n                var rect = this.clone(), points = this.rotatedPoints(angle), tl = points[0], tr = points[1], br = points[2], bl = points[3];\r\n                rect.x = Math.min(br.x, tl.x, tr.x, bl.x);\r\n                rect.y = Math.min(br.y, tl.y, tr.y, bl.y);\r\n                rect.width = Math.max(br.x, tl.x, tr.x, bl.x) - rect.x;\r\n                rect.height = Math.max(br.y, tl.y, tr.y, bl.y) - rect.y;\r\n                return rect;\r\n            },\r\n            rotatedPoints: function (angle) {\r\n                var rect = this, c = rect.center(), br = rect.bottomRight().rotate(c, 360 - angle), tl = rect.topLeft().rotate(c, 360 - angle), tr = rect.topRight().rotate(c, 360 - angle), bl = rect.bottomLeft().rotate(c, 360 - angle);\r\n                return [\r\n                    tl,\r\n                    tr,\r\n                    br,\r\n                    bl\r\n                ];\r\n            },\r\n            toString: function (delimiter) {\r\n                delimiter = delimiter || ' ';\r\n                return this.x + delimiter + this.y + delimiter + this.width + delimiter + this.height;\r\n            },\r\n            scale: function (scaleX, scaleY, staicPoint, adornerCenter, angle) {\r\n                var tl = this.topLeft();\r\n                var thisCenter = this.center();\r\n                tl.rotate(thisCenter, 360 - angle).rotate(adornerCenter, angle);\r\n                var delta = staicPoint.minus(tl);\r\n                var scaled = new Point(delta.x * scaleX, delta.y * scaleY);\r\n                var position = delta.minus(scaled);\r\n                tl = tl.plus(position);\r\n                tl.rotate(adornerCenter, 360 - angle).rotate(thisCenter, angle);\r\n                this.x = tl.x;\r\n                this.y = tl.y;\r\n                this.width *= scaleX;\r\n                this.height *= scaleY;\r\n            },\r\n            zoom: function (zoom) {\r\n                this.x *= zoom;\r\n                this.y *= zoom;\r\n                this.width *= zoom;\r\n                this.height *= zoom;\r\n                return this;\r\n            },\r\n            overlaps: function (rect) {\r\n                var bottomRight = this.bottomRight();\r\n                var rectBottomRight = rect.bottomRight();\r\n                var overlaps = !(bottomRight.x < rect.x || bottomRight.y < rect.y || rectBottomRight.x < this.x || rectBottomRight.y < this.y);\r\n                return overlaps;\r\n            }\r\n        });\r\n        var Size = Class.extend({\r\n            init: function (width, height) {\r\n                this.width = width;\r\n                this.height = height;\r\n            }\r\n        });\r\n        Size.prototype.Empty = new Size(0, 0);\r\n        Rect.toRect = function (rect) {\r\n            if (!(rect instanceof Rect)) {\r\n                rect = new Rect(rect.x, rect.y, rect.width, rect.height);\r\n            }\r\n            return rect;\r\n        };\r\n        Rect.empty = function () {\r\n            return new Rect(0, 0, 0, 0);\r\n        };\r\n        Rect.fromPoints = function (p, q) {\r\n            if (isNaN(p.x) || isNaN(p.y) || isNaN(q.x) || isNaN(q.y)) {\r\n                throw 'Some values are NaN.';\r\n            }\r\n            return new Rect(Math.min(p.x, q.x), Math.min(p.y, q.y), Math.abs(p.x - q.x), Math.abs(p.y - q.y));\r\n        };\r\n        function isNearZero(num) {\r\n            return Math.abs(num) < EPSILON;\r\n        }\r\n        function intersectLine(start1, end1, start2, end2, isSegment) {\r\n            var tangensdiff = (end1.x - start1.x) * (end2.y - start2.y) - (end1.y - start1.y) * (end2.x - start2.x);\r\n            if (isNearZero(tangensdiff)) {\r\n                return;\r\n            }\r\n            var num1 = (start1.y - start2.y) * (end2.x - start2.x) - (start1.x - start2.x) * (end2.y - start2.y);\r\n            var num2 = (start1.y - start2.y) * (end1.x - start1.x) - (start1.x - start2.x) * (end1.y - start1.y);\r\n            var r = num1 / tangensdiff;\r\n            var s = num2 / tangensdiff;\r\n            if (isSegment && (r < 0 || r > 1 || s < 0 || s > 1)) {\r\n                return;\r\n            }\r\n            return new Point(start1.x + r * (end1.x - start1.x), start1.y + r * (end1.y - start1.y));\r\n        }\r\n        var Intersect = {\r\n            lines: function (start1, end1, start2, end2) {\r\n                return intersectLine(start1, end1, start2, end2);\r\n            },\r\n            segments: function (start1, end1, start2, end2) {\r\n                return intersectLine(start1, end1, start2, end2, true);\r\n            },\r\n            rectWithLine: function (rect, start, end) {\r\n                return Intersect.segments(start, end, rect.topLeft(), rect.topRight()) || Intersect.segments(start, end, rect.topRight(), rect.bottomRight()) || Intersect.segments(start, end, rect.bottomLeft(), rect.bottomRight()) || Intersect.segments(start, end, rect.topLeft(), rect.bottomLeft());\r\n            },\r\n            rects: function (rect1, rect2, angle) {\r\n                var tl = rect2.topLeft(), tr = rect2.topRight(), bl = rect2.bottomLeft(), br = rect2.bottomRight();\r\n                var center = rect2.center();\r\n                if (angle) {\r\n                    tl = tl.rotate(center, angle);\r\n                    tr = tr.rotate(center, angle);\r\n                    bl = bl.rotate(center, angle);\r\n                    br = br.rotate(center, angle);\r\n                }\r\n                var intersect = rect1.contains(tl) || rect1.contains(tr) || rect1.contains(bl) || rect1.contains(br) || Intersect.rectWithLine(rect1, tl, tr) || Intersect.rectWithLine(rect1, tl, bl) || Intersect.rectWithLine(rect1, tr, br) || Intersect.rectWithLine(rect1, bl, br);\r\n                if (!intersect) {\r\n                    tl = rect1.topLeft();\r\n                    tr = rect1.topRight();\r\n                    bl = rect1.bottomLeft();\r\n                    br = rect1.bottomRight();\r\n                    if (angle) {\r\n                        var reverseAngle = 360 - angle;\r\n                        tl = tl.rotate(center, reverseAngle);\r\n                        tr = tr.rotate(center, reverseAngle);\r\n                        bl = bl.rotate(center, reverseAngle);\r\n                        br = br.rotate(center, reverseAngle);\r\n                    }\r\n                    intersect = rect2.contains(tl) || rect2.contains(tr) || rect2.contains(bl) || rect2.contains(br);\r\n                }\r\n                return intersect;\r\n            }\r\n        };\r\n        var RectAlign = Class.extend({\r\n            init: function (container) {\r\n                this.container = Rect.toRect(container);\r\n            },\r\n            align: function (content, alignment) {\r\n                var alignValues = alignment.toLowerCase().split(' ');\r\n                for (var i = 0; i < alignValues.length; i++) {\r\n                    content = this._singleAlign(content, alignValues[i]);\r\n                }\r\n                return content;\r\n            },\r\n            _singleAlign: function (content, alignment) {\r\n                if (isFunction(this[alignment])) {\r\n                    return this[alignment](content);\r\n                } else {\r\n                    return content;\r\n                }\r\n            },\r\n            left: function (content) {\r\n                return this._align(content, this._left);\r\n            },\r\n            center: function (content) {\r\n                return this._align(content, this._center);\r\n            },\r\n            right: function (content) {\r\n                return this._align(content, this._right);\r\n            },\r\n            stretch: function (content) {\r\n                return this._align(content, this._stretch);\r\n            },\r\n            top: function (content) {\r\n                return this._align(content, this._top);\r\n            },\r\n            middle: function (content) {\r\n                return this._align(content, this._middle);\r\n            },\r\n            bottom: function (content) {\r\n                return this._align(content, this._bottom);\r\n            },\r\n            _left: function (container, content) {\r\n                content.x = container.x;\r\n            },\r\n            _center: function (container, content) {\r\n                content.x = (container.width - content.width) / 2 || 0;\r\n            },\r\n            _right: function (container, content) {\r\n                content.x = container.width - content.width;\r\n            },\r\n            _top: function (container, content) {\r\n                content.y = container.y;\r\n            },\r\n            _middle: function (container, content) {\r\n                content.y = (container.height - content.height) / 2 || 0;\r\n            },\r\n            _bottom: function (container, content) {\r\n                content.y = container.height - content.height;\r\n            },\r\n            _stretch: function (container, content) {\r\n                content.x = 0;\r\n                content.y = 0;\r\n                content.height = container.height;\r\n                content.width = container.width;\r\n            },\r\n            _align: function (content, alignCalc) {\r\n                content = Rect.toRect(content);\r\n                alignCalc(this.container, content);\r\n                return content;\r\n            }\r\n        });\r\n        var Polar = Class.extend({\r\n            init: function (r, a) {\r\n                this.r = r;\r\n                this.angle = a;\r\n            }\r\n        });\r\n        var Matrix = Class.extend({\r\n            init: function (a, b, c, d, e, f) {\r\n                this.a = a || 0;\r\n                this.b = b || 0;\r\n                this.c = c || 0;\r\n                this.d = d || 0;\r\n                this.e = e || 0;\r\n                this.f = f || 0;\r\n            },\r\n            plus: function (m) {\r\n                this.a += m.a;\r\n                this.b += m.b;\r\n                this.c += m.c;\r\n                this.d += m.d;\r\n                this.e += m.e;\r\n                this.f += m.f;\r\n            },\r\n            minus: function (m) {\r\n                this.a -= m.a;\r\n                this.b -= m.b;\r\n                this.c -= m.c;\r\n                this.d -= m.d;\r\n                this.e -= m.e;\r\n                this.f -= m.f;\r\n            },\r\n            times: function (m) {\r\n                return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\r\n            },\r\n            apply: function (p) {\r\n                return new Point(this.a * p.x + this.c * p.y + this.e, this.b * p.x + this.d * p.y + this.f);\r\n            },\r\n            applyRect: function (r) {\r\n                return Rect.fromPoints(this.apply(r.topLeft()), this.apply(r.bottomRight()));\r\n            },\r\n            toString: function () {\r\n                return 'matrix(' + this.a + ' ' + this.b + ' ' + this.c + ' ' + this.d + ' ' + this.e + ' ' + this.f + ')';\r\n            }\r\n        });\r\n        deepExtend(Matrix, {\r\n            fromSVGMatrix: function (vm) {\r\n                var m = new Matrix();\r\n                m.a = vm.a;\r\n                m.b = vm.b;\r\n                m.c = vm.c;\r\n                m.d = vm.d;\r\n                m.e = vm.e;\r\n                m.f = vm.f;\r\n                return m;\r\n            },\r\n            fromMatrixVector: function (v) {\r\n                var m = new Matrix();\r\n                m.a = v.a;\r\n                m.b = v.b;\r\n                m.c = v.c;\r\n                m.d = v.d;\r\n                m.e = v.e;\r\n                m.f = v.f;\r\n                return m;\r\n            },\r\n            fromList: function (v) {\r\n                if (v.length !== 6) {\r\n                    throw 'The given list should consist of six elements.';\r\n                }\r\n                var m = new Matrix();\r\n                m.a = v[0];\r\n                m.b = v[1];\r\n                m.c = v[2];\r\n                m.d = v[3];\r\n                m.e = v[4];\r\n                m.f = v[5];\r\n                return m;\r\n            },\r\n            translation: function (x, y) {\r\n                var m = new Matrix();\r\n                m.a = 1;\r\n                m.b = 0;\r\n                m.c = 0;\r\n                m.d = 1;\r\n                m.e = x;\r\n                m.f = y;\r\n                return m;\r\n            },\r\n            unit: function () {\r\n                return new Matrix(1, 0, 0, 1, 0, 0);\r\n            },\r\n            rotation: function (angle, x, y) {\r\n                var m = new Matrix();\r\n                m.a = Math.cos(angle * Math.PI / 180);\r\n                m.b = Math.sin(angle * Math.PI / 180);\r\n                m.c = -m.b;\r\n                m.d = m.a;\r\n                m.e = x - x * m.a + y * m.b || 0;\r\n                m.f = y - y * m.a - x * m.b || 0;\r\n                return m;\r\n            },\r\n            scaling: function (scaleX, scaleY) {\r\n                var m = new Matrix();\r\n                m.a = scaleX;\r\n                m.b = 0;\r\n                m.c = 0;\r\n                m.d = scaleY;\r\n                m.e = 0;\r\n                m.f = 0;\r\n                return m;\r\n            },\r\n            parse: function (v) {\r\n                var parts, nums;\r\n                if (v) {\r\n                    v = v.trim();\r\n                    if (v.slice(0, 6).toLowerCase() === 'matrix') {\r\n                        nums = v.slice(7, v.length - 1).trim();\r\n                        parts = nums.split(',');\r\n                        if (parts.length === 6) {\r\n                            return Matrix.fromList(map(parts, function (p) {\r\n                                return parseFloat(p);\r\n                            }));\r\n                        }\r\n                        parts = nums.split(' ');\r\n                        if (parts.length === 6) {\r\n                            return Matrix.fromList(map(parts, function (p) {\r\n                                return parseFloat(p);\r\n                            }));\r\n                        }\r\n                    }\r\n                    if (v.slice(0, 1) === '(' && v.slice(v.length - 1) === ')') {\r\n                        v = v.substr(1, v.length - 1);\r\n                    }\r\n                    if (v.indexOf(',') > 0) {\r\n                        parts = v.split(',');\r\n                        if (parts.length === 6) {\r\n                            return Matrix.fromList(map(parts, function (p) {\r\n                                return parseFloat(p);\r\n                            }));\r\n                        }\r\n                    }\r\n                    if (v.indexOf(' ') > 0) {\r\n                        parts = v.split(' ');\r\n                        if (parts.length === 6) {\r\n                            return Matrix.fromList(map(parts, function (p) {\r\n                                return parseFloat(p);\r\n                            }));\r\n                        }\r\n                    }\r\n                }\r\n                return parts;\r\n            }\r\n        });\r\n        var MatrixVector = Class.extend({\r\n            init: function (a, b, c, d, e, f) {\r\n                this.a = a || 0;\r\n                this.b = b || 0;\r\n                this.c = c || 0;\r\n                this.d = d || 0;\r\n                this.e = e || 0;\r\n                this.f = f || 0;\r\n            },\r\n            fromMatrix: function FromMatrix(m) {\r\n                var v = new MatrixVector();\r\n                v.a = m.a;\r\n                v.b = m.b;\r\n                v.c = m.c;\r\n                v.d = m.d;\r\n                v.e = m.e;\r\n                v.f = m.f;\r\n                return v;\r\n            }\r\n        });\r\n        function normalVariable(mean, deviation) {\r\n            var x, y, r;\r\n            do {\r\n                x = Math.random() * 2 - 1;\r\n                y = Math.random() * 2 - 1;\r\n                r = x * x + y * y;\r\n            } while (!r || r > 1);\r\n            return mean + deviation * x * Math.sqrt(-2 * Math.log(r) / r);\r\n        }\r\n        function randomId(length) {\r\n            if (Utils.isUndefined(length)) {\r\n                length = 10;\r\n            }\r\n            var result = '';\r\n            var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n            for (var i = length; i > 0; --i) {\r\n                result += chars.charAt(Math.round(Math.random() * (chars.length - 1)));\r\n            }\r\n            return result;\r\n        }\r\n        var Geometry = {\r\n            _distanceToLineSquared: function (p, a, b) {\r\n                function d2(pt1, pt2) {\r\n                    return (pt1.x - pt2.x) * (pt1.x - pt2.x) + (pt1.y - pt2.y) * (pt1.y - pt2.y);\r\n                }\r\n                if (a === b) {\r\n                    return d2(p, a);\r\n                }\r\n                var vx = b.x - a.x, vy = b.y - a.y, dot = (p.x - a.x) * vx + (p.y - a.y) * vy;\r\n                if (dot < 0) {\r\n                    return d2(a, p);\r\n                }\r\n                dot = (b.x - p.x) * vx + (b.y - p.y) * vy;\r\n                if (dot < 0) {\r\n                    return d2(b, p);\r\n                }\r\n                dot = (b.x - p.x) * vy - (b.y - p.y) * vx;\r\n                return dot * dot / (vx * vx + vy * vy);\r\n            },\r\n            distanceToLine: function (p, a, b) {\r\n                return Math.sqrt(this._distanceToLineSquared(p, a, b));\r\n            },\r\n            distanceToPolyline: function (p, points) {\r\n                var minimum = Number.MAX_VALUE;\r\n                if (Utils.isUndefined(points) || points.length === 0) {\r\n                    return Number.MAX_VALUE;\r\n                }\r\n                for (var s = 0; s < points.length - 1; s++) {\r\n                    var p1 = points[s];\r\n                    var p2 = points[s + 1];\r\n                    var d = this._distanceToLineSquared(p, p1, p2);\r\n                    if (d < minimum) {\r\n                        minimum = d;\r\n                    }\r\n                }\r\n                return Math.sqrt(minimum);\r\n            }\r\n        };\r\n        var HashTable = kendo.Class.extend({\r\n            init: function () {\r\n                this._buckets = [];\r\n                this.length = 0;\r\n            },\r\n            add: function (key, value) {\r\n                var obj = this._createGetBucket(key);\r\n                if (Utils.isDefined(value)) {\r\n                    obj.value = value;\r\n                }\r\n                return obj;\r\n            },\r\n            get: function (key) {\r\n                if (this._bucketExists(key)) {\r\n                    return this._createGetBucket(key);\r\n                }\r\n                return null;\r\n            },\r\n            set: function (key, value) {\r\n                this.add(key, value);\r\n            },\r\n            containsKey: function (key) {\r\n                return this._bucketExists(key);\r\n            },\r\n            remove: function (key) {\r\n                if (this._bucketExists(key)) {\r\n                    var hashId = this._hash(key);\r\n                    delete this._buckets[hashId];\r\n                    this.length--;\r\n                    return key;\r\n                }\r\n            },\r\n            forEach: function (func) {\r\n                var hashes = this._hashes();\r\n                for (var i = 0, len = hashes.length; i < len; i++) {\r\n                    var hash = hashes[i];\r\n                    var bucket = this._buckets[hash];\r\n                    if (Utils.isUndefined(bucket)) {\r\n                        continue;\r\n                    }\r\n                    func(bucket);\r\n                }\r\n            },\r\n            clone: function () {\r\n                var ht = new HashTable();\r\n                var hashes = this._hashes();\r\n                for (var i = 0, len = hashes.length; i < len; i++) {\r\n                    var hash = hashes[i];\r\n                    var bucket = this._buckets[hash];\r\n                    if (Utils.isUndefined(bucket)) {\r\n                        continue;\r\n                    }\r\n                    ht.add(bucket.key, bucket.value);\r\n                }\r\n                return ht;\r\n            },\r\n            _hashes: function () {\r\n                var hashes = [];\r\n                for (var hash in this._buckets) {\r\n                    if (this._buckets.hasOwnProperty(hash)) {\r\n                        hashes.push(hash);\r\n                    }\r\n                }\r\n                return hashes;\r\n            },\r\n            _bucketExists: function (key) {\r\n                var hashId = this._hash(key);\r\n                return Utils.isDefined(this._buckets[hashId]);\r\n            },\r\n            _createGetBucket: function (key) {\r\n                var hashId = this._hash(key);\r\n                var bucket = this._buckets[hashId];\r\n                if (Utils.isUndefined(bucket)) {\r\n                    bucket = { key: key };\r\n                    this._buckets[hashId] = bucket;\r\n                    this.length++;\r\n                }\r\n                return bucket;\r\n            },\r\n            _hash: function (key) {\r\n                if (Utils.isNumber(key)) {\r\n                    return key;\r\n                }\r\n                if (Utils.isString(key)) {\r\n                    return this._hashString(key);\r\n                }\r\n                if (Utils.isObject(key)) {\r\n                    return this._objectHashId(key);\r\n                }\r\n                throw 'Unsupported key type.';\r\n            },\r\n            _hashString: function (s) {\r\n                var result = 0;\r\n                if (s.length === 0) {\r\n                    return result;\r\n                }\r\n                for (var i = 0; i < s.length; i++) {\r\n                    var ch = s.charCodeAt(i);\r\n                    result = result * 32 - result + ch;\r\n                }\r\n                return result;\r\n            },\r\n            _objectHashId: function (key) {\r\n                var id = key._hashId;\r\n                if (Utils.isUndefined(id)) {\r\n                    id = randomId();\r\n                    key._hashId = id;\r\n                }\r\n                return id;\r\n            }\r\n        });\r\n        var Dictionary = kendo.Observable.extend({\r\n            init: function (dictionary) {\r\n                var that = this;\r\n                kendo.Observable.fn.init.call(that);\r\n                this._hashTable = new HashTable();\r\n                this.length = 0;\r\n                if (Utils.isDefined(dictionary)) {\r\n                    if ($.isArray(dictionary)) {\r\n                        for (var i = 0; i < dictionary.length; i++) {\r\n                            this.add(dictionary[i]);\r\n                        }\r\n                    } else {\r\n                        dictionary.forEach(function (k, v) {\r\n                            this.add(k, v);\r\n                        }, this);\r\n                    }\r\n                }\r\n            },\r\n            add: function (key, value) {\r\n                var entry = this._hashTable.get(key);\r\n                if (!entry) {\r\n                    entry = this._hashTable.add(key);\r\n                    this.length++;\r\n                    this.trigger('changed');\r\n                }\r\n                entry.value = value;\r\n            },\r\n            set: function (key, value) {\r\n                this.add(key, value);\r\n            },\r\n            get: function (key) {\r\n                var entry = this._hashTable.get(key);\r\n                if (entry) {\r\n                    return entry.value;\r\n                }\r\n                throw new Error('Cannot find key ' + key);\r\n            },\r\n            containsKey: function (key) {\r\n                return this._hashTable.containsKey(key);\r\n            },\r\n            remove: function (key) {\r\n                if (this.containsKey(key)) {\r\n                    this.trigger('changed');\r\n                    this.length--;\r\n                    return this._hashTable.remove(key);\r\n                }\r\n            },\r\n            forEach: function (func, thisRef) {\r\n                this._hashTable.forEach(function (entry) {\r\n                    func.call(thisRef, entry.key, entry.value);\r\n                });\r\n            },\r\n            forEachValue: function (func, thisRef) {\r\n                this._hashTable.forEach(function (entry) {\r\n                    func.call(thisRef, entry.value);\r\n                });\r\n            },\r\n            forEachKey: function (func, thisRef) {\r\n                this._hashTable.forEach(function (entry) {\r\n                    func.call(thisRef, entry.key);\r\n                });\r\n            },\r\n            keys: function () {\r\n                var keys = [];\r\n                this.forEachKey(function (key) {\r\n                    keys.push(key);\r\n                });\r\n                return keys;\r\n            }\r\n        });\r\n        var Queue = kendo.Class.extend({\r\n            init: function () {\r\n                this._tail = null;\r\n                this._head = null;\r\n                this.length = 0;\r\n            },\r\n            enqueue: function (value) {\r\n                var entry = {\r\n                    value: value,\r\n                    next: null\r\n                };\r\n                if (!this._head) {\r\n                    this._head = entry;\r\n                    this._tail = this._head;\r\n                } else {\r\n                    this._tail.next = entry;\r\n                    this._tail = this._tail.next;\r\n                }\r\n                this.length++;\r\n            },\r\n            dequeue: function () {\r\n                if (this.length < 1) {\r\n                    throw new Error('The queue is empty.');\r\n                }\r\n                var value = this._head.value;\r\n                this._head = this._head.next;\r\n                this.length--;\r\n                return value;\r\n            },\r\n            contains: function (item) {\r\n                var current = this._head;\r\n                while (current) {\r\n                    if (current.value === item) {\r\n                        return true;\r\n                    }\r\n                    current = current.next;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        var Set = kendo.Observable.extend({\r\n            init: function (resource) {\r\n                var that = this;\r\n                kendo.Observable.fn.init.call(that);\r\n                this._hashTable = new HashTable();\r\n                this.length = 0;\r\n                if (Utils.isDefined(resource)) {\r\n                    if (resource instanceof HashTable) {\r\n                        resource.forEach(function (d) {\r\n                            this.add(d);\r\n                        });\r\n                    } else if (resource instanceof Dictionary) {\r\n                        resource.forEach(function (k, v) {\r\n                            this.add({\r\n                                key: k,\r\n                                value: v\r\n                            });\r\n                        }, this);\r\n                    }\r\n                }\r\n            },\r\n            contains: function (item) {\r\n                return this._hashTable.containsKey(item);\r\n            },\r\n            add: function (item) {\r\n                var entry = this._hashTable.get(item);\r\n                if (!entry) {\r\n                    this._hashTable.add(item, item);\r\n                    this.length++;\r\n                    this.trigger('changed');\r\n                }\r\n            },\r\n            get: function (item) {\r\n                if (this.contains(item)) {\r\n                    return this._hashTable.get(item).value;\r\n                } else {\r\n                    return null;\r\n                }\r\n            },\r\n            hash: function (item) {\r\n                return this._hashTable._hash(item);\r\n            },\r\n            remove: function (item) {\r\n                if (this.contains(item)) {\r\n                    this._hashTable.remove(item);\r\n                    this.length--;\r\n                    this.trigger('changed');\r\n                }\r\n            },\r\n            forEach: function (func, context) {\r\n                this._hashTable.forEach(function (kv) {\r\n                    func(kv.value);\r\n                }, context);\r\n            },\r\n            toArray: function () {\r\n                var r = [];\r\n                this.forEach(function (d) {\r\n                    r.push(d);\r\n                });\r\n                return r;\r\n            }\r\n        });\r\n        var Node = kendo.Class.extend({\r\n            init: function (id, shape) {\r\n                this.links = [];\r\n                this.outgoing = [];\r\n                this.incoming = [];\r\n                this.weight = 1;\r\n                if (Utils.isDefined(id)) {\r\n                    this.id = id;\r\n                } else {\r\n                    this.id = randomId();\r\n                }\r\n                if (Utils.isDefined(shape)) {\r\n                    this.associatedShape = shape;\r\n                    var b = shape.bounds();\r\n                    this.width = b.width;\r\n                    this.height = b.height;\r\n                    this.x = b.x;\r\n                    this.y = b.y;\r\n                } else {\r\n                    this.associatedShape = null;\r\n                }\r\n                this.data = null;\r\n                this.type = 'Node';\r\n                this.shortForm = 'Node \\'' + this.id + '\\'';\r\n                this.isVirtual = false;\r\n            },\r\n            isIsolated: function () {\r\n                return Utils.isEmpty(this.links);\r\n            },\r\n            bounds: function (r) {\r\n                if (!Utils.isDefined(r)) {\r\n                    return new diagram.Rect(this.x, this.y, this.width, this.height);\r\n                }\r\n                this.x = r.x;\r\n                this.y = r.y;\r\n                this.width = r.width;\r\n                this.height = r.height;\r\n            },\r\n            isLinkedTo: function (node) {\r\n                var that = this;\r\n                return Utils.any(that.links, function (link) {\r\n                    return link.getComplement(that) === node;\r\n                });\r\n            },\r\n            getChildren: function () {\r\n                if (this.outgoing.length === 0) {\r\n                    return [];\r\n                }\r\n                var children = [];\r\n                for (var i = 0, len = this.outgoing.length; i < len; i++) {\r\n                    var link = this.outgoing[i];\r\n                    children.push(link.getComplement(this));\r\n                }\r\n                return children;\r\n            },\r\n            getParents: function () {\r\n                if (this.incoming.length === 0) {\r\n                    return [];\r\n                }\r\n                var parents = [];\r\n                for (var i = 0, len = this.incoming.length; i < len; i++) {\r\n                    var link = this.incoming[i];\r\n                    parents.push(link.getComplement(this));\r\n                }\r\n                return parents;\r\n            },\r\n            clone: function () {\r\n                var copy = new Node();\r\n                if (Utils.isDefined(this.weight)) {\r\n                    copy.weight = this.weight;\r\n                }\r\n                if (Utils.isDefined(this.balance)) {\r\n                    copy.balance = this.balance;\r\n                }\r\n                if (Utils.isDefined(this.owner)) {\r\n                    copy.owner = this.owner;\r\n                }\r\n                copy.associatedShape = this.associatedShape;\r\n                copy.x = this.x;\r\n                copy.y = this.y;\r\n                copy.width = this.width;\r\n                copy.height = this.height;\r\n                return copy;\r\n            },\r\n            adjacentTo: function (node) {\r\n                return this.isLinkedTo(node) !== null;\r\n            },\r\n            removeLink: function (link) {\r\n                if (link.source === this) {\r\n                    Utils.remove(this.links, link);\r\n                    Utils.remove(this.outgoing, link);\r\n                    link.source = null;\r\n                }\r\n                if (link.target === this) {\r\n                    Utils.remove(this.links, link);\r\n                    Utils.remove(this.incoming, link);\r\n                    link.target = null;\r\n                }\r\n            },\r\n            hasLinkTo: function (node) {\r\n                return Utils.any(this.outgoing, function (link) {\r\n                    return link.target === node;\r\n                });\r\n            },\r\n            degree: function () {\r\n                return this.links.length;\r\n            },\r\n            incidentWith: function (link) {\r\n                return contains(this.links, link);\r\n            },\r\n            getLinksWith: function (node) {\r\n                return Utils.all(this.links, function (link) {\r\n                    return link.getComplement(this) === node;\r\n                }, this);\r\n            },\r\n            getNeighbors: function () {\r\n                var neighbors = [];\r\n                Utils.forEach(this.incoming, function (e) {\r\n                    neighbors.push(e.getComplement(this));\r\n                }, this);\r\n                Utils.forEach(this.outgoing, function (e) {\r\n                    neighbors.push(e.getComplement(this));\r\n                }, this);\r\n                return neighbors;\r\n            }\r\n        });\r\n        var Link = kendo.Class.extend({\r\n            init: function (source, target, id, connection) {\r\n                if (Utils.isUndefined(source)) {\r\n                    throw 'The source of the new link is not set.';\r\n                }\r\n                if (Utils.isUndefined(target)) {\r\n                    throw 'The target of the new link is not set.';\r\n                }\r\n                var sourceFound, targetFound;\r\n                if (Utils.isString(source)) {\r\n                    sourceFound = new Node(source);\r\n                } else {\r\n                    sourceFound = source;\r\n                }\r\n                if (Utils.isString(target)) {\r\n                    targetFound = new Node(target);\r\n                } else {\r\n                    targetFound = target;\r\n                }\r\n                this.source = sourceFound;\r\n                this.target = targetFound;\r\n                this.source.links.push(this);\r\n                this.target.links.push(this);\r\n                this.source.outgoing.push(this);\r\n                this.target.incoming.push(this);\r\n                if (Utils.isDefined(id)) {\r\n                    this.id = id;\r\n                } else {\r\n                    this.id = randomId();\r\n                }\r\n                if (Utils.isDefined(connection)) {\r\n                    this.associatedConnection = connection;\r\n                } else {\r\n                    this.associatedConnection = null;\r\n                }\r\n                this.type = 'Link';\r\n                this.shortForm = 'Link \\'' + this.source.id + '->' + this.target.id + '\\'';\r\n            },\r\n            getComplement: function (node) {\r\n                if (this.source !== node && this.target !== node) {\r\n                    throw 'The given node is not incident with this link.';\r\n                }\r\n                return this.source === node ? this.target : this.source;\r\n            },\r\n            getCommonNode: function (link) {\r\n                if (this.source === link.source || this.source === link.target) {\r\n                    return this.source;\r\n                }\r\n                if (this.target === link.source || this.target === link.target) {\r\n                    return this.target;\r\n                }\r\n                return null;\r\n            },\r\n            isBridging: function (v1, v2) {\r\n                return this.source === v1 && this.target === v2 || this.source === v2 && this.target === v1;\r\n            },\r\n            getNodes: function () {\r\n                return [\r\n                    this.source,\r\n                    this.target\r\n                ];\r\n            },\r\n            incidentWith: function (node) {\r\n                return this.source === node || this.target === node;\r\n            },\r\n            adjacentTo: function (link) {\r\n                return contains(this.source.links, link) || contains(this.target.links, link);\r\n            },\r\n            changeSource: function (node) {\r\n                Utils.remove(this.source.links, this);\r\n                Utils.remove(this.source.outgoing, this);\r\n                node.links.push(this);\r\n                node.outgoing.push(this);\r\n                this.source = node;\r\n            },\r\n            changeTarget: function (node) {\r\n                Utils.remove(this.target.links, this);\r\n                Utils.remove(this.target.incoming, this);\r\n                node.links.push(this);\r\n                node.incoming.push(this);\r\n                this.target = node;\r\n            },\r\n            changesNodes: function (v, w) {\r\n                if (this.source === v) {\r\n                    this.changeSource(w);\r\n                } else if (this.target === v) {\r\n                    this.changeTarget(w);\r\n                }\r\n            },\r\n            reverse: function () {\r\n                var oldSource = this.source;\r\n                var oldTarget = this.target;\r\n                this.source = oldTarget;\r\n                Utils.remove(oldSource.outgoing, this);\r\n                this.source.outgoing.push(this);\r\n                this.target = oldSource;\r\n                Utils.remove(oldTarget.incoming, this);\r\n                this.target.incoming.push(this);\r\n                return this;\r\n            },\r\n            directTo: function (target) {\r\n                if (this.source !== target && this.target !== target) {\r\n                    throw 'The given node is not incident with this link.';\r\n                }\r\n                if (this.target !== target) {\r\n                    this.reverse();\r\n                }\r\n            },\r\n            createReverseEdge: function () {\r\n                var r = this.clone();\r\n                r.reverse();\r\n                r.reversed = true;\r\n                return r;\r\n            },\r\n            clone: function () {\r\n                var clone = new Link(this.source, this.target);\r\n                return clone;\r\n            }\r\n        });\r\n        var Graph = kendo.Class.extend({\r\n            init: function (idOrDiagram) {\r\n                this.links = [];\r\n                this.nodes = [];\r\n                this._nodeMap = new Dictionary();\r\n                this.diagram = null;\r\n                this._root = null;\r\n                if (Utils.isDefined(idOrDiagram)) {\r\n                    if (Utils.isString(idOrDiagram)) {\r\n                        this.id = idOrDiagram;\r\n                    } else {\r\n                        this.diagram = idOrDiagram;\r\n                        this.id = idOrDiagram.id;\r\n                    }\r\n                } else {\r\n                    this.id = randomId();\r\n                }\r\n                this.bounds = new Rect();\r\n                this._hasCachedRelationships = false;\r\n                this.type = 'Graph';\r\n            },\r\n            cacheRelationships: function (forceRebuild) {\r\n                if (Utils.isUndefined(forceRebuild)) {\r\n                    forceRebuild = false;\r\n                }\r\n                if (this._hasCachedRelationships && !forceRebuild) {\r\n                    return;\r\n                }\r\n                for (var i = 0, len = this.nodes.length; i < len; i++) {\r\n                    var node = this.nodes[i];\r\n                    node.children = this.getChildren(node);\r\n                    node.parents = this.getParents(node);\r\n                }\r\n                this._hasCachedRelationships = true;\r\n            },\r\n            assignLevels: function (startNode, offset, visited) {\r\n                if (!startNode) {\r\n                    throw 'Start node not specified.';\r\n                }\r\n                if (Utils.isUndefined(offset)) {\r\n                    offset = 0;\r\n                }\r\n                this.cacheRelationships();\r\n                if (Utils.isUndefined(visited)) {\r\n                    visited = new Dictionary();\r\n                    Utils.forEach(this.nodes, function (n) {\r\n                        visited.add(n, false);\r\n                    });\r\n                }\r\n                visited.set(startNode, true);\r\n                startNode.level = offset;\r\n                var children = startNode.children;\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (!child || visited.get(child)) {\r\n                        continue;\r\n                    }\r\n                    this.assignLevels(child, offset + 1, visited);\r\n                }\r\n            },\r\n            root: function (value) {\r\n                if (Utils.isUndefined(value)) {\r\n                    if (!this._root) {\r\n                        var found = Utils.first(this.nodes, function (n) {\r\n                            return n.incoming.length === 0;\r\n                        });\r\n                        if (found) {\r\n                            return found;\r\n                        }\r\n                        return Utils.first(this.nodes);\r\n                    } else {\r\n                        return this._root;\r\n                    }\r\n                } else {\r\n                    this._root = value;\r\n                }\r\n            },\r\n            getConnectedComponents: function () {\r\n                this.componentIndex = 0;\r\n                this.setItemIndices();\r\n                var componentId = Utils.initArray(this.nodes.length, -1);\r\n                for (var v = 0; v < this.nodes.length; v++) {\r\n                    if (componentId[v] === -1) {\r\n                        this._collectConnectedNodes(componentId, v);\r\n                        this.componentIndex++;\r\n                    }\r\n                }\r\n                var components = [], i;\r\n                for (i = 0; i < this.componentIndex; ++i) {\r\n                    components[i] = new Graph();\r\n                }\r\n                for (i = 0; i < componentId.length; ++i) {\r\n                    var graph = components[componentId[i]];\r\n                    graph.addNodeAndOutgoings(this.nodes[i]);\r\n                }\r\n                components.sort(function (a, b) {\r\n                    return b.nodes.length - a.nodes.length;\r\n                });\r\n                return components;\r\n            },\r\n            _collectConnectedNodes: function (setIds, nodeIndex) {\r\n                setIds[nodeIndex] = this.componentIndex;\r\n                var node = this.nodes[nodeIndex];\r\n                Utils.forEach(node.links, function (link) {\r\n                    var next = link.getComplement(node);\r\n                    var nextId = next.index;\r\n                    if (setIds[nextId] === -1) {\r\n                        this._collectConnectedNodes(setIds, nextId);\r\n                    }\r\n                }, this);\r\n            },\r\n            calcBounds: function () {\r\n                if (this.isEmpty()) {\r\n                    this.bounds = new Rect();\r\n                    return this.bounds;\r\n                }\r\n                var b = null;\r\n                for (var i = 0, len = this.nodes.length; i < len; i++) {\r\n                    var node = this.nodes[i];\r\n                    if (!b) {\r\n                        b = node.bounds();\r\n                    } else {\r\n                        b = b.union(node.bounds());\r\n                    }\r\n                }\r\n                this.bounds = b;\r\n                return this.bounds;\r\n            },\r\n            getSpanningTree: function (root) {\r\n                var tree = new Graph();\r\n                var map = new Dictionary(), source, target;\r\n                tree.root = root.clone();\r\n                tree.root.level = 0;\r\n                tree.root.id = root.id;\r\n                map.add(root, tree.root);\r\n                root.level = 0;\r\n                var visited = [];\r\n                var remaining = [];\r\n                tree._addNode(tree.root);\r\n                visited.push(root);\r\n                remaining.push(root);\r\n                var levelCount = 1;\r\n                while (remaining.length > 0) {\r\n                    var next = remaining.pop();\r\n                    for (var ni = 0; ni < next.links.length; ni++) {\r\n                        var link = next.links[ni];\r\n                        var cn = link.getComplement(next);\r\n                        if (contains(visited, cn)) {\r\n                            continue;\r\n                        }\r\n                        cn.level = next.level + 1;\r\n                        if (levelCount < cn.level + 1) {\r\n                            levelCount = cn.level + 1;\r\n                        }\r\n                        if (!contains(remaining, cn)) {\r\n                            remaining.push(cn);\r\n                        }\r\n                        if (!contains(visited, cn)) {\r\n                            visited.push(cn);\r\n                        }\r\n                        if (map.containsKey(next)) {\r\n                            source = map.get(next);\r\n                        } else {\r\n                            source = next.clone();\r\n                            source.level = next.level;\r\n                            source.id = next.id;\r\n                            map.add(next, source);\r\n                        }\r\n                        if (map.containsKey(cn)) {\r\n                            target = map.get(cn);\r\n                        } else {\r\n                            target = cn.clone();\r\n                            target.level = cn.level;\r\n                            target.id = cn.id;\r\n                            map.add(cn, target);\r\n                        }\r\n                        var newLink = new Link(source, target);\r\n                        tree.addLink(newLink);\r\n                    }\r\n                }\r\n                var treeLevels = [];\r\n                for (var i = 0; i < levelCount; i++) {\r\n                    treeLevels.push([]);\r\n                }\r\n                Utils.forEach(tree.nodes, function (node) {\r\n                    treeLevels[node.level].push(node);\r\n                });\r\n                tree.treeLevels = treeLevels;\r\n                tree.cacheRelationships();\r\n                return tree;\r\n            },\r\n            takeRandomNode: function (excludedNodes, incidenceLessThan) {\r\n                if (Utils.isUndefined(excludedNodes)) {\r\n                    excludedNodes = [];\r\n                }\r\n                if (Utils.isUndefined(incidenceLessThan)) {\r\n                    incidenceLessThan = 4;\r\n                }\r\n                if (this.nodes.length === 0) {\r\n                    return null;\r\n                }\r\n                if (this.nodes.length === 1) {\r\n                    return contains(excludedNodes, this.nodes[0]) ? null : this.nodes[0];\r\n                }\r\n                var pool = $.grep(this.nodes, function (node) {\r\n                    return !contains(excludedNodes, node) && node.degree() <= incidenceLessThan;\r\n                });\r\n                if (Utils.isEmpty(pool)) {\r\n                    return null;\r\n                }\r\n                return pool[Utils.randomInteger(0, pool.length)];\r\n            },\r\n            isEmpty: function () {\r\n                return Utils.isEmpty(this.nodes);\r\n            },\r\n            isHealthy: function () {\r\n                return Utils.all(this.links, function (link) {\r\n                    return contains(this.nodes, link.source) && contains(this.nodes, link.target);\r\n                }, this);\r\n            },\r\n            getParents: function (n) {\r\n                if (!this.hasNode(n)) {\r\n                    throw 'The given node is not part of this graph.';\r\n                }\r\n                return n.getParents();\r\n            },\r\n            getChildren: function (n) {\r\n                if (!this.hasNode(n)) {\r\n                    throw 'The given node is not part of this graph.';\r\n                }\r\n                return n.getChildren();\r\n            },\r\n            addLink: function (sourceOrLink, target, owner) {\r\n                if (Utils.isUndefined(sourceOrLink)) {\r\n                    throw 'The source of the link is not defined.';\r\n                }\r\n                if (Utils.isUndefined(target)) {\r\n                    if (Utils.isDefined(sourceOrLink.type) && sourceOrLink.type === 'Link') {\r\n                        this.addExistingLink(sourceOrLink);\r\n                        return;\r\n                    } else {\r\n                        throw 'The target of the link is not defined.';\r\n                    }\r\n                }\r\n                var foundSource = this.getNode(sourceOrLink);\r\n                if (Utils.isUndefined(foundSource)) {\r\n                    foundSource = this.addNode(sourceOrLink);\r\n                }\r\n                var foundTarget = this.getNode(target);\r\n                if (Utils.isUndefined(foundTarget)) {\r\n                    foundTarget = this.addNode(target);\r\n                }\r\n                var newLink = new Link(foundSource, foundTarget);\r\n                if (Utils.isDefined(owner)) {\r\n                    newLink.owner = owner;\r\n                }\r\n                this.links.push(newLink);\r\n                return newLink;\r\n            },\r\n            removeAllLinks: function () {\r\n                while (this.links.length > 0) {\r\n                    var link = this.links[0];\r\n                    this.removeLink(link);\r\n                }\r\n            },\r\n            addExistingLink: function (link) {\r\n                if (this.hasLink(link)) {\r\n                    return;\r\n                }\r\n                this.links.push(link);\r\n                if (this.hasNode(link.source.id)) {\r\n                    var s = this.getNode(link.source.id);\r\n                    link.changeSource(s);\r\n                } else {\r\n                    this.addNode(link.source);\r\n                }\r\n                if (this.hasNode(link.target.id)) {\r\n                    var t = this.getNode(link.target.id);\r\n                    link.changeTarget(t);\r\n                } else {\r\n                    this.addNode(link.target);\r\n                }\r\n            },\r\n            hasLink: function (linkOrId) {\r\n                if (Utils.isString(linkOrId)) {\r\n                    return Utils.any(this.links, function (link) {\r\n                        return link.id === linkOrId;\r\n                    });\r\n                }\r\n                if (linkOrId.type === 'Link') {\r\n                    return contains(this.links, linkOrId);\r\n                }\r\n                throw 'The given object is neither an identifier nor a Link.';\r\n            },\r\n            getNode: function (nodeOrId) {\r\n                var id = nodeOrId.id || nodeOrId;\r\n                if (this._nodeMap.containsKey(id)) {\r\n                    return this._nodeMap.get(id);\r\n                }\r\n            },\r\n            hasNode: function (nodeOrId) {\r\n                var id = nodeOrId.id || nodeOrId;\r\n                return this._nodeMap.containsKey(id);\r\n            },\r\n            _addNode: function (node) {\r\n                this.nodes.push(node);\r\n                this._nodeMap.add(node.id, node);\r\n            },\r\n            _removeNode: function (node) {\r\n                Utils.remove(this.nodes, node);\r\n                this._nodeMap.remove(node.id);\r\n            },\r\n            removeNode: function (nodeOrId) {\r\n                var n = nodeOrId;\r\n                if (Utils.isString(nodeOrId)) {\r\n                    n = this.getNode(nodeOrId);\r\n                }\r\n                if (Utils.isDefined(n)) {\r\n                    var links = n.links;\r\n                    n.links = [];\r\n                    for (var i = 0, len = links.length; i < len; i++) {\r\n                        var link = links[i];\r\n                        this.removeLink(link);\r\n                    }\r\n                    this._removeNode(n);\r\n                } else {\r\n                    throw 'The identifier should be a Node or the Id (string) of a node.';\r\n                }\r\n            },\r\n            areConnected: function (n1, n2) {\r\n                return Utils.any(this.links, function (link) {\r\n                    return link.source == n1 && link.target == n2 || link.source == n2 && link.target == n1;\r\n                });\r\n            },\r\n            removeLink: function (link) {\r\n                Utils.remove(this.links, link);\r\n                Utils.remove(link.source.outgoing, link);\r\n                Utils.remove(link.source.links, link);\r\n                Utils.remove(link.target.incoming, link);\r\n                Utils.remove(link.target.links, link);\r\n            },\r\n            addNode: function (nodeOrId, layoutRect, owner) {\r\n                var newNode = null;\r\n                if (!Utils.isDefined(nodeOrId)) {\r\n                    throw 'No Node or identifier for a new Node is given.';\r\n                }\r\n                if (Utils.isString(nodeOrId)) {\r\n                    if (this.hasNode(nodeOrId)) {\r\n                        return this.getNode(nodeOrId);\r\n                    }\r\n                    newNode = new Node(nodeOrId);\r\n                } else {\r\n                    if (this.hasNode(nodeOrId)) {\r\n                        return this.getNode(nodeOrId);\r\n                    }\r\n                    newNode = nodeOrId;\r\n                }\r\n                if (Utils.isDefined(layoutRect)) {\r\n                    newNode.bounds(layoutRect);\r\n                }\r\n                if (Utils.isDefined(owner)) {\r\n                    newNode.owner = owner;\r\n                }\r\n                this._addNode(newNode);\r\n                return newNode;\r\n            },\r\n            addNodeAndOutgoings: function (node) {\r\n                if (!this.hasNode(node)) {\r\n                    this._addNode(node);\r\n                }\r\n                var newLinks = node.outgoing;\r\n                node.outgoing = [];\r\n                Utils.forEach(newLinks, function (link) {\r\n                    this.addExistingLink(link);\r\n                }, this);\r\n            },\r\n            setItemIndices: function () {\r\n                var i;\r\n                for (i = 0; i < this.nodes.length; ++i) {\r\n                    this.nodes[i].index = i;\r\n                }\r\n                for (i = 0; i < this.links.length; ++i) {\r\n                    this.links[i].index = i;\r\n                }\r\n            },\r\n            clone: function (saveMapping) {\r\n                var copy = new Graph();\r\n                var save = Utils.isDefined(saveMapping) && saveMapping === true;\r\n                if (save) {\r\n                    copy.nodeMap = new Dictionary();\r\n                    copy.linkMap = new Dictionary();\r\n                }\r\n                var map = new Dictionary();\r\n                Utils.forEach(this.nodes, function (nOriginal) {\r\n                    var nCopy = nOriginal.clone();\r\n                    map.set(nOriginal, nCopy);\r\n                    copy._addNode(nCopy);\r\n                    if (save) {\r\n                        copy.nodeMap.set(nCopy, nOriginal);\r\n                    }\r\n                });\r\n                Utils.forEach(this.links, function (linkOriginal) {\r\n                    if (map.containsKey(linkOriginal.source) && map.containsKey(linkOriginal.target)) {\r\n                        var linkCopy = copy.addLink(map.get(linkOriginal.source), map.get(linkOriginal.target));\r\n                        if (save) {\r\n                            copy.linkMap.set(linkCopy, linkOriginal);\r\n                        }\r\n                    }\r\n                });\r\n                return copy;\r\n            },\r\n            linearize: function (addIds) {\r\n                return Graph.Utils.linearize(this, addIds);\r\n            },\r\n            depthFirstTraversal: function (startNode, action) {\r\n                if (Utils.isUndefined(startNode)) {\r\n                    throw 'You need to supply a starting node.';\r\n                }\r\n                if (Utils.isUndefined(action)) {\r\n                    throw 'You need to supply an action.';\r\n                }\r\n                if (!this.hasNode(startNode)) {\r\n                    throw 'The given start-node is not part of this graph';\r\n                }\r\n                var foundNode = this.getNode(startNode);\r\n                var visited = [];\r\n                this._dftIterator(foundNode, action, visited);\r\n            },\r\n            _dftIterator: function (node, action, visited) {\r\n                action(node);\r\n                visited.push(node);\r\n                var children = node.getChildren();\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (contains(visited, child)) {\r\n                        continue;\r\n                    }\r\n                    this._dftIterator(child, action, visited);\r\n                }\r\n            },\r\n            breadthFirstTraversal: function (startNode, action) {\r\n                if (Utils.isUndefined(startNode)) {\r\n                    throw 'You need to supply a starting node.';\r\n                }\r\n                if (Utils.isUndefined(action)) {\r\n                    throw 'You need to supply an action.';\r\n                }\r\n                if (!this.hasNode(startNode)) {\r\n                    throw 'The given start-node is not part of this graph';\r\n                }\r\n                var foundNode = this.getNode(startNode);\r\n                var queue = new Queue();\r\n                var visited = [];\r\n                queue.enqueue(foundNode);\r\n                while (queue.length > 0) {\r\n                    var node = queue.dequeue();\r\n                    action(node);\r\n                    visited.push(node);\r\n                    var children = node.getChildren();\r\n                    for (var i = 0, len = children.length; i < len; i++) {\r\n                        var child = children[i];\r\n                        if (contains(visited, child) || contains(queue, child)) {\r\n                            continue;\r\n                        }\r\n                        queue.enqueue(child);\r\n                    }\r\n                }\r\n            },\r\n            _stronglyConnectedComponents: function (excludeSingleItems, node, indices, lowLinks, connected, stack, index) {\r\n                indices.add(node, index);\r\n                lowLinks.add(node, index);\r\n                index++;\r\n                stack.push(node);\r\n                var children = node.getChildren(), next;\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    next = children[i];\r\n                    if (!indices.containsKey(next)) {\r\n                        this._stronglyConnectedComponents(excludeSingleItems, next, indices, lowLinks, connected, stack, index);\r\n                        lowLinks.add(node, Math.min(lowLinks.get(node), lowLinks.get(next)));\r\n                    } else if (contains(stack, next)) {\r\n                        lowLinks.add(node, Math.min(lowLinks.get(node), indices.get(next)));\r\n                    }\r\n                }\r\n                if (lowLinks.get(node) === indices.get(node)) {\r\n                    var component = [];\r\n                    do {\r\n                        next = stack.pop();\r\n                        component.push(next);\r\n                    } while (next !== node);\r\n                    if (!excludeSingleItems || component.length > 1) {\r\n                        connected.push(component);\r\n                    }\r\n                }\r\n            },\r\n            findCycles: function (excludeSingleItems) {\r\n                if (Utils.isUndefined(excludeSingleItems)) {\r\n                    excludeSingleItems = true;\r\n                }\r\n                var indices = new Dictionary();\r\n                var lowLinks = new Dictionary();\r\n                var connected = [];\r\n                var stack = [];\r\n                for (var i = 0, len = this.nodes.length; i < len; i++) {\r\n                    var node = this.nodes[i];\r\n                    if (indices.containsKey(node)) {\r\n                        continue;\r\n                    }\r\n                    this._stronglyConnectedComponents(excludeSingleItems, node, indices, lowLinks, connected, stack, 0);\r\n                }\r\n                return connected;\r\n            },\r\n            isAcyclic: function () {\r\n                return Utils.isEmpty(this.findCycles());\r\n            },\r\n            isSubGraph: function (other) {\r\n                var otherArray = other.linearize();\r\n                var thisArray = this.linearize();\r\n                return Utils.all(otherArray, function (s) {\r\n                    return contains(thisArray, s);\r\n                });\r\n            },\r\n            makeAcyclic: function () {\r\n                if (this.isEmpty() || this.nodes.length <= 1 || this.links.length <= 1) {\r\n                    return [];\r\n                }\r\n                if (this.nodes.length == 2) {\r\n                    var result = [];\r\n                    if (this.links.length > 1) {\r\n                        var oneLink = this.links[0];\r\n                        var oneNode = oneLink.source;\r\n                        for (var i = 0, len = this.links.length; i < len; i++) {\r\n                            var link = this.links[i];\r\n                            if (link.source == oneNode) {\r\n                                continue;\r\n                            }\r\n                            var rev = link.reverse();\r\n                            result.push(rev);\r\n                        }\r\n                    }\r\n                    return result;\r\n                }\r\n                var copy = this.clone(true);\r\n                var N = this.nodes.length;\r\n                var intensityCatalog = new Dictionary();\r\n                var flowIntensity = function (node) {\r\n                    if (node.outgoing.length === 0) {\r\n                        return 2 - N;\r\n                    } else if (node.incoming.length === 0) {\r\n                        return N - 2;\r\n                    } else {\r\n                        return node.outgoing.length - node.incoming.length;\r\n                    }\r\n                };\r\n                var catalogEqualIntensity = function (node, intensityCatalog) {\r\n                    var intensity = flowIntensity(node, N);\r\n                    if (!intensityCatalog.containsKey(intensity)) {\r\n                        intensityCatalog.set(intensity, []);\r\n                    }\r\n                    intensityCatalog.get(intensity).push(node);\r\n                };\r\n                Utils.forEach(copy.nodes, function (v) {\r\n                    catalogEqualIntensity(v, intensityCatalog);\r\n                });\r\n                var sourceStack = [];\r\n                var targetStack = [];\r\n                while (copy.nodes.length > 0) {\r\n                    var source, target, intensity;\r\n                    if (intensityCatalog.containsKey(2 - N)) {\r\n                        var targets = intensityCatalog.get(2 - N);\r\n                        while (targets.length > 0) {\r\n                            target = targets.pop();\r\n                            for (var li = 0; li < target.links.length; li++) {\r\n                                var targetLink = target.links[li];\r\n                                source = targetLink.getComplement(target);\r\n                                intensity = flowIntensity(source, N);\r\n                                Utils.remove(intensityCatalog.get(intensity), source);\r\n                                source.removeLink(targetLink);\r\n                                catalogEqualIntensity(source, intensityCatalog);\r\n                            }\r\n                            copy._removeNode(target);\r\n                            targetStack.unshift(target);\r\n                        }\r\n                    }\r\n                    if (intensityCatalog.containsKey(N - 2)) {\r\n                        var sources = intensityCatalog.get(N - 2);\r\n                        while (sources.length > 0) {\r\n                            source = sources.pop();\r\n                            for (var si = 0; si < source.links.length; si++) {\r\n                                var sourceLink = source.links[si];\r\n                                target = sourceLink.getComplement(source);\r\n                                intensity = flowIntensity(target, N);\r\n                                Utils.remove(intensityCatalog.get(intensity), target);\r\n                                target.removeLink(sourceLink);\r\n                                catalogEqualIntensity(target, intensityCatalog);\r\n                            }\r\n                            sourceStack.push(source);\r\n                            copy._removeNode(source);\r\n                        }\r\n                    }\r\n                    if (copy.nodes.length > 0) {\r\n                        for (var k = N - 3; k > 2 - N; k--) {\r\n                            if (intensityCatalog.containsKey(k) && intensityCatalog.get(k).length > 0) {\r\n                                var maxdiff = intensityCatalog.get(k);\r\n                                var v = maxdiff.pop();\r\n                                for (var ri = 0; ri < v.links.length; ri++) {\r\n                                    var ril = v.links[ri];\r\n                                    var u = ril.getComplement(v);\r\n                                    intensity = flowIntensity(u, N);\r\n                                    Utils.remove(intensityCatalog.get(intensity), u);\r\n                                    u.removeLink(ril);\r\n                                    catalogEqualIntensity(u, intensityCatalog);\r\n                                }\r\n                                sourceStack.push(v);\r\n                                copy._removeNode(v);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                sourceStack = sourceStack.concat(targetStack);\r\n                var vertexOrder = new Dictionary();\r\n                for (var kk = 0; kk < this.nodes.length; kk++) {\r\n                    vertexOrder.set(copy.nodeMap.get(sourceStack[kk]), kk);\r\n                }\r\n                var reversedEdges = [];\r\n                Utils.forEach(this.links, function (link) {\r\n                    if (vertexOrder.get(link.source) > vertexOrder.get(link.target)) {\r\n                        link.reverse();\r\n                        reversedEdges.push(link);\r\n                    }\r\n                });\r\n                return reversedEdges;\r\n            }\r\n        });\r\n        Graph.Predefined = {\r\n            EightGraph: function () {\r\n                return Graph.Utils.parse([\r\n                    '1->2',\r\n                    '2->3',\r\n                    '3->4',\r\n                    '4->1',\r\n                    '3->5',\r\n                    '5->6',\r\n                    '6->7',\r\n                    '7->3'\r\n                ]);\r\n            },\r\n            Mindmap: function () {\r\n                return Graph.Utils.parse([\r\n                    '0->1',\r\n                    '0->2',\r\n                    '0->3',\r\n                    '0->4',\r\n                    '0->5',\r\n                    '1->6',\r\n                    '1->7',\r\n                    '7->8',\r\n                    '2->9',\r\n                    '9->10',\r\n                    '9->11',\r\n                    '3->12',\r\n                    '12->13',\r\n                    '13->14',\r\n                    '4->15',\r\n                    '4->16',\r\n                    '15->17',\r\n                    '15->18',\r\n                    '18->19',\r\n                    '18->20',\r\n                    '14->21',\r\n                    '14->22',\r\n                    '5->23',\r\n                    '23->24',\r\n                    '23->25',\r\n                    '6->26'\r\n                ]);\r\n            },\r\n            ThreeGraph: function () {\r\n                return Graph.Utils.parse([\r\n                    '1->2',\r\n                    '2->3',\r\n                    '3->1'\r\n                ]);\r\n            },\r\n            BinaryTree: function (levels) {\r\n                if (Utils.isUndefined(levels)) {\r\n                    levels = 5;\r\n                }\r\n                return Graph.Utils.createBalancedTree(levels, 2);\r\n            },\r\n            Linear: function (length) {\r\n                if (Utils.isUndefined(length)) {\r\n                    length = 10;\r\n                }\r\n                return Graph.Utils.createBalancedTree(length, 1);\r\n            },\r\n            Tree: function (levels, siblingsCount) {\r\n                return Graph.Utils.createBalancedTree(levels, siblingsCount);\r\n            },\r\n            Forest: function (levels, siblingsCount, trees) {\r\n                return Graph.Utils.createBalancedForest(levels, siblingsCount, trees);\r\n            },\r\n            Workflow: function () {\r\n                return Graph.Utils.parse([\r\n                    '0->1',\r\n                    '1->2',\r\n                    '2->3',\r\n                    '1->4',\r\n                    '4->3',\r\n                    '3->5',\r\n                    '5->6',\r\n                    '6->3',\r\n                    '6->7',\r\n                    '5->4'\r\n                ]);\r\n            },\r\n            Grid: function (n, m) {\r\n                var g = new diagram.Graph();\r\n                if (n <= 0 && m <= 0) {\r\n                    return g;\r\n                }\r\n                for (var i = 0; i < n + 1; i++) {\r\n                    var previous = null;\r\n                    for (var j = 0; j < m + 1; j++) {\r\n                        var node = new Node(i.toString() + '.' + j.toString());\r\n                        g.addNode(node);\r\n                        if (previous) {\r\n                            g.addLink(previous, node);\r\n                        }\r\n                        if (i > 0) {\r\n                            var left = g.getNode((i - 1).toString() + '.' + j.toString());\r\n                            g.addLink(left, node);\r\n                        }\r\n                        previous = node;\r\n                    }\r\n                }\r\n                return g;\r\n            }\r\n        };\r\n        Graph.Utils = {\r\n            parse: function (graphString) {\r\n                var previousLink, graph = new diagram.Graph(), parts = graphString.slice();\r\n                for (var i = 0, len = parts.length; i < len; i++) {\r\n                    var part = parts[i];\r\n                    if (Utils.isString(part)) {\r\n                        if (part.indexOf('->') < 0) {\r\n                            throw 'The link should be specified as \\'a->b\\'.';\r\n                        }\r\n                        var p = part.split('->');\r\n                        if (p.length != 2) {\r\n                            throw 'The link should be specified as \\'a->b\\'.';\r\n                        }\r\n                        previousLink = new Link(p[0], p[1]);\r\n                        graph.addLink(previousLink);\r\n                    }\r\n                    if (Utils.isObject(part)) {\r\n                        if (!previousLink) {\r\n                            throw 'Specification found before Link definition.';\r\n                        }\r\n                        kendo.deepExtend(previousLink, part);\r\n                    }\r\n                }\r\n                return graph;\r\n            },\r\n            linearize: function (graph, addIds) {\r\n                if (Utils.isUndefined(graph)) {\r\n                    throw 'Expected an instance of a Graph object in slot one.';\r\n                }\r\n                if (Utils.isUndefined(addIds)) {\r\n                    addIds = false;\r\n                }\r\n                var lin = [];\r\n                for (var i = 0, len = graph.links.length; i < len; i++) {\r\n                    var link = graph.links[i];\r\n                    lin.push(link.source.id + '->' + link.target.id);\r\n                    if (addIds) {\r\n                        lin.push({ id: link.id });\r\n                    }\r\n                }\r\n                return lin;\r\n            },\r\n            _addShape: function (kendoDiagram, p, id, shapeDefaults) {\r\n                if (Utils.isUndefined(p)) {\r\n                    p = new diagram.Point(0, 0);\r\n                }\r\n                if (Utils.isUndefined(id)) {\r\n                    id = randomId();\r\n                }\r\n                shapeDefaults = kendo.deepExtend({\r\n                    width: 20,\r\n                    height: 20,\r\n                    id: id,\r\n                    radius: 10,\r\n                    fill: '#778899',\r\n                    data: 'circle',\r\n                    undoable: false,\r\n                    x: p.x,\r\n                    y: p.y\r\n                }, shapeDefaults);\r\n                return kendoDiagram.addShape(shapeDefaults);\r\n            },\r\n            _addConnection: function (diagram, from, to, options) {\r\n                return diagram.connect(from, to, options);\r\n            },\r\n            createDiagramFromGraph: function (diagram, graph, doLayout, randomSize) {\r\n                if (Utils.isUndefined(diagram)) {\r\n                    throw 'The diagram surface is undefined.';\r\n                }\r\n                if (Utils.isUndefined(graph)) {\r\n                    throw 'No graph specification defined.';\r\n                }\r\n                if (Utils.isUndefined(doLayout)) {\r\n                    doLayout = true;\r\n                }\r\n                if (Utils.isUndefined(randomSize)) {\r\n                    randomSize = false;\r\n                }\r\n                var width = diagram.element.clientWidth || 200;\r\n                var height = diagram.element.clientHeight || 200;\r\n                var map = [], node, shape;\r\n                for (var i = 0, len = graph.nodes.length; i < len; i++) {\r\n                    node = graph.nodes[i];\r\n                    var p = node.position;\r\n                    if (Utils.isUndefined(p)) {\r\n                        if (Utils.isDefined(node.x) && Utils.isDefined(node.y)) {\r\n                            p = new Point(node.x, node.y);\r\n                        } else {\r\n                            p = new Point(Utils.randomInteger(10, width - 20), Utils.randomInteger(10, height - 20));\r\n                        }\r\n                    }\r\n                    var opt = {};\r\n                    if (node.id === '0') {\r\n                    } else if (randomSize) {\r\n                        kendo.deepExtend(opt, {\r\n                            width: Math.random() * 150 + 20,\r\n                            height: Math.random() * 80 + 50,\r\n                            data: 'rectangle',\r\n                            fill: { color: '#778899' }\r\n                        });\r\n                    }\r\n                    shape = this._addShape(diagram, p, node.id, opt);\r\n                    var bounds = shape.bounds();\r\n                    if (Utils.isDefined(bounds)) {\r\n                        node.x = bounds.x;\r\n                        node.y = bounds.y;\r\n                        node.width = bounds.width;\r\n                        node.height = bounds.height;\r\n                    }\r\n                    map[node.id] = shape;\r\n                }\r\n                for (var gli = 0; gli < graph.links.length; gli++) {\r\n                    var link = graph.links[gli];\r\n                    var sourceShape = map[link.source.id];\r\n                    if (Utils.isUndefined(sourceShape)) {\r\n                        continue;\r\n                    }\r\n                    var targetShape = map[link.target.id];\r\n                    if (Utils.isUndefined(targetShape)) {\r\n                        continue;\r\n                    }\r\n                    this._addConnection(diagram, sourceShape, targetShape, { id: link.id });\r\n                }\r\n                if (doLayout) {\r\n                    var l = new diagram.SpringLayout(diagram);\r\n                    l.layoutGraph(graph, { limitToView: false });\r\n                    for (var shi = 0; shi < graph.nodes.length; shi++) {\r\n                        node = graph.nodes[shi];\r\n                        shape = map[node.id];\r\n                        shape.bounds(new Rect(node.x, node.y, node.width, node.height));\r\n                    }\r\n                }\r\n            },\r\n            createBalancedTree: function (levels, siblingsCount) {\r\n                if (Utils.isUndefined(levels)) {\r\n                    levels = 3;\r\n                }\r\n                if (Utils.isUndefined(siblingsCount)) {\r\n                    siblingsCount = 3;\r\n                }\r\n                var g = new diagram.Graph(), counter = -1, lastAdded = [], news;\r\n                if (levels <= 0 || siblingsCount <= 0) {\r\n                    return g;\r\n                }\r\n                var root = new Node((++counter).toString());\r\n                g.addNode(root);\r\n                g.root = root;\r\n                lastAdded.push(root);\r\n                for (var i = 0; i < levels; i++) {\r\n                    news = [];\r\n                    for (var j = 0; j < lastAdded.length; j++) {\r\n                        var parent = lastAdded[j];\r\n                        for (var k = 0; k < siblingsCount; k++) {\r\n                            var item = new Node((++counter).toString());\r\n                            g.addLink(parent, item);\r\n                            news.push(item);\r\n                        }\r\n                    }\r\n                    lastAdded = news;\r\n                }\r\n                return g;\r\n            },\r\n            createBalancedForest: function (levels, siblingsCount, treeCount) {\r\n                if (Utils.isUndefined(levels)) {\r\n                    levels = 3;\r\n                }\r\n                if (Utils.isUndefined(siblingsCount)) {\r\n                    siblingsCount = 3;\r\n                }\r\n                if (Utils.isUndefined(treeCount)) {\r\n                    treeCount = 5;\r\n                }\r\n                var g = new diagram.Graph(), counter = -1, lastAdded = [], news;\r\n                if (levels <= 0 || siblingsCount <= 0 || treeCount <= 0) {\r\n                    return g;\r\n                }\r\n                for (var t = 0; t < treeCount; t++) {\r\n                    var root = new Node((++counter).toString());\r\n                    g.addNode(root);\r\n                    lastAdded = [root];\r\n                    for (var i = 0; i < levels; i++) {\r\n                        news = [];\r\n                        for (var j = 0; j < lastAdded.length; j++) {\r\n                            var parent = lastAdded[j];\r\n                            for (var k = 0; k < siblingsCount; k++) {\r\n                                var item = new Node((++counter).toString());\r\n                                g.addLink(parent, item);\r\n                                news.push(item);\r\n                            }\r\n                        }\r\n                        lastAdded = news;\r\n                    }\r\n                }\r\n                return g;\r\n            },\r\n            createRandomConnectedGraph: function (nodeCount, maxIncidence, isTree) {\r\n                if (Utils.isUndefined(nodeCount)) {\r\n                    nodeCount = 40;\r\n                }\r\n                if (Utils.isUndefined(maxIncidence)) {\r\n                    maxIncidence = 4;\r\n                }\r\n                if (Utils.isUndefined(isTree)) {\r\n                    isTree = false;\r\n                }\r\n                var g = new diagram.Graph(), counter = -1;\r\n                if (nodeCount <= 0) {\r\n                    return g;\r\n                }\r\n                var root = new Node((++counter).toString());\r\n                g.addNode(root);\r\n                if (nodeCount === 1) {\r\n                    return g;\r\n                }\r\n                if (nodeCount > 1) {\r\n                    for (var i = 1; i < nodeCount; i++) {\r\n                        var poolNode = g.takeRandomNode([], maxIncidence);\r\n                        if (!poolNode) {\r\n                            break;\r\n                        }\r\n                        var newNode = g.addNode(i.toString());\r\n                        g.addLink(poolNode, newNode);\r\n                    }\r\n                    if (!isTree && nodeCount > 1) {\r\n                        var randomAdditions = Utils.randomInteger(1, nodeCount);\r\n                        for (var ri = 0; ri < randomAdditions; ri++) {\r\n                            var n1 = g.takeRandomNode([], maxIncidence);\r\n                            var n2 = g.takeRandomNode([], maxIncidence);\r\n                            if (n1 && n2 && !g.areConnected(n1, n2)) {\r\n                                g.addLink(n1, n2);\r\n                            }\r\n                        }\r\n                    }\r\n                    return g;\r\n                }\r\n            },\r\n            randomDiagram: function (diagram, shapeCount, maxIncidence, isTree, randomSize) {\r\n                var g = kendo.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(shapeCount, maxIncidence, isTree);\r\n                Graph.Utils.createDiagramFromGraph(diagram, g, false, randomSize);\r\n            }\r\n        };\r\n        kendo.deepExtend(diagram, {\r\n            init: function (element) {\r\n                kendo.init(element, diagram.ui);\r\n            },\r\n            Point: Point,\r\n            Intersect: Intersect,\r\n            Geometry: Geometry,\r\n            Rect: Rect,\r\n            Size: Size,\r\n            RectAlign: RectAlign,\r\n            Matrix: Matrix,\r\n            MatrixVector: MatrixVector,\r\n            normalVariable: normalVariable,\r\n            randomId: randomId,\r\n            Dictionary: Dictionary,\r\n            HashTable: HashTable,\r\n            Queue: Queue,\r\n            Set: Set,\r\n            Node: Node,\r\n            Link: Link,\r\n            Graph: Graph,\r\n            PathDefiner: PathDefiner\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/svg', [\r\n        'kendo.drawing',\r\n        'dataviz/diagram/math'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, diagram = kendo.dataviz.diagram, Class = kendo.Class, deepExtend = kendo.deepExtend, Point = diagram.Point, Rect = diagram.Rect, Matrix = diagram.Matrix, Utils = diagram.Utils, isNumber = Utils.isNumber, isString = Utils.isString, MatrixVector = diagram.MatrixVector, g = kendo.geometry, d = kendo.drawing, defined = kendo.util.defined, inArray = $.inArray;\r\n        var TRANSPARENT = 'transparent', Markers = {\r\n                none: 'none',\r\n                arrowStart: 'ArrowStart',\r\n                filledCircle: 'FilledCircle',\r\n                arrowEnd: 'ArrowEnd'\r\n            }, FULL_CIRCLE_ANGLE = 360, START = 'start', END = 'end', WIDTH = 'width', HEIGHT = 'height', X = 'x', Y = 'y';\r\n        diagram.Markers = Markers;\r\n        function diffNumericOptions(options, fields) {\r\n            var elementOptions = this.options;\r\n            var hasChanges = false;\r\n            var value, field;\r\n            for (var i = 0; i < fields.length; i++) {\r\n                field = fields[i];\r\n                value = options[field];\r\n                if (isNumber(value) && elementOptions[field] !== value) {\r\n                    elementOptions[field] = value;\r\n                    hasChanges = true;\r\n                }\r\n            }\r\n            return hasChanges;\r\n        }\r\n        var Scale = Class.extend({\r\n            init: function (x, y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            },\r\n            toMatrix: function () {\r\n                return Matrix.scaling(this.x, this.y);\r\n            },\r\n            toString: function () {\r\n                return kendo.format('scale({0},{1})', this.x, this.y);\r\n            },\r\n            invert: function () {\r\n                return new Scale(1 / this.x, 1 / this.y);\r\n            }\r\n        });\r\n        var Translation = Class.extend({\r\n            init: function (x, y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            },\r\n            toMatrixVector: function () {\r\n                return new MatrixVector(0, 0, 0, 0, this.x, this.y);\r\n            },\r\n            toMatrix: function () {\r\n                return Matrix.translation(this.x, this.y);\r\n            },\r\n            toString: function () {\r\n                return kendo.format('translate({0},{1})', this.x, this.y);\r\n            },\r\n            plus: function (delta) {\r\n                this.x += delta.x;\r\n                this.y += delta.y;\r\n            },\r\n            times: function (factor) {\r\n                this.x *= factor;\r\n                this.y *= factor;\r\n            },\r\n            length: function () {\r\n                return Math.sqrt(this.x * this.x + this.y * this.y);\r\n            },\r\n            normalize: function () {\r\n                if (this.Length === 0) {\r\n                    return;\r\n                }\r\n                this.times(1 / this.length());\r\n            },\r\n            invert: function () {\r\n                return new Translation(-this.x, -this.y);\r\n            }\r\n        });\r\n        var Rotation = Class.extend({\r\n            init: function (angle, x, y) {\r\n                this.x = x || 0;\r\n                this.y = y || 0;\r\n                this.angle = angle;\r\n            },\r\n            toString: function () {\r\n                if (this.x && this.y) {\r\n                    return kendo.format('rotate({0},{1},{2})', this.angle, this.x, this.y);\r\n                } else {\r\n                    return kendo.format('rotate({0})', this.angle);\r\n                }\r\n            },\r\n            toMatrix: function () {\r\n                return Matrix.rotation(this.angle, this.x, this.y);\r\n            },\r\n            center: function () {\r\n                return new Point(this.x, this.y);\r\n            },\r\n            invert: function () {\r\n                return new Rotation(FULL_CIRCLE_ANGLE - this.angle, this.x, this.y);\r\n            }\r\n        });\r\n        Rotation.ZERO = new Rotation(0);\r\n        Rotation.create = function (rotation) {\r\n            return new Rotation(rotation.angle, rotation.x, rotation.y);\r\n        };\r\n        Rotation.parse = function (str) {\r\n            var values = str.slice(1, str.length - 1).split(','), angle = values[0], x = values[1], y = values[2];\r\n            var rotation = new Rotation(angle, x, y);\r\n            return rotation;\r\n        };\r\n        var CompositeTransform = Class.extend({\r\n            init: function (x, y, scaleX, scaleY, angle, center) {\r\n                this.translate = new Translation(x, y);\r\n                if (scaleX !== undefined && scaleY !== undefined) {\r\n                    this.scale = new Scale(scaleX, scaleY);\r\n                }\r\n                if (angle !== undefined) {\r\n                    this.rotate = center ? new Rotation(angle, center.x, center.y) : new Rotation(angle);\r\n                }\r\n            },\r\n            toString: function () {\r\n                var toString = function (transform) {\r\n                    return transform ? transform.toString() : '';\r\n                };\r\n                return toString(this.translate) + toString(this.rotate) + toString(this.scale);\r\n            },\r\n            render: function (visual) {\r\n                visual._transform = this;\r\n                visual._renderTransform();\r\n            },\r\n            toMatrix: function () {\r\n                var m = Matrix.unit();\r\n                if (this.translate) {\r\n                    m = m.times(this.translate.toMatrix());\r\n                }\r\n                if (this.rotate) {\r\n                    m = m.times(this.rotate.toMatrix());\r\n                }\r\n                if (this.scale) {\r\n                    m = m.times(this.scale.toMatrix());\r\n                }\r\n                return m;\r\n            },\r\n            invert: function () {\r\n                var rotate = this.rotate ? this.rotate.invert() : undefined, rotateMatrix = rotate ? rotate.toMatrix() : Matrix.unit(), scale = this.scale ? this.scale.invert() : undefined, scaleMatrix = scale ? scale.toMatrix() : Matrix.unit();\r\n                var translatePoint = new Point(-this.translate.x, -this.translate.y);\r\n                translatePoint = rotateMatrix.times(scaleMatrix).apply(translatePoint);\r\n                var translate = new Translation(translatePoint.x, translatePoint.y);\r\n                var transform = new CompositeTransform();\r\n                transform.translate = translate;\r\n                transform.rotate = rotate;\r\n                transform.scale = scale;\r\n                return transform;\r\n            }\r\n        });\r\n        var AutoSizeableMixin = {\r\n            _setScale: function () {\r\n                var options = this.options;\r\n                var originWidth = this._originWidth;\r\n                var originHeight = this._originHeight;\r\n                var scaleX = options.width / originWidth;\r\n                var scaleY = options.height / originHeight;\r\n                if (!isNumber(scaleX)) {\r\n                    scaleX = 1;\r\n                }\r\n                if (!isNumber(scaleY)) {\r\n                    scaleY = 1;\r\n                }\r\n                this._transform.scale = new Scale(scaleX, scaleY);\r\n            },\r\n            _setTranslate: function () {\r\n                var options = this.options;\r\n                var x = options.x || 0;\r\n                var y = options.y || 0;\r\n                this._transform.translate = new Translation(x, y);\r\n            },\r\n            _initSize: function () {\r\n                var options = this.options;\r\n                var transform = false;\r\n                if (options.autoSize !== false && (defined(options.width) || defined(options.height))) {\r\n                    this._measure(true);\r\n                    this._setScale();\r\n                    transform = true;\r\n                }\r\n                if (defined(options.x) || defined(options.y)) {\r\n                    this._setTranslate();\r\n                    transform = true;\r\n                }\r\n                if (transform) {\r\n                    this._renderTransform();\r\n                }\r\n            },\r\n            _updateSize: function (options) {\r\n                var update = false;\r\n                if (this.options.autoSize !== false && this._diffNumericOptions(options, [\r\n                        WIDTH,\r\n                        HEIGHT\r\n                    ])) {\r\n                    update = true;\r\n                    this._measure(true);\r\n                    this._setScale();\r\n                }\r\n                if (this._diffNumericOptions(options, [\r\n                        X,\r\n                        Y\r\n                    ])) {\r\n                    update = true;\r\n                    this._setTranslate();\r\n                }\r\n                if (update) {\r\n                    this._renderTransform();\r\n                }\r\n                return update;\r\n            }\r\n        };\r\n        var Element = Class.extend({\r\n            init: function (options) {\r\n                var element = this;\r\n                element.options = deepExtend({}, element.options, options);\r\n                element.id = element.options.id;\r\n                element._originSize = Rect.empty();\r\n                element._transform = new CompositeTransform();\r\n            },\r\n            visible: function (value) {\r\n                return this.drawingContainer().visible(value);\r\n            },\r\n            redraw: function (options) {\r\n                if (options && options.id) {\r\n                    this.id = options.id;\r\n                }\r\n            },\r\n            position: function (x, y) {\r\n                var options = this.options;\r\n                if (!defined(x)) {\r\n                    return new Point(options.x, options.y);\r\n                }\r\n                if (defined(y)) {\r\n                    options.x = x;\r\n                    options.y = y;\r\n                } else if (x instanceof Point) {\r\n                    options.x = x.x;\r\n                    options.y = x.y;\r\n                }\r\n                this._transform.translate = new Translation(options.x, options.y);\r\n                this._renderTransform();\r\n            },\r\n            rotate: function (angle, center) {\r\n                if (defined(angle)) {\r\n                    this._transform.rotate = new Rotation(angle, center.x, center.y);\r\n                    this._renderTransform();\r\n                }\r\n                return this._transform.rotate || Rotation.ZERO;\r\n            },\r\n            drawingContainer: function () {\r\n                return this.drawingElement;\r\n            },\r\n            _renderTransform: function () {\r\n                var matrix = this._transform.toMatrix();\r\n                this.drawingContainer().transform(new g.Matrix(matrix.a, matrix.b, matrix.c, matrix.d, matrix.e, matrix.f));\r\n            },\r\n            _hover: function () {\r\n            },\r\n            _diffNumericOptions: diffNumericOptions,\r\n            _measure: function (force) {\r\n                var rect;\r\n                if (!this._measured || force) {\r\n                    var box = this._boundingBox() || new g.Rect();\r\n                    var startPoint = box.topLeft();\r\n                    rect = new Rect(startPoint.x, startPoint.y, box.width(), box.height());\r\n                    this._originSize = rect;\r\n                    this._originWidth = rect.width;\r\n                    this._originHeight = rect.height;\r\n                    this._measured = true;\r\n                } else {\r\n                    rect = this._originSize;\r\n                }\r\n                return rect;\r\n            },\r\n            _boundingBox: function () {\r\n                return this.drawingElement.rawBBox();\r\n            }\r\n        });\r\n        var VisualBase = Element.extend({\r\n            init: function (options) {\r\n                Element.fn.init.call(this, options);\r\n                options = this.options;\r\n                options.fill = normalizeDrawingOptions(options.fill);\r\n                options.stroke = normalizeDrawingOptions(options.stroke);\r\n            },\r\n            options: {\r\n                stroke: {\r\n                    color: 'gray',\r\n                    width: 1\r\n                },\r\n                fill: { color: TRANSPARENT }\r\n            },\r\n            fill: function (color, opacity) {\r\n                this._fill({\r\n                    color: getColor(color),\r\n                    opacity: opacity\r\n                });\r\n            },\r\n            stroke: function (color, width, opacity) {\r\n                this._stroke({\r\n                    color: getColor(color),\r\n                    width: width,\r\n                    opacity: opacity\r\n                });\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    var stroke = options.stroke;\r\n                    var fill = options.fill;\r\n                    if (stroke) {\r\n                        this._stroke(normalizeDrawingOptions(stroke));\r\n                    }\r\n                    if (fill) {\r\n                        this._fill(normalizeDrawingOptions(fill));\r\n                    }\r\n                    Element.fn.redraw.call(this, options);\r\n                }\r\n            },\r\n            _hover: function (show) {\r\n                var drawingElement = this.drawingElement;\r\n                var options = this.options;\r\n                var hover = options.hover;\r\n                if (hover && hover.fill) {\r\n                    var fill = show ? normalizeDrawingOptions(hover.fill) : options.fill;\r\n                    drawingElement.fill(fill.color, fill.opacity);\r\n                }\r\n            },\r\n            _stroke: function (strokeOptions) {\r\n                var options = this.options;\r\n                deepExtend(options, { stroke: strokeOptions });\r\n                strokeOptions = options.stroke;\r\n                var stroke = null;\r\n                if (strokeOptions.width > 0) {\r\n                    stroke = {\r\n                        color: strokeOptions.color,\r\n                        width: strokeOptions.width,\r\n                        opacity: strokeOptions.opacity,\r\n                        dashType: strokeOptions.dashType\r\n                    };\r\n                }\r\n                this.drawingElement.options.set('stroke', stroke);\r\n            },\r\n            _fill: function (fillOptions) {\r\n                var options = this.options;\r\n                deepExtend(options, { fill: fillOptions || {} });\r\n                var fill = options.fill;\r\n                if (fill.gradient) {\r\n                    var gradient = fill.gradient;\r\n                    var GradientClass = gradient.type === 'radial' ? d.RadialGradient : d.LinearGradient;\r\n                    this.drawingElement.fill(new GradientClass(gradient));\r\n                } else {\r\n                    this.drawingElement.fill(fill.color, fill.opacity);\r\n                }\r\n            }\r\n        });\r\n        var TextBlock = VisualBase.extend({\r\n            init: function (options) {\r\n                options = this._textColor(options);\r\n                VisualBase.fn.init.call(this, options);\r\n                this._font();\r\n                this._initText();\r\n                this._initSize();\r\n            },\r\n            options: {\r\n                fontSize: 15,\r\n                fontFamily: 'sans-serif',\r\n                stroke: { width: 0 },\r\n                fill: { color: 'black' },\r\n                autoSize: true\r\n            },\r\n            _initText: function () {\r\n                var options = this.options;\r\n                this.drawingElement = new d.Text(defined(options.text) ? options.text : '', new g.Point(), { font: options.font });\r\n                this._fill();\r\n                this._stroke();\r\n            },\r\n            _textColor: function (options) {\r\n                if (options && options.color) {\r\n                    options = deepExtend({}, options, { fill: { color: options.color } });\r\n                }\r\n                return options;\r\n            },\r\n            _font: function () {\r\n                var options = this.options;\r\n                if (options.fontFamily && defined(options.fontSize)) {\r\n                    var fontOptions = [];\r\n                    if (options.fontStyle) {\r\n                        fontOptions.push(options.fontStyle);\r\n                    }\r\n                    if (options.fontWeight) {\r\n                        fontOptions.push(options.fontWeight);\r\n                    }\r\n                    fontOptions.push(options.fontSize + (isNumber(options.fontSize) ? 'px' : ''));\r\n                    fontOptions.push(options.fontFamily);\r\n                    options.font = fontOptions.join(' ');\r\n                } else {\r\n                    delete options.font;\r\n                }\r\n            },\r\n            content: function (text) {\r\n                return this.drawingElement.content(text);\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    var sizeChanged = false;\r\n                    var textOptions = this.options;\r\n                    options = this._textColor(options);\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                    if (options.fontFamily || defined(options.fontSize) || options.fontStyle || options.fontWeight) {\r\n                        deepExtend(textOptions, {\r\n                            fontFamily: options.fontFamily,\r\n                            fontSize: options.fontSize,\r\n                            fontStyle: options.fontStyle,\r\n                            fontWeight: options.fontWeight\r\n                        });\r\n                        this._font();\r\n                        this.drawingElement.options.set('font', textOptions.font);\r\n                        sizeChanged = true;\r\n                    }\r\n                    if (options.text) {\r\n                        this.content(options.text);\r\n                        sizeChanged = true;\r\n                    }\r\n                    if (!this._updateSize(options) && sizeChanged) {\r\n                        this._initSize();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        deepExtend(TextBlock.fn, AutoSizeableMixin);\r\n        var Rectangle = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                this._initPath();\r\n                this._setPosition();\r\n            },\r\n            _setPosition: function () {\r\n                var options = this.options;\r\n                var x = options.x;\r\n                var y = options.y;\r\n                if (defined(x) || defined(y)) {\r\n                    this.position(x || 0, y || 0);\r\n                }\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                    if (this._diffNumericOptions(options, [\r\n                            WIDTH,\r\n                            HEIGHT\r\n                        ])) {\r\n                        this._drawPath();\r\n                    }\r\n                    if (this._diffNumericOptions(options, [\r\n                            X,\r\n                            Y\r\n                        ])) {\r\n                        this._setPosition();\r\n                    }\r\n                }\r\n            },\r\n            _initPath: function () {\r\n                var options = this.options;\r\n                this.drawingElement = new d.Path({\r\n                    stroke: options.stroke,\r\n                    closed: true\r\n                });\r\n                this._fill();\r\n                this._drawPath();\r\n            },\r\n            _drawPath: function () {\r\n                var drawingElement = this.drawingElement;\r\n                var sizeOptions = sizeOptionsOrDefault(this.options);\r\n                var width = sizeOptions.width;\r\n                var height = sizeOptions.height;\r\n                drawingElement.segments.elements([\r\n                    createSegment(0, 0),\r\n                    createSegment(width, 0),\r\n                    createSegment(width, height),\r\n                    createSegment(0, height)\r\n                ]);\r\n            }\r\n        });\r\n        var MarkerBase = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                var anchor = this.options.anchor;\r\n                this.anchor = new g.Point(anchor.x, anchor.y);\r\n                this.createElement();\r\n            },\r\n            options: {\r\n                stroke: {\r\n                    color: TRANSPARENT,\r\n                    width: 0\r\n                },\r\n                fill: { color: 'black' }\r\n            },\r\n            _transformToPath: function (point, path) {\r\n                var transform = path.transform();\r\n                if (point && transform) {\r\n                    point = point.transformCopy(transform);\r\n                }\r\n                return point;\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    if (options.position) {\r\n                        this.options.position = options.position;\r\n                    }\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                }\r\n            }\r\n        });\r\n        var CircleMarker = MarkerBase.extend({\r\n            options: {\r\n                radius: 4,\r\n                anchor: {\r\n                    x: 0,\r\n                    y: 0\r\n                }\r\n            },\r\n            createElement: function () {\r\n                var options = this.options;\r\n                this.drawingElement = new d.Circle(new g.Circle(this.anchor, options.radius), {\r\n                    fill: options.fill,\r\n                    stroke: options.stroke\r\n                });\r\n            },\r\n            positionMarker: function (path) {\r\n                var options = this.options;\r\n                var position = options.position;\r\n                var segments = path.segments;\r\n                var targetSegment;\r\n                var point;\r\n                if (position == START) {\r\n                    targetSegment = segments[0];\r\n                } else {\r\n                    targetSegment = segments[segments.length - 1];\r\n                }\r\n                if (targetSegment) {\r\n                    point = this._transformToPath(targetSegment.anchor(), path);\r\n                    this.drawingElement.transform(g.transform().translate(point.x, point.y));\r\n                }\r\n            }\r\n        });\r\n        var ArrowMarker = MarkerBase.extend({\r\n            options: {\r\n                path: 'M 0 0 L 10 5 L 0 10 L 3 5 z',\r\n                anchor: {\r\n                    x: 10,\r\n                    y: 5\r\n                }\r\n            },\r\n            createElement: function () {\r\n                var options = this.options;\r\n                this.drawingElement = d.Path.parse(options.path, {\r\n                    fill: options.fill,\r\n                    stroke: options.stroke\r\n                });\r\n            },\r\n            positionMarker: function (path) {\r\n                var points = this._linePoints(path);\r\n                var start = points.start;\r\n                var end = points.end;\r\n                var transform = g.transform();\r\n                if (start) {\r\n                    transform.rotate(lineAngle(start, end), end);\r\n                }\r\n                if (end) {\r\n                    var anchor = this.anchor;\r\n                    var translate = end.clone().translate(-anchor.x, -anchor.y);\r\n                    transform.translate(translate.x, translate.y);\r\n                }\r\n                this.drawingElement.transform(transform);\r\n            },\r\n            _linePoints: function (path) {\r\n                var options = this.options;\r\n                var segments = path.segments;\r\n                var startPoint, endPoint, targetSegment;\r\n                if (options.position == START) {\r\n                    targetSegment = segments[0];\r\n                    if (targetSegment) {\r\n                        endPoint = targetSegment.anchor();\r\n                        startPoint = targetSegment.controlOut();\r\n                        var nextSegment = segments[1];\r\n                        if (!startPoint && nextSegment) {\r\n                            startPoint = nextSegment.anchor();\r\n                        }\r\n                    }\r\n                } else {\r\n                    targetSegment = segments[segments.length - 1];\r\n                    if (targetSegment) {\r\n                        endPoint = targetSegment.anchor();\r\n                        startPoint = targetSegment.controlIn();\r\n                        var prevSegment = segments[segments.length - 2];\r\n                        if (!startPoint && prevSegment) {\r\n                            startPoint = prevSegment.anchor();\r\n                        }\r\n                    }\r\n                }\r\n                if (endPoint) {\r\n                    return {\r\n                        start: this._transformToPath(startPoint, path),\r\n                        end: this._transformToPath(endPoint, path)\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        var MarkerPathMixin = {\r\n            _getPath: function (position) {\r\n                var path = this.drawingElement;\r\n                if (path instanceof d.MultiPath) {\r\n                    if (position == START) {\r\n                        path = path.paths[0];\r\n                    } else {\r\n                        path = path.paths[path.paths.length - 1];\r\n                    }\r\n                }\r\n                if (path && path.segments.length) {\r\n                    return path;\r\n                }\r\n            },\r\n            _normalizeMarkerOptions: function (options) {\r\n                var startCap = options.startCap;\r\n                var endCap = options.endCap;\r\n                if (isString(startCap)) {\r\n                    options.startCap = { type: startCap };\r\n                }\r\n                if (isString(endCap)) {\r\n                    options.endCap = { type: endCap };\r\n                }\r\n            },\r\n            _removeMarker: function (position) {\r\n                var marker = this._markers[position];\r\n                if (marker) {\r\n                    this.drawingContainer().remove(marker.drawingElement);\r\n                    delete this._markers[position];\r\n                }\r\n            },\r\n            _createMarkers: function () {\r\n                var options = this.options;\r\n                this._normalizeMarkerOptions(options);\r\n                this._markers = {};\r\n                this._markers[START] = this._createMarker(options.startCap, START);\r\n                this._markers[END] = this._createMarker(options.endCap, END);\r\n            },\r\n            _createMarker: function (options, position) {\r\n                var type = (options || {}).type;\r\n                var path = this._getPath(position);\r\n                var markerType, marker;\r\n                if (!path) {\r\n                    this._removeMarker(position);\r\n                    return;\r\n                }\r\n                if (type == Markers.filledCircle) {\r\n                    markerType = CircleMarker;\r\n                } else if (type == Markers.arrowStart || type == Markers.arrowEnd) {\r\n                    markerType = ArrowMarker;\r\n                } else {\r\n                    this._removeMarker(position);\r\n                }\r\n                if (markerType) {\r\n                    marker = new markerType(deepExtend({}, options, { position: position }));\r\n                    marker.positionMarker(path);\r\n                    this.drawingContainer().append(marker.drawingElement);\r\n                    return marker;\r\n                }\r\n            },\r\n            _positionMarker: function (position) {\r\n                var marker = this._markers[position];\r\n                if (marker) {\r\n                    var path = this._getPath(position);\r\n                    if (path) {\r\n                        marker.positionMarker(path);\r\n                    } else {\r\n                        this._removeMarker(position);\r\n                    }\r\n                }\r\n            },\r\n            _capMap: {\r\n                start: 'startCap',\r\n                end: 'endCap'\r\n            },\r\n            _redrawMarker: function (pathChange, position, options) {\r\n                this._normalizeMarkerOptions(options);\r\n                var pathOptions = this.options;\r\n                var cap = this._capMap[position];\r\n                var pathCapType = (pathOptions[cap] || {}).type;\r\n                var optionsCap = options[cap];\r\n                var created = false;\r\n                if (optionsCap) {\r\n                    pathOptions[cap] = deepExtend({}, pathOptions[cap], optionsCap);\r\n                    if (optionsCap.type && pathCapType != optionsCap.type) {\r\n                        this._removeMarker(position);\r\n                        this._markers[position] = this._createMarker(pathOptions[cap], position);\r\n                        created = true;\r\n                    } else if (this._markers[position]) {\r\n                        this._markers[position].redraw(optionsCap);\r\n                    }\r\n                } else if (pathChange && !this._markers[position] && pathOptions[cap]) {\r\n                    this._markers[position] = this._createMarker(pathOptions[cap], position);\r\n                    created = true;\r\n                }\r\n                return created;\r\n            },\r\n            _redrawMarkers: function (pathChange, options) {\r\n                if (!this._redrawMarker(pathChange, START, options) && pathChange) {\r\n                    this._positionMarker(START);\r\n                }\r\n                if (!this._redrawMarker(pathChange, END, options) && pathChange) {\r\n                    this._positionMarker(END);\r\n                }\r\n            }\r\n        };\r\n        var Path = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                this.container = new d.Group();\r\n                this._createElements();\r\n                this._initSize();\r\n            },\r\n            options: { autoSize: true },\r\n            drawingContainer: function () {\r\n                return this.container;\r\n            },\r\n            data: function (value) {\r\n                var options = this.options;\r\n                if (value) {\r\n                    if (options.data != value) {\r\n                        options.data = value;\r\n                        this._setData(value);\r\n                        this._initSize();\r\n                        this._redrawMarkers(true, {});\r\n                    }\r\n                } else {\r\n                    return options.data;\r\n                }\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                    var pathOptions = this.options;\r\n                    var data = options.data;\r\n                    if (defined(data) && pathOptions.data != data) {\r\n                        pathOptions.data = data;\r\n                        this._setData(data);\r\n                        if (!this._updateSize(options)) {\r\n                            this._initSize();\r\n                        }\r\n                        this._redrawMarkers(true, options);\r\n                    } else {\r\n                        this._updateSize(options);\r\n                        this._redrawMarkers(false, options);\r\n                    }\r\n                }\r\n            },\r\n            _createElements: function () {\r\n                var options = this.options;\r\n                this.drawingElement = d.Path.parse(options.data || '', { stroke: options.stroke });\r\n                this._fill();\r\n                this.container.append(this.drawingElement);\r\n                this._createMarkers();\r\n            },\r\n            _setData: function (data) {\r\n                var drawingElement = this.drawingElement;\r\n                var multipath = d.Path.parse(data || '');\r\n                var paths = multipath.paths.slice(0);\r\n                multipath.paths.elements([]);\r\n                drawingElement.paths.elements(paths);\r\n            }\r\n        });\r\n        deepExtend(Path.fn, AutoSizeableMixin);\r\n        deepExtend(Path.fn, MarkerPathMixin);\r\n        var Line = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                this.container = new d.Group();\r\n                this._initPath();\r\n                this._createMarkers();\r\n            },\r\n            drawingContainer: function () {\r\n                return this.container;\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    options = options || {};\r\n                    var from = options.from;\r\n                    var to = options.to;\r\n                    if (from) {\r\n                        this.options.from = from;\r\n                    }\r\n                    if (to) {\r\n                        this.options.to = to;\r\n                    }\r\n                    if (from || to) {\r\n                        this._drawPath();\r\n                        this._redrawMarkers(true, options);\r\n                    } else {\r\n                        this._redrawMarkers(false, options);\r\n                    }\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                }\r\n            },\r\n            _initPath: function () {\r\n                var options = this.options;\r\n                var drawingElement = this.drawingElement = new d.Path({ stroke: options.stroke });\r\n                this._fill();\r\n                this._drawPath();\r\n                this.container.append(drawingElement);\r\n            },\r\n            _drawPath: function () {\r\n                var options = this.options;\r\n                var drawingElement = this.drawingElement;\r\n                var from = options.from || new Point();\r\n                var to = options.to || new Point();\r\n                drawingElement.segments.elements([\r\n                    createSegment(from.x, from.y),\r\n                    createSegment(to.x, to.y)\r\n                ]);\r\n            }\r\n        });\r\n        deepExtend(Line.fn, MarkerPathMixin);\r\n        var Polyline = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                this.container = new d.Group();\r\n                this._initPath();\r\n                this._createMarkers();\r\n            },\r\n            drawingContainer: function () {\r\n                return this.container;\r\n            },\r\n            points: function (points) {\r\n                var options = this.options;\r\n                if (points) {\r\n                    options.points = points;\r\n                    this._updatePath();\r\n                } else {\r\n                    return options.points;\r\n                }\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    var points = options.points;\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                    if (points && this._pointsDiffer(points)) {\r\n                        this.points(points);\r\n                        this._redrawMarkers(true, options);\r\n                    } else {\r\n                        this._redrawMarkers(false, options);\r\n                    }\r\n                }\r\n            },\r\n            _initPath: function () {\r\n                var options = this.options;\r\n                this.drawingElement = new d.Path({ stroke: options.stroke });\r\n                this._fill();\r\n                this.container.append(this.drawingElement);\r\n                if (options.points) {\r\n                    this._updatePath();\r\n                }\r\n            },\r\n            _pointsDiffer: function (points) {\r\n                var currentPoints = this.options.points;\r\n                var differ = currentPoints.length !== points.length;\r\n                if (!differ) {\r\n                    for (var i = 0; i < points.length; i++) {\r\n                        if (currentPoints[i].x !== points[i].x || currentPoints[i].y !== points[i].y) {\r\n                            differ = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return differ;\r\n            },\r\n            _updatePath: function () {\r\n                var drawingElement = this.drawingElement;\r\n                var options = this.options;\r\n                var points = options.points;\r\n                var segments = [];\r\n                var point;\r\n                for (var i = 0; i < points.length; i++) {\r\n                    point = points[i];\r\n                    segments.push(createSegment(point.x, point.y));\r\n                }\r\n                drawingElement.segments.elements(segments);\r\n            },\r\n            options: { points: [] }\r\n        });\r\n        deepExtend(Polyline.fn, MarkerPathMixin);\r\n        var Image = Element.extend({\r\n            init: function (options) {\r\n                Element.fn.init.call(this, options);\r\n                this._initImage();\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    if (options.source) {\r\n                        this.drawingElement.src(options.source);\r\n                    }\r\n                    if (this._diffNumericOptions(options, [\r\n                            WIDTH,\r\n                            HEIGHT,\r\n                            X,\r\n                            Y\r\n                        ])) {\r\n                        this.drawingElement.rect(this._rect());\r\n                    }\r\n                    Element.fn.redraw.call(this, options);\r\n                }\r\n            },\r\n            _initImage: function () {\r\n                var options = this.options;\r\n                var rect = this._rect();\r\n                this.drawingElement = new d.Image(options.source, rect, {});\r\n            },\r\n            _rect: function () {\r\n                var sizeOptions = sizeOptionsOrDefault(this.options);\r\n                var origin = new g.Point(sizeOptions.x, sizeOptions.y);\r\n                var size = new g.Size(sizeOptions.width, sizeOptions.height);\r\n                return new g.Rect(origin, size);\r\n            }\r\n        });\r\n        var Group = Element.extend({\r\n            init: function (options) {\r\n                this.children = [];\r\n                Element.fn.init.call(this, options);\r\n                this.drawingElement = new d.Group();\r\n                this._initSize();\r\n            },\r\n            options: { autoSize: false },\r\n            append: function (visual) {\r\n                this.drawingElement.append(visual.drawingContainer());\r\n                this.children.push(visual);\r\n                this._childrenChange = true;\r\n            },\r\n            remove: function (visual) {\r\n                if (this._remove(visual)) {\r\n                    this._childrenChange = true;\r\n                }\r\n            },\r\n            _remove: function (visual) {\r\n                var index = inArray(visual, this.children);\r\n                if (index >= 0) {\r\n                    this.drawingElement.removeAt(index);\r\n                    this.children.splice(index, 1);\r\n                    return true;\r\n                }\r\n            },\r\n            clear: function () {\r\n                this.drawingElement.clear();\r\n                this.children = [];\r\n                this._childrenChange = true;\r\n            },\r\n            toFront: function (visuals) {\r\n                var visual;\r\n                for (var i = 0; i < visuals.length; i++) {\r\n                    visual = visuals[i];\r\n                    if (this._remove(visual)) {\r\n                        this.append(visual);\r\n                    }\r\n                }\r\n            },\r\n            toBack: function (visuals) {\r\n                this._reorderChildren(visuals, 0);\r\n            },\r\n            toIndex: function (visuals, indices) {\r\n                this._reorderChildren(visuals, indices);\r\n            },\r\n            _reorderChildren: function (visuals, indices) {\r\n                var group = this.drawingElement;\r\n                var drawingChildren = group.children.slice(0);\r\n                var children = this.children;\r\n                var fixedPosition = isNumber(indices);\r\n                var i, index, toIndex, drawingElement, visual;\r\n                for (i = 0; i < visuals.length; i++) {\r\n                    visual = visuals[i];\r\n                    drawingElement = visual.drawingContainer();\r\n                    index = inArray(visual, children);\r\n                    if (index >= 0) {\r\n                        drawingChildren.splice(index, 1);\r\n                        children.splice(index, 1);\r\n                        toIndex = fixedPosition ? indices : indices[i];\r\n                        drawingChildren.splice(toIndex, 0, drawingElement);\r\n                        children.splice(toIndex, 0, visual);\r\n                    }\r\n                }\r\n                group.clear();\r\n                group.append.apply(group, drawingChildren);\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    if (this._childrenChange) {\r\n                        this._childrenChange = false;\r\n                        if (!this._updateSize(options)) {\r\n                            this._initSize();\r\n                        }\r\n                    } else {\r\n                        this._updateSize(options);\r\n                    }\r\n                    Element.fn.redraw.call(this, options);\r\n                }\r\n            },\r\n            _boundingBox: function () {\r\n                var children = this.children;\r\n                var boundingBox;\r\n                var visual, childBoundingBox;\r\n                for (var i = 0; i < children.length; i++) {\r\n                    visual = children[i];\r\n                    if (visual.visible() && visual._includeInBBox !== false) {\r\n                        childBoundingBox = visual.drawingContainer().clippedBBox(null);\r\n                        if (childBoundingBox) {\r\n                            if (boundingBox) {\r\n                                boundingBox = g.Rect.union(boundingBox, childBoundingBox);\r\n                            } else {\r\n                                boundingBox = childBoundingBox;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return boundingBox;\r\n            }\r\n        });\r\n        deepExtend(Group.fn, AutoSizeableMixin);\r\n        var Layout = Group.extend({\r\n            init: function (rect, options) {\r\n                this.children = [];\r\n                Element.fn.init.call(this, options);\r\n                this.drawingElement = new d.Layout(toDrawingRect(rect), options);\r\n                this._initSize();\r\n            },\r\n            rect: function (rect) {\r\n                if (rect) {\r\n                    this.drawingElement.rect(toDrawingRect(rect));\r\n                } else {\r\n                    var drawingRect = this.drawingElement.rect();\r\n                    if (drawingRect) {\r\n                        return new Rect(drawingRect.origin.x, drawingRect.origin.y, drawingRect.size.width, drawingRect.size.height);\r\n                    }\r\n                }\r\n            },\r\n            reflow: function () {\r\n                this.drawingElement.reflow();\r\n            },\r\n            redraw: function (options) {\r\n                kendo.deepExtend(this.drawingElement.options, options);\r\n                Group.fn.redraw.call(this, options);\r\n            }\r\n        });\r\n        var Circle = VisualBase.extend({\r\n            init: function (options) {\r\n                VisualBase.fn.init.call(this, options);\r\n                this._initCircle();\r\n                this._initSize();\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    var circleOptions = this.options;\r\n                    if (options.center) {\r\n                        deepExtend(circleOptions, { center: options.center });\r\n                        this._center.move(circleOptions.center.x, circleOptions.center.y);\r\n                    }\r\n                    if (this._diffNumericOptions(options, ['radius'])) {\r\n                        this._circle.setRadius(circleOptions.radius);\r\n                    }\r\n                    this._updateSize(options);\r\n                    VisualBase.fn.redraw.call(this, options);\r\n                }\r\n            },\r\n            _initCircle: function () {\r\n                var options = this.options;\r\n                var width = options.width;\r\n                var height = options.height;\r\n                var radius = options.radius;\r\n                if (!defined(radius)) {\r\n                    if (!defined(width)) {\r\n                        width = height;\r\n                    }\r\n                    if (!defined(height)) {\r\n                        height = width;\r\n                    }\r\n                    options.radius = radius = Math.min(width, height) / 2;\r\n                }\r\n                var center = options.center || {\r\n                    x: radius,\r\n                    y: radius\r\n                };\r\n                this._center = new g.Point(center.x, center.y);\r\n                this._circle = new g.Circle(this._center, radius);\r\n                this.drawingElement = new d.Circle(this._circle, { stroke: options.stroke });\r\n                this._fill();\r\n            }\r\n        });\r\n        deepExtend(Circle.fn, AutoSizeableMixin);\r\n        var Canvas = Class.extend({\r\n            init: function (element, options) {\r\n                options = options || {};\r\n                this.element = element;\r\n                this.surface = d.Surface.create(element, options);\r\n                if (kendo.isFunction(this.surface.translate)) {\r\n                    this.translate = this._translate;\r\n                }\r\n                this.drawingElement = new d.Group();\r\n                this._viewBox = new Rect(0, 0, options.width, options.height);\r\n                this.size(this._viewBox);\r\n            },\r\n            bounds: function () {\r\n                var box = this.drawingElement.clippedBBox();\r\n                return new Rect(0, 0, box.width(), box.height());\r\n            },\r\n            size: function (size) {\r\n                var viewBox = this._viewBox;\r\n                if (defined(size)) {\r\n                    viewBox.width = size.width;\r\n                    viewBox.height = size.height;\r\n                    this.surface.setSize(size);\r\n                }\r\n                return {\r\n                    width: viewBox.width,\r\n                    height: viewBox.height\r\n                };\r\n            },\r\n            _translate: function (x, y) {\r\n                var viewBox = this._viewBox;\r\n                if (defined(x) && defined(y)) {\r\n                    viewBox.x = x;\r\n                    viewBox.y = y;\r\n                    this.surface.translate({\r\n                        x: x,\r\n                        y: y\r\n                    });\r\n                }\r\n                return {\r\n                    x: viewBox.x,\r\n                    y: viewBox.y\r\n                };\r\n            },\r\n            draw: function () {\r\n                this.surface.draw(this.drawingElement);\r\n            },\r\n            append: function (visual) {\r\n                this.drawingElement.append(visual.drawingContainer());\r\n                return this;\r\n            },\r\n            remove: function (visual) {\r\n                this.drawingElement.remove(visual.drawingContainer());\r\n            },\r\n            insertBefore: function () {\r\n            },\r\n            clear: function () {\r\n                this.drawingElement.clear();\r\n            },\r\n            destroy: function (clearHtml) {\r\n                this.surface.destroy();\r\n                if (clearHtml) {\r\n                    $(this.element).remove();\r\n                }\r\n            }\r\n        });\r\n        function sizeOptionsOrDefault(options) {\r\n            return {\r\n                x: options.x || 0,\r\n                y: options.y || 0,\r\n                width: options.width || 0,\r\n                height: options.height || 0\r\n            };\r\n        }\r\n        function normalizeDrawingOptions(options) {\r\n            if (options) {\r\n                var drawingOptions = options;\r\n                if (isString(drawingOptions)) {\r\n                    drawingOptions = { color: drawingOptions };\r\n                }\r\n                if (drawingOptions.color) {\r\n                    drawingOptions.color = getColor(drawingOptions.color);\r\n                }\r\n                return drawingOptions;\r\n            }\r\n        }\r\n        function getColor(value) {\r\n            var color;\r\n            if (value != TRANSPARENT) {\r\n                color = new d.Color(value).toHex();\r\n            } else {\r\n                color = value;\r\n            }\r\n            return color;\r\n        }\r\n        function lineAngle(p1, p2) {\r\n            var xDiff = p2.x - p1.x;\r\n            var yDiff = p2.y - p1.y;\r\n            var angle = kendo.util.deg(Math.atan2(yDiff, xDiff));\r\n            return angle;\r\n        }\r\n        function createSegment(x, y) {\r\n            return new d.Segment(new g.Point(x, y));\r\n        }\r\n        function toDrawingRect(rect) {\r\n            if (rect) {\r\n                return new g.Rect([\r\n                    rect.x,\r\n                    rect.y\r\n                ], [\r\n                    rect.width,\r\n                    rect.height\r\n                ]);\r\n            }\r\n        }\r\n        kendo.deepExtend(diagram, {\r\n            init: function (element) {\r\n                kendo.init(element, diagram.ui);\r\n            },\r\n            diffNumericOptions: diffNumericOptions,\r\n            Element: Element,\r\n            Scale: Scale,\r\n            Translation: Translation,\r\n            Rotation: Rotation,\r\n            Circle: Circle,\r\n            Group: Group,\r\n            Rectangle: Rectangle,\r\n            Canvas: Canvas,\r\n            Path: Path,\r\n            Layout: Layout,\r\n            Line: Line,\r\n            MarkerBase: MarkerBase,\r\n            ArrowMarker: ArrowMarker,\r\n            CircleMarker: CircleMarker,\r\n            Polyline: Polyline,\r\n            CompositeTransform: CompositeTransform,\r\n            TextBlock: TextBlock,\r\n            Image: Image,\r\n            VisualBase: VisualBase\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/services', [\r\n        'kendo.drawing',\r\n        'dataviz/diagram/svg'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, dataviz = kendo.dataviz, diagram = dataviz.diagram, Class = kendo.Class, Group = diagram.Group, Rect = diagram.Rect, Rectangle = diagram.Rectangle, Utils = diagram.Utils, isUndefined = Utils.isUndefined, Point = diagram.Point, Circle = diagram.Circle, Ticker = diagram.Ticker, deepExtend = kendo.deepExtend, Movable = kendo.ui.Movable, browser = kendo.support.browser, defined = kendo.util.defined, inArray = $.inArray, proxy = $.proxy;\r\n        var Cursors = {\r\n                arrow: 'default',\r\n                grip: 'pointer',\r\n                cross: 'pointer',\r\n                add: 'pointer',\r\n                move: 'move',\r\n                select: 'pointer',\r\n                south: 's-resize',\r\n                east: 'e-resize',\r\n                west: 'w-resize',\r\n                north: 'n-resize',\r\n                rowresize: 'row-resize',\r\n                colresize: 'col-resize'\r\n            }, HIT_TEST_DISTANCE = 10, AUTO = 'Auto', TOP = 'Top', RIGHT = 'Right', LEFT = 'Left', BOTTOM = 'Bottom', DEFAULT_SNAP_SIZE = 10, DEFAULT_SNAP_ANGLE = 10, DRAG_START = 'dragStart', DRAG = 'drag', DRAG_END = 'dragEnd', ITEMROTATE = 'itemRotate', ITEMBOUNDSCHANGE = 'itemBoundsChange', MIN_SNAP_SIZE = 5, MIN_SNAP_ANGLE = 5, MOUSE_ENTER = 'mouseEnter', MOUSE_LEAVE = 'mouseLeave', ZOOM_START = 'zoomStart', ZOOM_END = 'zoomEnd', SCROLL_MIN = -20000, SCROLL_MAX = 20000, FRICTION = 0.9, FRICTION_MOBILE = 0.93, VELOCITY_MULTIPLIER = 5, TRANSPARENT = 'transparent', PAN = 'pan', ROTATED = 'rotated', SOURCE = 'source', TARGET = 'target', HANDLE_NAMES = {\r\n                '-1': SOURCE,\r\n                '1': TARGET\r\n            };\r\n        diagram.Cursors = Cursors;\r\n        var PositionAdapter = kendo.Class.extend({\r\n            init: function (layoutState) {\r\n                this.layoutState = layoutState;\r\n                this.diagram = layoutState.diagram;\r\n            },\r\n            initState: function () {\r\n                this.froms = [];\r\n                this.tos = [];\r\n                this.subjects = [];\r\n                function pusher(id, bounds) {\r\n                    var shape = this.diagram.getShapeById(id);\r\n                    if (shape) {\r\n                        this.subjects.push(shape);\r\n                        this.froms.push(shape.bounds().topLeft());\r\n                        this.tos.push(bounds.topLeft());\r\n                    }\r\n                }\r\n                this.layoutState.nodeMap.forEach(pusher, this);\r\n            },\r\n            update: function (tick) {\r\n                if (this.subjects.length <= 0) {\r\n                    return;\r\n                }\r\n                for (var i = 0; i < this.subjects.length; i++) {\r\n                    this.subjects[i].position(new Point(this.froms[i].x + (this.tos[i].x - this.froms[i].x) * tick, this.froms[i].y + (this.tos[i].y - this.froms[i].y) * tick));\r\n                }\r\n            }\r\n        });\r\n        var LayoutUndoUnit = Class.extend({\r\n            init: function (initialState, finalState, animate) {\r\n                if (isUndefined(animate)) {\r\n                    this.animate = false;\r\n                } else {\r\n                    this.animate = animate;\r\n                }\r\n                this._initialState = initialState;\r\n                this._finalState = finalState;\r\n                this.title = 'Diagram layout';\r\n            },\r\n            undo: function () {\r\n                this.setState(this._initialState);\r\n            },\r\n            redo: function () {\r\n                this.setState(this._finalState);\r\n            },\r\n            setState: function (state) {\r\n                var diagram = state.diagram;\r\n                if (this.animate) {\r\n                    state.linkMap.forEach(function (id, points) {\r\n                        var conn = diagram.getShapeById(id);\r\n                        conn.visible(false);\r\n                        if (conn) {\r\n                            conn.points(points);\r\n                        }\r\n                    });\r\n                    var ticker = new Ticker();\r\n                    ticker.addAdapter(new PositionAdapter(state));\r\n                    ticker.onComplete(function () {\r\n                        state.linkMap.forEach(function (id) {\r\n                            var conn = diagram.getShapeById(id);\r\n                            conn.visible(true);\r\n                        });\r\n                    });\r\n                    ticker.play();\r\n                } else {\r\n                    state.nodeMap.forEach(function (id, bounds) {\r\n                        var shape = diagram.getShapeById(id);\r\n                        if (shape) {\r\n                            shape.position(bounds.topLeft());\r\n                        }\r\n                    });\r\n                    state.linkMap.forEach(function (id, points) {\r\n                        var conn = diagram.getShapeById(id);\r\n                        if (conn) {\r\n                            conn.points(points);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        var CompositeUnit = Class.extend({\r\n            init: function (unit) {\r\n                this.units = [];\r\n                this.title = 'Composite unit';\r\n                if (unit !== undefined) {\r\n                    this.units.push(unit);\r\n                }\r\n            },\r\n            add: function (undoUnit) {\r\n                this.units.push(undoUnit);\r\n            },\r\n            undo: function () {\r\n                for (var i = 0; i < this.units.length; i++) {\r\n                    this.units[i].undo();\r\n                }\r\n            },\r\n            redo: function () {\r\n                for (var i = 0; i < this.units.length; i++) {\r\n                    this.units[i].redo();\r\n                }\r\n            }\r\n        });\r\n        var ConnectionEditUnit = Class.extend({\r\n            init: function (item, redoSource, redoTarget) {\r\n                this.item = item;\r\n                this._redoSource = redoSource;\r\n                this._redoTarget = redoTarget;\r\n                if (defined(redoSource)) {\r\n                    this._undoSource = item.source();\r\n                }\r\n                if (defined(redoTarget)) {\r\n                    this._undoTarget = item.target();\r\n                }\r\n                this.title = 'Connection Editing';\r\n            },\r\n            undo: function () {\r\n                if (this._undoSource !== undefined) {\r\n                    this.item._updateConnector(this._undoSource, 'source');\r\n                }\r\n                if (this._undoTarget !== undefined) {\r\n                    this.item._updateConnector(this._undoTarget, 'target');\r\n                }\r\n                this.item.updateModel();\r\n            },\r\n            redo: function () {\r\n                if (this._redoSource !== undefined) {\r\n                    this.item._updateConnector(this._redoSource, 'source');\r\n                }\r\n                if (this._redoTarget !== undefined) {\r\n                    this.item._updateConnector(this._redoTarget, 'target');\r\n                }\r\n                this.item.updateModel();\r\n            }\r\n        });\r\n        var ConnectionEditUndoUnit = Class.extend({\r\n            init: function (item, undoSource, undoTarget) {\r\n                this.item = item;\r\n                this._undoSource = undoSource;\r\n                this._undoTarget = undoTarget;\r\n                this._redoSource = item.source();\r\n                this._redoTarget = item.target();\r\n                this.title = 'Connection Editing';\r\n            },\r\n            undo: function () {\r\n                this.item._updateConnector(this._undoSource, 'source');\r\n                this.item._updateConnector(this._undoTarget, 'target');\r\n                this.item.updateModel();\r\n            },\r\n            redo: function () {\r\n                this.item._updateConnector(this._redoSource, 'source');\r\n                this.item._updateConnector(this._redoTarget, 'target');\r\n                this.item.updateModel();\r\n            }\r\n        });\r\n        var DeleteConnectionUnit = Class.extend({\r\n            init: function (connection) {\r\n                this.connection = connection;\r\n                this.diagram = connection.diagram;\r\n                this.targetConnector = connection.targetConnector;\r\n                this.title = 'Delete connection';\r\n            },\r\n            undo: function () {\r\n                this.diagram._addConnection(this.connection, false);\r\n            },\r\n            redo: function () {\r\n                this.diagram.remove(this.connection, false);\r\n            }\r\n        });\r\n        var DeleteShapeUnit = Class.extend({\r\n            init: function (shape) {\r\n                this.shape = shape;\r\n                this.diagram = shape.diagram;\r\n                this.title = 'Deletion';\r\n            },\r\n            undo: function () {\r\n                this.diagram._addShape(this.shape, false);\r\n                this.shape.select(false);\r\n            },\r\n            redo: function () {\r\n                this.shape.select(false);\r\n                this.diagram.remove(this.shape, false);\r\n            }\r\n        });\r\n        var TransformUnit = Class.extend({\r\n            init: function (shapes, undoStates, adorner) {\r\n                this.shapes = shapes;\r\n                this.undoStates = undoStates;\r\n                this.title = 'Transformation';\r\n                this.redoStates = [];\r\n                this.adorner = adorner;\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    this.redoStates.push(shape.bounds());\r\n                }\r\n            },\r\n            undo: function () {\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    shape.bounds(this.undoStates[i]);\r\n                    if (shape.hasOwnProperty('layout')) {\r\n                        shape.layout(shape, this.redoStates[i], this.undoStates[i]);\r\n                    }\r\n                    shape.updateModel();\r\n                }\r\n                if (this.adorner) {\r\n                    this.adorner.refreshBounds();\r\n                    this.adorner.refresh();\r\n                }\r\n            },\r\n            redo: function () {\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    shape.bounds(this.redoStates[i]);\r\n                    if (shape.hasOwnProperty('layout')) {\r\n                        shape.layout(shape, this.undoStates[i], this.redoStates[i]);\r\n                    }\r\n                    shape.updateModel();\r\n                }\r\n                if (this.adorner) {\r\n                    this.adorner.refreshBounds();\r\n                    this.adorner.refresh();\r\n                }\r\n            }\r\n        });\r\n        var AddConnectionUnit = Class.extend({\r\n            init: function (connection, diagram) {\r\n                this.connection = connection;\r\n                this.diagram = diagram;\r\n                this.title = 'New connection';\r\n            },\r\n            undo: function () {\r\n                this.diagram.remove(this.connection, false);\r\n            },\r\n            redo: function () {\r\n                this.diagram._addConnection(this.connection, false);\r\n            }\r\n        });\r\n        var AddShapeUnit = Class.extend({\r\n            init: function (shape, diagram) {\r\n                this.shape = shape;\r\n                this.diagram = diagram;\r\n                this.title = 'New shape';\r\n            },\r\n            undo: function () {\r\n                this.diagram.deselect();\r\n                this.diagram.remove(this.shape, false);\r\n            },\r\n            redo: function () {\r\n                this.diagram._addShape(this.shape, false);\r\n            }\r\n        });\r\n        var PanUndoUnit = Class.extend({\r\n            init: function (initialPosition, finalPosition, diagram) {\r\n                this.initial = initialPosition;\r\n                this.finalPos = finalPosition;\r\n                this.diagram = diagram;\r\n                this.title = 'Pan Unit';\r\n            },\r\n            undo: function () {\r\n                this.diagram.pan(this.initial);\r\n            },\r\n            redo: function () {\r\n                this.diagram.pan(this.finalPos);\r\n            }\r\n        });\r\n        var RotateUnit = Class.extend({\r\n            init: function (adorner, shapes, undoRotates) {\r\n                this.shapes = shapes;\r\n                this.undoRotates = undoRotates;\r\n                this.title = 'Rotation';\r\n                this.redoRotates = [];\r\n                this.redoAngle = adorner._angle;\r\n                this.adorner = adorner;\r\n                this.center = adorner._innerBounds.center();\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    this.redoRotates.push(shape.rotate().angle);\r\n                }\r\n            },\r\n            undo: function () {\r\n                var i, shape;\r\n                for (i = 0; i < this.shapes.length; i++) {\r\n                    shape = this.shapes[i];\r\n                    shape.rotate(this.undoRotates[i], this.center, false);\r\n                    if (shape.hasOwnProperty('layout')) {\r\n                        shape.layout(shape);\r\n                    }\r\n                    shape.updateModel();\r\n                }\r\n                if (this.adorner) {\r\n                    this.adorner._initialize();\r\n                    this.adorner.refresh();\r\n                }\r\n            },\r\n            redo: function () {\r\n                var i, shape;\r\n                for (i = 0; i < this.shapes.length; i++) {\r\n                    shape = this.shapes[i];\r\n                    shape.rotate(this.redoRotates[i], this.center, false);\r\n                    if (shape.hasOwnProperty('layout')) {\r\n                        shape.layout(shape);\r\n                    }\r\n                    shape.updateModel();\r\n                }\r\n                if (this.adorner) {\r\n                    this.adorner._initialize();\r\n                    this.adorner.refresh();\r\n                }\r\n            }\r\n        });\r\n        var ToFrontUnit = Class.extend({\r\n            init: function (diagram, items, initialIndices) {\r\n                this.diagram = diagram;\r\n                this.indices = initialIndices;\r\n                this.items = items;\r\n                this.title = 'Rotate Unit';\r\n            },\r\n            undo: function () {\r\n                this.diagram._toIndex(this.items, this.indices);\r\n            },\r\n            redo: function () {\r\n                this.diagram.toFront(this.items, false);\r\n            }\r\n        });\r\n        var ToBackUnit = Class.extend({\r\n            init: function (diagram, items, initialIndices) {\r\n                this.diagram = diagram;\r\n                this.indices = initialIndices;\r\n                this.items = items;\r\n                this.title = 'Rotate Unit';\r\n            },\r\n            undo: function () {\r\n                this.diagram._toIndex(this.items, this.indices);\r\n            },\r\n            redo: function () {\r\n                this.diagram.toBack(this.items, false);\r\n            }\r\n        });\r\n        var UndoRedoService = kendo.Observable.extend({\r\n            init: function (options) {\r\n                kendo.Observable.fn.init.call(this, options);\r\n                this.bind(this.events, options);\r\n                this.stack = [];\r\n                this.index = 0;\r\n                this.capacity = 100;\r\n            },\r\n            events: [\r\n                'undone',\r\n                'redone'\r\n            ],\r\n            begin: function () {\r\n                this.composite = new CompositeUnit();\r\n            },\r\n            cancel: function () {\r\n                this.composite = undefined;\r\n            },\r\n            commit: function (execute) {\r\n                if (this.composite.units.length > 0) {\r\n                    this._restart(this.composite, execute);\r\n                }\r\n                this.composite = undefined;\r\n            },\r\n            addCompositeItem: function (undoUnit) {\r\n                if (this.composite) {\r\n                    this.composite.add(undoUnit);\r\n                } else {\r\n                    this.add(undoUnit);\r\n                }\r\n            },\r\n            add: function (undoUnit, execute) {\r\n                this._restart(undoUnit, execute);\r\n            },\r\n            pop: function () {\r\n                if (this.index > 0) {\r\n                    this.stack.pop();\r\n                    this.index--;\r\n                }\r\n            },\r\n            count: function () {\r\n                return this.stack.length;\r\n            },\r\n            undo: function () {\r\n                if (this.index > 0) {\r\n                    this.index--;\r\n                    this.stack[this.index].undo();\r\n                    this.trigger('undone');\r\n                }\r\n            },\r\n            redo: function () {\r\n                if (this.stack.length > 0 && this.index < this.stack.length) {\r\n                    this.stack[this.index].redo();\r\n                    this.index++;\r\n                    this.trigger('redone');\r\n                }\r\n            },\r\n            _restart: function (composite, execute) {\r\n                this.stack.splice(this.index, this.stack.length - this.index);\r\n                this.stack.push(composite);\r\n                if (execute !== false) {\r\n                    this.redo();\r\n                } else {\r\n                    this.index++;\r\n                }\r\n                if (this.stack.length > this.capacity) {\r\n                    this.stack.splice(0, this.stack.length - this.capacity);\r\n                    this.index = this.capacity;\r\n                }\r\n            },\r\n            clear: function () {\r\n                this.stack = [];\r\n                this.index = 0;\r\n            }\r\n        });\r\n        var EmptyTool = Class.extend({\r\n            init: function (toolService) {\r\n                this.toolService = toolService;\r\n            },\r\n            start: function () {\r\n            },\r\n            move: function () {\r\n            },\r\n            end: function () {\r\n            },\r\n            tryActivate: function () {\r\n                return false;\r\n            },\r\n            getCursor: function () {\r\n                return Cursors.arrow;\r\n            }\r\n        });\r\n        var ScrollerTool = EmptyTool.extend({\r\n            init: function (toolService) {\r\n                var tool = this;\r\n                var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\r\n                EmptyTool.fn.init.call(tool, toolService);\r\n                var diagram = tool.toolService.diagram, canvas = diagram.canvas;\r\n                var scroller = diagram.scroller = tool.scroller = $(diagram.scrollable).kendoMobileScroller({\r\n                    friction: friction,\r\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\r\n                    mousewheelScrolling: false,\r\n                    zoom: false,\r\n                    scroll: proxy(tool._move, tool)\r\n                }).data('kendoMobileScroller');\r\n                if (canvas.translate) {\r\n                    tool.movableCanvas = new Movable(canvas.element);\r\n                }\r\n                var virtualScroll = function (dimension, min, max) {\r\n                    dimension.makeVirtual();\r\n                    dimension.virtualSize(min || SCROLL_MIN, max || SCROLL_MAX);\r\n                };\r\n                virtualScroll(scroller.dimensions.x);\r\n                virtualScroll(scroller.dimensions.y);\r\n                scroller.disable();\r\n            },\r\n            tryActivate: function (p, meta) {\r\n                var toolService = this.toolService;\r\n                var options = toolService.diagram.options.pannable;\r\n                var enabled = meta.ctrlKey;\r\n                if (defined(options.key)) {\r\n                    if (!options.key || options.key == 'none') {\r\n                        enabled = noMeta(meta) && !defined(toolService.hoveredItem);\r\n                    } else {\r\n                        enabled = meta[options.key + 'Key'];\r\n                    }\r\n                }\r\n                return options !== false && enabled && !defined(toolService.hoveredAdorner) && !defined(toolService._hoveredConnector);\r\n            },\r\n            start: function () {\r\n                this.scroller.enable();\r\n            },\r\n            move: function () {\r\n            },\r\n            _move: function (args) {\r\n                var tool = this, diagram = tool.toolService.diagram, canvas = diagram.canvas, scrollPos = new Point(args.scrollLeft, args.scrollTop);\r\n                if (canvas.translate) {\r\n                    diagram._storePan(scrollPos.times(-1));\r\n                    tool.movableCanvas.moveTo(scrollPos);\r\n                    canvas.translate(scrollPos.x, scrollPos.y);\r\n                } else {\r\n                    scrollPos = scrollPos.plus(diagram._pan.times(-1));\r\n                }\r\n                diagram.trigger(PAN, { pan: scrollPos });\r\n            },\r\n            end: function () {\r\n                this.scroller.disable();\r\n            },\r\n            getCursor: function () {\r\n                return Cursors.move;\r\n            }\r\n        });\r\n        var PointerTool = Class.extend({\r\n            init: function (toolService) {\r\n                this.toolService = toolService;\r\n            },\r\n            tryActivate: function () {\r\n                return true;\r\n            },\r\n            start: function (p, meta) {\r\n                var toolService = this.toolService, diagram = toolService.diagram, hoveredItem = toolService.hoveredItem;\r\n                if (hoveredItem) {\r\n                    toolService.selectSingle(hoveredItem, meta);\r\n                    if (hoveredItem.adorner) {\r\n                        this.adorner = hoveredItem.adorner;\r\n                        this.handle = this.adorner._hitTest(p);\r\n                    }\r\n                }\r\n                if (!this.handle) {\r\n                    this.handle = diagram._resizingAdorner._hitTest(p);\r\n                    if (this.handle) {\r\n                        this.adorner = diagram._resizingAdorner;\r\n                    }\r\n                }\r\n                if (this.adorner) {\r\n                    if (!this.adorner.isDragHandle(this.handle) || !diagram.trigger(DRAG_START, {\r\n                            shapes: this.adorner.shapes,\r\n                            connections: []\r\n                        })) {\r\n                        this.adorner.start(p);\r\n                    } else {\r\n                        toolService.startPoint = p;\r\n                        toolService.end(p);\r\n                    }\r\n                }\r\n            },\r\n            move: function (p) {\r\n                if (this.adorner) {\r\n                    this.adorner.move(this.handle, p);\r\n                    if (this.adorner.isDragHandle(this.handle)) {\r\n                        this.toolService.diagram.trigger(DRAG, {\r\n                            shapes: this.adorner.shapes,\r\n                            connections: []\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            end: function () {\r\n                var diagram = this.toolService.diagram, adorner = this.adorner, unit;\r\n                if (adorner) {\r\n                    if (!adorner.isDragHandle(this.handle) || !diagram.trigger(DRAG_END, {\r\n                            shapes: adorner.shapes,\r\n                            connections: []\r\n                        })) {\r\n                        unit = adorner.stop();\r\n                        if (unit) {\r\n                            diagram.undoRedoService.add(unit, false);\r\n                        }\r\n                    } else {\r\n                        adorner.cancel();\r\n                    }\r\n                }\r\n                this.adorner = undefined;\r\n                this.handle = undefined;\r\n            },\r\n            getCursor: function (p) {\r\n                return this.toolService.hoveredItem ? this.toolService.hoveredItem._getCursor(p) : Cursors.arrow;\r\n            }\r\n        });\r\n        var SelectionTool = Class.extend({\r\n            init: function (toolService) {\r\n                this.toolService = toolService;\r\n            },\r\n            tryActivate: function (p, meta) {\r\n                var toolService = this.toolService;\r\n                var selectable = toolService.diagram.options.selectable;\r\n                var enabled = selectable && selectable.multiple !== false;\r\n                if (enabled) {\r\n                    if (selectable.key && selectable.key != 'none') {\r\n                        enabled = meta[selectable.key + 'Key'];\r\n                    } else {\r\n                        enabled = noMeta(meta);\r\n                    }\r\n                }\r\n                return enabled && !defined(toolService.hoveredItem) && !defined(toolService.hoveredAdorner);\r\n            },\r\n            start: function (p) {\r\n                var diagram = this.toolService.diagram;\r\n                diagram.deselect();\r\n                diagram.selector.start(p);\r\n            },\r\n            move: function (p) {\r\n                var diagram = this.toolService.diagram;\r\n                diagram.selector.move(p);\r\n            },\r\n            end: function (p, meta) {\r\n                var diagram = this.toolService.diagram, hoveredItem = this.toolService.hoveredItem;\r\n                var rect = diagram.selector.bounds();\r\n                if ((!hoveredItem || !hoveredItem.isSelected) && !meta.ctrlKey) {\r\n                    diagram.deselect();\r\n                }\r\n                if (!rect.isEmpty()) {\r\n                    diagram.selectArea(rect);\r\n                }\r\n                diagram.selector.end();\r\n            },\r\n            getCursor: function () {\r\n                return Cursors.arrow;\r\n            }\r\n        });\r\n        var ConnectionTool = Class.extend({\r\n            init: function (toolService) {\r\n                this.toolService = toolService;\r\n                this.type = 'ConnectionTool';\r\n            },\r\n            tryActivate: function () {\r\n                return this.toolService._hoveredConnector;\r\n            },\r\n            start: function (p, meta) {\r\n                var toolService = this.toolService, diagram = toolService.diagram, connector = toolService._hoveredConnector, connection = diagram._createConnection({}, connector._c, p);\r\n                if (canDrag(connection) && !diagram.trigger(DRAG_START, {\r\n                        shapes: [],\r\n                        connections: [connection],\r\n                        connectionHandle: TARGET\r\n                    }) && diagram._addConnection(connection)) {\r\n                    toolService._connectionManipulation(connection, connector._c.shape, true);\r\n                    toolService._removeHover();\r\n                    toolService.selectSingle(toolService.activeConnection, meta);\r\n                } else {\r\n                    connection.source(null);\r\n                    toolService.end(p);\r\n                }\r\n            },\r\n            move: function (p) {\r\n                var toolService = this.toolService;\r\n                var connection = toolService.activeConnection;\r\n                connection.target(p);\r\n                toolService.diagram.trigger(DRAG, {\r\n                    shapes: [],\r\n                    connections: [connection],\r\n                    connectionHandle: TARGET\r\n                });\r\n                return true;\r\n            },\r\n            end: function (p) {\r\n                var toolService = this.toolService, d = toolService.diagram, connection = toolService.activeConnection, hoveredItem = toolService.hoveredItem, connector = toolService._hoveredConnector, target;\r\n                if (!connection) {\r\n                    return;\r\n                }\r\n                if (connector && connector._c != connection.sourceConnector) {\r\n                    target = connector._c;\r\n                } else if (hoveredItem && hoveredItem instanceof diagram.Shape) {\r\n                    target = hoveredItem.getConnector(AUTO) || hoveredItem.getConnector(p);\r\n                } else {\r\n                    target = p;\r\n                }\r\n                connection.target(target);\r\n                if (!d.trigger(DRAG_END, {\r\n                        shapes: [],\r\n                        connections: [connection],\r\n                        connectionHandle: TARGET\r\n                    })) {\r\n                    connection.updateModel();\r\n                    d._syncConnectionChanges();\r\n                } else {\r\n                    d.remove(connection, false);\r\n                    d.undoRedoService.pop();\r\n                }\r\n                toolService._connectionManipulation();\r\n            },\r\n            getCursor: function () {\r\n                return Cursors.arrow;\r\n            }\r\n        });\r\n        var ConnectionEditTool = Class.extend({\r\n            init: function (toolService) {\r\n                this.toolService = toolService;\r\n                this.type = 'ConnectionTool';\r\n            },\r\n            tryActivate: function (p, meta) {\r\n                var toolService = this.toolService, diagram = toolService.diagram, selectable = diagram.options.selectable, item = toolService.hoveredItem, isActive = selectable !== false && item && item.path && !(item.isSelected && meta.ctrlKey);\r\n                if (isActive) {\r\n                    this._c = item;\r\n                }\r\n                return isActive;\r\n            },\r\n            start: function (p, meta) {\r\n                var toolService = this.toolService;\r\n                var connection = this._c;\r\n                toolService.selectSingle(connection, meta);\r\n                var adorner = connection.adorner;\r\n                var handle, name;\r\n                if (adorner) {\r\n                    handle = adorner._hitTest(p);\r\n                    name = HANDLE_NAMES[handle];\r\n                }\r\n                if (canDrag(connection) && adorner && !toolService.diagram.trigger(DRAG_START, {\r\n                        shapes: [],\r\n                        connections: [connection],\r\n                        connectionHandle: name\r\n                    })) {\r\n                    this.handle = handle;\r\n                    this.handleName = name;\r\n                    adorner.start(p);\r\n                } else {\r\n                    toolService.startPoint = p;\r\n                    toolService.end(p);\r\n                }\r\n            },\r\n            move: function (p) {\r\n                var adorner = this._c.adorner;\r\n                if (canDrag(this._c) && adorner) {\r\n                    adorner.move(this.handle, p);\r\n                    this.toolService.diagram.trigger(DRAG, {\r\n                        shapes: [],\r\n                        connections: [this._c],\r\n                        connectionHandle: this.handleName\r\n                    });\r\n                    return true;\r\n                }\r\n            },\r\n            end: function (p) {\r\n                var connection = this._c;\r\n                var adorner = connection.adorner;\r\n                var toolService = this.toolService;\r\n                var diagram = toolService.diagram;\r\n                if (adorner) {\r\n                    if (canDrag(connection)) {\r\n                        var unit = adorner.stop(p);\r\n                        if (!diagram.trigger(DRAG_END, {\r\n                                shapes: [],\r\n                                connections: [connection],\r\n                                connectionHandle: this.handleName\r\n                            })) {\r\n                            diagram.undoRedoService.add(unit, false);\r\n                            connection.updateModel();\r\n                            diagram._syncConnectionChanges();\r\n                        } else {\r\n                            unit.undo();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            getCursor: function () {\r\n                return Cursors.move;\r\n            }\r\n        });\r\n        function testKey(key, str) {\r\n            return str.charCodeAt(0) == key || str.toUpperCase().charCodeAt(0) == key;\r\n        }\r\n        var ToolService = Class.extend({\r\n            init: function (diagram) {\r\n                this.diagram = diagram;\r\n                this.tools = [\r\n                    new ScrollerTool(this),\r\n                    new ConnectionEditTool(this),\r\n                    new ConnectionTool(this),\r\n                    new SelectionTool(this),\r\n                    new PointerTool(this)\r\n                ];\r\n                this.activeTool = undefined;\r\n            },\r\n            start: function (p, meta) {\r\n                meta = deepExtend({}, meta);\r\n                if (this.activeTool) {\r\n                    this.activeTool.end(p, meta);\r\n                }\r\n                this._updateHoveredItem(p);\r\n                this._activateTool(p, meta);\r\n                this.activeTool.start(p, meta);\r\n                this._updateCursor(p);\r\n                this.diagram.focus();\r\n                this.diagram.canvas.surface.suspendTracking();\r\n                this.startPoint = p;\r\n                return true;\r\n            },\r\n            move: function (p, meta) {\r\n                meta = deepExtend({}, meta);\r\n                var updateHovered = true;\r\n                if (this.activeTool) {\r\n                    updateHovered = this.activeTool.move(p, meta);\r\n                }\r\n                if (updateHovered) {\r\n                    this._updateHoveredItem(p);\r\n                }\r\n                this._updateCursor(p);\r\n                return true;\r\n            },\r\n            end: function (p, meta) {\r\n                meta = deepExtend({}, meta);\r\n                if (this.activeTool) {\r\n                    this.activeTool.end(p, meta);\r\n                }\r\n                this.diagram.canvas.surface.resumeTracking();\r\n                this.activeTool = undefined;\r\n                this._updateCursor(p);\r\n                return true;\r\n            },\r\n            keyDown: function (key, meta) {\r\n                var diagram = this.diagram;\r\n                meta = deepExtend({\r\n                    ctrlKey: false,\r\n                    metaKey: false,\r\n                    altKey: false\r\n                }, meta);\r\n                if ((meta.ctrlKey || meta.metaKey) && !meta.altKey) {\r\n                    if (testKey(key, 'a')) {\r\n                        diagram.selectAll();\r\n                        diagram._destroyToolBar();\r\n                        return true;\r\n                    } else if (testKey(key, 'z')) {\r\n                        diagram.undo();\r\n                        diagram._destroyToolBar();\r\n                        return true;\r\n                    } else if (testKey(key, 'y')) {\r\n                        diagram.redo();\r\n                        diagram._destroyToolBar();\r\n                        return true;\r\n                    } else if (testKey(key, 'c')) {\r\n                        diagram.copy();\r\n                        diagram._destroyToolBar();\r\n                    } else if (testKey(key, 'x')) {\r\n                        diagram.cut();\r\n                        diagram._destroyToolBar();\r\n                    } else if (testKey(key, 'v')) {\r\n                        diagram.paste();\r\n                        diagram._destroyToolBar();\r\n                    } else if (testKey(key, 'l')) {\r\n                        diagram.layout();\r\n                        diagram._destroyToolBar();\r\n                    } else if (testKey(key, 'd')) {\r\n                        diagram._destroyToolBar();\r\n                        diagram.copy();\r\n                        diagram.paste();\r\n                    }\r\n                } else if (key === 46 || key === 8) {\r\n                    var toRemove = this.diagram._triggerRemove(diagram.select());\r\n                    if (toRemove.length) {\r\n                        this.diagram.remove(toRemove, true);\r\n                        this.diagram._syncChanges();\r\n                        this.diagram._destroyToolBar();\r\n                    }\r\n                    return true;\r\n                } else if (key === 27) {\r\n                    this._discardNewConnection();\r\n                    diagram.deselect();\r\n                    diagram._destroyToolBar();\r\n                    return true;\r\n                }\r\n            },\r\n            wheel: function (p, meta) {\r\n                var diagram = this.diagram, delta = meta.delta, z = diagram.zoom(), options = diagram.options, zoomRate = options.zoomRate, zoomOptions = {\r\n                        point: p,\r\n                        meta: meta,\r\n                        zoom: z\r\n                    };\r\n                if (diagram.trigger(ZOOM_START, zoomOptions)) {\r\n                    return;\r\n                }\r\n                if (delta < 0) {\r\n                    z += zoomRate;\r\n                } else {\r\n                    z -= zoomRate;\r\n                }\r\n                z = kendo.dataviz.round(Math.max(options.zoomMin, Math.min(options.zoomMax, z)), 2);\r\n                zoomOptions.zoom = z;\r\n                diagram.zoom(z, zoomOptions);\r\n                diagram.trigger(ZOOM_END, zoomOptions);\r\n                return true;\r\n            },\r\n            setTool: function (tool, index) {\r\n                tool.toolService = this;\r\n                this.tools[index] = tool;\r\n            },\r\n            selectSingle: function (item, meta) {\r\n                var diagram = this.diagram;\r\n                var selectable = diagram.options.selectable;\r\n                if (selectable && !item.isSelected && item.options.selectable !== false) {\r\n                    var addToSelection = meta.ctrlKey && selectable.multiple !== false;\r\n                    diagram.select(item, { addToSelection: addToSelection });\r\n                }\r\n            },\r\n            _discardNewConnection: function () {\r\n                if (this.newConnection) {\r\n                    this.diagram.remove(this.newConnection);\r\n                    this.newConnection = undefined;\r\n                }\r\n            },\r\n            _activateTool: function (p, meta) {\r\n                for (var i = 0; i < this.tools.length; i++) {\r\n                    var tool = this.tools[i];\r\n                    if (tool.tryActivate(p, meta)) {\r\n                        this.activeTool = tool;\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            _updateCursor: function (p) {\r\n                var element = this.diagram.element;\r\n                var cursor = this.activeTool ? this.activeTool.getCursor(p) : this.hoveredAdorner ? this.hoveredAdorner._getCursor(p) : this.hoveredItem ? this.hoveredItem._getCursor(p) : Cursors.arrow;\r\n                element.css({ cursor: cursor });\r\n                if (browser.msie && browser.version == 7) {\r\n                    element[0].style.cssText = element[0].style.cssText;\r\n                }\r\n            },\r\n            _connectionManipulation: function (connection, disabledShape, isNew) {\r\n                this.activeConnection = connection;\r\n                this.disabledShape = disabledShape;\r\n                if (isNew) {\r\n                    this.newConnection = this.activeConnection;\r\n                } else {\r\n                    this.newConnection = undefined;\r\n                }\r\n            },\r\n            _updateHoveredItem: function (p) {\r\n                var hit = this._hitTest(p);\r\n                var diagram = this.diagram;\r\n                if (hit != this.hoveredItem && (!this.disabledShape || hit != this.disabledShape)) {\r\n                    if (this.hoveredItem) {\r\n                        diagram.trigger(MOUSE_LEAVE, { item: this.hoveredItem });\r\n                        this.hoveredItem._hover(false);\r\n                    }\r\n                    if (hit && hit.options.enable) {\r\n                        diagram.trigger(MOUSE_ENTER, { item: hit });\r\n                        this.hoveredItem = hit;\r\n                        this.hoveredItem._hover(true);\r\n                    } else {\r\n                        this.hoveredItem = undefined;\r\n                    }\r\n                }\r\n            },\r\n            _removeHover: function () {\r\n                if (this.hoveredItem) {\r\n                    this.hoveredItem._hover(false);\r\n                    this.hoveredItem = undefined;\r\n                }\r\n            },\r\n            _hitTest: function (point) {\r\n                var hit, d = this.diagram, item, i;\r\n                if (this._hoveredConnector) {\r\n                    this._hoveredConnector._hover(false);\r\n                    this._hoveredConnector = undefined;\r\n                }\r\n                if (d._connectorsAdorner._visible) {\r\n                    hit = d._connectorsAdorner._hitTest(point);\r\n                    if (hit) {\r\n                        return hit;\r\n                    }\r\n                }\r\n                hit = this.diagram._resizingAdorner._hitTest(point);\r\n                if (hit) {\r\n                    this.hoveredAdorner = d._resizingAdorner;\r\n                    if (hit.x !== 0 || hit.y !== 0) {\r\n                        return;\r\n                    }\r\n                    hit = undefined;\r\n                } else {\r\n                    this.hoveredAdorner = undefined;\r\n                }\r\n                if (!this.activeTool || this.activeTool.type !== 'ConnectionTool') {\r\n                    var selectedConnections = [];\r\n                    for (i = 0; i < d._selectedItems.length; i++) {\r\n                        item = d._selectedItems[i];\r\n                        if (item instanceof diagram.Connection) {\r\n                            selectedConnections.push(item);\r\n                        }\r\n                    }\r\n                    hit = this._hitTestItems(selectedConnections, point);\r\n                }\r\n                return hit || this._hitTestElements(point);\r\n            },\r\n            _hitTestElements: function (point) {\r\n                var diagram = this.diagram;\r\n                var shapeHit = this._hitTestItems(diagram.shapes, point);\r\n                var connectionHit = this._hitTestItems(diagram.connections, point);\r\n                var hit;\r\n                if ((!this.activeTool || this.activeTool.type != 'ConnectionTool') && shapeHit && connectionHit && !hitTestShapeConnectors(shapeHit, point)) {\r\n                    var mainLayer = diagram.mainLayer;\r\n                    var shapeIdx = inArray(shapeHit.visual, mainLayer.children);\r\n                    var connectionIdx = inArray(connectionHit.visual, mainLayer.children);\r\n                    hit = shapeIdx > connectionIdx ? shapeHit : connectionHit;\r\n                }\r\n                return hit || shapeHit || connectionHit;\r\n            },\r\n            _hitTestItems: function (array, point) {\r\n                var i, item, hit;\r\n                for (i = array.length - 1; i >= 0; i--) {\r\n                    item = array[i];\r\n                    hit = item._hitTest(point);\r\n                    if (hit) {\r\n                        return hit;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        var ConnectionRouterBase = kendo.Class.extend({\r\n            init: function () {\r\n            }\r\n        });\r\n        var LinearConnectionRouter = ConnectionRouterBase.extend({\r\n            init: function (connection) {\r\n                var that = this;\r\n                ConnectionRouterBase.fn.init.call(that);\r\n                this.connection = connection;\r\n            },\r\n            hitTest: function (p) {\r\n                var rec = this.getBounds().inflate(HIT_TEST_DISTANCE);\r\n                if (!rec.contains(p)) {\r\n                    return false;\r\n                }\r\n                return diagram.Geometry.distanceToPolyline(p, this.connection.allPoints()) < HIT_TEST_DISTANCE;\r\n            },\r\n            getBounds: function () {\r\n                var points = this.connection.allPoints(), s = points[0], e = points[points.length - 1], right = Math.max(s.x, e.x), left = Math.min(s.x, e.x), top = Math.min(s.y, e.y), bottom = Math.max(s.y, e.y);\r\n                for (var i = 1; i < points.length - 1; ++i) {\r\n                    right = Math.max(right, points[i].x);\r\n                    left = Math.min(left, points[i].x);\r\n                    top = Math.min(top, points[i].y);\r\n                    bottom = Math.max(bottom, points[i].y);\r\n                }\r\n                return new Rect(left, top, right - left, bottom - top);\r\n            }\r\n        });\r\n        var PolylineRouter = LinearConnectionRouter.extend({\r\n            init: function (connection) {\r\n                var that = this;\r\n                LinearConnectionRouter.fn.init.call(that);\r\n                this.connection = connection;\r\n            },\r\n            route: function () {\r\n            }\r\n        });\r\n        var CascadingRouter = LinearConnectionRouter.extend({\r\n            SAME_SIDE_DISTANCE_RATIO: 5,\r\n            init: function (connection) {\r\n                var that = this;\r\n                LinearConnectionRouter.fn.init.call(that);\r\n                this.connection = connection;\r\n            },\r\n            routePoints: function (start, end, sourceConnector, targetConnector) {\r\n                var result;\r\n                if (sourceConnector && targetConnector) {\r\n                    result = this._connectorPoints(start, end, sourceConnector, targetConnector);\r\n                } else {\r\n                    result = this._floatingPoints(start, end, sourceConnector);\r\n                }\r\n                return result;\r\n            },\r\n            route: function () {\r\n                var sourceConnector = this.connection._resolvedSourceConnector;\r\n                var targetConnector = this.connection._resolvedTargetConnector;\r\n                var start = this.connection.sourcePoint();\r\n                var end = this.connection.targetPoint();\r\n                var points = this.routePoints(start, end, sourceConnector, targetConnector);\r\n                this.connection.points(points);\r\n            },\r\n            _connectorSides: [\r\n                {\r\n                    name: 'Top',\r\n                    axis: 'y',\r\n                    boundsPoint: 'topLeft',\r\n                    secondarySign: 1\r\n                },\r\n                {\r\n                    name: 'Left',\r\n                    axis: 'x',\r\n                    boundsPoint: 'topLeft',\r\n                    secondarySign: 1\r\n                },\r\n                {\r\n                    name: 'Bottom',\r\n                    axis: 'y',\r\n                    boundsPoint: 'bottomRight',\r\n                    secondarySign: -1\r\n                },\r\n                {\r\n                    name: 'Right',\r\n                    axis: 'x',\r\n                    boundsPoint: 'bottomRight',\r\n                    secondarySign: -1\r\n                }\r\n            ],\r\n            _connectorSide: function (connector, targetPoint) {\r\n                var position = connector.position();\r\n                var shapeBounds = connector.shape.bounds(ROTATED);\r\n                var bounds = {\r\n                    topLeft: shapeBounds.topLeft(),\r\n                    bottomRight: shapeBounds.bottomRight()\r\n                };\r\n                var sides = this._connectorSides;\r\n                var min = kendo.util.MAX_NUM;\r\n                var sideDistance;\r\n                var minSide;\r\n                var axis;\r\n                var side;\r\n                for (var idx = 0; idx < sides.length; idx++) {\r\n                    side = sides[idx];\r\n                    axis = side.axis;\r\n                    sideDistance = Math.round(Math.abs(position[axis] - bounds[side.boundsPoint][axis]));\r\n                    if (sideDistance < min) {\r\n                        min = sideDistance;\r\n                        minSide = side;\r\n                    } else if (sideDistance === min && (position[axis] - targetPoint[axis]) * side.secondarySign > (position[minSide.axis] - targetPoint[minSide.axis]) * minSide.secondarySign) {\r\n                        minSide = side;\r\n                    }\r\n                }\r\n                return minSide.name;\r\n            },\r\n            _sameSideDistance: function (connector) {\r\n                var bounds = connector.shape.bounds(ROTATED);\r\n                return Math.min(bounds.width, bounds.height) / this.SAME_SIDE_DISTANCE_RATIO;\r\n            },\r\n            _connectorPoints: function (start, end, sourceConnector, targetConnector) {\r\n                var sourceConnectorSide = this._connectorSide(sourceConnector, end);\r\n                var targetConnectorSide = this._connectorSide(targetConnector, start);\r\n                var deltaX = end.x - start.x;\r\n                var deltaY = end.y - start.y;\r\n                var sameSideDistance = this._sameSideDistance(sourceConnector);\r\n                var result = [];\r\n                var pointX, pointY;\r\n                if (sourceConnectorSide === TOP || sourceConnectorSide == BOTTOM) {\r\n                    if (targetConnectorSide == TOP || targetConnectorSide == BOTTOM) {\r\n                        if (sourceConnectorSide == targetConnectorSide) {\r\n                            if (sourceConnectorSide == TOP) {\r\n                                pointY = Math.min(start.y, end.y) - sameSideDistance;\r\n                            } else {\r\n                                pointY = Math.max(start.y, end.y) + sameSideDistance;\r\n                            }\r\n                            result = [\r\n                                new Point(start.x, pointY),\r\n                                new Point(end.x, pointY)\r\n                            ];\r\n                        } else {\r\n                            result = [\r\n                                new Point(start.x, start.y + deltaY / 2),\r\n                                new Point(end.x, start.y + deltaY / 2)\r\n                            ];\r\n                        }\r\n                    } else {\r\n                        result = [new Point(start.x, end.y)];\r\n                    }\r\n                } else {\r\n                    if (targetConnectorSide == LEFT || targetConnectorSide == RIGHT) {\r\n                        if (sourceConnectorSide == targetConnectorSide) {\r\n                            if (sourceConnectorSide == LEFT) {\r\n                                pointX = Math.min(start.x, end.x) - sameSideDistance;\r\n                            } else {\r\n                                pointX = Math.max(start.x, end.x) + sameSideDistance;\r\n                            }\r\n                            result = [\r\n                                new Point(pointX, start.y),\r\n                                new Point(pointX, end.y)\r\n                            ];\r\n                        } else {\r\n                            result = [\r\n                                new Point(start.x + deltaX / 2, start.y),\r\n                                new Point(start.x + deltaX / 2, start.y + deltaY)\r\n                            ];\r\n                        }\r\n                    } else {\r\n                        result = [new Point(end.x, start.y)];\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            _floatingPoints: function (start, end, sourceConnector) {\r\n                var sourceConnectorSide = sourceConnector ? this._connectorSide(sourceConnector, end) : null;\r\n                var cascadeStartHorizontal = this._startHorizontal(start, end, sourceConnectorSide);\r\n                var points = [\r\n                    start,\r\n                    start,\r\n                    end,\r\n                    end\r\n                ];\r\n                var deltaX = end.x - start.x;\r\n                var deltaY = end.y - start.y;\r\n                var length = points.length;\r\n                var shiftX;\r\n                var shiftY;\r\n                for (var idx = 1; idx < length - 1; ++idx) {\r\n                    if (cascadeStartHorizontal) {\r\n                        if (idx % 2 !== 0) {\r\n                            shiftX = deltaX / (length / 2);\r\n                            shiftY = 0;\r\n                        } else {\r\n                            shiftX = 0;\r\n                            shiftY = deltaY / ((length - 1) / 2);\r\n                        }\r\n                    } else {\r\n                        if (idx % 2 !== 0) {\r\n                            shiftX = 0;\r\n                            shiftY = deltaY / (length / 2);\r\n                        } else {\r\n                            shiftX = deltaX / ((length - 1) / 2);\r\n                            shiftY = 0;\r\n                        }\r\n                    }\r\n                    points[idx] = new Point(points[idx - 1].x + shiftX, points[idx - 1].y + shiftY);\r\n                }\r\n                idx--;\r\n                if (cascadeStartHorizontal && idx % 2 !== 0 || !cascadeStartHorizontal && idx % 2 === 0) {\r\n                    points[length - 2] = new Point(points[length - 1].x, points[length - 2].y);\r\n                } else {\r\n                    points[length - 2] = new Point(points[length - 2].x, points[length - 1].y);\r\n                }\r\n                return [\r\n                    points[1],\r\n                    points[2]\r\n                ];\r\n            },\r\n            _startHorizontal: function (start, end, sourceSide) {\r\n                var horizontal;\r\n                if (sourceSide !== null && (sourceSide === RIGHT || sourceSide === LEFT)) {\r\n                    horizontal = true;\r\n                } else {\r\n                    horizontal = Math.abs(start.x - end.x) > Math.abs(start.y - end.y);\r\n                }\r\n                return horizontal;\r\n            }\r\n        });\r\n        var AdornerBase = Class.extend({\r\n            init: function (diagram, options) {\r\n                var that = this;\r\n                that.diagram = diagram;\r\n                that.options = deepExtend({}, that.options, options);\r\n                that.visual = new Group();\r\n                that.diagram._adorners.push(that);\r\n            },\r\n            refresh: function () {\r\n            }\r\n        });\r\n        var ConnectionEditAdorner = AdornerBase.extend({\r\n            init: function (connection, options) {\r\n                var that = this, diagram;\r\n                that.connection = connection;\r\n                diagram = that.connection.diagram;\r\n                that._ts = diagram.toolService;\r\n                AdornerBase.fn.init.call(that, diagram, options);\r\n                var sp = that.connection.sourcePoint();\r\n                var tp = that.connection.targetPoint();\r\n                that.spVisual = new Circle(deepExtend(that.options.handles, { center: sp }));\r\n                that.epVisual = new Circle(deepExtend(that.options.handles, { center: tp }));\r\n                that.visual.append(that.spVisual);\r\n                that.visual.append(that.epVisual);\r\n            },\r\n            options: { handles: {} },\r\n            _getCursor: function () {\r\n                return Cursors.move;\r\n            },\r\n            start: function (p) {\r\n                this.handle = this._hitTest(p);\r\n                this.startPoint = p;\r\n                this._initialSource = this.connection.source();\r\n                this._initialTarget = this.connection.target();\r\n                switch (this.handle) {\r\n                case -1:\r\n                    if (this.connection.targetConnector) {\r\n                        this._ts._connectionManipulation(this.connection, this.connection.targetConnector.shape);\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (this.connection.sourceConnector) {\r\n                        this._ts._connectionManipulation(this.connection, this.connection.sourceConnector.shape);\r\n                    }\r\n                    break;\r\n                }\r\n            },\r\n            move: function (handle, p) {\r\n                switch (handle) {\r\n                case -1:\r\n                    this.connection.source(p);\r\n                    break;\r\n                case 1:\r\n                    this.connection.target(p);\r\n                    break;\r\n                default:\r\n                    var delta = p.minus(this.startPoint);\r\n                    this.startPoint = p;\r\n                    if (!this.connection.sourceConnector) {\r\n                        this.connection.source(this.connection.sourcePoint().plus(delta));\r\n                    }\r\n                    if (!this.connection.targetConnector) {\r\n                        this.connection.target(this.connection.targetPoint().plus(delta));\r\n                    }\r\n                    break;\r\n                }\r\n                this.refresh();\r\n                return true;\r\n            },\r\n            stop: function (p) {\r\n                var ts = this.diagram.toolService, item = ts.hoveredItem, target;\r\n                if (ts._hoveredConnector) {\r\n                    target = ts._hoveredConnector._c;\r\n                } else if (item && item instanceof diagram.Shape) {\r\n                    target = item.getConnector(AUTO) || item.getConnector(p);\r\n                } else {\r\n                    target = p;\r\n                }\r\n                if (this.handle === -1) {\r\n                    this.connection.source(target);\r\n                } else if (this.handle === 1) {\r\n                    this.connection.target(target);\r\n                }\r\n                this.handle = undefined;\r\n                this._ts._connectionManipulation();\r\n                return new ConnectionEditUndoUnit(this.connection, this._initialSource, this._initialTarget);\r\n            },\r\n            _hitTest: function (point) {\r\n                var sourcePoint = this.connection.sourcePoint();\r\n                var targetPoint = this.connection.targetPoint();\r\n                var radiusX = this.options.handles.width / 2 + HIT_TEST_DISTANCE;\r\n                var radiusY = this.options.handles.height / 2 + HIT_TEST_DISTANCE;\r\n                var sourcePointDistance = sourcePoint.distanceTo(point);\r\n                var targetPointDistance = targetPoint.distanceTo(point);\r\n                var sourceHandle = new Rect(sourcePoint.x, sourcePoint.y).inflate(radiusX, radiusY).contains(point);\r\n                var targetHandle = new Rect(targetPoint.x, targetPoint.y).inflate(radiusX, radiusY).contains(point);\r\n                var handle = 0;\r\n                if (sourceHandle && (!targetHandle || sourcePointDistance < targetPointDistance)) {\r\n                    handle = -1;\r\n                } else if (targetHandle && (!sourceHandle || targetPointDistance < sourcePointDistance)) {\r\n                    handle = 1;\r\n                }\r\n                return handle;\r\n            },\r\n            refresh: function () {\r\n                this.spVisual.redraw({ center: this.diagram.modelToLayer(this.connection.sourcePoint()) });\r\n                this.epVisual.redraw({ center: this.diagram.modelToLayer(this.connection.targetPoint()) });\r\n            }\r\n        });\r\n        var ConnectorsAdorner = AdornerBase.extend({\r\n            init: function (diagram, options) {\r\n                var that = this;\r\n                AdornerBase.fn.init.call(that, diagram, options);\r\n                that._refreshHandler = function (e) {\r\n                    if (e.item == that.shape) {\r\n                        that.refresh();\r\n                    }\r\n                };\r\n            },\r\n            show: function (shape) {\r\n                var that = this, len, i, ctr;\r\n                that._visible = true;\r\n                that.shape = shape;\r\n                that.diagram.bind(ITEMBOUNDSCHANGE, that._refreshHandler);\r\n                len = shape.connectors.length;\r\n                that.connectors = [];\r\n                that.visual.clear();\r\n                for (i = 0; i < len; i++) {\r\n                    ctr = new ConnectorVisual(shape.connectors[i]);\r\n                    that.connectors.push(ctr);\r\n                    that.visual.append(ctr.visual);\r\n                }\r\n                that.visual.visible(true);\r\n                that.refresh();\r\n            },\r\n            destroy: function () {\r\n                var that = this;\r\n                that.diagram.unbind(ITEMBOUNDSCHANGE, that._refreshHandler);\r\n                that.shape = undefined;\r\n                that._visible = undefined;\r\n                that.visual.visible(false);\r\n            },\r\n            _hitTest: function (p) {\r\n                var ctr, i;\r\n                for (i = 0; i < this.connectors.length; i++) {\r\n                    ctr = this.connectors[i];\r\n                    if (ctr._hitTest(p)) {\r\n                        ctr._hover(true);\r\n                        this.diagram.toolService._hoveredConnector = ctr;\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            refresh: function () {\r\n                if (this.shape) {\r\n                    var bounds = this.shape.bounds();\r\n                    bounds = this.diagram.modelToLayer(bounds);\r\n                    this.visual.position(bounds.topLeft());\r\n                    $.each(this.connectors, function () {\r\n                        this.refresh();\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        function hitToOppositeSide(hit, bounds) {\r\n            var result;\r\n            if (hit.x == -1 && hit.y == -1) {\r\n                result = bounds.bottomRight();\r\n            } else if (hit.x == 1 && hit.y == 1) {\r\n                result = bounds.topLeft();\r\n            } else if (hit.x == -1 && hit.y == 1) {\r\n                result = bounds.topRight();\r\n            } else if (hit.x == 1 && hit.y == -1) {\r\n                result = bounds.bottomLeft();\r\n            } else if (hit.x === 0 && hit.y == -1) {\r\n                result = bounds.bottom();\r\n            } else if (hit.x === 0 && hit.y == 1) {\r\n                result = bounds.top();\r\n            } else if (hit.x == 1 && hit.y === 0) {\r\n                result = bounds.left();\r\n            } else if (hit.x == -1 && hit.y === 0) {\r\n                result = bounds.right();\r\n            }\r\n            return result;\r\n        }\r\n        var ResizingAdorner = AdornerBase.extend({\r\n            init: function (diagram, options) {\r\n                var that = this;\r\n                AdornerBase.fn.init.call(that, diagram, options);\r\n                that._manipulating = false;\r\n                that.map = [];\r\n                that.shapes = [];\r\n                that._initSelection();\r\n                that._createHandles();\r\n                that.redraw();\r\n                that.diagram.bind('select', function (e) {\r\n                    that._initialize(e.selected);\r\n                });\r\n                that._refreshHandler = function () {\r\n                    if (!that._internalChange) {\r\n                        that.refreshBounds();\r\n                        that.refresh();\r\n                    }\r\n                };\r\n                that._rotatedHandler = function () {\r\n                    if (that.shapes.length == 1) {\r\n                        that._angle = that.shapes[0].rotate().angle;\r\n                    }\r\n                    that._refreshHandler();\r\n                };\r\n                that.diagram.bind(ITEMBOUNDSCHANGE, that._refreshHandler).bind(ITEMROTATE, that._rotatedHandler);\r\n                that.refreshBounds();\r\n                that.refresh();\r\n            },\r\n            options: {\r\n                handles: {\r\n                    fill: { color: '#fff' },\r\n                    stroke: { color: '#282828' },\r\n                    height: 7,\r\n                    width: 7,\r\n                    hover: {\r\n                        fill: { color: '#282828' },\r\n                        stroke: { color: '#282828' }\r\n                    }\r\n                },\r\n                selectable: {\r\n                    stroke: {\r\n                        color: '#778899',\r\n                        width: 1,\r\n                        dashType: 'dash'\r\n                    },\r\n                    fill: { color: TRANSPARENT }\r\n                },\r\n                offset: 10\r\n            },\r\n            _initSelection: function () {\r\n                var that = this;\r\n                var diagram = that.diagram;\r\n                var selectable = diagram.options.selectable;\r\n                var options = deepExtend({}, that.options.selectable, selectable);\r\n                that.rect = new Rectangle(options);\r\n                that.visual.append(that.rect);\r\n            },\r\n            _resizable: function () {\r\n                return this.options.editable && this.options.editable.resize !== false;\r\n            },\r\n            _handleOptions: function () {\r\n                return (this.options.editable.resize || {}).handles || this.options.handles;\r\n            },\r\n            _createHandles: function () {\r\n                var handles, item, y, x;\r\n                if (this._resizable()) {\r\n                    handles = this._handleOptions();\r\n                    for (x = -1; x <= 1; x++) {\r\n                        for (y = -1; y <= 1; y++) {\r\n                            if (x !== 0 || y !== 0) {\r\n                                item = new Rectangle(handles);\r\n                                item.drawingElement._hover = proxy(this._hover, this);\r\n                                this.map.push({\r\n                                    x: x,\r\n                                    y: y,\r\n                                    visual: item\r\n                                });\r\n                                this.visual.append(item);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            bounds: function (value) {\r\n                if (value) {\r\n                    this._innerBounds = value.clone();\r\n                    this._bounds = this.diagram.modelToLayer(value).inflate(this.options.offset, this.options.offset);\r\n                } else {\r\n                    return this._bounds;\r\n                }\r\n            },\r\n            _hitTest: function (p) {\r\n                var tp = this.diagram.modelToLayer(p), i, hit, handleBounds, handlesCount = this.map.length, handle;\r\n                if (this._angle) {\r\n                    tp = tp.clone().rotate(this._bounds.center(), this._angle);\r\n                }\r\n                if (this._resizable()) {\r\n                    for (i = 0; i < handlesCount; i++) {\r\n                        handle = this.map[i];\r\n                        hit = new Point(handle.x, handle.y);\r\n                        handleBounds = this._getHandleBounds(hit);\r\n                        handleBounds.offset(this._bounds.x, this._bounds.y);\r\n                        if (handleBounds.contains(tp)) {\r\n                            return hit;\r\n                        }\r\n                    }\r\n                }\r\n                if (this._bounds.contains(tp)) {\r\n                    return new Point(0, 0);\r\n                }\r\n            },\r\n            _getHandleBounds: function (p) {\r\n                if (this._resizable()) {\r\n                    var handles = this._handleOptions(), w = handles.width, h = handles.height, r = new Rect(0, 0, w, h);\r\n                    if (p.x < 0) {\r\n                        r.x = -w / 2;\r\n                    } else if (p.x === 0) {\r\n                        r.x = Math.floor(this._bounds.width / 2) - w / 2;\r\n                    } else if (p.x > 0) {\r\n                        r.x = this._bounds.width + 1 - w / 2;\r\n                    }\r\n                    if (p.y < 0) {\r\n                        r.y = -h / 2;\r\n                    } else if (p.y === 0) {\r\n                        r.y = Math.floor(this._bounds.height / 2) - h / 2;\r\n                    } else if (p.y > 0) {\r\n                        r.y = this._bounds.height + 1 - h / 2;\r\n                    }\r\n                    return r;\r\n                }\r\n            },\r\n            _getCursor: function (point) {\r\n                var hit = this._hitTest(point);\r\n                if (hit && hit.x >= -1 && hit.x <= 1 && hit.y >= -1 && hit.y <= 1 && this._resizable()) {\r\n                    var angle = this._angle;\r\n                    if (angle) {\r\n                        angle = 360 - angle;\r\n                        hit.rotate(new Point(0, 0), angle);\r\n                        hit = new Point(Math.round(hit.x), Math.round(hit.y));\r\n                    }\r\n                    if (hit.x == -1 && hit.y == -1) {\r\n                        return 'nw-resize';\r\n                    }\r\n                    if (hit.x == 1 && hit.y == 1) {\r\n                        return 'se-resize';\r\n                    }\r\n                    if (hit.x == -1 && hit.y == 1) {\r\n                        return 'sw-resize';\r\n                    }\r\n                    if (hit.x == 1 && hit.y == -1) {\r\n                        return 'ne-resize';\r\n                    }\r\n                    if (hit.x === 0 && hit.y == -1) {\r\n                        return 'n-resize';\r\n                    }\r\n                    if (hit.x === 0 && hit.y == 1) {\r\n                        return 's-resize';\r\n                    }\r\n                    if (hit.x == 1 && hit.y === 0) {\r\n                        return 'e-resize';\r\n                    }\r\n                    if (hit.x == -1 && hit.y === 0) {\r\n                        return 'w-resize';\r\n                    }\r\n                }\r\n                return this._manipulating ? Cursors.move : Cursors.select;\r\n            },\r\n            _initialize: function () {\r\n                var that = this, i, item, items = that.diagram.select();\r\n                that.shapes = [];\r\n                for (i = 0; i < items.length; i++) {\r\n                    item = items[i];\r\n                    if (item instanceof diagram.Shape) {\r\n                        that.shapes.push(item);\r\n                        item._rotationOffset = new Point();\r\n                    }\r\n                }\r\n                that._angle = that.shapes.length == 1 ? that.shapes[0].rotate().angle : 0;\r\n                that._startAngle = that._angle;\r\n                that._rotates();\r\n                that._positions();\r\n                that.refreshBounds();\r\n                that.refresh();\r\n                that.redraw();\r\n            },\r\n            _rotates: function () {\r\n                var that = this, i, shape;\r\n                that.initialRotates = [];\r\n                for (i = 0; i < that.shapes.length; i++) {\r\n                    shape = that.shapes[i];\r\n                    that.initialRotates.push(shape.rotate().angle);\r\n                }\r\n            },\r\n            _positions: function () {\r\n                var that = this, i, shape;\r\n                that.initialStates = [];\r\n                for (i = 0; i < that.shapes.length; i++) {\r\n                    shape = that.shapes[i];\r\n                    that.initialStates.push(shape.bounds());\r\n                }\r\n            },\r\n            _hover: function (value, element) {\r\n                if (this._resizable()) {\r\n                    var handleOptions = this._handleOptions(), hover = handleOptions.hover, stroke = handleOptions.stroke, fill = handleOptions.fill;\r\n                    if (value && Utils.isDefined(hover.stroke)) {\r\n                        stroke = deepExtend({}, stroke, hover.stroke);\r\n                    }\r\n                    if (value && Utils.isDefined(hover.fill)) {\r\n                        fill = hover.fill;\r\n                    }\r\n                    element.stroke(stroke.color, stroke.width, stroke.opacity);\r\n                    element.fill(fill.color, fill.opacity);\r\n                }\r\n            },\r\n            start: function (p) {\r\n                this._sp = p;\r\n                this._cp = p;\r\n                this._lp = p;\r\n                this._manipulating = true;\r\n                this._internalChange = true;\r\n                this.shapeStates = [];\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    this.shapeStates.push(shape.bounds());\r\n                }\r\n            },\r\n            redraw: function () {\r\n                var i, handle, visibleHandles = this._resizable();\r\n                for (i = 0; i < this.map.length; i++) {\r\n                    handle = this.map[i];\r\n                    handle.visual.visible(visibleHandles);\r\n                }\r\n            },\r\n            angle: function (value) {\r\n                if (defined(value)) {\r\n                    this._angle = value;\r\n                }\r\n                return this._angle;\r\n            },\r\n            rotate: function () {\r\n                var center = this._innerBounds.center();\r\n                var currentAngle = this.angle();\r\n                this._internalChange = true;\r\n                for (var i = 0; i < this.shapes.length; i++) {\r\n                    var shape = this.shapes[i];\r\n                    currentAngle = (currentAngle + this.initialRotates[i] - this._startAngle) % 360;\r\n                    shape.rotate(currentAngle, center);\r\n                }\r\n                this.refresh();\r\n            },\r\n            move: function (handle, p) {\r\n                var delta, dragging, dtl = new Point(), dbr = new Point(), bounds, center, shape, i, angle, newBounds, changed = 0, staticPoint, scaleX, scaleY;\r\n                if (handle.y === -2 && handle.x === -1) {\r\n                    center = this._innerBounds.center();\r\n                    this._angle = this._truncateAngle(Utils.findAngle(center, p));\r\n                    for (i = 0; i < this.shapes.length; i++) {\r\n                        shape = this.shapes[i];\r\n                        angle = (this._angle + this.initialRotates[i] - this._startAngle) % 360;\r\n                        shape.rotate(angle, center);\r\n                        if (shape.hasOwnProperty('layout')) {\r\n                            shape.layout(shape);\r\n                        }\r\n                        this._rotating = true;\r\n                    }\r\n                    this.refresh();\r\n                } else {\r\n                    if (this.shouldSnap()) {\r\n                        var thr = this._truncateDistance(p.minus(this._lp));\r\n                        if (thr.x === 0 && thr.y === 0) {\r\n                            this._cp = p;\r\n                            return;\r\n                        }\r\n                        delta = thr;\r\n                        this._lp = new Point(this._lp.x + thr.x, this._lp.y + thr.y);\r\n                    } else {\r\n                        delta = p.minus(this._cp);\r\n                    }\r\n                    if (this.isDragHandle(handle)) {\r\n                        dbr = dtl = delta;\r\n                        dragging = true;\r\n                    } else {\r\n                        if (this._angle) {\r\n                            delta.rotate(new Point(0, 0), this._angle);\r\n                        }\r\n                        if (handle.x == -1) {\r\n                            dtl.x = delta.x;\r\n                        } else if (handle.x == 1) {\r\n                            dbr.x = delta.x;\r\n                        }\r\n                        if (handle.y == -1) {\r\n                            dtl.y = delta.y;\r\n                        } else if (handle.y == 1) {\r\n                            dbr.y = delta.y;\r\n                        }\r\n                    }\r\n                    if (!dragging) {\r\n                        staticPoint = hitToOppositeSide(handle, this._innerBounds);\r\n                        scaleX = (this._innerBounds.width + delta.x * handle.x) / this._innerBounds.width;\r\n                        scaleY = (this._innerBounds.height + delta.y * handle.y) / this._innerBounds.height;\r\n                    }\r\n                    for (i = 0; i < this.shapes.length; i++) {\r\n                        shape = this.shapes[i];\r\n                        bounds = shape.bounds();\r\n                        if (dragging) {\r\n                            if (!canDrag(shape)) {\r\n                                continue;\r\n                            }\r\n                            newBounds = this._displaceBounds(bounds, dtl, dbr, dragging);\r\n                        } else {\r\n                            newBounds = bounds.clone();\r\n                            newBounds.scale(scaleX, scaleY, staticPoint, this._innerBounds.center(), shape.rotate().angle);\r\n                            var newCenter = newBounds.center();\r\n                            newCenter.rotate(bounds.center(), -this._angle);\r\n                            newBounds = new Rect(newCenter.x - newBounds.width / 2, newCenter.y - newBounds.height / 2, newBounds.width, newBounds.height);\r\n                        }\r\n                        if (newBounds.width >= shape.options.minWidth && newBounds.height >= shape.options.minHeight) {\r\n                            var oldBounds = bounds;\r\n                            shape.bounds(newBounds);\r\n                            if (shape.hasOwnProperty('layout')) {\r\n                                shape.layout(shape, oldBounds, newBounds);\r\n                            }\r\n                            if (oldBounds.width !== newBounds.width || oldBounds.height !== newBounds.height) {\r\n                                shape.rotate(shape.rotate().angle);\r\n                            }\r\n                            changed += 1;\r\n                        }\r\n                    }\r\n                    if (changed) {\r\n                        if (changed == i) {\r\n                            newBounds = this._displaceBounds(this._innerBounds, dtl, dbr, dragging);\r\n                            this.bounds(newBounds);\r\n                        } else {\r\n                            this.refreshBounds();\r\n                        }\r\n                        this.refresh();\r\n                    }\r\n                    this._positions();\r\n                }\r\n                this._cp = p;\r\n            },\r\n            isDragHandle: function (handle) {\r\n                return handle.x === 0 && handle.y === 0;\r\n            },\r\n            cancel: function () {\r\n                var shapes = this.shapes;\r\n                var states = this.shapeStates;\r\n                for (var idx = 0; idx < shapes.length; idx++) {\r\n                    shapes[idx].bounds(states[idx]);\r\n                }\r\n                this.refreshBounds();\r\n                this.refresh();\r\n                this._manipulating = undefined;\r\n                this._internalChange = undefined;\r\n                this._rotating = undefined;\r\n            },\r\n            _truncatePositionToGuides: function (bounds) {\r\n                if (this.diagram.ruler) {\r\n                    return this.diagram.ruler.truncatePositionToGuides(bounds);\r\n                }\r\n                return bounds;\r\n            },\r\n            _truncateSizeToGuides: function (bounds) {\r\n                if (this.diagram.ruler) {\r\n                    return this.diagram.ruler.truncateSizeToGuides(bounds);\r\n                }\r\n                return bounds;\r\n            },\r\n            _truncateAngle: function (a) {\r\n                var snap = this.snapOptions();\r\n                var snapAngle = Math.max(snap.angle || DEFAULT_SNAP_ANGLE, MIN_SNAP_ANGLE);\r\n                return snap ? Math.floor(a % 360 / snapAngle) * snapAngle : a % 360;\r\n            },\r\n            _truncateDistance: function (d) {\r\n                if (d instanceof diagram.Point) {\r\n                    return new diagram.Point(this._truncateDistance(d.x), this._truncateDistance(d.y));\r\n                } else {\r\n                    var snap = this.snapOptions() || {};\r\n                    var snapSize = Math.max(snap.size || DEFAULT_SNAP_SIZE, MIN_SNAP_SIZE);\r\n                    return snap ? Math.floor(d / snapSize) * snapSize : d;\r\n                }\r\n            },\r\n            snapOptions: function () {\r\n                var editable = this.diagram.options.editable;\r\n                var snap = ((editable || {}).drag || {}).snap || {};\r\n                return snap;\r\n            },\r\n            shouldSnap: function () {\r\n                var editable = this.diagram.options.editable;\r\n                var drag = (editable || {}).drag;\r\n                var snap = (drag || {}).snap;\r\n                return editable !== false && drag !== false && snap !== false;\r\n            },\r\n            _displaceBounds: function (bounds, dtl, dbr, dragging) {\r\n                var tl = bounds.topLeft().plus(dtl), br = bounds.bottomRight().plus(dbr), newBounds = Rect.fromPoints(tl, br), newCenter;\r\n                if (!dragging) {\r\n                    newCenter = newBounds.center();\r\n                    newCenter.rotate(bounds.center(), -this._angle);\r\n                    newBounds = new Rect(newCenter.x - newBounds.width / 2, newCenter.y - newBounds.height / 2, newBounds.width, newBounds.height);\r\n                }\r\n                return newBounds;\r\n            },\r\n            stop: function () {\r\n                var unit, i, shape;\r\n                if (this._cp != this._sp) {\r\n                    if (this._rotating) {\r\n                        unit = new RotateUnit(this, this.shapes, this.initialRotates);\r\n                        this._rotating = false;\r\n                    } else if (this._diffStates()) {\r\n                        if (this.diagram.ruler) {\r\n                            for (i = 0; i < this.shapes.length; i++) {\r\n                                shape = this.shapes[i];\r\n                                var bounds = shape.bounds();\r\n                                bounds = this._truncateSizeToGuides(this._truncatePositionToGuides(bounds));\r\n                                shape.bounds(bounds);\r\n                                this.refreshBounds();\r\n                                this.refresh();\r\n                            }\r\n                        }\r\n                        for (i = 0; i < this.shapes.length; i++) {\r\n                            shape = this.shapes[i];\r\n                            shape.updateModel();\r\n                        }\r\n                        unit = new TransformUnit(this.shapes, this.shapeStates, this);\r\n                        this.diagram._syncShapeChanges();\r\n                    }\r\n                }\r\n                this._manipulating = undefined;\r\n                this._internalChange = undefined;\r\n                this._rotating = undefined;\r\n                return unit;\r\n            },\r\n            _diffStates: function () {\r\n                var shapes = this.shapes;\r\n                var states = this.shapeStates;\r\n                for (var idx = 0; idx < shapes.length; idx++) {\r\n                    if (!shapes[idx].bounds().equals(states[idx])) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            refreshBounds: function () {\r\n                var bounds = this.shapes.length == 1 ? this.shapes[0].bounds().clone() : this.diagram.boundingBox(this.shapes, true);\r\n                this.bounds(bounds);\r\n            },\r\n            refresh: function () {\r\n                var that = this, b, bounds;\r\n                if (this.shapes.length > 0) {\r\n                    bounds = this.bounds();\r\n                    this.visual.visible(true);\r\n                    this.visual.position(bounds.topLeft());\r\n                    $.each(this.map, function () {\r\n                        b = that._getHandleBounds(new Point(this.x, this.y));\r\n                        this.visual.position(b.topLeft());\r\n                    });\r\n                    this.visual.position(bounds.topLeft());\r\n                    var center = new Point(bounds.width / 2, bounds.height / 2);\r\n                    this.visual.rotate(this._angle, center);\r\n                    this.rect.redraw({\r\n                        width: bounds.width,\r\n                        height: bounds.height\r\n                    });\r\n                    if (this.rotationThumb) {\r\n                        var thumb = this.options.editable.rotate.thumb;\r\n                        this._rotationThumbBounds = new Rect(bounds.center().x, bounds.y + thumb.y, 0, 0).inflate(thumb.width);\r\n                        this.rotationThumb.redraw({ x: bounds.width / 2 - thumb.width / 2 });\r\n                    }\r\n                } else {\r\n                    this.visual.visible(false);\r\n                }\r\n            }\r\n        });\r\n        var Selector = Class.extend({\r\n            init: function (diagram) {\r\n                var selectable = diagram.options.selectable;\r\n                this.options = deepExtend({}, this.options, selectable);\r\n                this.visual = new Rectangle(this.options);\r\n                this.diagram = diagram;\r\n            },\r\n            options: {\r\n                stroke: {\r\n                    color: '#778899',\r\n                    width: 1,\r\n                    dashType: 'dash'\r\n                },\r\n                fill: { color: TRANSPARENT }\r\n            },\r\n            start: function (p) {\r\n                this._sp = this._ep = p;\r\n                this.refresh();\r\n                this.diagram._adorn(this, true);\r\n            },\r\n            end: function () {\r\n                this._sp = this._ep = undefined;\r\n                this.diagram._adorn(this, false);\r\n            },\r\n            bounds: function (value) {\r\n                if (value) {\r\n                    this._bounds = value;\r\n                }\r\n                return this._bounds;\r\n            },\r\n            move: function (p) {\r\n                this._ep = p;\r\n                this.refresh();\r\n            },\r\n            refresh: function () {\r\n                if (this._sp) {\r\n                    var visualBounds = Rect.fromPoints(this.diagram.modelToLayer(this._sp), this.diagram.modelToLayer(this._ep));\r\n                    this.bounds(Rect.fromPoints(this._sp, this._ep));\r\n                    this.visual.position(visualBounds.topLeft());\r\n                    this.visual.redraw({\r\n                        height: visualBounds.height + 1,\r\n                        width: visualBounds.width + 1\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        var ConnectorVisual = Class.extend({\r\n            init: function (connector) {\r\n                this.options = deepExtend({}, connector.options);\r\n                this._c = connector;\r\n                this.visual = new Circle(this.options);\r\n                this.refresh();\r\n            },\r\n            _hover: function (value) {\r\n                var options = this.options, hover = options.hover, stroke = options.stroke, fill = options.fill;\r\n                if (value && Utils.isDefined(hover.stroke)) {\r\n                    stroke = deepExtend({}, stroke, hover.stroke);\r\n                }\r\n                if (value && Utils.isDefined(hover.fill)) {\r\n                    fill = hover.fill;\r\n                }\r\n                this.visual.redraw({\r\n                    stroke: stroke,\r\n                    fill: fill\r\n                });\r\n            },\r\n            refresh: function () {\r\n                var p = this._c.shape.diagram.modelToView(this._c.position()), relative = p.minus(this._c.shape.bounds('transformed').topLeft()), value = new Rect(p.x, p.y, 0, 0);\r\n                value.inflate(this.options.width / 2, this.options.height / 2);\r\n                this._visualBounds = value;\r\n                this.visual.redraw({ center: new Point(relative.x, relative.y) });\r\n            },\r\n            _hitTest: function (p) {\r\n                var tp = this._c.shape.diagram.modelToView(p);\r\n                return this._visualBounds.contains(tp);\r\n            }\r\n        });\r\n        function canDrag(element) {\r\n            var editable = element.options.editable;\r\n            return editable && editable.drag !== false;\r\n        }\r\n        function hitTestShapeConnectors(shape, point) {\r\n            var connector, position, rect;\r\n            for (var idx = 0; idx < shape.connectors.length; idx++) {\r\n                connector = shape.connectors[idx];\r\n                position = connector.position();\r\n                rect = new Rect(position.x, position.y);\r\n                rect.inflate(HIT_TEST_DISTANCE, HIT_TEST_DISTANCE);\r\n                if (rect.contains(point)) {\r\n                    return connector;\r\n                }\r\n            }\r\n        }\r\n        function noMeta(meta) {\r\n            return meta.ctrlKey === false && meta.altKey === false && meta.shiftKey === false;\r\n        }\r\n        deepExtend(diagram, {\r\n            CompositeUnit: CompositeUnit,\r\n            TransformUnit: TransformUnit,\r\n            PanUndoUnit: PanUndoUnit,\r\n            AddShapeUnit: AddShapeUnit,\r\n            AddConnectionUnit: AddConnectionUnit,\r\n            DeleteShapeUnit: DeleteShapeUnit,\r\n            DeleteConnectionUnit: DeleteConnectionUnit,\r\n            ConnectionEditAdorner: ConnectionEditAdorner,\r\n            ConnectionTool: ConnectionTool,\r\n            ConnectorVisual: ConnectorVisual,\r\n            UndoRedoService: UndoRedoService,\r\n            ResizingAdorner: ResizingAdorner,\r\n            Selector: Selector,\r\n            ToolService: ToolService,\r\n            ConnectorsAdorner: ConnectorsAdorner,\r\n            LayoutUndoUnit: LayoutUndoUnit,\r\n            ConnectionEditUnit: ConnectionEditUnit,\r\n            ToFrontUnit: ToFrontUnit,\r\n            ToBackUnit: ToBackUnit,\r\n            ConnectionRouterBase: ConnectionRouterBase,\r\n            PolylineRouter: PolylineRouter,\r\n            CascadingRouter: CascadingRouter,\r\n            SelectionTool: SelectionTool,\r\n            ScrollerTool: ScrollerTool,\r\n            PointerTool: PointerTool,\r\n            ConnectionEditTool: ConnectionEditTool,\r\n            RotateUnit: RotateUnit\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/layout', ['dataviz/diagram/math'], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var kendo = window.kendo, diagram = kendo.dataviz.diagram, Graph = diagram.Graph, Node = diagram.Node, Link = diagram.Link, deepExtend = kendo.deepExtend, Size = diagram.Size, Rect = diagram.Rect, Dictionary = diagram.Dictionary, Set = diagram.Set, HyperTree = diagram.Graph, Utils = diagram.Utils, Point = diagram.Point, EPSILON = 0.000001, DEG_TO_RAD = Math.PI / 180, contains = Utils.contains, grep = $.grep;\r\n        var LayoutBase = kendo.Class.extend({\r\n            defaultOptions: {\r\n                type: 'Tree',\r\n                subtype: 'Down',\r\n                roots: null,\r\n                animate: false,\r\n                limitToView: false,\r\n                friction: 0.9,\r\n                nodeDistance: 50,\r\n                iterations: 300,\r\n                horizontalSeparation: 90,\r\n                verticalSeparation: 50,\r\n                underneathVerticalTopOffset: 15,\r\n                underneathHorizontalOffset: 15,\r\n                underneathVerticalSeparation: 15,\r\n                grid: {\r\n                    width: 1500,\r\n                    offsetX: 50,\r\n                    offsetY: 50,\r\n                    componentSpacingX: 20,\r\n                    componentSpacingY: 20\r\n                },\r\n                layerSeparation: 50,\r\n                layeredIterations: 2,\r\n                startRadialAngle: 0,\r\n                endRadialAngle: 360,\r\n                radialSeparation: 150,\r\n                radialFirstLevelSeparation: 200,\r\n                keepComponentsInOneRadialLayout: false,\r\n                ignoreContainers: true,\r\n                layoutContainerChildren: false,\r\n                ignoreInvisible: true,\r\n                animateTransitions: false\r\n            },\r\n            init: function () {\r\n            },\r\n            gridLayoutComponents: function (components) {\r\n                if (!components) {\r\n                    throw 'No components supplied.';\r\n                }\r\n                Utils.forEach(components, function (c) {\r\n                    c.calcBounds();\r\n                });\r\n                components.sort(function (a, b) {\r\n                    return b.bounds.width - a.bounds.width;\r\n                });\r\n                var maxWidth = this.options.grid.width, offsetX = this.options.grid.componentSpacingX, offsetY = this.options.grid.componentSpacingY, height = 0, startX = this.options.grid.offsetX, startY = this.options.grid.offsetY, x = startX, y = startY, i, resultLinkSet = [], resultNodeSet = [];\r\n                while (components.length > 0) {\r\n                    if (x >= maxWidth) {\r\n                        x = startX;\r\n                        y += height + offsetY;\r\n                        height = 0;\r\n                    }\r\n                    var component = components.pop();\r\n                    this.moveToOffset(component, new Point(x, y));\r\n                    for (i = 0; i < component.nodes.length; i++) {\r\n                        resultNodeSet.push(component.nodes[i]);\r\n                    }\r\n                    for (i = 0; i < component.links.length; i++) {\r\n                        resultLinkSet.push(component.links[i]);\r\n                    }\r\n                    var boundingRect = component.bounds;\r\n                    var currentHeight = boundingRect.height;\r\n                    if (currentHeight <= 0 || isNaN(currentHeight)) {\r\n                        currentHeight = 0;\r\n                    }\r\n                    var currentWidth = boundingRect.width;\r\n                    if (currentWidth <= 0 || isNaN(currentWidth)) {\r\n                        currentWidth = 0;\r\n                    }\r\n                    if (currentHeight >= height) {\r\n                        height = currentHeight;\r\n                    }\r\n                    x += currentWidth + offsetX;\r\n                }\r\n                return {\r\n                    nodes: resultNodeSet,\r\n                    links: resultLinkSet\r\n                };\r\n            },\r\n            moveToOffset: function (component, p) {\r\n                var i, j, bounds = component.bounds, deltax = p.x - bounds.x, deltay = p.y - bounds.y;\r\n                for (i = 0; i < component.nodes.length; i++) {\r\n                    var node = component.nodes[i];\r\n                    var nodeBounds = node.bounds();\r\n                    if (nodeBounds.width === 0 && nodeBounds.height === 0 && nodeBounds.x === 0 && nodeBounds.y === 0) {\r\n                        nodeBounds = new Rect(0, 0, 0, 0);\r\n                    }\r\n                    nodeBounds.x += deltax;\r\n                    nodeBounds.y += deltay;\r\n                    node.bounds(nodeBounds);\r\n                }\r\n                for (i = 0; i < component.links.length; i++) {\r\n                    var link = component.links[i];\r\n                    if (link.points) {\r\n                        var newpoints = [];\r\n                        var points = link.points;\r\n                        for (j = 0; j < points.length; j++) {\r\n                            var pt = points[j];\r\n                            pt.x += deltax;\r\n                            pt.y += deltay;\r\n                            newpoints.push(pt);\r\n                        }\r\n                        link.points = newpoints;\r\n                    }\r\n                }\r\n                this.currentHorizontalOffset += bounds.width + this.options.grid.offsetX;\r\n                return new Point(deltax, deltay);\r\n            },\r\n            transferOptions: function (options) {\r\n                this.options = kendo.deepExtend({}, this.defaultOptions);\r\n                if (Utils.isUndefined(options)) {\r\n                    return;\r\n                }\r\n                this.options = kendo.deepExtend(this.options, options || {});\r\n            }\r\n        });\r\n        var DiagramToHyperTreeAdapter = kendo.Class.extend({\r\n            init: function (diagram) {\r\n                this.nodeMap = new Dictionary();\r\n                this.shapeMap = new Dictionary();\r\n                this.nodes = [];\r\n                this.edges = [];\r\n                this.edgeMap = new Dictionary();\r\n                this.finalNodes = [];\r\n                this.finalLinks = [];\r\n                this.ignoredConnections = [];\r\n                this.ignoredShapes = [];\r\n                this.hyperMap = new Dictionary();\r\n                this.hyperTree = new Graph();\r\n                this.finalGraph = null;\r\n                this.diagram = diagram;\r\n            },\r\n            convert: function (options) {\r\n                if (Utils.isUndefined(this.diagram)) {\r\n                    throw 'No diagram to convert.';\r\n                }\r\n                this.options = kendo.deepExtend({\r\n                    ignoreInvisible: true,\r\n                    ignoreContainers: true,\r\n                    layoutContainerChildren: false\r\n                }, options || {});\r\n                this.clear();\r\n                this._renormalizeShapes();\r\n                this._renormalizeConnections();\r\n                this.finalNodes = new Dictionary(this.nodes);\r\n                this.finalLinks = new Dictionary(this.edges);\r\n                this.finalGraph = new Graph();\r\n                this.finalNodes.forEach(function (n) {\r\n                    this.finalGraph.addNode(n);\r\n                }, this);\r\n                this.finalLinks.forEach(function (l) {\r\n                    this.finalGraph.addExistingLink(l);\r\n                }, this);\r\n                return this.finalGraph;\r\n            },\r\n            mapConnection: function (connection) {\r\n                return this.edgeMap.get(connection.id);\r\n            },\r\n            mapShape: function (shape) {\r\n                return this.nodeMap.get(shape.id);\r\n            },\r\n            getEdge: function (a, b) {\r\n                return Utils.first(a.links, function (link) {\r\n                    return link.getComplement(a) === b;\r\n                });\r\n            },\r\n            clear: function () {\r\n                this.finalGraph = null;\r\n                this.hyperTree = !this.options.ignoreContainers && this.options.layoutContainerChildren ? new HyperTree() : null;\r\n                this.hyperMap = !this.options.ignoreContainers && this.options.layoutContainerChildren ? new Dictionary() : null;\r\n                this.nodeMap = new Dictionary();\r\n                this.shapeMap = new Dictionary();\r\n                this.nodes = [];\r\n                this.edges = [];\r\n                this.edgeMap = new Dictionary();\r\n                this.ignoredConnections = [];\r\n                this.ignoredShapes = [];\r\n                this.finalNodes = [];\r\n                this.finalLinks = [];\r\n            },\r\n            listToRoot: function (containerGraph) {\r\n                var list = [];\r\n                var s = containerGraph.container;\r\n                if (!s) {\r\n                    return list;\r\n                }\r\n                list.push(s);\r\n                while (s.parentContainer) {\r\n                    s = s.parentContainer;\r\n                    list.push(s);\r\n                }\r\n                list.reverse();\r\n                return list;\r\n            },\r\n            firstNonIgnorableContainer: function (shape) {\r\n                if (shape.isContainer && !this._isIgnorableItem(shape)) {\r\n                    return shape;\r\n                }\r\n                return !shape.parentContainer ? null : this.firstNonIgnorableContainer(shape.parentContainer);\r\n            },\r\n            isContainerConnection: function (a, b) {\r\n                if (a.isContainer && this.isDescendantOf(a, b)) {\r\n                    return true;\r\n                }\r\n                return b.isContainer && this.isDescendantOf(b, a);\r\n            },\r\n            isDescendantOf: function (scope, a) {\r\n                if (!scope.isContainer) {\r\n                    throw 'Expecting a container.';\r\n                }\r\n                if (scope === a) {\r\n                    return false;\r\n                }\r\n                if (contains(scope.children, a)) {\r\n                    return true;\r\n                }\r\n                var containers = [];\r\n                for (var i = 0, len = scope.children.length; i < len; i++) {\r\n                    var c = scope.children[i];\r\n                    if (c.isContainer && this.isDescendantOf(c, a)) {\r\n                        containers.push(c);\r\n                    }\r\n                }\r\n                return containers.length > 0;\r\n            },\r\n            isIgnorableItem: function (shape) {\r\n                if (this.options.ignoreInvisible) {\r\n                    if (shape.isCollapsed && this._isVisible(shape)) {\r\n                        return false;\r\n                    }\r\n                    if (!shape.isCollapsed && this._isVisible(shape)) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                } else {\r\n                    return shape.isCollapsed && !this._isTop(shape);\r\n                }\r\n            },\r\n            isShapeMapped: function (shape) {\r\n                return shape.isCollapsed && !this._isVisible(shape) && !this._isTop(shape);\r\n            },\r\n            leastCommonAncestor: function (a, b) {\r\n                if (!a) {\r\n                    throw 'Parameter should not be null.';\r\n                }\r\n                if (!b) {\r\n                    throw 'Parameter should not be null.';\r\n                }\r\n                if (!this.hyperTree) {\r\n                    throw 'No hypertree available.';\r\n                }\r\n                var al = this.listToRoot(a);\r\n                var bl = this.listToRoot(b);\r\n                var found = null;\r\n                if (Utils.isEmpty(al) || Utils.isEmpty(bl)) {\r\n                    return this.hyperTree.root.data;\r\n                }\r\n                var xa = al[0];\r\n                var xb = bl[0];\r\n                var i = 0;\r\n                while (xa === xb) {\r\n                    found = al[i];\r\n                    i++;\r\n                    if (i >= al.length || i >= bl.length) {\r\n                        break;\r\n                    }\r\n                    xa = al[i];\r\n                    xb = bl[i];\r\n                }\r\n                if (!found) {\r\n                    return this.hyperTree.root.data;\r\n                } else {\r\n                    return grep(this.hyperTree.nodes, function (n) {\r\n                        return n.data.container === found;\r\n                    });\r\n                }\r\n            },\r\n            _isTop: function (item) {\r\n                return !item.parentContainer;\r\n            },\r\n            _isVisible: function (shape) {\r\n                if (!shape.visible()) {\r\n                    return false;\r\n                }\r\n                return !shape.parentContainer ? shape.visible() : this._isVisible(shape.parentContainer);\r\n            },\r\n            _isCollapsed: function (shape) {\r\n                if (shape.isContainer && shape.isCollapsed) {\r\n                    return true;\r\n                }\r\n                return shape.parentContainer && this._isCollapsed(shape.parentContainer);\r\n            },\r\n            _renormalizeShapes: function () {\r\n                if (this.options.ignoreContainers) {\r\n                    for (var i = 0, len = this.diagram.shapes.length; i < len; i++) {\r\n                        var shape = this.diagram.shapes[i];\r\n                        if (this.options.ignoreInvisible && !this._isVisible(shape) || shape.isContainer) {\r\n                            this.ignoredShapes.push(shape);\r\n                            continue;\r\n                        }\r\n                        var node = new Node(shape.id, shape);\r\n                        node.isVirtual = false;\r\n                        this.nodeMap.add(shape.id, node);\r\n                        this.nodes.push(node);\r\n                    }\r\n                } else {\r\n                    throw 'Containers are not supported yet, but stay tuned.';\r\n                }\r\n            },\r\n            _renormalizeConnections: function () {\r\n                if (this.diagram.connections.length === 0) {\r\n                    return;\r\n                }\r\n                for (var i = 0, len = this.diagram.connections.length; i < len; i++) {\r\n                    var conn = this.diagram.connections[i];\r\n                    if (this.isIgnorableItem(conn)) {\r\n                        this.ignoredConnections.push(conn);\r\n                        continue;\r\n                    }\r\n                    var source = !conn.sourceConnector ? null : conn.sourceConnector.shape;\r\n                    var sink = !conn.targetConnector ? null : conn.targetConnector.shape;\r\n                    if (!source || !sink) {\r\n                        this.ignoredConnections.push(conn);\r\n                        continue;\r\n                    }\r\n                    if (contains(this.ignoredShapes, source) && !this.shapeMap.containsKey(source)) {\r\n                        this.ignoredConnections.push(conn);\r\n                        continue;\r\n                    }\r\n                    if (contains(this.ignoredShapes, sink) && !this.shapeMap.containsKey(sink)) {\r\n                        this.ignoredConnections.push(conn);\r\n                        continue;\r\n                    }\r\n                    if (this.shapeMap.containsKey(source)) {\r\n                        source = this.shapeMap[source];\r\n                    }\r\n                    if (this.shapeMap.containsKey(sink)) {\r\n                        sink = this.shapeMap[sink];\r\n                    }\r\n                    var sourceNode = this.mapShape(source);\r\n                    var sinkNode = this.mapShape(sink);\r\n                    if (sourceNode === sinkNode || this.areConnectedAlready(sourceNode, sinkNode)) {\r\n                        this.ignoredConnections.push(conn);\r\n                        continue;\r\n                    }\r\n                    if (sourceNode === null || sinkNode === null) {\r\n                        throw 'A shape was not mapped to a node.';\r\n                    }\r\n                    if (this.options.ignoreContainers) {\r\n                        if (sourceNode.isVirtual || sinkNode.isVirtual) {\r\n                            this.ignoredConnections.push(conn);\r\n                            continue;\r\n                        }\r\n                        var newEdge = new Link(sourceNode, sinkNode, conn.id, conn);\r\n                        this.edgeMap.add(conn.id, newEdge);\r\n                        this.edges.push(newEdge);\r\n                    } else {\r\n                        throw 'Containers are not supported yet, but stay tuned.';\r\n                    }\r\n                }\r\n            },\r\n            areConnectedAlready: function (n, m) {\r\n                return Utils.any(this.edges, function (l) {\r\n                    return l.source === n && l.target === m || l.source === m && l.target === n;\r\n                });\r\n            }\r\n        });\r\n        var SpringLayout = LayoutBase.extend({\r\n            init: function (diagram) {\r\n                var that = this;\r\n                LayoutBase.fn.init.call(that);\r\n                if (Utils.isUndefined(diagram)) {\r\n                    throw 'Diagram is not specified.';\r\n                }\r\n                this.diagram = diagram;\r\n            },\r\n            layout: function (options) {\r\n                this.transferOptions(options);\r\n                var adapter = new DiagramToHyperTreeAdapter(this.diagram);\r\n                var graph = adapter.convert(options);\r\n                if (graph.isEmpty()) {\r\n                    return;\r\n                }\r\n                var components = graph.getConnectedComponents();\r\n                if (Utils.isEmpty(components)) {\r\n                    return;\r\n                }\r\n                for (var i = 0; i < components.length; i++) {\r\n                    var component = components[i];\r\n                    this.layoutGraph(component, options);\r\n                }\r\n                var finalNodeSet = this.gridLayoutComponents(components);\r\n                return new diagram.LayoutState(this.diagram, finalNodeSet);\r\n            },\r\n            layoutGraph: function (graph, options) {\r\n                if (Utils.isDefined(options)) {\r\n                    this.transferOptions(options);\r\n                }\r\n                this.graph = graph;\r\n                var initialTemperature = this.options.nodeDistance * 9;\r\n                this.temperature = initialTemperature;\r\n                var guessBounds = this._expectedBounds();\r\n                this.width = guessBounds.width;\r\n                this.height = guessBounds.height;\r\n                for (var step = 0; step < this.options.iterations; step++) {\r\n                    this.refineStage = step >= this.options.iterations * 5 / 6;\r\n                    this.tick();\r\n                    this.temperature = this.refineStage ? initialTemperature / 30 : initialTemperature * (1 - step / (2 * this.options.iterations));\r\n                }\r\n            },\r\n            tick: function () {\r\n                var i;\r\n                for (i = 0; i < this.graph.nodes.length; i++) {\r\n                    this._repulsion(this.graph.nodes[i]);\r\n                }\r\n                for (i = 0; i < this.graph.links.length; i++) {\r\n                    this._attraction(this.graph.links[i]);\r\n                }\r\n                for (i = 0; i < this.graph.nodes.length; i++) {\r\n                    var node = this.graph.nodes[i];\r\n                    var offset = Math.sqrt(node.dx * node.dx + node.dy * node.dy);\r\n                    if (offset === 0) {\r\n                        return;\r\n                    }\r\n                    node.x += Math.min(offset, this.temperature) * node.dx / offset;\r\n                    node.y += Math.min(offset, this.temperature) * node.dy / offset;\r\n                    if (this.options.limitToView) {\r\n                        node.x = Math.min(this.width, Math.max(node.width / 2, node.x));\r\n                        node.y = Math.min(this.height, Math.max(node.height / 2, node.y));\r\n                    }\r\n                }\r\n            },\r\n            _shake: function (node) {\r\n                var rho = Math.random() * this.options.nodeDistance / 4;\r\n                var alpha = Math.random() * 2 * Math.PI;\r\n                node.x += rho * Math.cos(alpha);\r\n                node.y -= rho * Math.sin(alpha);\r\n            },\r\n            _InverseSquareForce: function (d, n, m) {\r\n                var force;\r\n                if (!this.refineStage) {\r\n                    force = Math.pow(d, 2) / Math.pow(this.options.nodeDistance, 2);\r\n                } else {\r\n                    var deltax = n.x - m.x;\r\n                    var deltay = n.y - m.y;\r\n                    var wn = n.width / 2;\r\n                    var hn = n.height / 2;\r\n                    var wm = m.width / 2;\r\n                    var hm = m.height / 2;\r\n                    force = Math.pow(deltax, 2) / Math.pow(wn + wm + this.options.nodeDistance, 2) + Math.pow(deltay, 2) / Math.pow(hn + hm + this.options.nodeDistance, 2);\r\n                }\r\n                return force * 4 / 3;\r\n            },\r\n            _SquareForce: function (d, n, m) {\r\n                return 1 / this._InverseSquareForce(d, n, m);\r\n            },\r\n            _repulsion: function (n) {\r\n                n.dx = 0;\r\n                n.dy = 0;\r\n                Utils.forEach(this.graph.nodes, function (m) {\r\n                    if (m === n) {\r\n                        return;\r\n                    }\r\n                    while (n.x === m.x && n.y === m.y) {\r\n                        this._shake(m);\r\n                    }\r\n                    var vx = n.x - m.x;\r\n                    var vy = n.y - m.y;\r\n                    var distance = Math.sqrt(vx * vx + vy * vy);\r\n                    var r = this._SquareForce(distance, n, m) * 2;\r\n                    n.dx += vx / distance * r;\r\n                    n.dy += vy / distance * r;\r\n                }, this);\r\n            },\r\n            _attraction: function (link) {\r\n                var t = link.target;\r\n                var s = link.source;\r\n                if (s === t) {\r\n                    return;\r\n                }\r\n                while (s.x === t.x && s.y === t.y) {\r\n                    this._shake(t);\r\n                }\r\n                var vx = s.x - t.x;\r\n                var vy = s.y - t.y;\r\n                var distance = Math.sqrt(vx * vx + vy * vy);\r\n                var a = this._InverseSquareForce(distance, s, t) * 5;\r\n                var dx = vx / distance * a;\r\n                var dy = vy / distance * a;\r\n                t.dx += dx;\r\n                t.dy += dy;\r\n                s.dx -= dx;\r\n                s.dy -= dy;\r\n            },\r\n            _expectedBounds: function () {\r\n                var size, N = this.graph.nodes.length, ratio = 1.5, multiplier = 4;\r\n                if (N === 0) {\r\n                    return size;\r\n                }\r\n                size = Utils.fold(this.graph.nodes, function (s, node) {\r\n                    var area = node.width * node.height;\r\n                    if (area > 0) {\r\n                        s += Math.sqrt(area);\r\n                        return s;\r\n                    }\r\n                    return 0;\r\n                }, 0, this);\r\n                var av = size / N;\r\n                var squareSize = av * Math.ceil(Math.sqrt(N));\r\n                var width = squareSize * Math.sqrt(ratio);\r\n                var height = squareSize / Math.sqrt(ratio);\r\n                return {\r\n                    width: width * multiplier,\r\n                    height: height * multiplier\r\n                };\r\n            }\r\n        });\r\n        var TreeLayoutProcessor = kendo.Class.extend({\r\n            init: function (options) {\r\n                this.center = null;\r\n                this.options = options;\r\n            },\r\n            layout: function (treeGraph, root) {\r\n                this.graph = treeGraph;\r\n                if (!this.graph.nodes || this.graph.nodes.length === 0) {\r\n                    return;\r\n                }\r\n                if (!contains(this.graph.nodes, root)) {\r\n                    throw 'The given root is not in the graph.';\r\n                }\r\n                this.center = root;\r\n                this.graph.cacheRelationships();\r\n                this.layoutSwitch();\r\n            },\r\n            layoutLeft: function (left) {\r\n                this.setChildrenDirection(this.center, 'Left', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                var h = 0, w = 0, y, i, node;\r\n                for (i = 0; i < left.length; i++) {\r\n                    node = left[i];\r\n                    node.TreeDirection = 'Left';\r\n                    var s = this.measure(node, Size.Empty);\r\n                    w = Math.max(w, s.Width);\r\n                    h += s.height + this.options.verticalSeparation;\r\n                }\r\n                h -= this.options.verticalSeparation;\r\n                var x = this.center.x - this.options.horizontalSeparation;\r\n                y = this.center.y + (this.center.height - h) / 2;\r\n                for (i = 0; i < left.length; i++) {\r\n                    node = left[i];\r\n                    var p = new Point(x - node.Size.width, y);\r\n                    this.arrange(node, p);\r\n                    y += node.Size.height + this.options.verticalSeparation;\r\n                }\r\n            },\r\n            layoutRight: function (right) {\r\n                this.setChildrenDirection(this.center, 'Right', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                var h = 0, w = 0, y, i, node;\r\n                for (i = 0; i < right.length; i++) {\r\n                    node = right[i];\r\n                    node.TreeDirection = 'Right';\r\n                    var s = this.measure(node, Size.Empty);\r\n                    w = Math.max(w, s.Width);\r\n                    h += s.height + this.options.verticalSeparation;\r\n                }\r\n                h -= this.options.verticalSeparation;\r\n                var x = this.center.x + this.options.horizontalSeparation + this.center.width;\r\n                y = this.center.y + (this.center.height - h) / 2;\r\n                for (i = 0; i < right.length; i++) {\r\n                    node = right[i];\r\n                    var p = new Point(x, y);\r\n                    this.arrange(node, p);\r\n                    y += node.Size.height + this.options.verticalSeparation;\r\n                }\r\n            },\r\n            layoutUp: function (up) {\r\n                this.setChildrenDirection(this.center, 'Up', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                var w = 0, y, node, i;\r\n                for (i = 0; i < up.length; i++) {\r\n                    node = up[i];\r\n                    node.TreeDirection = 'Up';\r\n                    var s = this.measure(node, Size.Empty);\r\n                    w += s.width + this.options.horizontalSeparation;\r\n                }\r\n                w -= this.options.horizontalSeparation;\r\n                var x = this.center.x + this.center.width / 2 - w / 2;\r\n                for (i = 0; i < up.length; i++) {\r\n                    node = up[i];\r\n                    y = this.center.y - this.options.verticalSeparation - node.Size.height;\r\n                    var p = new Point(x, y);\r\n                    this.arrange(node, p);\r\n                    x += node.Size.width + this.options.horizontalSeparation;\r\n                }\r\n            },\r\n            layoutDown: function (down) {\r\n                var node, i;\r\n                this.setChildrenDirection(this.center, 'Down', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                var w = 0, y;\r\n                for (i = 0; i < down.length; i++) {\r\n                    node = down[i];\r\n                    node.treeDirection = 'Down';\r\n                    var s = this.measure(node, Size.Empty);\r\n                    w += s.width + this.options.horizontalSeparation;\r\n                }\r\n                w -= this.options.horizontalSeparation;\r\n                var x = this.center.x + this.center.width / 2 - w / 2;\r\n                y = this.center.y + this.options.verticalSeparation + this.center.height;\r\n                for (i = 0; i < down.length; i++) {\r\n                    node = down[i];\r\n                    var p = new Point(x, y);\r\n                    this.arrange(node, p);\r\n                    x += node.Size.width + this.options.horizontalSeparation;\r\n                }\r\n            },\r\n            layoutRadialTree: function () {\r\n                this.setChildrenDirection(this.center, 'Radial', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                this.previousRoot = null;\r\n                var startAngle = this.options.startRadialAngle * DEG_TO_RAD;\r\n                var endAngle = this.options.endRadialAngle * DEG_TO_RAD;\r\n                if (endAngle <= startAngle) {\r\n                    throw 'Final angle should not be less than the start angle.';\r\n                }\r\n                this.maxDepth = 0;\r\n                this.origin = new Point(this.center.x, this.center.y);\r\n                this.calculateAngularWidth(this.center, 0);\r\n                if (this.maxDepth > 0) {\r\n                    this.radialLayout(this.center, this.options.radialFirstLevelSeparation, startAngle, endAngle);\r\n                }\r\n                this.center.Angle = endAngle - startAngle;\r\n            },\r\n            tipOverTree: function (down, startFromLevel) {\r\n                if (Utils.isUndefined(startFromLevel)) {\r\n                    startFromLevel = 0;\r\n                }\r\n                this.setChildrenDirection(this.center, 'Down', false);\r\n                this.setChildrenLayout(this.center, 'Default', false);\r\n                this.setChildrenLayout(this.center, 'Underneath', false, startFromLevel);\r\n                var w = 0, y, node, i;\r\n                for (i = 0; i < down.length; i++) {\r\n                    node = down[i];\r\n                    node.TreeDirection = 'Down';\r\n                    var s = this.measure(node, Size.Empty);\r\n                    w += s.width + this.options.horizontalSeparation;\r\n                }\r\n                w -= this.options.horizontalSeparation;\r\n                w -= down[down.length - 1].width;\r\n                w += down[down.length - 1].associatedShape.bounds().width;\r\n                var x = this.center.x + this.center.width / 2 - w / 2;\r\n                y = this.center.y + this.options.verticalSeparation + this.center.height;\r\n                for (i = 0; i < down.length; i++) {\r\n                    node = down[i];\r\n                    var p = new Point(x, y);\r\n                    this.arrange(node, p);\r\n                    x += node.Size.width + this.options.horizontalSeparation;\r\n                }\r\n            },\r\n            calculateAngularWidth: function (n, d) {\r\n                if (d > this.maxDepth) {\r\n                    this.maxDepth = d;\r\n                }\r\n                var aw = 0, w = 1000, h = 1000, diameter = d === 0 ? 0 : Math.sqrt(w * w + h * h) / d;\r\n                if (n.children.length > 0) {\r\n                    for (var i = 0, len = n.children.length; i < len; i++) {\r\n                        var child = n.children[i];\r\n                        aw += this.calculateAngularWidth(child, d + 1);\r\n                    }\r\n                    aw = Math.max(diameter, aw);\r\n                } else {\r\n                    aw = diameter;\r\n                }\r\n                n.sectorAngle = aw;\r\n                return aw;\r\n            },\r\n            sortChildren: function (n) {\r\n                var basevalue = 0, i;\r\n                if (n.parents.length > 1) {\r\n                    throw 'Node is not part of a tree.';\r\n                }\r\n                var p = n.parents[0];\r\n                if (p) {\r\n                    var pl = new Point(p.x, p.y);\r\n                    var nl = new Point(n.x, n.y);\r\n                    basevalue = this.normalizeAngle(Math.atan2(pl.y - nl.y, pl.x - nl.x));\r\n                }\r\n                var count = n.children.length;\r\n                if (count === 0) {\r\n                    return null;\r\n                }\r\n                var angle = [];\r\n                var idx = [];\r\n                for (i = 0; i < count; ++i) {\r\n                    var c = n.children[i];\r\n                    var l = new Point(c.x, c.y);\r\n                    idx[i] = i;\r\n                    angle[i] = this.normalizeAngle(-basevalue + Math.atan2(l.y - l.y, l.x - l.x));\r\n                }\r\n                Utils.bisort(angle, idx);\r\n                var col = [];\r\n                var children = n.children;\r\n                for (i = 0; i < count; ++i) {\r\n                    col.push(children[idx[i]]);\r\n                }\r\n                return col;\r\n            },\r\n            normalizeAngle: function (angle) {\r\n                while (angle > Math.PI * 2) {\r\n                    angle -= 2 * Math.PI;\r\n                }\r\n                while (angle < 0) {\r\n                    angle += Math.PI * 2;\r\n                }\r\n                return angle;\r\n            },\r\n            radialLayout: function (node, radius, startAngle, endAngle) {\r\n                var deltaTheta = endAngle - startAngle;\r\n                var deltaThetaHalf = deltaTheta / 2;\r\n                var parentSector = node.sectorAngle;\r\n                var fraction = 0;\r\n                var sorted = this.sortChildren(node);\r\n                for (var i = 0, len = sorted.length; i < len; i++) {\r\n                    var childNode = sorted[i];\r\n                    var cp = childNode;\r\n                    var childAngleFraction = cp.sectorAngle / parentSector;\r\n                    if (childNode.children.length > 0) {\r\n                        this.radialLayout(childNode, radius + this.options.radialSeparation, startAngle + fraction * deltaTheta, startAngle + (fraction + childAngleFraction) * deltaTheta);\r\n                    }\r\n                    this.setPolarLocation(childNode, radius, startAngle + fraction * deltaTheta + childAngleFraction * deltaThetaHalf);\r\n                    cp.angle = childAngleFraction * deltaTheta;\r\n                    fraction += childAngleFraction;\r\n                }\r\n            },\r\n            setPolarLocation: function (node, radius, angle) {\r\n                node.x = this.origin.x + radius * Math.cos(angle);\r\n                node.y = this.origin.y + radius * Math.sin(angle);\r\n                node.BoundingRectangle = new Rect(node.x, node.y, node.width, node.height);\r\n            },\r\n            setChildrenDirection: function (node, direction, includeStart) {\r\n                var rootDirection = node.treeDirection;\r\n                this.graph.depthFirstTraversal(node, function (n) {\r\n                    n.treeDirection = direction;\r\n                });\r\n                if (!includeStart) {\r\n                    node.treeDirection = rootDirection;\r\n                }\r\n            },\r\n            setChildrenLayout: function (node, layout, includeStart, startFromLevel) {\r\n                if (Utils.isUndefined(startFromLevel)) {\r\n                    startFromLevel = 0;\r\n                }\r\n                var rootLayout = node.childrenLayout;\r\n                if (startFromLevel > 0) {\r\n                    this.graph.assignLevels(node);\r\n                    this.graph.depthFirstTraversal(node, function (s) {\r\n                        if (s.level >= startFromLevel + 1) {\r\n                            s.childrenLayout = layout;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.graph.depthFirstTraversal(node, function (s) {\r\n                        s.childrenLayout = layout;\r\n                    });\r\n                    if (!includeStart) {\r\n                        node.childrenLayout = rootLayout;\r\n                    }\r\n                }\r\n            },\r\n            measure: function (node, givenSize) {\r\n                var w = 0, h = 0, s;\r\n                var result = new Size(0, 0);\r\n                if (!node) {\r\n                    throw '';\r\n                }\r\n                var b = node.associatedShape.bounds();\r\n                var shapeWidth = b.width;\r\n                var shapeHeight = b.height;\r\n                if (node.parents.length !== 1) {\r\n                    throw 'Node not in a spanning tree.';\r\n                }\r\n                var parent = node.parents[0];\r\n                if (node.treeDirection === 'Undefined') {\r\n                    node.treeDirection = parent.treeDirection;\r\n                }\r\n                if (Utils.isEmpty(node.children)) {\r\n                    result = new Size(Math.abs(shapeWidth) < EPSILON ? 50 : shapeWidth, Math.abs(shapeHeight) < EPSILON ? 25 : shapeHeight);\r\n                } else if (node.children.length === 1) {\r\n                    switch (node.treeDirection) {\r\n                    case 'Radial':\r\n                        s = this.measure(node.children[0], givenSize);\r\n                        w = shapeWidth + this.options.radialSeparation * Math.cos(node.AngleToParent) + s.width;\r\n                        h = shapeHeight + Math.abs(this.options.radialSeparation * Math.sin(node.AngleToParent)) + s.height;\r\n                        break;\r\n                    case 'Left':\r\n                    case 'Right':\r\n                        switch (node.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                            break;\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            s = this.measure(node.children[0], givenSize);\r\n                            w = shapeWidth + s.width + this.options.underneathHorizontalOffset;\r\n                            h = shapeHeight + this.options.underneathVerticalTopOffset + s.height;\r\n                            break;\r\n                        case 'Default':\r\n                            s = this.measure(node.children[0], givenSize);\r\n                            w = shapeWidth + this.options.horizontalSeparation + s.width;\r\n                            h = Math.max(shapeHeight, s.height);\r\n                            break;\r\n                        default:\r\n                            throw 'Unhandled TreeDirection in the Radial layout measuring.';\r\n                        }\r\n                        break;\r\n                    case 'Up':\r\n                    case 'Down':\r\n                        switch (node.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            s = this.measure(node.children[0], givenSize);\r\n                            w = Math.max(shapeWidth, s.width + this.options.underneathHorizontalOffset);\r\n                            h = shapeHeight + this.options.underneathVerticalTopOffset + s.height;\r\n                            break;\r\n                        case 'Default':\r\n                            s = this.measure(node.children[0], givenSize);\r\n                            h = shapeHeight + this.options.verticalSeparation + s.height;\r\n                            w = Math.max(shapeWidth, s.width);\r\n                            break;\r\n                        default:\r\n                            throw 'Unhandled TreeDirection in the Down layout measuring.';\r\n                        }\r\n                        break;\r\n                    default:\r\n                        throw 'Unhandled TreeDirection in the layout measuring.';\r\n                    }\r\n                    result = new Size(w, h);\r\n                } else {\r\n                    var i, childNode;\r\n                    switch (node.treeDirection) {\r\n                    case 'Left':\r\n                    case 'Right':\r\n                        switch (node.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            w = shapeWidth;\r\n                            h = shapeHeight + this.options.underneathVerticalTopOffset;\r\n                            for (i = 0; i < node.children.length; i++) {\r\n                                childNode = node.children[i];\r\n                                s = this.measure(childNode, givenSize);\r\n                                w = Math.max(w, s.width + this.options.underneathHorizontalOffset);\r\n                                h += s.height + this.options.underneathVerticalSeparation;\r\n                            }\r\n                            h -= this.options.underneathVerticalSeparation;\r\n                            break;\r\n                        case 'Default':\r\n                            w = shapeWidth;\r\n                            h = 0;\r\n                            for (i = 0; i < node.children.length; i++) {\r\n                                childNode = node.children[i];\r\n                                s = this.measure(childNode, givenSize);\r\n                                w = Math.max(w, shapeWidth + this.options.horizontalSeparation + s.width);\r\n                                h += s.height + this.options.verticalSeparation;\r\n                            }\r\n                            h -= this.options.verticalSeparation;\r\n                            break;\r\n                        default:\r\n                            throw 'Unhandled TreeDirection in the Right layout measuring.';\r\n                        }\r\n                        break;\r\n                    case 'Up':\r\n                    case 'Down':\r\n                        switch (node.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            w = shapeWidth;\r\n                            h = shapeHeight + this.options.underneathVerticalTopOffset;\r\n                            for (i = 0; i < node.children.length; i++) {\r\n                                childNode = node.children[i];\r\n                                s = this.measure(childNode, givenSize);\r\n                                w = Math.max(w, s.width + this.options.underneathHorizontalOffset);\r\n                                h += s.height + this.options.underneathVerticalSeparation;\r\n                            }\r\n                            h -= this.options.underneathVerticalSeparation;\r\n                            break;\r\n                        case 'Default':\r\n                            w = 0;\r\n                            h = 0;\r\n                            for (i = 0; i < node.children.length; i++) {\r\n                                childNode = node.children[i];\r\n                                s = this.measure(childNode, givenSize);\r\n                                w += s.width + this.options.horizontalSeparation;\r\n                                h = Math.max(h, s.height + this.options.verticalSeparation + shapeHeight);\r\n                            }\r\n                            w -= this.options.horizontalSeparation;\r\n                            break;\r\n                        default:\r\n                            throw 'Unhandled TreeDirection in the Down layout measuring.';\r\n                        }\r\n                        break;\r\n                    default:\r\n                        throw 'Unhandled TreeDirection in the layout measuring.';\r\n                    }\r\n                    result = new Size(w, h);\r\n                }\r\n                node.SectorAngle = Math.sqrt(w * w / 4 + h * h / 4);\r\n                node.Size = result;\r\n                return result;\r\n            },\r\n            arrange: function (n, p) {\r\n                var i, pp, child, node, childrenwidth, b = n.associatedShape.bounds();\r\n                var shapeWidth = b.width;\r\n                var shapeHeight = b.height;\r\n                if (Utils.isEmpty(n.children)) {\r\n                    n.x = p.x;\r\n                    n.y = p.y;\r\n                    n.BoundingRectangle = new Rect(p.x, p.y, shapeWidth, shapeHeight);\r\n                } else {\r\n                    var x, y;\r\n                    var selfLocation;\r\n                    switch (n.treeDirection) {\r\n                    case 'Left':\r\n                        switch (n.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            selfLocation = p;\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            y = p.y + shapeHeight + this.options.underneathVerticalTopOffset;\r\n                            for (i = 0; i < node.children.length; i++) {\r\n                                node = node.children[i];\r\n                                x = selfLocation.x - node.associatedShape.width - this.options.underneathHorizontalOffset;\r\n                                pp = new Point(x, y);\r\n                                this.arrange(node, pp);\r\n                                y += node.Size.height + this.options.underneathVerticalSeparation;\r\n                            }\r\n                            break;\r\n                        case 'Default':\r\n                            selfLocation = new Point(p.x + n.Size.width - shapeWidth, p.y + (n.Size.height - shapeHeight) / 2);\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            x = selfLocation.x - this.options.horizontalSeparation;\r\n                            y = p.y;\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                node = n.children[i];\r\n                                pp = new Point(x - node.Size.width, y);\r\n                                this.arrange(node, pp);\r\n                                y += node.Size.height + this.options.verticalSeparation;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            throw 'Unsupported TreeDirection';\r\n                        }\r\n                        break;\r\n                    case 'Right':\r\n                        switch (n.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            selfLocation = p;\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            x = p.x + shapeWidth + this.options.underneathHorizontalOffset;\r\n                            y = p.y + shapeHeight + this.options.underneathVerticalTopOffset;\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                node = n.children[i];\r\n                                pp = new Point(x, y);\r\n                                this.arrange(node, pp);\r\n                                y += node.Size.height + this.options.underneathVerticalSeparation;\r\n                            }\r\n                            break;\r\n                        case 'Default':\r\n                            selfLocation = new Point(p.x, p.y + (n.Size.height - shapeHeight) / 2);\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            x = p.x + shapeWidth + this.options.horizontalSeparation;\r\n                            y = p.y;\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                node = n.children[i];\r\n                                pp = new Point(x, y);\r\n                                this.arrange(node, pp);\r\n                                y += node.Size.height + this.options.verticalSeparation;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            throw 'Unsupported TreeDirection';\r\n                        }\r\n                        break;\r\n                    case 'Up':\r\n                        selfLocation = new Point(p.x + (n.Size.width - shapeWidth) / 2, p.y + n.Size.height - shapeHeight);\r\n                        n.x = selfLocation.x;\r\n                        n.y = selfLocation.y;\r\n                        n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                        if (Math.abs(selfLocation.x - p.x) < EPSILON) {\r\n                            childrenwidth = 0;\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                child = n.children[i];\r\n                                childrenwidth += child.Size.width + this.options.horizontalSeparation;\r\n                            }\r\n                            childrenwidth -= this.options.horizontalSeparation;\r\n                            x = p.x + (shapeWidth - childrenwidth) / 2;\r\n                        } else {\r\n                            x = p.x;\r\n                        }\r\n                        for (i = 0; i < n.children.length; i++) {\r\n                            node = n.children[i];\r\n                            y = selfLocation.y - this.options.verticalSeparation - node.Size.height;\r\n                            pp = new Point(x, y);\r\n                            this.arrange(node, pp);\r\n                            x += node.Size.width + this.options.horizontalSeparation;\r\n                        }\r\n                        break;\r\n                    case 'Down':\r\n                        switch (n.childrenLayout) {\r\n                        case 'TopAlignedWithParent':\r\n                        case 'BottomAlignedWithParent':\r\n                            break;\r\n                        case 'Underneath':\r\n                            selfLocation = p;\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            x = p.x + this.options.underneathHorizontalOffset;\r\n                            y = p.y + shapeHeight + this.options.underneathVerticalTopOffset;\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                node = n.children[i];\r\n                                pp = new Point(x, y);\r\n                                this.arrange(node, pp);\r\n                                y += node.Size.height + this.options.underneathVerticalSeparation;\r\n                            }\r\n                            break;\r\n                        case 'Default':\r\n                            selfLocation = new Point(p.x + (n.Size.width - shapeWidth) / 2, p.y);\r\n                            n.x = selfLocation.x;\r\n                            n.y = selfLocation.y;\r\n                            n.BoundingRectangle = new Rect(n.x, n.y, n.width, n.height);\r\n                            if (Math.abs(selfLocation.x - p.x) < EPSILON) {\r\n                                childrenwidth = 0;\r\n                                for (i = 0; i < n.children.length; i++) {\r\n                                    child = n.children[i];\r\n                                    childrenwidth += child.Size.width + this.options.horizontalSeparation;\r\n                                }\r\n                                childrenwidth -= this.options.horizontalSeparation;\r\n                                x = p.x + (shapeWidth - childrenwidth) / 2;\r\n                            } else {\r\n                                x = p.x;\r\n                            }\r\n                            for (i = 0; i < n.children.length; i++) {\r\n                                node = n.children[i];\r\n                                y = selfLocation.y + this.options.verticalSeparation + shapeHeight;\r\n                                pp = new Point(x, y);\r\n                                this.arrange(node, pp);\r\n                                x += node.Size.width + this.options.horizontalSeparation;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            throw 'Unsupported TreeDirection';\r\n                        }\r\n                        break;\r\n                    case 'None':\r\n                        break;\r\n                    default:\r\n                        throw 'Unsupported TreeDirection';\r\n                    }\r\n                }\r\n            },\r\n            layoutSwitch: function () {\r\n                if (!this.center) {\r\n                    return;\r\n                }\r\n                if (Utils.isEmpty(this.center.children)) {\r\n                    return;\r\n                }\r\n                var type = this.options.subtype;\r\n                if (Utils.isUndefined(type)) {\r\n                    type = 'Down';\r\n                }\r\n                var single, male, female, leftcount;\r\n                var children = this.center.children;\r\n                switch (type.toLowerCase()) {\r\n                case 'radial':\r\n                case 'radialtree':\r\n                    this.layoutRadialTree();\r\n                    break;\r\n                case 'mindmaphorizontal':\r\n                case 'mindmap':\r\n                    single = this.center.children;\r\n                    if (this.center.children.length === 1) {\r\n                        this.layoutRight(single);\r\n                    } else {\r\n                        leftcount = children.length / 2;\r\n                        male = grep(this.center.children, function (n) {\r\n                            return Utils.indexOf(children, n) < leftcount;\r\n                        });\r\n                        female = grep(this.center.children, function (n) {\r\n                            return Utils.indexOf(children, n) >= leftcount;\r\n                        });\r\n                        this.layoutLeft(male);\r\n                        this.layoutRight(female);\r\n                    }\r\n                    break;\r\n                case 'mindmapvertical':\r\n                    single = this.center.children;\r\n                    if (this.center.children.length === 1) {\r\n                        this.layoutDown(single);\r\n                    } else {\r\n                        leftcount = children.length / 2;\r\n                        male = grep(this.center.children, function (n) {\r\n                            return Utils.indexOf(children, n) < leftcount;\r\n                        });\r\n                        female = grep(this.center.children, function (n) {\r\n                            return Utils.indexOf(children, n) >= leftcount;\r\n                        });\r\n                        this.layoutUp(male);\r\n                        this.layoutDown(female);\r\n                    }\r\n                    break;\r\n                case 'right':\r\n                    this.layoutRight(this.center.children);\r\n                    break;\r\n                case 'left':\r\n                    this.layoutLeft(this.center.children);\r\n                    break;\r\n                case 'up':\r\n                case 'bottom':\r\n                    this.layoutUp(this.center.children);\r\n                    break;\r\n                case 'down':\r\n                case 'top':\r\n                    this.layoutDown(this.center.children);\r\n                    break;\r\n                case 'tipover':\r\n                case 'tipovertree':\r\n                    if (this.options.tipOverTreeStartLevel < 0) {\r\n                        throw 'The tip-over level should be a positive integer.';\r\n                    }\r\n                    this.tipOverTree(this.center.children, this.options.tipOverTreeStartLevel);\r\n                    break;\r\n                case 'undefined':\r\n                case 'none':\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        var TreeLayout = LayoutBase.extend({\r\n            init: function (diagram) {\r\n                var that = this;\r\n                LayoutBase.fn.init.call(that);\r\n                if (Utils.isUndefined(diagram)) {\r\n                    throw 'No diagram specified.';\r\n                }\r\n                this.diagram = diagram;\r\n            },\r\n            layout: function (options) {\r\n                this.transferOptions(options);\r\n                var adapter = new DiagramToHyperTreeAdapter(this.diagram);\r\n                this.graph = adapter.convert();\r\n                var finalNodeSet = this.layoutComponents();\r\n                return new diagram.LayoutState(this.diagram, finalNodeSet);\r\n            },\r\n            layoutComponents: function () {\r\n                if (this.graph.isEmpty()) {\r\n                    return;\r\n                }\r\n                var components = this.graph.getConnectedComponents();\r\n                if (Utils.isEmpty(components)) {\r\n                    return;\r\n                }\r\n                var layout = new TreeLayoutProcessor(this.options);\r\n                var trees = [];\r\n                for (var i = 0; i < components.length; i++) {\r\n                    var component = components[i];\r\n                    var treeGraph = this.getTree(component);\r\n                    if (!treeGraph) {\r\n                        throw 'Failed to find a spanning tree for the component.';\r\n                    }\r\n                    var root = treeGraph.root;\r\n                    var tree = treeGraph.tree;\r\n                    layout.layout(tree, root);\r\n                    trees.push(tree);\r\n                }\r\n                return this.gridLayoutComponents(trees);\r\n            },\r\n            getTree: function (graph) {\r\n                var root = null;\r\n                if (this.options.roots && this.options.roots.length > 0) {\r\n                    for (var i = 0, len = graph.nodes.length; i < len; i++) {\r\n                        var node = graph.nodes[i];\r\n                        for (var j = 0; j < this.options.roots.length; j++) {\r\n                            var givenRootShape = this.options.roots[j];\r\n                            if (givenRootShape === node.associatedShape) {\r\n                                root = node;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (!root) {\r\n                    root = graph.root();\r\n                    if (!root) {\r\n                        throw 'Unable to find a root for the tree.';\r\n                    }\r\n                }\r\n                return this.getTreeForRoot(graph, root);\r\n            },\r\n            getTreeForRoot: function (graph, root) {\r\n                var tree = graph.getSpanningTree(root);\r\n                if (Utils.isUndefined(tree) || tree.isEmpty()) {\r\n                    return null;\r\n                }\r\n                return {\r\n                    tree: tree,\r\n                    root: tree.root\r\n                };\r\n            }\r\n        });\r\n        var LayeredLayout = LayoutBase.extend({\r\n            init: function (diagram) {\r\n                var that = this;\r\n                LayoutBase.fn.init.call(that);\r\n                if (Utils.isUndefined(diagram)) {\r\n                    throw 'Diagram is not specified.';\r\n                }\r\n                this.diagram = diagram;\r\n            },\r\n            layout: function (options) {\r\n                this.transferOptions(options);\r\n                var adapter = new DiagramToHyperTreeAdapter(this.diagram);\r\n                var graph = adapter.convert(options);\r\n                if (graph.isEmpty()) {\r\n                    return;\r\n                }\r\n                var components = graph.getConnectedComponents();\r\n                if (Utils.isEmpty(components)) {\r\n                    return;\r\n                }\r\n                for (var i = 0; i < components.length; i++) {\r\n                    var component = components[i];\r\n                    this.layoutGraph(component, options);\r\n                }\r\n                var finalNodeSet = this.gridLayoutComponents(components);\r\n                return new diagram.LayoutState(this.diagram, finalNodeSet);\r\n            },\r\n            _initRuntimeProperties: function () {\r\n                for (var k = 0; k < this.graph.nodes.length; k++) {\r\n                    var node = this.graph.nodes[k];\r\n                    node.layer = -1;\r\n                    node.downstreamLinkCount = 0;\r\n                    node.upstreamLinkCount = 0;\r\n                    node.isVirtual = false;\r\n                    node.uBaryCenter = 0;\r\n                    node.dBaryCenter = 0;\r\n                    node.upstreamPriority = 0;\r\n                    node.downstreamPriority = 0;\r\n                    node.gridPosition = 0;\r\n                }\r\n            },\r\n            _prepare: function (graph) {\r\n                var current = [], i, l, link;\r\n                var layerMap = new Dictionary();\r\n                var layerCount = 0;\r\n                var targetLayer, next, target;\r\n                Utils.forEach(graph.nodes, function (node) {\r\n                    if (node.incoming.length === 0) {\r\n                        layerMap.set(node, 0);\r\n                        current.push(node);\r\n                    }\r\n                });\r\n                while (current.length > 0) {\r\n                    next = current.shift();\r\n                    for (i = 0; i < next.outgoing.length; i++) {\r\n                        link = next.outgoing[i];\r\n                        target = link.target;\r\n                        if (layerMap.containsKey(target)) {\r\n                            targetLayer = Math.max(layerMap.get(next) + 1, layerMap.get(target));\r\n                        } else {\r\n                            targetLayer = layerMap.get(next) + 1;\r\n                        }\r\n                        layerMap.set(target, targetLayer);\r\n                        if (targetLayer > layerCount) {\r\n                            layerCount = targetLayer;\r\n                        }\r\n                        if (!contains(current, target)) {\r\n                            current.push(target);\r\n                        }\r\n                    }\r\n                }\r\n                var sortedNodes = layerMap.keys();\r\n                sortedNodes.sort(function (o1, o2) {\r\n                    var o1layer = layerMap.get(o1);\r\n                    var o2layer = layerMap.get(o2);\r\n                    return Utils.sign(o2layer - o1layer);\r\n                });\r\n                for (var n = 0; n < sortedNodes.length; ++n) {\r\n                    var node = sortedNodes[n];\r\n                    var minLayer = Number.MAX_VALUE;\r\n                    if (node.outgoing.length === 0) {\r\n                        continue;\r\n                    }\r\n                    for (l = 0; l < node.outgoing.length; ++l) {\r\n                        link = node.outgoing[l];\r\n                        minLayer = Math.min(minLayer, layerMap.get(link.target));\r\n                    }\r\n                    if (minLayer > 1) {\r\n                        layerMap.set(node, minLayer - 1);\r\n                    }\r\n                }\r\n                this.layers = [];\r\n                var layer;\r\n                for (i = 0; i < layerCount + 1; i++) {\r\n                    layer = [];\r\n                    layer.linksTo = {};\r\n                    this.layers.push(layer);\r\n                }\r\n                layerMap.forEach(function (node, layer) {\r\n                    node.layer = layer;\r\n                    this.layers[layer].push(node);\r\n                }, this);\r\n                for (l = 0; l < this.layers.length; l++) {\r\n                    layer = this.layers[l];\r\n                    for (i = 0; i < layer.length; i++) {\r\n                        layer[i].gridPosition = i;\r\n                    }\r\n                }\r\n            },\r\n            layoutGraph: function (graph, options) {\r\n                if (Utils.isUndefined(graph)) {\r\n                    throw 'No graph given or graph analysis of the diagram failed.';\r\n                }\r\n                if (Utils.isDefined(options)) {\r\n                    this.transferOptions(options);\r\n                }\r\n                this.graph = graph;\r\n                graph.setItemIndices();\r\n                var reversedEdges = graph.makeAcyclic();\r\n                this._initRuntimeProperties();\r\n                this._prepare(graph, options);\r\n                this._dummify();\r\n                this._optimizeCrossings();\r\n                this._swapPairs();\r\n                this.arrangeNodes();\r\n                this._moveThingsAround();\r\n                this._dedummify();\r\n                Utils.forEach(reversedEdges, function (e) {\r\n                    if (e.points) {\r\n                        e.points.reverse();\r\n                    }\r\n                });\r\n            },\r\n            setMinDist: function (m, n, minDist) {\r\n                var l = m.layer;\r\n                var i = m.layerIndex;\r\n                this.minDistances[l][i] = minDist;\r\n            },\r\n            getMinDist: function (m, n) {\r\n                var dist = 0, i1 = m.layerIndex, i2 = n.layerIndex, l = m.layer, min = Math.min(i1, i2), max = Math.max(i1, i2);\r\n                for (var k = min; k < max; ++k) {\r\n                    dist += this.minDistances[l][k];\r\n                }\r\n                return dist;\r\n            },\r\n            placeLeftToRight: function (leftClasses) {\r\n                var leftPos = new Dictionary(), n, node;\r\n                for (var c = 0; c < this.layers.length; ++c) {\r\n                    var classNodes = leftClasses[c];\r\n                    if (!classNodes) {\r\n                        continue;\r\n                    }\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        if (!leftPos.containsKey(node)) {\r\n                            this.placeLeft(node, leftPos, c);\r\n                        }\r\n                    }\r\n                    var d = Number.POSITIVE_INFINITY;\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        var rightSibling = this.rightSibling(node);\r\n                        if (rightSibling && this.nodeLeftClass.get(rightSibling) !== c) {\r\n                            d = Math.min(d, leftPos.get(rightSibling) - leftPos.get(node) - this.getMinDist(node, rightSibling));\r\n                        }\r\n                    }\r\n                    if (d === Number.POSITIVE_INFINITY) {\r\n                        var D = [];\r\n                        for (n = 0; n < classNodes.length; n++) {\r\n                            node = classNodes[n];\r\n                            var neighbors = [];\r\n                            Utils.addRange(neighbors, this.upNodes.get(node));\r\n                            Utils.addRange(neighbors, this.downNodes.get(node));\r\n                            for (var e = 0; e < neighbors.length; e++) {\r\n                                var neighbor = neighbors[e];\r\n                                if (this.nodeLeftClass.get(neighbor) < c) {\r\n                                    D.push(leftPos.get(neighbor) - leftPos.get(node));\r\n                                }\r\n                            }\r\n                        }\r\n                        D.sort();\r\n                        if (D.length === 0) {\r\n                            d = 0;\r\n                        } else if (D.length % 2 === 1) {\r\n                            d = D[this.intDiv(D.length, 2)];\r\n                        } else {\r\n                            d = (D[this.intDiv(D.length, 2) - 1] + D[this.intDiv(D.length, 2)]) / 2;\r\n                        }\r\n                    }\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        leftPos.set(node, leftPos.get(node) + d);\r\n                    }\r\n                }\r\n                return leftPos;\r\n            },\r\n            placeRightToLeft: function (rightClasses) {\r\n                var rightPos = new Dictionary(), n, node;\r\n                for (var c = 0; c < this.layers.length; ++c) {\r\n                    var classNodes = rightClasses[c];\r\n                    if (!classNodes) {\r\n                        continue;\r\n                    }\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        if (!rightPos.containsKey(node)) {\r\n                            this.placeRight(node, rightPos, c);\r\n                        }\r\n                    }\r\n                    var d = Number.NEGATIVE_INFINITY;\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        var leftSibling = this.leftSibling(node);\r\n                        if (leftSibling && this.nodeRightClass.get(leftSibling) !== c) {\r\n                            d = Math.max(d, rightPos.get(leftSibling) - rightPos.get(node) + this.getMinDist(leftSibling, node));\r\n                        }\r\n                    }\r\n                    if (d === Number.NEGATIVE_INFINITY) {\r\n                        var D = [];\r\n                        for (n = 0; n < classNodes.length; n++) {\r\n                            node = classNodes[n];\r\n                            var neighbors = [];\r\n                            Utils.addRange(neighbors, this.upNodes.get(node));\r\n                            Utils.addRange(neighbors, this.downNodes.get(node));\r\n                            for (var e = 0; e < neighbors.length; e++) {\r\n                                var neighbor = neighbors[e];\r\n                                if (this.nodeRightClass.get(neighbor) < c) {\r\n                                    D.push(rightPos.get(node) - rightPos.get(neighbor));\r\n                                }\r\n                            }\r\n                        }\r\n                        D.sort();\r\n                        if (D.length === 0) {\r\n                            d = 0;\r\n                        } else if (D.length % 2 === 1) {\r\n                            d = D[this.intDiv(D.length, 2)];\r\n                        } else {\r\n                            d = (D[this.intDiv(D.length, 2) - 1] + D[this.intDiv(D.length, 2)]) / 2;\r\n                        }\r\n                    }\r\n                    for (n = 0; n < classNodes.length; n++) {\r\n                        node = classNodes[n];\r\n                        rightPos.set(node, rightPos.get(node) + d);\r\n                    }\r\n                }\r\n                return rightPos;\r\n            },\r\n            _getLeftWing: function () {\r\n                var leftWing = { value: null };\r\n                var result = this.computeClasses(leftWing, 1);\r\n                this.nodeLeftClass = leftWing.value;\r\n                return result;\r\n            },\r\n            _getRightWing: function () {\r\n                var rightWing = { value: null };\r\n                var result = this.computeClasses(rightWing, -1);\r\n                this.nodeRightClass = rightWing.value;\r\n                return result;\r\n            },\r\n            computeClasses: function (wingPair, d) {\r\n                var currentWing = 0, wing = wingPair.value = new Dictionary();\r\n                for (var l = 0; l < this.layers.length; ++l) {\r\n                    currentWing = l;\r\n                    var layer = this.layers[l];\r\n                    for (var n = d === 1 ? 0 : layer.length - 1; 0 <= n && n < layer.length; n += d) {\r\n                        var node = layer[n];\r\n                        if (!wing.containsKey(node)) {\r\n                            wing.set(node, currentWing);\r\n                            if (node.isVirtual) {\r\n                                var ndsinl = this._nodesInLink(node);\r\n                                for (var kk = 0; kk < ndsinl.length; kk++) {\r\n                                    var vnode = ndsinl[kk];\r\n                                    wing.set(vnode, currentWing);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            currentWing = wing.get(node);\r\n                        }\r\n                    }\r\n                }\r\n                var wings = [];\r\n                for (var i = 0; i < this.layers.length; i++) {\r\n                    wings.push(null);\r\n                }\r\n                wing.forEach(function (node, classIndex) {\r\n                    if (wings[classIndex] === null) {\r\n                        wings[classIndex] = [];\r\n                    }\r\n                    wings[classIndex].push(node);\r\n                });\r\n                return wings;\r\n            },\r\n            _isVerticalLayout: function () {\r\n                return this.options.subtype.toLowerCase() === 'up' || this.options.subtype.toLowerCase() === 'down' || this.options.subtype.toLowerCase() === 'vertical';\r\n            },\r\n            _isHorizontalLayout: function () {\r\n                return this.options.subtype.toLowerCase() === 'right' || this.options.subtype.toLowerCase() === 'left' || this.options.subtype.toLowerCase() === 'horizontal';\r\n            },\r\n            _isIncreasingLayout: function () {\r\n                return this.options.subtype.toLowerCase() === 'right' || this.options.subtype.toLowerCase() === 'down';\r\n            },\r\n            _moveThingsAround: function () {\r\n                var i, l, node, layer, n, w;\r\n                for (l = 0; l < this.layers.length; ++l) {\r\n                    layer = this.layers[l];\r\n                    layer.sort(this._gridPositionComparer);\r\n                }\r\n                this.minDistances = [];\r\n                for (l = 0; l < this.layers.length; ++l) {\r\n                    layer = this.layers[l];\r\n                    this.minDistances[l] = [];\r\n                    for (n = 0; n < layer.length; ++n) {\r\n                        node = layer[n];\r\n                        node.layerIndex = n;\r\n                        this.minDistances[l][n] = this.options.nodeDistance;\r\n                        if (n < layer.length - 1) {\r\n                            if (this._isVerticalLayout()) {\r\n                                this.minDistances[l][n] += (node.width + layer[n + 1].width) / 2;\r\n                            } else {\r\n                                this.minDistances[l][n] += (node.height + layer[n + 1].height) / 2;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.downNodes = new Dictionary();\r\n                this.upNodes = new Dictionary();\r\n                Utils.forEach(this.graph.nodes, function (node) {\r\n                    this.downNodes.set(node, []);\r\n                    this.upNodes.set(node, []);\r\n                }, this);\r\n                Utils.forEach(this.graph.links, function (link) {\r\n                    var origin = link.source;\r\n                    var dest = link.target;\r\n                    var down = null, up = null;\r\n                    if (origin.layer > dest.layer) {\r\n                        down = link.source;\r\n                        up = link.target;\r\n                    } else {\r\n                        up = link.source;\r\n                        down = link.target;\r\n                    }\r\n                    this.downNodes.get(up).push(down);\r\n                    this.upNodes.get(down).push(up);\r\n                }, this);\r\n                this.downNodes.forEachValue(function (list) {\r\n                    list.sort(this._gridPositionComparer);\r\n                }, this);\r\n                this.upNodes.forEachValue(function (list) {\r\n                    list.sort(this._gridPositionComparer);\r\n                }, this);\r\n                for (l = 0; l < this.layers.length - 1; ++l) {\r\n                    layer = this.layers[l];\r\n                    for (w = 0; w < layer.length - 1; w++) {\r\n                        var currentNode = layer[w];\r\n                        if (!currentNode.isVirtual) {\r\n                            continue;\r\n                        }\r\n                        var currDown = this.downNodes.get(currentNode)[0];\r\n                        if (!currDown.isVirtual) {\r\n                            continue;\r\n                        }\r\n                        for (n = w + 1; n < layer.length; ++n) {\r\n                            node = layer[n];\r\n                            if (!node.isVirtual) {\r\n                                continue;\r\n                            }\r\n                            var downNode = this.downNodes.get(node)[0];\r\n                            if (!downNode.isVirtual) {\r\n                                continue;\r\n                            }\r\n                            if (currDown.gridPosition > downNode.gridPosition) {\r\n                                var pos = currDown.gridPosition;\r\n                                currDown.gridPosition = downNode.gridPosition;\r\n                                downNode.gridPosition = pos;\r\n                                var i1 = currDown.layerIndex;\r\n                                var i2 = downNode.layerIndex;\r\n                                this.layers[l + 1][i1] = downNode;\r\n                                this.layers[l + 1][i2] = currDown;\r\n                                currDown.layerIndex = i2;\r\n                                downNode.layerIndex = i1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var leftClasses = this._getLeftWing();\r\n                var rightClasses = this._getRightWing();\r\n                var leftPos = this.placeLeftToRight(leftClasses);\r\n                var rightPos = this.placeRightToLeft(rightClasses);\r\n                var x = new Dictionary();\r\n                Utils.forEach(this.graph.nodes, function (node) {\r\n                    x.set(node, (leftPos.get(node) + rightPos.get(node)) / 2);\r\n                });\r\n                var order = new Dictionary();\r\n                var placed = new Dictionary();\r\n                for (l = 0; l < this.layers.length; ++l) {\r\n                    layer = this.layers[l];\r\n                    var sequenceStart = -1, sequenceEnd = -1;\r\n                    for (n = 0; n < layer.length; ++n) {\r\n                        node = layer[n];\r\n                        order.set(node, 0);\r\n                        placed.set(node, false);\r\n                        if (node.isVirtual) {\r\n                            if (sequenceStart === -1) {\r\n                                sequenceStart = n;\r\n                            } else if (sequenceStart === n - 1) {\r\n                                sequenceStart = n;\r\n                            } else {\r\n                                sequenceEnd = n;\r\n                                order.set(layer[sequenceStart], 0);\r\n                                if (x.get(node) - x.get(layer[sequenceStart]) === this.getMinDist(layer[sequenceStart], node)) {\r\n                                    placed.set(layer[sequenceStart], true);\r\n                                } else {\r\n                                    placed.set(layer[sequenceStart], false);\r\n                                }\r\n                                sequenceStart = n;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var directions = [\r\n                    1,\r\n                    -1\r\n                ];\r\n                Utils.forEach(directions, function (d) {\r\n                    var start = d === 1 ? 0 : this.layers.length - 1;\r\n                    for (var l = start; 0 <= l && l < this.layers.length; l += d) {\r\n                        var layer = this.layers[l];\r\n                        var virtualStartIndex = this._firstVirtualNode(layer);\r\n                        var virtualStart = null;\r\n                        var sequence = null;\r\n                        if (virtualStartIndex !== -1) {\r\n                            virtualStart = layer[virtualStartIndex];\r\n                            sequence = [];\r\n                            for (i = 0; i < virtualStartIndex; i++) {\r\n                                sequence.push(layer[i]);\r\n                            }\r\n                        } else {\r\n                            virtualStart = null;\r\n                            sequence = layer;\r\n                        }\r\n                        if (sequence.length > 0) {\r\n                            this._sequencer(x, null, virtualStart, d, sequence);\r\n                            for (i = 0; i < sequence.length - 1; ++i) {\r\n                                this.setMinDist(sequence[i], sequence[i + 1], x.get(sequence[i + 1]) - x.get(sequence[i]));\r\n                            }\r\n                            if (virtualStart) {\r\n                                this.setMinDist(sequence[sequence.length - 1], virtualStart, x.get(virtualStart) - x.get(sequence[sequence.length - 1]));\r\n                            }\r\n                        }\r\n                        while (virtualStart) {\r\n                            var virtualEnd = this.nextVirtualNode(layer, virtualStart);\r\n                            if (!virtualEnd) {\r\n                                virtualStartIndex = virtualStart.layerIndex;\r\n                                sequence = [];\r\n                                for (i = virtualStartIndex + 1; i < layer.length; i++) {\r\n                                    sequence.push(layer[i]);\r\n                                }\r\n                                if (sequence.length > 0) {\r\n                                    this._sequencer(x, virtualStart, null, d, sequence);\r\n                                    for (i = 0; i < sequence.length - 1; ++i) {\r\n                                        this.setMinDist(sequence[i], sequence[i + 1], x.get(sequence[i + 1]) - x.get(sequence[i]));\r\n                                    }\r\n                                    this.setMinDist(virtualStart, sequence[0], x.get(sequence[0]) - x.get(virtualStart));\r\n                                }\r\n                            } else if (order.get(virtualStart) === d) {\r\n                                virtualStartIndex = virtualStart.layerIndex;\r\n                                var virtualEndIndex = virtualEnd.layerIndex;\r\n                                sequence = [];\r\n                                for (i = virtualStartIndex + 1; i < virtualEndIndex; i++) {\r\n                                    sequence.push(layer[i]);\r\n                                }\r\n                                if (sequence.length > 0) {\r\n                                    this._sequencer(x, virtualStart, virtualEnd, d, sequence);\r\n                                }\r\n                                placed.set(virtualStart, true);\r\n                            }\r\n                            virtualStart = virtualEnd;\r\n                        }\r\n                        this.adjustDirections(l, d, order, placed);\r\n                    }\r\n                }, this);\r\n                var fromLayerIndex = this._isIncreasingLayout() ? 0 : this.layers.length - 1;\r\n                var reachedFinalLayerIndex = function (k, ctx) {\r\n                    if (ctx._isIncreasingLayout()) {\r\n                        return k < ctx.layers.length;\r\n                    } else {\r\n                        return k >= 0;\r\n                    }\r\n                };\r\n                var layerIncrement = this._isIncreasingLayout() ? +1 : -1, offset = 0;\r\n                function maximumHeight(layer, ctx) {\r\n                    var height = Number.MIN_VALUE;\r\n                    for (var n = 0; n < layer.length; ++n) {\r\n                        var node = layer[n];\r\n                        if (ctx._isVerticalLayout()) {\r\n                            height = Math.max(height, node.height);\r\n                        } else {\r\n                            height = Math.max(height, node.width);\r\n                        }\r\n                    }\r\n                    return height;\r\n                }\r\n                for (i = fromLayerIndex; reachedFinalLayerIndex(i, this); i += layerIncrement) {\r\n                    layer = this.layers[i];\r\n                    var height = maximumHeight(layer, this);\r\n                    for (n = 0; n < layer.length; ++n) {\r\n                        node = layer[n];\r\n                        if (this._isVerticalLayout()) {\r\n                            node.x = x.get(node);\r\n                            node.y = offset + height / 2;\r\n                        } else {\r\n                            node.x = offset + height / 2;\r\n                            node.y = x.get(node);\r\n                        }\r\n                    }\r\n                    offset += this.options.layerSeparation + height;\r\n                }\r\n            },\r\n            adjustDirections: function (l, d, order, placed) {\r\n                if (l + d < 0 || l + d >= this.layers.length) {\r\n                    return;\r\n                }\r\n                var prevBridge = null, prevBridgeTarget = null;\r\n                var layer = this.layers[l + d];\r\n                for (var n = 0; n < layer.length; ++n) {\r\n                    var nextBridge = layer[n];\r\n                    if (nextBridge.isVirtual) {\r\n                        var nextBridgeTarget = this.getNeighborOnLayer(nextBridge, l);\r\n                        if (nextBridgeTarget.isVirtual) {\r\n                            if (prevBridge) {\r\n                                var p = placed.get(prevBridgeTarget);\r\n                                var clayer = this.layers[l];\r\n                                var i1 = prevBridgeTarget.layerIndex;\r\n                                var i2 = nextBridgeTarget.layerIndex;\r\n                                for (var i = i1 + 1; i < i2; ++i) {\r\n                                    if (clayer[i].isVirtual) {\r\n                                        p = p && placed.get(clayer[i]);\r\n                                    }\r\n                                }\r\n                                if (p) {\r\n                                    order.set(prevBridge, d);\r\n                                    var j1 = prevBridge.layerIndex;\r\n                                    var j2 = nextBridge.layerIndex;\r\n                                    for (var j = j1 + 1; j < j2; ++j) {\r\n                                        if (layer[j].isVirtual) {\r\n                                            order.set(layer[j], d);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            prevBridge = nextBridge;\r\n                            prevBridgeTarget = nextBridgeTarget;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            getNeighborOnLayer: function (node, l) {\r\n                var neighbor = this.upNodes.get(node)[0];\r\n                if (neighbor.layer === l) {\r\n                    return neighbor;\r\n                }\r\n                neighbor = this.downNodes.get(node)[0];\r\n                if (neighbor.layer === l) {\r\n                    return neighbor;\r\n                }\r\n                return null;\r\n            },\r\n            _sequencer: function (x, virtualStart, virtualEnd, dir, sequence) {\r\n                if (sequence.length === 1) {\r\n                    this._sequenceSingle(x, virtualStart, virtualEnd, dir, sequence[0]);\r\n                }\r\n                if (sequence.length > 1) {\r\n                    var r = sequence.length, t = this.intDiv(r, 2);\r\n                    this._sequencer(x, virtualStart, virtualEnd, dir, sequence.slice(0, t));\r\n                    this._sequencer(x, virtualStart, virtualEnd, dir, sequence.slice(t));\r\n                    this.combineSequences(x, virtualStart, virtualEnd, dir, sequence);\r\n                }\r\n            },\r\n            _sequenceSingle: function (x, virtualStart, virtualEnd, dir, node) {\r\n                var neighbors = dir === -1 ? this.downNodes.get(node) : this.upNodes.get(node);\r\n                var n = neighbors.length;\r\n                if (n !== 0) {\r\n                    if (n % 2 === 1) {\r\n                        x.set(node, x.get(neighbors[this.intDiv(n, 2)]));\r\n                    } else {\r\n                        x.set(node, (x.get(neighbors[this.intDiv(n, 2) - 1]) + x.get(neighbors[this.intDiv(n, 2)])) / 2);\r\n                    }\r\n                    if (virtualStart) {\r\n                        x.set(node, Math.max(x.get(node), x.get(virtualStart) + this.getMinDist(virtualStart, node)));\r\n                    }\r\n                    if (virtualEnd) {\r\n                        x.set(node, Math.min(x.get(node), x.get(virtualEnd) - this.getMinDist(node, virtualEnd)));\r\n                    }\r\n                }\r\n            },\r\n            combineSequences: function (x, virtualStart, virtualEnd, dir, sequence) {\r\n                var r = sequence.length, t = this.intDiv(r, 2);\r\n                var leftHeap = [], i, c, n, neighbors, neighbor, pair;\r\n                for (i = 0; i < t; ++i) {\r\n                    c = 0;\r\n                    neighbors = dir === -1 ? this.downNodes.get(sequence[i]) : this.upNodes.get(sequence[i]);\r\n                    for (n = 0; n < neighbors.length; ++n) {\r\n                        neighbor = neighbors[n];\r\n                        if (x.get(neighbor) >= x.get(sequence[i])) {\r\n                            c++;\r\n                        } else {\r\n                            c--;\r\n                            leftHeap.push({\r\n                                k: x.get(neighbor) + this.getMinDist(sequence[i], sequence[t - 1]),\r\n                                v: 2\r\n                            });\r\n                        }\r\n                    }\r\n                    leftHeap.push({\r\n                        k: x.get(sequence[i]) + this.getMinDist(sequence[i], sequence[t - 1]),\r\n                        v: c\r\n                    });\r\n                }\r\n                if (virtualStart) {\r\n                    leftHeap.push({\r\n                        k: x.get(virtualStart) + this.getMinDist(virtualStart, sequence[t - 1]),\r\n                        v: Number.MAX_VALUE\r\n                    });\r\n                }\r\n                leftHeap.sort(this._positionDescendingComparer);\r\n                var rightHeap = [];\r\n                for (i = t; i < r; ++i) {\r\n                    c = 0;\r\n                    neighbors = dir === -1 ? this.downNodes.get(sequence[i]) : this.upNodes.get(sequence[i]);\r\n                    for (n = 0; n < neighbors.length; ++n) {\r\n                        neighbor = neighbors[n];\r\n                        if (x.get(neighbor) <= x.get(sequence[i])) {\r\n                            c++;\r\n                        } else {\r\n                            c--;\r\n                            rightHeap.push({\r\n                                k: x.get(neighbor) - this.getMinDist(sequence[i], sequence[t]),\r\n                                v: 2\r\n                            });\r\n                        }\r\n                    }\r\n                    rightHeap.push({\r\n                        k: x.get(sequence[i]) - this.getMinDist(sequence[i], sequence[t]),\r\n                        v: c\r\n                    });\r\n                }\r\n                if (virtualEnd) {\r\n                    rightHeap.push({\r\n                        k: x.get(virtualEnd) - this.getMinDist(virtualEnd, sequence[t]),\r\n                        v: Number.MAX_VALUE\r\n                    });\r\n                }\r\n                rightHeap.sort(this._positionAscendingComparer);\r\n                var leftRes = 0, rightRes = 0;\r\n                var m = this.getMinDist(sequence[t - 1], sequence[t]);\r\n                while (x.get(sequence[t]) - x.get(sequence[t - 1]) < m) {\r\n                    if (leftRes < rightRes) {\r\n                        if (leftHeap.length === 0) {\r\n                            x.set(sequence[t - 1], x.get(sequence[t]) - m);\r\n                            break;\r\n                        } else {\r\n                            pair = leftHeap.shift();\r\n                            leftRes = leftRes + pair.v;\r\n                            x.set(sequence[t - 1], pair.k);\r\n                            x.set(sequence[t - 1], Math.max(x.get(sequence[t - 1]), x.get(sequence[t]) - m));\r\n                        }\r\n                    } else {\r\n                        if (rightHeap.length === 0) {\r\n                            x.set(sequence[t], x.get(sequence[t - 1]) + m);\r\n                            break;\r\n                        } else {\r\n                            pair = rightHeap.shift();\r\n                            rightRes = rightRes + pair.v;\r\n                            x.set(sequence[t], pair.k);\r\n                            x.set(sequence[t], Math.min(x.get(sequence[t]), x.get(sequence[t - 1]) + m));\r\n                        }\r\n                    }\r\n                }\r\n                for (i = t - 2; i >= 0; i--) {\r\n                    x.set(sequence[i], Math.min(x.get(sequence[i]), x.get(sequence[t - 1]) - this.getMinDist(sequence[i], sequence[t - 1])));\r\n                }\r\n                for (i = t + 1; i < r; i++) {\r\n                    x.set(sequence[i], Math.max(x.get(sequence[i]), x.get(sequence[t]) + this.getMinDist(sequence[i], sequence[t])));\r\n                }\r\n            },\r\n            placeLeft: function (node, leftPos, leftClass) {\r\n                var pos = Number.NEGATIVE_INFINITY;\r\n                Utils.forEach(this._getComposite(node), function (v) {\r\n                    var leftSibling = this.leftSibling(v);\r\n                    if (leftSibling && this.nodeLeftClass.get(leftSibling) === this.nodeLeftClass.get(v)) {\r\n                        if (!leftPos.containsKey(leftSibling)) {\r\n                            this.placeLeft(leftSibling, leftPos, leftClass);\r\n                        }\r\n                        pos = Math.max(pos, leftPos.get(leftSibling) + this.getMinDist(leftSibling, v));\r\n                    }\r\n                }, this);\r\n                if (pos === Number.NEGATIVE_INFINITY) {\r\n                    pos = 0;\r\n                }\r\n                Utils.forEach(this._getComposite(node), function (v) {\r\n                    leftPos.set(v, pos);\r\n                });\r\n            },\r\n            placeRight: function (node, rightPos, rightClass) {\r\n                var pos = Number.POSITIVE_INFINITY;\r\n                Utils.forEach(this._getComposite(node), function (v) {\r\n                    var rightSibling = this.rightSibling(v);\r\n                    if (rightSibling && this.nodeRightClass.get(rightSibling) === this.nodeRightClass.get(v)) {\r\n                        if (!rightPos.containsKey(rightSibling)) {\r\n                            this.placeRight(rightSibling, rightPos, rightClass);\r\n                        }\r\n                        pos = Math.min(pos, rightPos.get(rightSibling) - this.getMinDist(v, rightSibling));\r\n                    }\r\n                }, this);\r\n                if (pos === Number.POSITIVE_INFINITY) {\r\n                    pos = 0;\r\n                }\r\n                Utils.forEach(this._getComposite(node), function (v) {\r\n                    rightPos.set(v, pos);\r\n                });\r\n            },\r\n            leftSibling: function (node) {\r\n                var layer = this.layers[node.layer], layerIndex = node.layerIndex;\r\n                return layerIndex === 0 ? null : layer[layerIndex - 1];\r\n            },\r\n            rightSibling: function (node) {\r\n                var layer = this.layers[node.layer];\r\n                var layerIndex = node.layerIndex;\r\n                return layerIndex === layer.length - 1 ? null : layer[layerIndex + 1];\r\n            },\r\n            _getComposite: function (node) {\r\n                return node.isVirtual ? this._nodesInLink(node) : [node];\r\n            },\r\n            arrangeNodes: function () {\r\n                var i, l, ni, layer, node;\r\n                for (l = 0; l < this.layers.length; l++) {\r\n                    layer = this.layers[l];\r\n                    for (ni = 0; ni < layer.length; ni++) {\r\n                        node = layer[ni];\r\n                        node.upstreamPriority = node.upstreamLinkCount;\r\n                        node.downstreamPriority = node.downstreamLinkCount;\r\n                    }\r\n                }\r\n                var maxLayoutIterations = 2;\r\n                for (var it = 0; it < maxLayoutIterations; it++) {\r\n                    for (i = this.layers.length - 1; i >= 1; i--) {\r\n                        this.layoutLayer(false, i);\r\n                    }\r\n                    for (i = 0; i < this.layers.length - 1; i++) {\r\n                        this.layoutLayer(true, i);\r\n                    }\r\n                }\r\n                var gridPos = Number.MAX_VALUE;\r\n                for (l = 0; l < this.layers.length; l++) {\r\n                    layer = this.layers[l];\r\n                    for (ni = 0; ni < layer.length; ni++) {\r\n                        node = layer[ni];\r\n                        gridPos = Math.min(gridPos, node.gridPosition);\r\n                    }\r\n                }\r\n                if (gridPos < 0) {\r\n                    for (l = 0; l < this.layers.length; l++) {\r\n                        layer = this.layers[l];\r\n                        for (ni = 0; ni < layer.length; ni++) {\r\n                            node = layer[ni];\r\n                            node.gridPosition = node.gridPosition - gridPos;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            layoutLayer: function (down, layer) {\r\n                var iconsidered;\r\n                var considered;\r\n                if (down) {\r\n                    considered = this.layers[iconsidered = layer + 1];\r\n                } else {\r\n                    considered = this.layers[iconsidered = layer - 1];\r\n                }\r\n                var sorted = [];\r\n                for (var n = 0; n < considered.length; n++) {\r\n                    sorted.push(considered[n]);\r\n                }\r\n                sorted.sort(function (n1, n2) {\r\n                    var n1Priority = (n1.upstreamPriority + n1.downstreamPriority) / 2;\r\n                    var n2Priority = (n2.upstreamPriority + n2.downstreamPriority) / 2;\r\n                    if (Math.abs(n1Priority - n2Priority) < 0.0001) {\r\n                        return 0;\r\n                    }\r\n                    if (n1Priority < n2Priority) {\r\n                        return 1;\r\n                    }\r\n                    return -1;\r\n                });\r\n                Utils.forEach(sorted, function (node) {\r\n                    var nodeGridPos = node.gridPosition;\r\n                    var nodeBaryCenter = this.calcBaryCenter(node);\r\n                    var nodePriority = (node.upstreamPriority + node.downstreamPriority) / 2;\r\n                    if (Math.abs(nodeGridPos - nodeBaryCenter) < 0.0001) {\r\n                        return;\r\n                    }\r\n                    if (Math.abs(nodeGridPos - nodeBaryCenter) < 0.25 + 0.0001) {\r\n                        return;\r\n                    }\r\n                    if (nodeGridPos < nodeBaryCenter) {\r\n                        while (nodeGridPos < nodeBaryCenter) {\r\n                            if (!this.moveRight(node, considered, nodePriority)) {\r\n                                break;\r\n                            }\r\n                            nodeGridPos = node.gridPosition;\r\n                        }\r\n                    } else {\r\n                        while (nodeGridPos > nodeBaryCenter) {\r\n                            if (!this.moveLeft(node, considered, nodePriority)) {\r\n                                break;\r\n                            }\r\n                            nodeGridPos = node.gridPosition;\r\n                        }\r\n                    }\r\n                }, this);\r\n                if (iconsidered > 0) {\r\n                    this.calcDownData(iconsidered - 1);\r\n                }\r\n                if (iconsidered < this.layers.length - 1) {\r\n                    this.calcUpData(iconsidered + 1);\r\n                }\r\n            },\r\n            moveRight: function (node, layer, priority) {\r\n                var index = Utils.indexOf(layer, node);\r\n                if (index === layer.length - 1) {\r\n                    node.gridPosition = node.gridPosition + 0.5;\r\n                    return true;\r\n                }\r\n                var rightNode = layer[index + 1];\r\n                var rightNodePriority = (rightNode.upstreamPriority + rightNode.downstreamPriority) / 2;\r\n                if (rightNode.gridPosition > node.gridPosition + 1) {\r\n                    node.gridPosition = node.gridPosition + 0.5;\r\n                    return true;\r\n                }\r\n                if (rightNodePriority > priority || Math.abs(rightNodePriority - priority) < 0.0001) {\r\n                    return false;\r\n                }\r\n                if (this.moveRight(rightNode, layer, priority)) {\r\n                    node.gridPosition = node.gridPosition + 0.5;\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            moveLeft: function (node, layer, priority) {\r\n                var index = Utils.indexOf(layer, node);\r\n                if (index === 0) {\r\n                    node.gridPosition = node.gridPosition - 0.5;\r\n                    return true;\r\n                }\r\n                var leftNode = layer[index - 1];\r\n                var leftNodePriority = (leftNode.upstreamPriority + leftNode.downstreamPriority) / 2;\r\n                if (leftNode.gridPosition < node.gridPosition - 1) {\r\n                    node.gridPosition = node.gridPosition - 0.5;\r\n                    return true;\r\n                }\r\n                if (leftNodePriority > priority || Math.abs(leftNodePriority - priority) < 0.0001) {\r\n                    return false;\r\n                }\r\n                if (this.moveLeft(leftNode, layer, priority)) {\r\n                    node.gridPosition = node.gridPosition - 0.5;\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            mapVirtualNode: function (node, link) {\r\n                this.nodeToLinkMap.set(node, link);\r\n                if (!this.linkToNodeMap.containsKey(link)) {\r\n                    this.linkToNodeMap.set(link, []);\r\n                }\r\n                this.linkToNodeMap.get(link).push(node);\r\n            },\r\n            _nodesInLink: function (node) {\r\n                return this.linkToNodeMap.get(this.nodeToLinkMap.get(node));\r\n            },\r\n            _dummify: function () {\r\n                this.linkToNodeMap = new Dictionary();\r\n                this.nodeToLinkMap = new Dictionary();\r\n                var layer, pos, newNode, node, r, newLink, i, l, links = this.graph.links.slice(0);\r\n                var layers = this.layers;\r\n                var addLinkBetweenLayers = function (upLayer, downLayer, link) {\r\n                    layers[upLayer].linksTo[downLayer] = layers[upLayer].linksTo[downLayer] || [];\r\n                    layers[upLayer].linksTo[downLayer].push(link);\r\n                };\r\n                for (l = 0; l < links.length; l++) {\r\n                    var link = links[l];\r\n                    var o = link.source;\r\n                    var d = link.target;\r\n                    var oLayer = o.layer;\r\n                    var dLayer = d.layer;\r\n                    var oPos = o.gridPosition;\r\n                    var dPos = d.gridPosition;\r\n                    var step = (dPos - oPos) / Math.abs(dLayer - oLayer);\r\n                    var p = o;\r\n                    if (oLayer - dLayer > 1) {\r\n                        for (i = oLayer - 1; i > dLayer; i--) {\r\n                            newNode = new Node();\r\n                            newNode.x = o.x;\r\n                            newNode.y = o.y;\r\n                            newNode.width = o.width / 100;\r\n                            newNode.height = o.height / 100;\r\n                            layer = layers[i];\r\n                            pos = (i - dLayer) * step + oPos;\r\n                            if (pos > layer.length) {\r\n                                pos = layer.length;\r\n                            }\r\n                            if (oPos >= layers[oLayer].length - 1 && dPos >= layers[dLayer].length - 1) {\r\n                                pos = layer.length;\r\n                            } else if (oPos === 0 && dPos === 0) {\r\n                                pos = 0;\r\n                            }\r\n                            newNode.layer = i;\r\n                            newNode.uBaryCenter = 0;\r\n                            newNode.dBaryCenter = 0;\r\n                            newNode.upstreamLinkCount = 0;\r\n                            newNode.downstreamLinkCount = 0;\r\n                            newNode.gridPosition = pos;\r\n                            newNode.isVirtual = true;\r\n                            Utils.insert(layer, newNode, pos);\r\n                            for (r = pos + 1; r < layer.length; r++) {\r\n                                node = layer[r];\r\n                                node.gridPosition = node.gridPosition + 1;\r\n                            }\r\n                            newLink = new Link(p, newNode);\r\n                            newLink.depthOfDumminess = 0;\r\n                            addLinkBetweenLayers(i - 1, i, newLink);\r\n                            p = newNode;\r\n                            this.graph._addNode(newNode);\r\n                            this.graph.addLink(newLink);\r\n                            newNode.index = this.graph.nodes.length - 1;\r\n                            this.mapVirtualNode(newNode, link);\r\n                        }\r\n                        addLinkBetweenLayers(dLayer - 1, dLayer, newLink);\r\n                        link.changeSource(p);\r\n                        link.depthOfDumminess = oLayer - dLayer - 1;\r\n                    } else if (oLayer - dLayer < -1) {\r\n                        for (i = oLayer + 1; i < dLayer; i++) {\r\n                            newNode = new Node();\r\n                            newNode.x = o.x;\r\n                            newNode.y = o.y;\r\n                            newNode.width = o.width / 100;\r\n                            newNode.height = o.height / 100;\r\n                            layer = layers[i];\r\n                            pos = (i - oLayer) * step + oPos;\r\n                            if (pos > layer.length) {\r\n                                pos = layer.length;\r\n                            }\r\n                            if (oPos >= layers[oLayer].length - 1 && dPos >= layers[dLayer].length - 1) {\r\n                                pos = layer.length;\r\n                            } else if (oPos === 0 && dPos === 0) {\r\n                                pos = 0;\r\n                            }\r\n                            newNode.layer = i;\r\n                            newNode.uBaryCenter = 0;\r\n                            newNode.dBaryCenter = 0;\r\n                            newNode.upstreamLinkCount = 0;\r\n                            newNode.downstreamLinkCount = 0;\r\n                            newNode.gridPosition = pos;\r\n                            newNode.isVirtual = true;\r\n                            pos &= pos;\r\n                            Utils.insert(layer, newNode, pos);\r\n                            for (r = pos + 1; r < layer.length; r++) {\r\n                                node = layer[r];\r\n                                node.gridPosition = node.gridPosition + 1;\r\n                            }\r\n                            newLink = new Link(p, newNode);\r\n                            newLink.depthOfDumminess = 0;\r\n                            addLinkBetweenLayers(i - 1, i, newLink);\r\n                            p = newNode;\r\n                            this.graph._addNode(newNode);\r\n                            this.graph.addLink(newLink);\r\n                            newNode.index = this.graph.nodes.length - 1;\r\n                            this.mapVirtualNode(newNode, link);\r\n                        }\r\n                        addLinkBetweenLayers(dLayer - 1, dLayer, link);\r\n                        link.changeSource(p);\r\n                        link.depthOfDumminess = dLayer - oLayer - 1;\r\n                    } else {\r\n                        addLinkBetweenLayers(oLayer, dLayer, link);\r\n                    }\r\n                }\r\n            },\r\n            _dedummify: function () {\r\n                var dedum = true;\r\n                while (dedum) {\r\n                    dedum = false;\r\n                    for (var l = 0; l < this.graph.links.length; l++) {\r\n                        var link = this.graph.links[l];\r\n                        if (!link.depthOfDumminess) {\r\n                            continue;\r\n                        }\r\n                        var points = [];\r\n                        points.unshift({\r\n                            x: link.target.x,\r\n                            y: link.target.y\r\n                        });\r\n                        points.unshift({\r\n                            x: link.source.x,\r\n                            y: link.source.y\r\n                        });\r\n                        var temp = link;\r\n                        var depthOfDumminess = link.depthOfDumminess;\r\n                        for (var d = 0; d < depthOfDumminess; d++) {\r\n                            var node = temp.source;\r\n                            var prevLink = node.incoming[0];\r\n                            points.unshift({\r\n                                x: prevLink.source.x,\r\n                                y: prevLink.source.y\r\n                            });\r\n                            temp = prevLink;\r\n                        }\r\n                        link.changeSource(temp.source);\r\n                        link.depthOfDumminess = 0;\r\n                        if (points.length > 2) {\r\n                            points.splice(0, 1);\r\n                            points.splice(points.length - 1);\r\n                            link.points = points;\r\n                        } else {\r\n                            link.points = [];\r\n                        }\r\n                        dedum = true;\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            _optimizeCrossings: function () {\r\n                var moves = -1, i;\r\n                var maxIterations = 3;\r\n                var iter = 0;\r\n                while (moves !== 0) {\r\n                    if (iter++ > maxIterations) {\r\n                        break;\r\n                    }\r\n                    moves = 0;\r\n                    for (i = this.layers.length - 1; i >= 1; i--) {\r\n                        moves += this.optimizeLayerCrossings(false, i);\r\n                    }\r\n                    for (i = 0; i < this.layers.length - 1; i++) {\r\n                        moves += this.optimizeLayerCrossings(true, i);\r\n                    }\r\n                }\r\n            },\r\n            calcUpData: function (layer) {\r\n                if (layer === 0) {\r\n                    return;\r\n                }\r\n                var considered = this.layers[layer], i, l, link;\r\n                var upLayer = new Set();\r\n                var temp = this.layers[layer - 1];\r\n                for (i = 0; i < temp.length; i++) {\r\n                    upLayer.add(temp[i]);\r\n                }\r\n                for (i = 0; i < considered.length; i++) {\r\n                    var node = considered[i];\r\n                    var sum = 0;\r\n                    var total = 0;\r\n                    for (l = 0; l < node.incoming.length; l++) {\r\n                        link = node.incoming[l];\r\n                        if (upLayer.contains(link.source)) {\r\n                            total++;\r\n                            sum += link.source.gridPosition;\r\n                        }\r\n                    }\r\n                    for (l = 0; l < node.outgoing.length; l++) {\r\n                        link = node.outgoing[l];\r\n                        if (upLayer.contains(link.target)) {\r\n                            total++;\r\n                            sum += link.target.gridPosition;\r\n                        }\r\n                    }\r\n                    if (total > 0) {\r\n                        node.uBaryCenter = sum / total;\r\n                        node.upstreamLinkCount = total;\r\n                    } else {\r\n                        node.uBaryCenter = i;\r\n                        node.upstreamLinkCount = 0;\r\n                    }\r\n                }\r\n            },\r\n            calcDownData: function (layer) {\r\n                if (layer === this.layers.length - 1) {\r\n                    return;\r\n                }\r\n                var considered = this.layers[layer], i, l, link;\r\n                var downLayer = new Set();\r\n                var temp = this.layers[layer + 1];\r\n                for (i = 0; i < temp.length; i++) {\r\n                    downLayer.add(temp[i]);\r\n                }\r\n                for (i = 0; i < considered.length; i++) {\r\n                    var node = considered[i];\r\n                    var sum = 0;\r\n                    var total = 0;\r\n                    for (l = 0; l < node.incoming.length; l++) {\r\n                        link = node.incoming[l];\r\n                        if (downLayer.contains(link.source)) {\r\n                            total++;\r\n                            sum += link.source.gridPosition;\r\n                        }\r\n                    }\r\n                    for (l = 0; l < node.outgoing.length; l++) {\r\n                        link = node.outgoing[l];\r\n                        if (downLayer.contains(link.target)) {\r\n                            total++;\r\n                            sum += link.target.gridPosition;\r\n                        }\r\n                    }\r\n                    if (total > 0) {\r\n                        node.dBaryCenter = sum / total;\r\n                        node.downstreamLinkCount = total;\r\n                    } else {\r\n                        node.dBaryCenter = i;\r\n                        node.downstreamLinkCount = 0;\r\n                    }\r\n                }\r\n            },\r\n            optimizeLayerCrossings: function (down, layer) {\r\n                var iconsidered;\r\n                var considered;\r\n                if (down) {\r\n                    considered = this.layers[iconsidered = layer + 1];\r\n                } else {\r\n                    considered = this.layers[iconsidered = layer - 1];\r\n                }\r\n                var presorted = considered.slice(0);\r\n                if (down) {\r\n                    this.calcUpData(iconsidered);\r\n                } else {\r\n                    this.calcDownData(iconsidered);\r\n                }\r\n                var that = this;\r\n                considered.sort(function (n1, n2) {\r\n                    var n1BaryCenter = that.calcBaryCenter(n1), n2BaryCenter = that.calcBaryCenter(n2);\r\n                    if (Math.abs(n1BaryCenter - n2BaryCenter) < 0.0001) {\r\n                        if (n1.degree() === n2.degree()) {\r\n                            return that.compareByIndex(n1, n2);\r\n                        } else if (n1.degree() < n2.degree()) {\r\n                            return 1;\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    var compareValue = (n2BaryCenter - n1BaryCenter) * 1000;\r\n                    if (compareValue > 0) {\r\n                        return -1;\r\n                    } else if (compareValue < 0) {\r\n                        return 1;\r\n                    }\r\n                    return that.compareByIndex(n1, n2);\r\n                });\r\n                var i, moves = 0;\r\n                for (i = 0; i < considered.length; i++) {\r\n                    if (considered[i] !== presorted[i]) {\r\n                        moves++;\r\n                    }\r\n                }\r\n                if (moves > 0) {\r\n                    var inode = 0;\r\n                    for (i = 0; i < considered.length; i++) {\r\n                        var node = considered[i];\r\n                        node.gridPosition = inode++;\r\n                    }\r\n                }\r\n                return moves;\r\n            },\r\n            _swapPairs: function () {\r\n                var maxIterations = this.options.layeredIterations;\r\n                var iter = 0;\r\n                while (true) {\r\n                    if (iter++ > maxIterations) {\r\n                        break;\r\n                    }\r\n                    var downwards = iter % 4 <= 1;\r\n                    var secondPass = iter % 4 === 1;\r\n                    for (var l = downwards ? 0 : this.layers.length - 1; downwards ? l <= this.layers.length - 1 : l >= 0; l += downwards ? 1 : -1) {\r\n                        var layer = this.layers[l];\r\n                        var hasSwapped = false;\r\n                        var calcCrossings = true;\r\n                        var memCrossings = 0;\r\n                        for (var n = 0; n < layer.length - 1; n++) {\r\n                            var up = 0;\r\n                            var down = 0;\r\n                            var crossBefore = 0;\r\n                            if (calcCrossings) {\r\n                                if (l !== 0) {\r\n                                    up = this.countLinksCrossingBetweenTwoLayers(l - 1, l);\r\n                                }\r\n                                if (l !== this.layers.length - 1) {\r\n                                    down = this.countLinksCrossingBetweenTwoLayers(l, l + 1);\r\n                                }\r\n                                if (downwards) {\r\n                                    up *= 2;\r\n                                } else {\r\n                                    down *= 2;\r\n                                }\r\n                                crossBefore = up + down;\r\n                            } else {\r\n                                crossBefore = memCrossings;\r\n                            }\r\n                            if (crossBefore === 0) {\r\n                                continue;\r\n                            }\r\n                            var node1 = layer[n];\r\n                            var node2 = layer[n + 1];\r\n                            var node1GridPos = node1.gridPosition;\r\n                            var node2GridPos = node2.gridPosition;\r\n                            layer[n] = node2;\r\n                            layer[n + 1] = node1;\r\n                            node1.gridPosition = node2GridPos;\r\n                            node2.gridPosition = node1GridPos;\r\n                            up = 0;\r\n                            if (l !== 0) {\r\n                                up = this.countLinksCrossingBetweenTwoLayers(l - 1, l);\r\n                            }\r\n                            down = 0;\r\n                            if (l !== this.layers.length - 1) {\r\n                                down = this.countLinksCrossingBetweenTwoLayers(l, l + 1);\r\n                            }\r\n                            if (downwards) {\r\n                                up *= 2;\r\n                            } else {\r\n                                down *= 2;\r\n                            }\r\n                            var crossAfter = up + down;\r\n                            var revert = false;\r\n                            if (secondPass) {\r\n                                revert = crossAfter >= crossBefore;\r\n                            } else {\r\n                                revert = crossAfter > crossBefore;\r\n                            }\r\n                            if (revert) {\r\n                                node1 = layer[n];\r\n                                node2 = layer[n + 1];\r\n                                node1GridPos = node1.gridPosition;\r\n                                node2GridPos = node2.gridPosition;\r\n                                layer[n] = node2;\r\n                                layer[n + 1] = node1;\r\n                                node1.gridPosition = node2GridPos;\r\n                                node2.gridPosition = node1GridPos;\r\n                                memCrossings = crossBefore;\r\n                                calcCrossings = false;\r\n                            } else {\r\n                                hasSwapped = true;\r\n                                calcCrossings = true;\r\n                            }\r\n                        }\r\n                        if (hasSwapped) {\r\n                            if (l !== this.layers.length - 1) {\r\n                                this.calcUpData(l + 1);\r\n                            }\r\n                            if (l !== 0) {\r\n                                this.calcDownData(l - 1);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            countLinksCrossingBetweenTwoLayers: function (ulayer, dlayer) {\r\n                var links = this.layers[ulayer].linksTo[dlayer];\r\n                var link1, link2, n11, n12, n21, n22, l1, l2;\r\n                var crossings = 0;\r\n                var length = links.length;\r\n                for (l1 = 0; l1 < length; l1++) {\r\n                    link1 = links[l1];\r\n                    for (l2 = l1 + 1; l2 < length; l2++) {\r\n                        link2 = links[l2];\r\n                        if (link1.target.layer === dlayer) {\r\n                            n11 = link1.source;\r\n                            n12 = link1.target;\r\n                        } else {\r\n                            n11 = link1.target;\r\n                            n12 = link1.source;\r\n                        }\r\n                        if (link2.target.layer === dlayer) {\r\n                            n21 = link2.source;\r\n                            n22 = link2.target;\r\n                        } else {\r\n                            n21 = link2.target;\r\n                            n22 = link2.source;\r\n                        }\r\n                        var n11gp = n11.gridPosition;\r\n                        var n12gp = n12.gridPosition;\r\n                        var n21gp = n21.gridPosition;\r\n                        var n22gp = n22.gridPosition;\r\n                        if ((n11gp - n21gp) * (n12gp - n22gp) < 0) {\r\n                            crossings++;\r\n                        }\r\n                    }\r\n                }\r\n                return crossings;\r\n            },\r\n            calcBaryCenter: function (node) {\r\n                var upstreamLinkCount = node.upstreamLinkCount;\r\n                var downstreamLinkCount = node.downstreamLinkCount;\r\n                var uBaryCenter = node.uBaryCenter;\r\n                var dBaryCenter = node.dBaryCenter;\r\n                if (upstreamLinkCount > 0 && downstreamLinkCount > 0) {\r\n                    return (uBaryCenter + dBaryCenter) / 2;\r\n                }\r\n                if (upstreamLinkCount > 0) {\r\n                    return uBaryCenter;\r\n                }\r\n                if (downstreamLinkCount > 0) {\r\n                    return dBaryCenter;\r\n                }\r\n                return 0;\r\n            },\r\n            _gridPositionComparer: function (x, y) {\r\n                if (x.gridPosition < y.gridPosition) {\r\n                    return -1;\r\n                }\r\n                if (x.gridPosition > y.gridPosition) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            },\r\n            _positionAscendingComparer: function (x, y) {\r\n                return x.k < y.k ? -1 : x.k > y.k ? 1 : 0;\r\n            },\r\n            _positionDescendingComparer: function (x, y) {\r\n                return x.k < y.k ? 1 : x.k > y.k ? -1 : 0;\r\n            },\r\n            _firstVirtualNode: function (layer) {\r\n                for (var c = 0; c < layer.length; c++) {\r\n                    if (layer[c].isVirtual) {\r\n                        return c;\r\n                    }\r\n                }\r\n                return -1;\r\n            },\r\n            compareByIndex: function (o1, o2) {\r\n                var i1 = o1.index;\r\n                var i2 = o2.index;\r\n                if (i1 < i2) {\r\n                    return 1;\r\n                }\r\n                if (i1 > i2) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            },\r\n            intDiv: function (numerator, denominator) {\r\n                return (numerator - numerator % denominator) / denominator;\r\n            },\r\n            nextVirtualNode: function (layer, node) {\r\n                var nodeIndex = node.layerIndex;\r\n                for (var i = nodeIndex + 1; i < layer.length; ++i) {\r\n                    if (layer[i].isVirtual) {\r\n                        return layer[i];\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n        var LayoutState = kendo.Class.extend({\r\n            init: function (diagram, graphOrNodes) {\r\n                if (Utils.isUndefined(diagram)) {\r\n                    throw 'No diagram given';\r\n                }\r\n                this.diagram = diagram;\r\n                this.nodeMap = new Dictionary();\r\n                this.linkMap = new Dictionary();\r\n                this.capture(graphOrNodes ? graphOrNodes : diagram);\r\n            },\r\n            capture: function (diagramOrGraphOrNodes) {\r\n                var node, nodes, shape, i, conn, link, links;\r\n                if (diagramOrGraphOrNodes instanceof diagram.Graph) {\r\n                    for (i = 0; i < diagramOrGraphOrNodes.nodes.length; i++) {\r\n                        node = diagramOrGraphOrNodes.nodes[i];\r\n                        shape = node.associatedShape;\r\n                        this.nodeMap.set(shape.visual.id, new Rect(node.x, node.y, node.width, node.height));\r\n                    }\r\n                    for (i = 0; i < diagramOrGraphOrNodes.links.length; i++) {\r\n                        link = diagramOrGraphOrNodes.links[i];\r\n                        conn = link.associatedConnection;\r\n                        this.linkMap.set(conn.visual.id, link.points());\r\n                    }\r\n                } else if (diagramOrGraphOrNodes instanceof Array) {\r\n                    nodes = diagramOrGraphOrNodes;\r\n                    for (i = 0; i < nodes.length; i++) {\r\n                        node = nodes[i];\r\n                        shape = node.associatedShape;\r\n                        if (shape) {\r\n                            this.nodeMap.set(shape.visual.id, new Rect(node.x, node.y, node.width, node.height));\r\n                        }\r\n                    }\r\n                } else if (diagramOrGraphOrNodes.hasOwnProperty('links') && diagramOrGraphOrNodes.hasOwnProperty('nodes')) {\r\n                    nodes = diagramOrGraphOrNodes.nodes;\r\n                    links = diagramOrGraphOrNodes.links;\r\n                    for (i = 0; i < nodes.length; i++) {\r\n                        node = nodes[i];\r\n                        shape = node.associatedShape;\r\n                        if (shape) {\r\n                            this.nodeMap.set(shape.visual.id, new Rect(node.x, node.y, node.width, node.height));\r\n                        }\r\n                    }\r\n                    for (i = 0; i < links.length; i++) {\r\n                        link = links[i];\r\n                        conn = link.associatedConnection;\r\n                        if (conn) {\r\n                            this.linkMap.set(conn.visual.id, link.points);\r\n                        }\r\n                    }\r\n                } else {\r\n                    var shapes = this.diagram.shapes;\r\n                    var connections = this.diagram.connections;\r\n                    for (i = 0; i < shapes.length; i++) {\r\n                        shape = shapes[i];\r\n                        this.nodeMap.set(shape.visual.id, shape.bounds());\r\n                    }\r\n                    for (i = 0; i < connections.length; i++) {\r\n                        conn = connections[i];\r\n                        this.linkMap.set(conn.visual.id, conn.points());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        deepExtend(diagram, {\r\n            init: function (element) {\r\n                kendo.init(element, diagram.ui);\r\n            },\r\n            SpringLayout: SpringLayout,\r\n            TreeLayout: TreeLayout,\r\n            GraphAdapter: DiagramToHyperTreeAdapter,\r\n            LayeredLayout: LayeredLayout,\r\n            LayoutBase: LayoutBase,\r\n            LayoutState: LayoutState\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('dataviz/diagram/dom', [\r\n        'kendo.data',\r\n        'kendo.draganddrop',\r\n        'kendo.toolbar',\r\n        'kendo.editable',\r\n        'kendo.window',\r\n        'kendo.dropdownlist',\r\n        'kendo.dataviz.core',\r\n        'kendo.dataviz.themes',\r\n        'dataviz/diagram/svg',\r\n        'dataviz/diagram/services',\r\n        'dataviz/diagram/layout'\r\n    ], f);\r\n}(function () {\r\n    (function ($, undefined) {\r\n        var dataviz = kendo.dataviz, draw = kendo.drawing, geom = kendo.geometry, diagram = dataviz.diagram, Widget = kendo.ui.Widget, Class = kendo.Class, proxy = $.proxy, deepExtend = kendo.deepExtend, extend = $.extend, HierarchicalDataSource = kendo.data.HierarchicalDataSource, Canvas = diagram.Canvas, Group = diagram.Group, Rectangle = diagram.Rectangle, Circle = diagram.Circle, CompositeTransform = diagram.CompositeTransform, Rect = diagram.Rect, Path = diagram.Path, DeleteShapeUnit = diagram.DeleteShapeUnit, DeleteConnectionUnit = diagram.DeleteConnectionUnit, TextBlock = diagram.TextBlock, Image = diagram.Image, Point = diagram.Point, Intersect = diagram.Intersect, ConnectionEditAdorner = diagram.ConnectionEditAdorner, UndoRedoService = diagram.UndoRedoService, ToolService = diagram.ToolService, Selector = diagram.Selector, ResizingAdorner = diagram.ResizingAdorner, ConnectorsAdorner = diagram.ConnectorsAdorner, Cursors = diagram.Cursors, Utils = diagram.Utils, Observable = kendo.Observable, ToBackUnit = diagram.ToBackUnit, ToFrontUnit = diagram.ToFrontUnit, PolylineRouter = diagram.PolylineRouter, CascadingRouter = diagram.CascadingRouter, isUndefined = Utils.isUndefined, isDefined = Utils.isDefined, defined = kendo.util.defined, isArray = $.isArray, isFunction = kendo.isFunction, isString = Utils.isString, isPlainObject = $.isPlainObject, math = Math;\r\n        var NS = '.kendoDiagram', CASCADING = 'cascading', ITEMBOUNDSCHANGE = 'itemBoundsChange', CHANGE = 'change', CLICK = 'click', DRAG = 'drag', DRAG_END = 'dragEnd', DRAG_START = 'dragStart', MOUSE_ENTER = 'mouseEnter', MOUSE_LEAVE = 'mouseLeave', ERROR = 'error', AUTO = 'Auto', TOP = 'Top', RIGHT = 'Right', LEFT = 'Left', BOTTOM = 'Bottom', MAXINT = 9007199254740992, SELECT = 'select', ITEMROTATE = 'itemRotate', PAN = 'pan', ZOOM_START = 'zoomStart', ZOOM_END = 'zoomEnd', NONE = 'none', DEFAULT_CANVAS_WIDTH = 600, DEFAULT_CANVAS_HEIGHT = 600, DEFAULT_SHAPE_TYPE = 'rectangle', DEFAULT_SHAPE_WIDTH = 100, DEFAULT_SHAPE_HEIGHT = 100, DEFAULT_SHAPE_MINWIDTH = 20, DEFAULT_SHAPE_MINHEIGHT = 20, DEFAULT_SHAPE_POSITION = 0, DEFAULT_CONNECTION_BACKGROUND = 'Yellow', MAX_VALUE = Number.MAX_VALUE, MIN_VALUE = -Number.MAX_VALUE, ABSOLUTE = 'absolute', TRANSFORMED = 'transformed', ROTATED = 'rotated', TRANSPARENT = 'transparent', WIDTH = 'width', HEIGHT = 'height', X = 'x', Y = 'y', MOUSEWHEEL_NS = 'DOMMouseScroll' + NS + ' mousewheel' + NS, MOBILE_ZOOM_RATE = 0.05, MOBILE_PAN_DISTANCE = 5, BUTTON_TEMPLATE = '<a class=\"k-button k-button-icontext #=className#\" href=\"\\\\#\"><span class=\"#=iconClass# #=imageClass#\"></span>#=text#</a>', CONNECTION_CONTENT_OFFSET = 5;\r\n        diagram.DefaultConnectors = [\r\n            { name: TOP },\r\n            { name: BOTTOM },\r\n            { name: LEFT },\r\n            { name: RIGHT },\r\n            {\r\n                name: AUTO,\r\n                position: function (shape) {\r\n                    return shape.getPosition('center');\r\n                }\r\n            }\r\n        ];\r\n        var defaultButtons = {\r\n            cancel: {\r\n                text: 'Cancel',\r\n                imageClass: 'k-cancel',\r\n                className: 'k-diagram-cancel',\r\n                iconClass: 'k-icon'\r\n            },\r\n            update: {\r\n                text: 'Update',\r\n                imageClass: 'k-update',\r\n                className: 'k-diagram-update',\r\n                iconClass: 'k-icon'\r\n            }\r\n        };\r\n        diagram.shapeDefaults = function (extra) {\r\n            var defaults = {\r\n                type: DEFAULT_SHAPE_TYPE,\r\n                path: '',\r\n                autoSize: true,\r\n                visual: null,\r\n                x: DEFAULT_SHAPE_POSITION,\r\n                y: DEFAULT_SHAPE_POSITION,\r\n                minWidth: DEFAULT_SHAPE_MINWIDTH,\r\n                minHeight: DEFAULT_SHAPE_MINHEIGHT,\r\n                width: DEFAULT_SHAPE_WIDTH,\r\n                height: DEFAULT_SHAPE_HEIGHT,\r\n                hover: {},\r\n                editable: {\r\n                    connect: true,\r\n                    tools: []\r\n                },\r\n                connectors: diagram.DefaultConnectors,\r\n                rotation: { angle: 0 }\r\n            };\r\n            Utils.simpleExtend(defaults, extra);\r\n            return defaults;\r\n        };\r\n        function mwDelta(e) {\r\n            var origEvent = e.originalEvent, delta = 0;\r\n            if (origEvent.wheelDelta) {\r\n                delta = -origEvent.wheelDelta / 40;\r\n                delta = delta > 0 ? math.ceil(delta) : math.floor(delta);\r\n            } else if (origEvent.detail) {\r\n                delta = origEvent.detail;\r\n            }\r\n            return delta;\r\n        }\r\n        function isAutoConnector(connector) {\r\n            return connector.options.name.toLowerCase() === AUTO.toLowerCase();\r\n        }\r\n        function closestConnector(point, connectors) {\r\n            var minimumDistance = MAXINT, resCtr, connector;\r\n            for (var i = 0; i < connectors.length; i++) {\r\n                connector = connectors[i];\r\n                if (!isAutoConnector(connector)) {\r\n                    var dist = point.distanceTo(connector.position());\r\n                    if (dist < minimumDistance) {\r\n                        minimumDistance = dist;\r\n                        resCtr = connector;\r\n                    }\r\n                }\r\n            }\r\n            return resCtr;\r\n        }\r\n        function indicesOfItems(group, visuals) {\r\n            var i, indices = [], visual;\r\n            var children = group.drawingContainer().children;\r\n            var length = children.length;\r\n            for (i = 0; i < visuals.length; i++) {\r\n                visual = visuals[i];\r\n                for (var j = 0; j < length; j++) {\r\n                    if (children[j] == visual.drawingContainer()) {\r\n                        indices.push(j);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return indices;\r\n        }\r\n        var DiagramElement = Observable.extend({\r\n            init: function (options) {\r\n                var that = this;\r\n                that.dataItem = (options || {}).dataItem;\r\n                Observable.fn.init.call(that);\r\n                that.options = deepExtend({ id: diagram.randomId() }, that.options, options);\r\n                that.isSelected = false;\r\n                that.visual = new Group({\r\n                    id: that.options.id,\r\n                    autoSize: that.options.autoSize\r\n                });\r\n                that.id = that.options.id;\r\n                that._template();\r\n            },\r\n            options: {\r\n                hover: {},\r\n                cursor: Cursors.grip,\r\n                content: { align: 'center middle' },\r\n                selectable: true,\r\n                serializable: true,\r\n                enable: true\r\n            },\r\n            _getCursor: function (point) {\r\n                if (this.adorner) {\r\n                    return this.adorner._getCursor(point);\r\n                }\r\n                return this.options.cursor;\r\n            },\r\n            visible: function (value) {\r\n                if (isUndefined(value)) {\r\n                    return this.visual.visible();\r\n                } else {\r\n                    this.visual.visible(value);\r\n                }\r\n            },\r\n            bounds: function () {\r\n            },\r\n            refresh: function () {\r\n                this.visual.redraw();\r\n            },\r\n            position: function (point) {\r\n                this.options.x = point.x;\r\n                this.options.y = point.y;\r\n                this.visual.position(point);\r\n            },\r\n            toString: function () {\r\n                return this.options.id;\r\n            },\r\n            serialize: function () {\r\n                var json = deepExtend({}, { options: this.options });\r\n                if (this.dataItem) {\r\n                    json.dataItem = this.dataItem.toString();\r\n                }\r\n                return json;\r\n            },\r\n            _content: function (content) {\r\n                if (content !== undefined) {\r\n                    var options = this.options;\r\n                    if (diagram.Utils.isString(content)) {\r\n                        options.content.text = content;\r\n                    } else {\r\n                        deepExtend(options.content, content);\r\n                    }\r\n                    var contentOptions = options.content;\r\n                    var contentVisual = this._contentVisual;\r\n                    if (!contentVisual) {\r\n                        this._createContentVisual(contentOptions);\r\n                    } else {\r\n                        this._updateContentVisual(contentOptions);\r\n                    }\r\n                }\r\n                return this.options.content.text;\r\n            },\r\n            _createContentVisual: function (options) {\r\n                if (options.text) {\r\n                    this._contentVisual = new TextBlock(options);\r\n                    this._contentVisual._includeInBBox = false;\r\n                    this.visual.append(this._contentVisual);\r\n                }\r\n            },\r\n            _updateContentVisual: function (options) {\r\n                this._contentVisual.redraw(options);\r\n            },\r\n            _hitTest: function (point) {\r\n                var bounds = this.bounds();\r\n                return this.visible() && bounds.contains(point) && this.options.enable;\r\n            },\r\n            _template: function () {\r\n                var that = this;\r\n                if (that.options.content.template) {\r\n                    var data = that.dataItem || {}, elementTemplate = kendo.template(that.options.content.template, { paramName: 'dataItem' });\r\n                    that.options.content.text = elementTemplate(data);\r\n                }\r\n            },\r\n            _canSelect: function () {\r\n                return this.options.selectable !== false;\r\n            },\r\n            toJSON: function () {\r\n                return { id: this.options.id };\r\n            }\r\n        });\r\n        var Connector = Class.extend({\r\n            init: function (shape, options) {\r\n                this.options = deepExtend({}, this.options, options);\r\n                this.connections = [];\r\n                this.shape = shape;\r\n            },\r\n            options: {\r\n                width: 7,\r\n                height: 7,\r\n                fill: { color: DEFAULT_CONNECTION_BACKGROUND },\r\n                hover: {}\r\n            },\r\n            position: function () {\r\n                if (this.options.position) {\r\n                    return this.options.position(this.shape);\r\n                } else {\r\n                    return this.shape.getPosition(this.options.name);\r\n                }\r\n            },\r\n            toJSON: function () {\r\n                return {\r\n                    shapeId: this.shape.toString(),\r\n                    connector: this.options.name\r\n                };\r\n            }\r\n        });\r\n        Connector.parse = function (diagram, str) {\r\n            var tempStr = str.split(':'), id = tempStr[0], name = tempStr[1] || AUTO;\r\n            for (var i = 0; i < diagram.shapes.length; i++) {\r\n                var shape = diagram.shapes[i];\r\n                if (shape.options.id == id) {\r\n                    return shape.getConnector(name.trim());\r\n                }\r\n            }\r\n        };\r\n        var Shape = DiagramElement.extend({\r\n            init: function (options, diagram) {\r\n                var that = this;\r\n                DiagramElement.fn.init.call(that, options);\r\n                this.diagram = diagram;\r\n                this.updateOptionsFromModel();\r\n                options = that.options;\r\n                that.connectors = [];\r\n                that.type = options.type;\r\n                that.createShapeVisual();\r\n                that.updateBounds();\r\n                that.content(that.content());\r\n                that._createConnectors();\r\n            },\r\n            options: diagram.shapeDefaults(),\r\n            _setOptionsFromModel: function (model) {\r\n                var modelOptions = filterShapeDataItem(model || this.dataItem);\r\n                this.options = deepExtend({}, this.options, modelOptions);\r\n                this.redrawVisual();\r\n            },\r\n            updateOptionsFromModel: function (model, field) {\r\n                if (this.diagram && this.diagram._isEditable) {\r\n                    var modelOptions = filterShapeDataItem(model || this.dataItem);\r\n                    if (model && field) {\r\n                        if (!dataviz.inArray(field, [\r\n                                'x',\r\n                                'y',\r\n                                'width',\r\n                                'height'\r\n                            ])) {\r\n                            if (this.options.visual) {\r\n                                this._redrawVisual();\r\n                            } else if (modelOptions.type) {\r\n                                this.options = deepExtend({}, this.options, modelOptions);\r\n                                this._redrawVisual();\r\n                            }\r\n                            if (this.options.content) {\r\n                                this._template();\r\n                                this.content(this.options.content);\r\n                            }\r\n                        } else {\r\n                            var bounds = this.bounds();\r\n                            bounds[field] = model[field];\r\n                            this.bounds(bounds);\r\n                        }\r\n                    } else {\r\n                        this.options = deepExtend({}, this.options, modelOptions);\r\n                    }\r\n                }\r\n            },\r\n            _redrawVisual: function () {\r\n                this.visual.clear();\r\n                this._contentVisual = null;\r\n                this.options.dataItem = this.dataItem;\r\n                this.createShapeVisual();\r\n                this.updateBounds();\r\n            },\r\n            redrawVisual: function () {\r\n                this._redrawVisual();\r\n                if (this.options.content) {\r\n                    this._template();\r\n                    this.content(this.options.content);\r\n                }\r\n            },\r\n            updateModel: function (syncChanges) {\r\n                var diagram = this.diagram;\r\n                if (diagram && diagram._isEditable) {\r\n                    var bounds = this._bounds;\r\n                    var model = this.dataItem;\r\n                    if (model) {\r\n                        diagram._suspendModelRefresh();\r\n                        if (defined(model.x) && bounds.x !== model.x) {\r\n                            model.set('x', bounds.x);\r\n                        }\r\n                        if (defined(model.y) && bounds.y !== model.y) {\r\n                            model.set('y', bounds.y);\r\n                        }\r\n                        if (defined(model.width) && bounds.width !== model.width) {\r\n                            model.set('width', bounds.width);\r\n                        }\r\n                        if (defined(model.height) && bounds.height !== model.height) {\r\n                            model.set('height', bounds.height);\r\n                        }\r\n                        this.dataItem = model;\r\n                        diagram._resumeModelRefresh();\r\n                        if (syncChanges) {\r\n                            diagram._syncShapeChanges();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            updateBounds: function () {\r\n                var bounds = this.visual._measure(true);\r\n                var options = this.options;\r\n                this.bounds(new Rect(options.x, options.y, bounds.width, bounds.height));\r\n                this._rotate();\r\n                this._alignContent();\r\n            },\r\n            content: function (content) {\r\n                var result = this._content(content);\r\n                this._alignContent();\r\n                return result;\r\n            },\r\n            _alignContent: function () {\r\n                var contentOptions = this.options.content || {};\r\n                var contentVisual = this._contentVisual;\r\n                if (contentVisual && contentOptions.align) {\r\n                    var containerRect = this.visual._measure();\r\n                    var aligner = new diagram.RectAlign(containerRect);\r\n                    var contentBounds = contentVisual.drawingElement.bbox(null);\r\n                    var contentRect = new Rect(0, 0, contentBounds.width(), contentBounds.height());\r\n                    var alignedBounds = aligner.align(contentRect, contentOptions.align);\r\n                    contentVisual.position(alignedBounds.topLeft());\r\n                }\r\n            },\r\n            _createConnectors: function () {\r\n                var options = this.options, length = options.connectors.length, connectorDefaults = options.connectorDefaults, connector, i;\r\n                for (i = 0; i < length; i++) {\r\n                    connector = new Connector(this, deepExtend({}, connectorDefaults, options.connectors[i]));\r\n                    this.connectors.push(connector);\r\n                }\r\n            },\r\n            bounds: function (value) {\r\n                var bounds;\r\n                if (value) {\r\n                    if (isString(value)) {\r\n                        switch (value) {\r\n                        case TRANSFORMED:\r\n                            bounds = this._transformedBounds();\r\n                            break;\r\n                        case ABSOLUTE:\r\n                            bounds = this._transformedBounds();\r\n                            var pan = this.diagram._pan;\r\n                            bounds.x += pan.x;\r\n                            bounds.y += pan.y;\r\n                            break;\r\n                        case ROTATED:\r\n                            bounds = this._rotatedBounds();\r\n                            break;\r\n                        default:\r\n                            bounds = this._bounds;\r\n                        }\r\n                    } else {\r\n                        this._setBounds(value);\r\n                        this._triggerBoundsChange();\r\n                        if (!(this.diagram && this.diagram._layouting)) {\r\n                            this.refreshConnections();\r\n                        }\r\n                    }\r\n                } else {\r\n                    bounds = this._bounds;\r\n                }\r\n                return bounds;\r\n            },\r\n            _setBounds: function (rect) {\r\n                var options = this.options;\r\n                var topLeft = rect.topLeft();\r\n                var x = options.x = topLeft.x;\r\n                var y = options.y = topLeft.y;\r\n                var width = options.width = math.max(rect.width, options.minWidth);\r\n                var height = options.height = math.max(rect.height, options.minHeight);\r\n                this._bounds = new Rect(x, y, width, height);\r\n                this.visual.redraw({\r\n                    x: x,\r\n                    y: y,\r\n                    width: width,\r\n                    height: height\r\n                });\r\n            },\r\n            position: function (point) {\r\n                if (point) {\r\n                    this.bounds(new Rect(point.x, point.y, this._bounds.width, this._bounds.height));\r\n                } else {\r\n                    return this._bounds.topLeft();\r\n                }\r\n            },\r\n            clone: function () {\r\n                var json = this.serialize();\r\n                json.options.id = diagram.randomId();\r\n                if (this.diagram && this.diagram._isEditable && defined(this.dataItem)) {\r\n                    json.options.dataItem = cloneDataItem(this.dataItem);\r\n                }\r\n                return new Shape(json.options);\r\n            },\r\n            select: function (value) {\r\n                var diagram = this.diagram, selected, deselected;\r\n                if (isUndefined(value)) {\r\n                    value = true;\r\n                }\r\n                if (this._canSelect()) {\r\n                    if (this.isSelected != value) {\r\n                        selected = [];\r\n                        deselected = [];\r\n                        this.isSelected = value;\r\n                        if (this.isSelected) {\r\n                            diagram._selectedItems.push(this);\r\n                            selected.push(this);\r\n                        } else {\r\n                            Utils.remove(diagram._selectedItems, this);\r\n                            deselected.push(this);\r\n                        }\r\n                        if (!diagram._internalSelection) {\r\n                            diagram._selectionChanged(selected, deselected);\r\n                        }\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            rotate: function (angle, center, undoable) {\r\n                var rotate = this.visual.rotate();\r\n                if (angle !== undefined) {\r\n                    if (undoable !== false && this.diagram && this.diagram.undoRedoService && angle !== rotate.angle) {\r\n                        this.diagram.undoRedoService.add(new diagram.RotateUnit(this.diagram._resizingAdorner, [this], [rotate.angle]), false);\r\n                    }\r\n                    var b = this.bounds(), sc = new Point(b.width / 2, b.height / 2), deltaAngle, newPosition;\r\n                    if (center) {\r\n                        deltaAngle = angle - rotate.angle;\r\n                        newPosition = b.center().rotate(center, 360 - deltaAngle).minus(sc);\r\n                        this._rotationOffset = this._rotationOffset.plus(newPosition.minus(b.topLeft()));\r\n                        this.position(newPosition);\r\n                    }\r\n                    this.visual.rotate(angle, sc);\r\n                    this.options.rotation.angle = angle;\r\n                    if (this.diagram && this.diagram._connectorsAdorner) {\r\n                        this.diagram._connectorsAdorner.refresh();\r\n                    }\r\n                    this.refreshConnections();\r\n                    if (this.diagram) {\r\n                        this.diagram.trigger(ITEMROTATE, { item: this });\r\n                    }\r\n                }\r\n                return rotate;\r\n            },\r\n            connections: function (type) {\r\n                var result = [], i, j, con, cons, ctr;\r\n                for (i = 0; i < this.connectors.length; i++) {\r\n                    ctr = this.connectors[i];\r\n                    cons = ctr.connections;\r\n                    for (j = 0, cons; j < cons.length; j++) {\r\n                        con = cons[j];\r\n                        if (type == 'out') {\r\n                            var source = con.source();\r\n                            if (source.shape && source.shape == this) {\r\n                                result.push(con);\r\n                            }\r\n                        } else if (type == 'in') {\r\n                            var target = con.target();\r\n                            if (target.shape && target.shape == this) {\r\n                                result.push(con);\r\n                            }\r\n                        } else {\r\n                            result.push(con);\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            refreshConnections: function () {\r\n                $.each(this.connections(), function () {\r\n                    this.refresh();\r\n                });\r\n            },\r\n            getConnector: function (nameOrPoint) {\r\n                var i, ctr;\r\n                if (isString(nameOrPoint)) {\r\n                    nameOrPoint = nameOrPoint.toLocaleLowerCase();\r\n                    for (i = 0; i < this.connectors.length; i++) {\r\n                        ctr = this.connectors[i];\r\n                        if (ctr.options.name.toLocaleLowerCase() == nameOrPoint) {\r\n                            return ctr;\r\n                        }\r\n                    }\r\n                } else if (nameOrPoint instanceof Point) {\r\n                    return closestConnector(nameOrPoint, this.connectors);\r\n                } else {\r\n                    return this.connectors.length ? this.connectors[0] : null;\r\n                }\r\n            },\r\n            getPosition: function (side) {\r\n                var b = this.bounds(), fnName = side.charAt(0).toLowerCase() + side.slice(1);\r\n                if (isFunction(b[fnName])) {\r\n                    return this._transformPoint(b[fnName]());\r\n                }\r\n                return b.center();\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    var shapeOptions = this.options;\r\n                    var boundsChange;\r\n                    this.shapeVisual.redraw(this._visualOptions(options));\r\n                    if (this._diffNumericOptions(options, [\r\n                            WIDTH,\r\n                            HEIGHT,\r\n                            X,\r\n                            Y\r\n                        ])) {\r\n                        this.bounds(new Rect(shapeOptions.x, shapeOptions.y, shapeOptions.width, shapeOptions.height));\r\n                        boundsChange = true;\r\n                    }\r\n                    if (options.connectors) {\r\n                        shapeOptions.connectors = options.connectors;\r\n                        this._updateConnectors();\r\n                    }\r\n                    shapeOptions = deepExtend(shapeOptions, options);\r\n                    if (options.rotation || boundsChange) {\r\n                        this._rotate();\r\n                    }\r\n                    if (shapeOptions.content) {\r\n                        this.content(shapeOptions.content);\r\n                    }\r\n                }\r\n            },\r\n            _updateConnectors: function () {\r\n                var connections = this.connections();\r\n                this.connectors = [];\r\n                this._createConnectors();\r\n                var connection;\r\n                var source;\r\n                var target;\r\n                for (var idx = 0; idx < connections.length; idx++) {\r\n                    connection = connections[idx];\r\n                    source = connection.source();\r\n                    target = connection.target();\r\n                    if (source.shape && source.shape === this) {\r\n                        connection.source(this.getConnector(source.options.name) || null);\r\n                    } else if (target.shape && target.shape === this) {\r\n                        connection.target(this.getConnector(target.options.name) || null);\r\n                    }\r\n                    connection.updateModel();\r\n                }\r\n            },\r\n            _diffNumericOptions: diagram.diffNumericOptions,\r\n            _visualOptions: function (options) {\r\n                return {\r\n                    data: options.path,\r\n                    source: options.source,\r\n                    hover: options.hover,\r\n                    fill: options.fill,\r\n                    stroke: options.stroke\r\n                };\r\n            },\r\n            _triggerBoundsChange: function () {\r\n                if (this.diagram) {\r\n                    this.diagram.trigger(ITEMBOUNDSCHANGE, {\r\n                        item: this,\r\n                        bounds: this._bounds.clone()\r\n                    });\r\n                }\r\n            },\r\n            _transformPoint: function (point) {\r\n                var rotate = this.rotate(), bounds = this.bounds(), tl = bounds.topLeft();\r\n                if (rotate.angle) {\r\n                    point.rotate(rotate.center().plus(tl), 360 - rotate.angle);\r\n                }\r\n                return point;\r\n            },\r\n            _transformedBounds: function () {\r\n                var bounds = this.bounds(), tl = bounds.topLeft(), br = bounds.bottomRight();\r\n                return Rect.fromPoints(this.diagram.modelToView(tl), this.diagram.modelToView(br));\r\n            },\r\n            _rotatedBounds: function () {\r\n                var bounds = this.bounds().rotatedBounds(this.rotate().angle), tl = bounds.topLeft(), br = bounds.bottomRight();\r\n                return Rect.fromPoints(tl, br);\r\n            },\r\n            _rotate: function () {\r\n                var rotation = this.options.rotation;\r\n                if (rotation && rotation.angle) {\r\n                    this.rotate(rotation.angle);\r\n                }\r\n                this._rotationOffset = new Point();\r\n            },\r\n            _hover: function (value) {\r\n                var options = this.options, hover = options.hover, stroke = options.stroke, fill = options.fill;\r\n                if (value && isDefined(hover.stroke)) {\r\n                    stroke = deepExtend({}, stroke, hover.stroke);\r\n                }\r\n                if (value && isDefined(hover.fill)) {\r\n                    fill = hover.fill;\r\n                }\r\n                this.shapeVisual.redraw({\r\n                    stroke: stroke,\r\n                    fill: fill\r\n                });\r\n                if (options.editable && options.editable.connect) {\r\n                    this.diagram._showConnectors(this, value);\r\n                }\r\n            },\r\n            _hitTest: function (value) {\r\n                if (this.visible()) {\r\n                    var bounds = this.bounds(), rotatedPoint, angle = this.rotate().angle;\r\n                    if (value.isEmpty && !value.isEmpty()) {\r\n                        return Intersect.rects(value, bounds, angle ? angle : 0);\r\n                    } else {\r\n                        rotatedPoint = value.clone().rotate(bounds.center(), angle);\r\n                        if (bounds.contains(rotatedPoint)) {\r\n                            return this;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            toJSON: function () {\r\n                return { shapeId: this.options.id };\r\n            },\r\n            createShapeVisual: function () {\r\n                var options = this.options;\r\n                var visualOptions = this._visualOptions(options);\r\n                var visualTemplate = options.visual;\r\n                var type = (options.type + '').toLocaleLowerCase();\r\n                var shapeVisual;\r\n                visualOptions.width = options.width;\r\n                visualOptions.height = options.height;\r\n                if (isFunction(visualTemplate)) {\r\n                    shapeVisual = visualTemplate.call(this, options);\r\n                } else if (visualOptions.data) {\r\n                    shapeVisual = new Path(visualOptions);\r\n                    translateToOrigin(shapeVisual);\r\n                } else if (type == 'rectangle') {\r\n                    shapeVisual = new Rectangle(visualOptions);\r\n                } else if (type == 'circle') {\r\n                    shapeVisual = new Circle(visualOptions);\r\n                } else if (type == 'text') {\r\n                    shapeVisual = new TextBlock(visualOptions);\r\n                } else if (type == 'image') {\r\n                    shapeVisual = new Image(visualOptions);\r\n                } else {\r\n                    shapeVisual = new Path(visualOptions);\r\n                }\r\n                this.shapeVisual = shapeVisual;\r\n                this.visual.append(this.shapeVisual);\r\n            }\r\n        });\r\n        var Connection = DiagramElement.extend({\r\n            init: function (from, to, options) {\r\n                var that = this;\r\n                DiagramElement.fn.init.call(that, options);\r\n                this.updateOptionsFromModel();\r\n                this._initRouter();\r\n                that.path = new diagram.Polyline(that.options);\r\n                that.path.fill(TRANSPARENT);\r\n                that.visual.append(that.path);\r\n                that._sourcePoint = that._targetPoint = new Point();\r\n                that._setSource(from);\r\n                that._setTarget(to);\r\n                that.content(that.options.content);\r\n                that.definers = [];\r\n                if (defined(options) && options.points) {\r\n                    that.points(options.points);\r\n                }\r\n            },\r\n            options: {\r\n                hover: { stroke: {} },\r\n                startCap: NONE,\r\n                endCap: NONE,\r\n                points: [],\r\n                selectable: true,\r\n                fromConnector: AUTO,\r\n                toConenctor: AUTO\r\n            },\r\n            _setOptionsFromModel: function (model) {\r\n                this.updateOptionsFromModel(model || this.dataItem);\r\n            },\r\n            updateOptionsFromModel: function (model) {\r\n                if (this.diagram && this.diagram._isEditable) {\r\n                    var dataMap = this.diagram._dataMap;\r\n                    var options = filterConnectionDataItem(model || this.dataItem);\r\n                    if (model) {\r\n                        if (defined(options.from)) {\r\n                            var from = dataMap[options.from];\r\n                            if (from && defined(options.fromConnector)) {\r\n                                from = from.getConnector(options.fromConnector);\r\n                            }\r\n                            this.source(from);\r\n                        } else if (defined(options.fromX) && defined(options.fromY)) {\r\n                            this.source(new Point(options.fromX, options.fromY));\r\n                        }\r\n                        if (defined(options.to)) {\r\n                            var to = dataMap[options.to];\r\n                            if (to && defined(options.toConnector)) {\r\n                                to = to.getConnector(options.toConnector);\r\n                            }\r\n                            this.target(to);\r\n                        } else if (defined(options.toX) && defined(options.toY)) {\r\n                            this.target(new Point(options.toX, options.toY));\r\n                        }\r\n                        if (defined(options.type) && this.type() !== options.type) {\r\n                            this.points([]);\r\n                            this.type(options.type);\r\n                        }\r\n                        this.dataItem = model;\r\n                        this._template();\r\n                        this.redraw(this.options);\r\n                    } else {\r\n                        this.options = deepExtend({}, options, this.options);\r\n                    }\r\n                }\r\n            },\r\n            updateModel: function (syncChanges) {\r\n                if (this.diagram && this.diagram._isEditable) {\r\n                    if (this.diagram.connectionsDataSource) {\r\n                        var model = this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);\r\n                        if (model) {\r\n                            this.diagram._suspendModelRefresh();\r\n                            if (defined(this.options.fromX) && this.options.fromX !== null) {\r\n                                clearField('from', model);\r\n                                clearField('fromConnector', model);\r\n                                model.set('fromX', this.options.fromX);\r\n                                model.set('fromY', this.options.fromY);\r\n                            } else {\r\n                                model.set('from', this.options.from);\r\n                                if (defined(model.fromConnector)) {\r\n                                    model.set('fromConnector', this.sourceConnector ? this.sourceConnector.options.name : null);\r\n                                }\r\n                                clearField('fromX', model);\r\n                                clearField('fromY', model);\r\n                            }\r\n                            if (defined(this.options.toX) && this.options.toX !== null) {\r\n                                clearField('to', model);\r\n                                clearField('toConnector', model);\r\n                                model.set('toX', this.options.toX);\r\n                                model.set('toY', this.options.toY);\r\n                            } else {\r\n                                model.set('to', this.options.to);\r\n                                if (defined(model.toConnector)) {\r\n                                    model.set('toConnector', this.targetConnector ? this.targetConnector.options.name : null);\r\n                                }\r\n                                clearField('toX', model);\r\n                                clearField('toY', model);\r\n                            }\r\n                            if (defined(this.options.type) && defined(model.type)) {\r\n                                model.set('type', this.options.type);\r\n                            }\r\n                            this.dataItem = model;\r\n                            this.diagram._resumeModelRefresh();\r\n                            if (syncChanges) {\r\n                                this.diagram._syncConnectionChanges();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            sourcePoint: function () {\r\n                return this._resolvedSourceConnector ? this._resolvedSourceConnector.position() : this._sourcePoint;\r\n            },\r\n            _setSource: function (source) {\r\n                var shapeSource = source instanceof Shape;\r\n                var defaultConnector = this.options.fromConnector || AUTO;\r\n                var dataItem;\r\n                if (shapeSource && !source.getConnector(defaultConnector)) {\r\n                    return;\r\n                }\r\n                if (source !== undefined) {\r\n                    this.from = source;\r\n                }\r\n                this._removeFromSourceConnector();\r\n                if (source === null) {\r\n                    if (this.sourceConnector) {\r\n                        this._sourcePoint = (this._resolvedSourceConnector || this.sourceConnector).position();\r\n                        this._clearSourceConnector();\r\n                        this._setFromOptions(null, this._sourcePoint);\r\n                    }\r\n                } else if (source instanceof Connector) {\r\n                    dataItem = source.shape.dataItem;\r\n                    if (dataItem) {\r\n                        this._setFromOptions(dataItem.id);\r\n                    }\r\n                    this.sourceConnector = source;\r\n                    this.sourceConnector.connections.push(this);\r\n                } else if (source instanceof Point) {\r\n                    this._setFromOptions(null, source);\r\n                    this._sourcePoint = source;\r\n                    if (this.sourceConnector) {\r\n                        this._clearSourceConnector();\r\n                    }\r\n                } else if (shapeSource) {\r\n                    dataItem = source.dataItem;\r\n                    if (dataItem) {\r\n                        this._setFromOptions(dataItem.id);\r\n                    }\r\n                    this.sourceConnector = source.getConnector(defaultConnector);\r\n                    this.sourceConnector.connections.push(this);\r\n                }\r\n            },\r\n            source: function (source, undoable) {\r\n                if (isDefined(source)) {\r\n                    if (undoable && this.diagram) {\r\n                        this.diagram.undoRedoService.addCompositeItem(new diagram.ConnectionEditUnit(this, source));\r\n                    }\r\n                    this._setSource(source);\r\n                    this.refresh();\r\n                }\r\n                return this.sourceConnector ? this.sourceConnector : this._sourcePoint;\r\n            },\r\n            _setFromOptions: function (from, fromPoint) {\r\n                this.options.from = from;\r\n                if (fromPoint) {\r\n                    this.options.fromX = fromPoint.x;\r\n                    this.options.fromY = fromPoint.y;\r\n                } else {\r\n                    this.options.fromX = null;\r\n                    this.options.fromY = null;\r\n                }\r\n            },\r\n            sourceDefiner: function (value) {\r\n                if (value) {\r\n                    if (value instanceof diagram.PathDefiner) {\r\n                        value.left = null;\r\n                        this._sourceDefiner = value;\r\n                        this.source(value.point);\r\n                    } else {\r\n                        throw 'The sourceDefiner needs to be a PathDefiner.';\r\n                    }\r\n                } else {\r\n                    if (!this._sourceDefiner) {\r\n                        this._sourceDefiner = new diagram.PathDefiner(this.sourcePoint(), null, null);\r\n                    }\r\n                    return this._sourceDefiner;\r\n                }\r\n            },\r\n            targetPoint: function () {\r\n                return this._resolvedTargetConnector ? this._resolvedTargetConnector.position() : this._targetPoint;\r\n            },\r\n            _setTarget: function (target) {\r\n                var shapeTarget = target instanceof Shape;\r\n                var defaultConnector = this.options.toConnector || AUTO;\r\n                var dataItem;\r\n                if (shapeTarget && !target.getConnector(defaultConnector)) {\r\n                    return;\r\n                }\r\n                if (target !== undefined) {\r\n                    this.to = target;\r\n                }\r\n                this._removeFromTargetConnector();\r\n                if (target === null) {\r\n                    if (this.targetConnector) {\r\n                        this._targetPoint = (this._resolvedTargetConnector || this.targetConnector).position();\r\n                        this._clearTargetConnector();\r\n                        this._setToOptions(null, this._targetPoint);\r\n                    }\r\n                } else if (target instanceof Connector) {\r\n                    dataItem = target.shape.dataItem;\r\n                    if (dataItem) {\r\n                        this._setToOptions(dataItem.id);\r\n                    }\r\n                    this.targetConnector = target;\r\n                    this.targetConnector.connections.push(this);\r\n                } else if (target instanceof Point) {\r\n                    this._setToOptions(null, target);\r\n                    this._targetPoint = target;\r\n                    if (this.targetConnector) {\r\n                        this._clearTargetConnector();\r\n                    }\r\n                } else if (shapeTarget) {\r\n                    dataItem = target.dataItem;\r\n                    if (dataItem) {\r\n                        this._setToOptions(dataItem.id);\r\n                    }\r\n                    this.targetConnector = target.getConnector(defaultConnector);\r\n                    this.targetConnector.connections.push(this);\r\n                }\r\n            },\r\n            target: function (target, undoable) {\r\n                if (isDefined(target)) {\r\n                    if (undoable && this.diagram) {\r\n                        this.diagram.undoRedoService.addCompositeItem(new diagram.ConnectionEditUnit(this, undefined, target));\r\n                    }\r\n                    this._setTarget(target);\r\n                    this.refresh();\r\n                }\r\n                return this.targetConnector ? this.targetConnector : this._targetPoint;\r\n            },\r\n            _setToOptions: function (to, toPoint) {\r\n                this.options.to = to;\r\n                if (toPoint) {\r\n                    this.options.toX = toPoint.x;\r\n                    this.options.toY = toPoint.y;\r\n                } else {\r\n                    this.options.toX = null;\r\n                    this.options.toY = null;\r\n                }\r\n            },\r\n            targetDefiner: function (value) {\r\n                if (value) {\r\n                    if (value instanceof diagram.PathDefiner) {\r\n                        value.right = null;\r\n                        this._targetDefiner = value;\r\n                        this.target(value.point);\r\n                    } else {\r\n                        throw 'The sourceDefiner needs to be a PathDefiner.';\r\n                    }\r\n                } else {\r\n                    if (!this._targetDefiner) {\r\n                        this._targetDefiner = new diagram.PathDefiner(this.targetPoint(), null, null);\r\n                    }\r\n                    return this._targetDefiner;\r\n                }\r\n            },\r\n            _updateConnectors: function () {\r\n                this._updateConnector(this.source(), 'source');\r\n                this._updateConnector(this.target(), 'target');\r\n            },\r\n            _updateConnector: function (instance, name) {\r\n                var that = this;\r\n                var diagram = that.diagram;\r\n                if (instance instanceof Connector && !diagram.getShapeById(instance.shape.id)) {\r\n                    var dataItem = instance.shape.dataItem;\r\n                    var connectorName = instance.options.name;\r\n                    var setNewTarget = function () {\r\n                        var shape = diagram._dataMap[dataItem.id];\r\n                        instance = shape.getConnector(connectorName);\r\n                        that[name](instance, false);\r\n                        that.updateModel();\r\n                    };\r\n                    if (diagram._dataMap[dataItem.id]) {\r\n                        setNewTarget();\r\n                    } else {\r\n                        var inactiveItem = diagram._inactiveShapeItems.getByUid(dataItem.uid);\r\n                        if (inactiveItem) {\r\n                            diagram._deferredConnectionUpdates.push(inactiveItem.onActivate(setNewTarget));\r\n                        }\r\n                    }\r\n                } else {\r\n                    that[name](instance, false);\r\n                }\r\n            },\r\n            content: function (content) {\r\n                var result = this._content(content);\r\n                if (defined(content)) {\r\n                    this._alignContent();\r\n                }\r\n                return result;\r\n            },\r\n            _createContentVisual: function (options) {\r\n                var visual;\r\n                if (isFunction(options.visual)) {\r\n                    visual = options.visual.call(this, options);\r\n                } else if (options.text) {\r\n                    visual = new TextBlock(options);\r\n                }\r\n                if (visual) {\r\n                    this._contentVisual = visual;\r\n                    visual._includeInBBox = false;\r\n                    this.visual.append(visual);\r\n                }\r\n                return visual;\r\n            },\r\n            _updateContentVisual: function (options) {\r\n                if (isFunction(options.visual)) {\r\n                    this.visual.remove(this._contentVisual);\r\n                    this._createContentVisual(options);\r\n                } else {\r\n                    this._contentVisual.redraw(options);\r\n                }\r\n            },\r\n            _alignContent: function () {\r\n                if (this._contentVisual) {\r\n                    var offset = CONNECTION_CONTENT_OFFSET;\r\n                    var points = this.allPoints();\r\n                    var endIdx = math.floor(points.length / 2);\r\n                    var startIdx = endIdx - 1;\r\n                    while (startIdx > 0 && points[startIdx].equals(points[endIdx])) {\r\n                        startIdx--;\r\n                        endIdx++;\r\n                    }\r\n                    var endPoint = points[endIdx];\r\n                    var startPoint = points[startIdx];\r\n                    var boundingBox = this._contentVisual._measure();\r\n                    var width = boundingBox.width;\r\n                    var height = boundingBox.height;\r\n                    var alignToPath = points.length % 2 === 0;\r\n                    var distance = startPoint.distanceTo(endPoint);\r\n                    if (alignToPath && points.length > 2 && distance > 0 && (startPoint.y === endPoint.y && distance < width || startPoint.x === endPoint.x && distance < height)) {\r\n                        alignToPath = false;\r\n                        offset = 0;\r\n                    }\r\n                    var point;\r\n                    if (alignToPath) {\r\n                        var angle = kendo.util.deg(math.atan2(endPoint.y - startPoint.y, endPoint.x - startPoint.x));\r\n                        point = new Point((endPoint.x - startPoint.x) / 2 + startPoint.x, (endPoint.y - startPoint.y) / 2 + startPoint.y);\r\n                        if (math.abs(angle) === 90) {\r\n                            point.x += offset;\r\n                            point.y -= height / 2;\r\n                        } else if (angle % 180 === 0) {\r\n                            point.x -= width / 2;\r\n                            point.y -= height + offset;\r\n                        } else if (angle < -90 || 0 < angle && angle < 90) {\r\n                            point.y -= height;\r\n                        } else if (angle < 0 || angle > 90) {\r\n                            point.x -= width;\r\n                            point.y -= height;\r\n                        }\r\n                    } else {\r\n                        var midIdx = math.floor(points.length / 2);\r\n                        point = points[midIdx].clone();\r\n                        startPoint = points[midIdx - 1];\r\n                        endPoint = points[midIdx + 1];\r\n                        var offsetX = startPoint.x <= point.x && endPoint.x <= point.x ? offset : -boundingBox.width - offset;\r\n                        var offsetY = startPoint.y <= point.y && endPoint.y <= point.y ? offset : -boundingBox.height - offset;\r\n                        point.x += offsetX;\r\n                        point.y += offsetY;\r\n                    }\r\n                    this._contentVisual.position(point);\r\n                }\r\n            },\r\n            select: function (value) {\r\n                var diagram = this.diagram, selected, deselected;\r\n                if (this._canSelect()) {\r\n                    if (this.isSelected !== value) {\r\n                        this.isSelected = value;\r\n                        selected = [];\r\n                        deselected = [];\r\n                        if (this.isSelected) {\r\n                            this.adorner = new ConnectionEditAdorner(this, this.options.selection);\r\n                            diagram._adorn(this.adorner, true);\r\n                            diagram._selectedItems.push(this);\r\n                            selected.push(this);\r\n                        } else {\r\n                            if (this.adorner) {\r\n                                diagram._adorn(this.adorner, false);\r\n                                Utils.remove(diagram._selectedItems, this);\r\n                                this.adorner = undefined;\r\n                                deselected.push(this);\r\n                            }\r\n                        }\r\n                        if (this.adorner) {\r\n                            this.adorner.refresh();\r\n                        }\r\n                        if (!diagram._internalSelection) {\r\n                            diagram._selectionChanged(selected, deselected);\r\n                        }\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            bounds: function (value) {\r\n                if (value && !isString(value)) {\r\n                    this._bounds = value;\r\n                } else {\r\n                    return this._bounds;\r\n                }\r\n            },\r\n            type: function (value) {\r\n                var options = this.options;\r\n                if (value) {\r\n                    if (value !== options.type) {\r\n                        options.type = value;\r\n                        this._initRouter();\r\n                        this.refresh();\r\n                    }\r\n                } else {\r\n                    return options.type;\r\n                }\r\n            },\r\n            _initRouter: function () {\r\n                var type = (this.options.type || '').toLowerCase();\r\n                if (type == CASCADING) {\r\n                    this._router = new CascadingRouter(this);\r\n                } else {\r\n                    this._router = new PolylineRouter(this);\r\n                }\r\n            },\r\n            points: function (value) {\r\n                if (value) {\r\n                    this.definers = [];\r\n                    for (var i = 0; i < value.length; i++) {\r\n                        var definition = value[i];\r\n                        if (definition instanceof diagram.Point) {\r\n                            this.definers.push(new diagram.PathDefiner(definition));\r\n                        } else if (definition.hasOwnProperty('x') && definition.hasOwnProperty('y')) {\r\n                            this.definers.push(new diagram.PathDefiner(new Point(definition.x, definition.y)));\r\n                        } else {\r\n                            throw 'A Connection point needs to be a Point or an object with x and y properties.';\r\n                        }\r\n                    }\r\n                } else {\r\n                    var pts = [];\r\n                    if (isDefined(this.definers)) {\r\n                        for (var k = 0; k < this.definers.length; k++) {\r\n                            pts.push(this.definers[k].point);\r\n                        }\r\n                    }\r\n                    return pts;\r\n                }\r\n            },\r\n            allPoints: function () {\r\n                var pts = [this.sourcePoint()];\r\n                if (this.definers) {\r\n                    for (var k = 0; k < this.definers.length; k++) {\r\n                        pts.push(this.definers[k].point);\r\n                    }\r\n                }\r\n                pts.push(this.targetPoint());\r\n                return pts;\r\n            },\r\n            refresh: function () {\r\n                this._resolveConnectors();\r\n                this._refreshPath();\r\n                this._alignContent();\r\n                if (this.adorner) {\r\n                    this.adorner.refresh();\r\n                }\r\n            },\r\n            _resolveConnectors: function () {\r\n                var connection = this, sourcePoint, targetPoint, sourceConnectors, targetConnectors, source = connection.source(), target = connection.target();\r\n                if (source instanceof Point) {\r\n                    sourcePoint = source;\r\n                } else if (source instanceof Connector) {\r\n                    if (isAutoConnector(source)) {\r\n                        sourceConnectors = source.shape.connectors;\r\n                    } else {\r\n                        sourceConnectors = [source];\r\n                    }\r\n                }\r\n                if (target instanceof Point) {\r\n                    targetPoint = target;\r\n                } else if (target instanceof Connector) {\r\n                    if (isAutoConnector(target)) {\r\n                        targetConnectors = target.shape.connectors;\r\n                    } else {\r\n                        targetConnectors = [target];\r\n                    }\r\n                }\r\n                if (sourcePoint) {\r\n                    if (targetConnectors) {\r\n                        connection._resolvedTargetConnector = closestConnector(sourcePoint, targetConnectors);\r\n                    }\r\n                } else if (sourceConnectors) {\r\n                    if (targetPoint) {\r\n                        connection._resolvedSourceConnector = closestConnector(targetPoint, sourceConnectors);\r\n                    } else if (targetConnectors) {\r\n                        this._resolveAutoConnectors(sourceConnectors, targetConnectors);\r\n                    }\r\n                }\r\n            },\r\n            _resolveAutoConnectors: function (sourceConnectors, targetConnectors) {\r\n                var minNonConflict = MAXINT;\r\n                var minDist = MAXINT;\r\n                var minNonConflictSource, minNonConflictTarget;\r\n                var sourcePoint, targetPoint;\r\n                var minSource, minTarget;\r\n                var sourceConnector, targetConnector;\r\n                var sourceIdx, targetIdx;\r\n                var dist;\r\n                for (sourceIdx = 0; sourceIdx < sourceConnectors.length; sourceIdx++) {\r\n                    sourceConnector = sourceConnectors[sourceIdx];\r\n                    if (!isAutoConnector(sourceConnector)) {\r\n                        sourcePoint = sourceConnector.position();\r\n                        for (targetIdx = 0; targetIdx < targetConnectors.length; targetIdx++) {\r\n                            targetConnector = targetConnectors[targetIdx];\r\n                            if (!isAutoConnector(targetConnector)) {\r\n                                targetPoint = targetConnector.position();\r\n                                dist = math.round(sourcePoint.distanceTo(targetPoint));\r\n                                if (dist < minNonConflict && this.diagram && this._testRoutePoints(sourcePoint, targetPoint, sourceConnector, targetConnector)) {\r\n                                    minNonConflict = dist;\r\n                                    minNonConflictSource = sourceConnector;\r\n                                    minNonConflictTarget = targetConnector;\r\n                                }\r\n                                if (dist < minDist) {\r\n                                    minSource = sourceConnector;\r\n                                    minTarget = targetConnector;\r\n                                    minDist = dist;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (minNonConflictSource) {\r\n                    minSource = minNonConflictSource;\r\n                    minTarget = minNonConflictTarget;\r\n                }\r\n                this._resolvedSourceConnector = minSource;\r\n                this._resolvedTargetConnector = minTarget;\r\n            },\r\n            _testRoutePoints: function (sourcePoint, targetPoint, sourceConnector, targetConnector) {\r\n                var router = this._router;\r\n                var passRoute = true;\r\n                if (router instanceof CascadingRouter) {\r\n                    var points = router.routePoints(sourcePoint, targetPoint, sourceConnector, targetConnector), start, end, rect;\r\n                    points.unshift(sourcePoint);\r\n                    points.push(targetPoint);\r\n                    for (var idx = 1; idx < points.length; idx++) {\r\n                        start = points[idx - 1];\r\n                        end = points[idx];\r\n                        rect = new Rect(math.min(start.x, end.x), math.min(start.y, end.y), math.abs(start.x - end.x), math.abs(start.y - end.y));\r\n                        if (rect.width > 0) {\r\n                            rect.x++;\r\n                            rect.width -= 2;\r\n                        }\r\n                        if (rect.height > 0) {\r\n                            rect.y++;\r\n                            rect.height -= 2;\r\n                        }\r\n                        if (!rect.isEmpty() && this.diagram._shapesQuadTree.hitTestRect(rect)) {\r\n                            passRoute = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return passRoute;\r\n            },\r\n            redraw: function (options) {\r\n                if (options) {\r\n                    this.options = deepExtend({}, this.options, options);\r\n                    var points = this.options.points;\r\n                    if (defined(points) && points.length > 0) {\r\n                        this.points(points);\r\n                        this._refreshPath();\r\n                    }\r\n                    if (options && options.content || options.text) {\r\n                        this.content(options.content);\r\n                    }\r\n                    this.path.redraw({\r\n                        fill: options.fill,\r\n                        stroke: options.stroke,\r\n                        startCap: options.startCap,\r\n                        endCap: options.endCap\r\n                    });\r\n                }\r\n            },\r\n            clone: function () {\r\n                var json = this.serialize();\r\n                if (this.diagram && this.diagram._isEditable && defined(this.dataItem)) {\r\n                    json.options.dataItem = cloneDataItem(this.dataItem);\r\n                }\r\n                return new Connection(this.from, this.to, json.options);\r\n            },\r\n            serialize: function () {\r\n                var from = this.from.toJSON ? this.from.toJSON : this.from.toString(), to = this.to.toJSON ? this.to.toJSON : this.to.toString();\r\n                var json = deepExtend({}, {\r\n                    options: this.options,\r\n                    from: from,\r\n                    to: to\r\n                });\r\n                if (defined(this.dataItem)) {\r\n                    json.dataItem = this.dataItem.toString();\r\n                }\r\n                json.options.points = this.points();\r\n                return json;\r\n            },\r\n            _hitTest: function (value) {\r\n                if (this.visible()) {\r\n                    var p = new Point(value.x, value.y), from = this.sourcePoint(), to = this.targetPoint();\r\n                    if (value.isEmpty && !value.isEmpty() && value.contains(from) && value.contains(to)) {\r\n                        return this;\r\n                    }\r\n                    if (this._router.hitTest(p)) {\r\n                        return this;\r\n                    }\r\n                }\r\n            },\r\n            _hover: function (value) {\r\n                var color = (this.options.stroke || {}).color;\r\n                if (value && isDefined(this.options.hover.stroke.color)) {\r\n                    color = this.options.hover.stroke.color;\r\n                }\r\n                this.path.redraw({ stroke: { color: color } });\r\n            },\r\n            _refreshPath: function () {\r\n                if (!defined(this.path)) {\r\n                    return;\r\n                }\r\n                this._drawPath();\r\n                this.bounds(this._router.getBounds());\r\n            },\r\n            _drawPath: function () {\r\n                if (this._router) {\r\n                    this._router.route();\r\n                }\r\n                var source = this.sourcePoint();\r\n                var target = this.targetPoint();\r\n                var points = this.points();\r\n                this.path.redraw({ points: [source].concat(points, [target]) });\r\n            },\r\n            _clearSourceConnector: function () {\r\n                this.sourceConnector = undefined;\r\n                this._resolvedSourceConnector = undefined;\r\n            },\r\n            _clearTargetConnector: function () {\r\n                this.targetConnector = undefined;\r\n                this._resolvedTargetConnector = undefined;\r\n            },\r\n            _removeFromSourceConnector: function () {\r\n                if (this.sourceConnector) {\r\n                    Utils.remove(this.sourceConnector.connections, this);\r\n                }\r\n            },\r\n            _removeFromTargetConnector: function () {\r\n                if (this.targetConnector) {\r\n                    Utils.remove(this.targetConnector.connections, this);\r\n                }\r\n            },\r\n            toJSON: function () {\r\n                var connection = this;\r\n                var from, to, point;\r\n                if (connection.from && connection.from.toJSON) {\r\n                    from = connection.from.toJSON();\r\n                } else {\r\n                    point = connection._sourcePoint;\r\n                    from = {\r\n                        x: point.x,\r\n                        y: point.y\r\n                    };\r\n                }\r\n                if (connection.to && connection.to.toJSON) {\r\n                    to = connection.to.toJSON();\r\n                } else {\r\n                    point = connection._targetPoint;\r\n                    to = {\r\n                        x: point.x,\r\n                        y: point.y\r\n                    };\r\n                }\r\n                return {\r\n                    from: from,\r\n                    to: to\r\n                };\r\n            }\r\n        });\r\n        var Diagram = Widget.extend({\r\n            init: function (element, userOptions) {\r\n                var that = this;\r\n                kendo.destroy(element);\r\n                Widget.fn.init.call(that, element, userOptions);\r\n                that._initTheme();\r\n                that._initElements();\r\n                that._extendLayoutOptions(that.options);\r\n                that._initDefaults(userOptions);\r\n                that._interactionDefaults();\r\n                that._initCanvas();\r\n                that.mainLayer = new Group({ id: 'main-layer' });\r\n                that.canvas.append(that.mainLayer);\r\n                that._shapesQuadTree = new ShapesQuadTree(that);\r\n                that._pan = new Point();\r\n                that._adorners = [];\r\n                that.adornerLayer = new Group({ id: 'adorner-layer' });\r\n                that.canvas.append(that.adornerLayer);\r\n                that._createHandlers();\r\n                that._initialize();\r\n                that._resizingAdorner = new ResizingAdorner(that, { editable: that.options.editable });\r\n                that._connectorsAdorner = new ConnectorsAdorner(that);\r\n                that._adorn(that._resizingAdorner, true);\r\n                that._adorn(that._connectorsAdorner, true);\r\n                that.selector = new Selector(that);\r\n                that._clipboard = [];\r\n                that.pauseMouseHandlers = false;\r\n                that._fetchFreshData();\r\n                that._createGlobalToolBar();\r\n                that._createOptionElements();\r\n                that.zoom(that.options.zoom);\r\n                that.canvas.draw();\r\n            },\r\n            options: {\r\n                name: 'Diagram',\r\n                theme: 'default',\r\n                layout: '',\r\n                zoomRate: 0.1,\r\n                zoom: 1,\r\n                zoomMin: 0,\r\n                zoomMax: 2,\r\n                dataSource: {},\r\n                draggable: true,\r\n                template: '',\r\n                autoBind: true,\r\n                editable: {\r\n                    rotate: {},\r\n                    resize: {},\r\n                    text: true,\r\n                    tools: [],\r\n                    drag: {\r\n                        snap: {\r\n                            size: 10,\r\n                            angle: 10\r\n                        }\r\n                    },\r\n                    remove: true\r\n                },\r\n                pannable: {},\r\n                selectable: { key: 'none' },\r\n                tooltip: {\r\n                    enabled: true,\r\n                    format: '{0}'\r\n                },\r\n                copy: {\r\n                    enabled: true,\r\n                    offsetX: 20,\r\n                    offsetY: 20\r\n                },\r\n                shapeDefaults: diagram.shapeDefaults({ undoable: true }),\r\n                connectionDefaults: {\r\n                    editable: { tools: [] },\r\n                    type: CASCADING\r\n                },\r\n                shapes: [],\r\n                connections: []\r\n            },\r\n            events: [\r\n                ZOOM_END,\r\n                ZOOM_START,\r\n                PAN,\r\n                SELECT,\r\n                ITEMROTATE,\r\n                ITEMBOUNDSCHANGE,\r\n                CHANGE,\r\n                CLICK,\r\n                MOUSE_ENTER,\r\n                MOUSE_LEAVE,\r\n                'toolBarClick',\r\n                'save',\r\n                'cancel',\r\n                'edit',\r\n                'remove',\r\n                'add',\r\n                'dataBound',\r\n                DRAG_START,\r\n                DRAG,\r\n                DRAG_END\r\n            ],\r\n            items: function () {\r\n                return $();\r\n            },\r\n            _createGlobalToolBar: function () {\r\n                var editable = this.options.editable;\r\n                if (editable) {\r\n                    var tools = editable.tools;\r\n                    if (this._isEditable && tools !== false && (!tools || tools.length === 0)) {\r\n                        tools = [\r\n                            'createShape',\r\n                            'undo',\r\n                            'redo',\r\n                            'rotateClockwise',\r\n                            'rotateAnticlockwise'\r\n                        ];\r\n                    }\r\n                    if (tools && tools.length) {\r\n                        this.toolBar = new DiagramToolBar(this, {\r\n                            tools: tools || {},\r\n                            click: proxy(this._toolBarClick, this),\r\n                            modal: false\r\n                        });\r\n                        this.toolBar.element.css({ textAlign: 'left' });\r\n                        this.element.prepend(this.toolBar.element);\r\n                        this._resize();\r\n                    }\r\n                }\r\n            },\r\n            createShape: function () {\r\n                if (this.editor && this.editor.end() || !this.editor) {\r\n                    var dataSource = this.dataSource;\r\n                    var view = dataSource.view() || [];\r\n                    var index = view.length;\r\n                    var model = createModel(dataSource, {});\r\n                    var shape = this._createShape(model, {});\r\n                    if (!this.trigger('add', { shape: shape })) {\r\n                        dataSource.insert(index, model);\r\n                        var inactiveItem = this._inactiveShapeItems.getByUid(model.uid);\r\n                        inactiveItem.element = shape;\r\n                        this.edit(shape);\r\n                    }\r\n                }\r\n            },\r\n            _createShape: function (dataItem, options) {\r\n                options = deepExtend({}, this.options.shapeDefaults, options);\r\n                options.dataItem = dataItem;\r\n                var shape = new Shape(options, this);\r\n                return shape;\r\n            },\r\n            createConnection: function () {\r\n                if (this.editor && this.editor.end() || !this.editor) {\r\n                    var connectionsDataSource = this.connectionsDataSource;\r\n                    var view = connectionsDataSource.view() || [];\r\n                    var index = view.length;\r\n                    var model = createModel(connectionsDataSource, {});\r\n                    var connection = this._createConnection(model);\r\n                    if (!this.trigger('add', { connection: connection })) {\r\n                        this._connectionsDataMap[model.uid] = connection;\r\n                        connectionsDataSource.insert(index, model);\r\n                        this.addConnection(connection, false);\r\n                        this.edit(connection);\r\n                    }\r\n                }\r\n            },\r\n            _createConnection: function (dataItem, source, target) {\r\n                var options = deepExtend({}, this.options.connectionDefaults);\r\n                options.dataItem = dataItem;\r\n                var connection = new Connection(source || new Point(), target || new Point(), options);\r\n                return connection;\r\n            },\r\n            editModel: function (dataItem, editorType) {\r\n                this.cancelEdit();\r\n                var editors, template;\r\n                var editable = this.options.editable;\r\n                if (editorType == 'shape') {\r\n                    editors = editable.shapeEditors;\r\n                    template = editable.shapeTemplate;\r\n                } else if (editorType == 'connection') {\r\n                    var connectionSelectorHandler = proxy(connectionSelector, this);\r\n                    editors = deepExtend({}, {\r\n                        from: connectionSelectorHandler,\r\n                        to: connectionSelectorHandler\r\n                    }, editable.connectionEditors);\r\n                    template = editable.connectionTemplate;\r\n                } else {\r\n                    return;\r\n                }\r\n                this.editor = new PopupEditor(this.element, {\r\n                    update: proxy(this._update, this),\r\n                    cancel: proxy(this._cancel, this),\r\n                    model: dataItem,\r\n                    type: editorType,\r\n                    target: this,\r\n                    editors: editors,\r\n                    template: template\r\n                });\r\n                this.trigger('edit', this._editArgs());\r\n            },\r\n            edit: function (item) {\r\n                if (item.dataItem) {\r\n                    var editorType = item instanceof Shape ? 'shape' : 'connection';\r\n                    this.editModel(item.dataItem, editorType);\r\n                }\r\n            },\r\n            cancelEdit: function () {\r\n                if (this.editor) {\r\n                    this._getEditDataSource().cancelChanges(this.editor.model);\r\n                    this._destroyEditor();\r\n                }\r\n            },\r\n            saveEdit: function () {\r\n                if (this.editor && this.editor.end() && !this.trigger('save', this._editArgs())) {\r\n                    this._getEditDataSource().sync();\r\n                }\r\n            },\r\n            _update: function () {\r\n                if (this.editor && this.editor.end() && !this.trigger('save', this._editArgs())) {\r\n                    this._getEditDataSource().sync();\r\n                    this._destroyEditor();\r\n                }\r\n            },\r\n            _cancel: function () {\r\n                if (this.editor && !this.trigger('cancel', this._editArgs())) {\r\n                    var model = this.editor.model;\r\n                    this._getEditDataSource().cancelChanges(model);\r\n                    var element = this._connectionsDataMap[model.uid] || this._dataMap[model.id];\r\n                    if (element) {\r\n                        element._setOptionsFromModel(model);\r\n                    }\r\n                    this._destroyEditor();\r\n                }\r\n            },\r\n            _getEditDataSource: function () {\r\n                return this.editor.options.type === 'shape' ? this.dataSource : this.connectionsDataSource;\r\n            },\r\n            _editArgs: function () {\r\n                var result = { container: this.editor.wrapper };\r\n                result[this.editor.options.type] = this.editor.model;\r\n                return result;\r\n            },\r\n            _destroyEditor: function () {\r\n                if (this.editor) {\r\n                    this.editor.close();\r\n                    this.editor = null;\r\n                }\r\n            },\r\n            _initElements: function () {\r\n                this.wrapper = this.element.empty().css('position', 'relative').attr('tabindex', 0).addClass('k-widget k-diagram');\r\n                this.scrollable = $('<div />').appendTo(this.element);\r\n            },\r\n            _initDefaults: function (userOptions) {\r\n                var options = this.options;\r\n                var editable = options.editable;\r\n                var shapeDefaults = options.shapeDefaults;\r\n                var connectionDefaults = options.connectionDefaults;\r\n                var userShapeDefaults = (userOptions || {}).shapeDefaults;\r\n                if (editable === false) {\r\n                    shapeDefaults.editable = false;\r\n                    connectionDefaults.editable = false;\r\n                } else {\r\n                    copyDefaultOptions(editable, shapeDefaults.editable, [\r\n                        'drag',\r\n                        'remove',\r\n                        'connect'\r\n                    ]);\r\n                    copyDefaultOptions(editable, connectionDefaults.editable, [\r\n                        'drag',\r\n                        'remove'\r\n                    ]);\r\n                }\r\n                if (userShapeDefaults && userShapeDefaults.connectors) {\r\n                    options.shapeDefaults.connectors = userShapeDefaults.connectors;\r\n                }\r\n            },\r\n            _interactionDefaults: function () {\r\n                var options = this.options;\r\n                var selectable = options.selectable;\r\n                var pannable = options.pannable;\r\n                var mobile = kendo.support.mobileOS;\r\n                if (selectable && !defined(selectable.multiple)) {\r\n                    options.selectable = deepExtend({ multiple: mobile ? false : true }, options.selectable);\r\n                }\r\n                if (pannable && !defined(pannable.key)) {\r\n                    options.pannable = deepExtend({ key: mobile ? 'none' : 'ctrl' }, options.pannable);\r\n                }\r\n            },\r\n            _initCanvas: function () {\r\n                var canvasContainer = $('<div class=\\'k-layer\\'></div>').appendTo(this.scrollable)[0];\r\n                var viewPort = this.viewport();\r\n                this.canvas = new Canvas(canvasContainer, {\r\n                    width: viewPort.width || DEFAULT_CANVAS_WIDTH,\r\n                    height: viewPort.height || DEFAULT_CANVAS_HEIGHT\r\n                });\r\n            },\r\n            _createHandlers: function () {\r\n                var that = this;\r\n                var element = that.element;\r\n                element.on(MOUSEWHEEL_NS, proxy(that._wheel, that)).on('keydown' + NS, proxy(that._keydown, that));\r\n                that._userEvents = new kendo.UserEvents(this.scrollable, {\r\n                    multiTouch: true,\r\n                    fastTap: true,\r\n                    tap: proxy(that._tap, that),\r\n                    start: proxy(that._dragStart, that),\r\n                    move: proxy(that._drag, that),\r\n                    end: proxy(that._dragEnd, that),\r\n                    gesturestart: proxy(that._gestureStart, that),\r\n                    gesturechange: proxy(that._gestureChange, that),\r\n                    gestureend: proxy(that._gestureEnd, that)\r\n                });\r\n                that.toolService = new ToolService(that);\r\n                this.scrollable.on('mouseover' + NS, proxy(that._mouseover, that)).on('mouseout' + NS, proxy(that._mouseout, that)).on('mousemove' + NS, proxy(that._mouseMove, that));\r\n                this._syncHandler = proxy(that._syncChanges, that);\r\n                that._resizeHandler = proxy(that.resize, that, false);\r\n                kendo.onResize(that._resizeHandler);\r\n                this.bind(ZOOM_START, proxy(that._destroyToolBar, that));\r\n                this.bind(PAN, proxy(that._destroyToolBar, that));\r\n            },\r\n            _dragStart: function (e) {\r\n                this._pauseMouseHandlers = true;\r\n                var point = this._eventPositions(e, true);\r\n                var event = e.event;\r\n                if (this.toolService.start(point, this._meta(event))) {\r\n                    this._destroyToolBar();\r\n                    event.preventDefault();\r\n                }\r\n            },\r\n            _drag: function (e) {\r\n                var p = this._eventPositions(e);\r\n                var event = e.event;\r\n                if (this.toolService.move(p, this._meta(event))) {\r\n                    event.preventDefault();\r\n                }\r\n            },\r\n            _dragEnd: function (e) {\r\n                this._pauseMouseHandlers = false;\r\n                var p = this._eventPositions(e);\r\n                var event = e.event;\r\n                if (this.toolService.end(p, this._meta(event))) {\r\n                    this._createToolBar();\r\n                    event.preventDefault();\r\n                }\r\n            },\r\n            _mouseMove: function (e) {\r\n                if (!this._pauseMouseHandlers && (e.which === 0 || e.which === 1)) {\r\n                    var p = this._eventPositions(e);\r\n                    this.toolService._updateHoveredItem(p);\r\n                    this.toolService._updateCursor(p);\r\n                }\r\n            },\r\n            _tap: function (e) {\r\n                var toolService = this.toolService;\r\n                var selectable = this.options.selectable;\r\n                var point = this._eventPositions(e);\r\n                var focused = this.focus();\r\n                toolService._updateHoveredItem(point);\r\n                if (toolService.hoveredItem) {\r\n                    var item = toolService.hoveredItem;\r\n                    this.trigger('click', {\r\n                        item: item,\r\n                        point: point\r\n                    });\r\n                    if (selectable && item.options.selectable !== false) {\r\n                        var multiple = selectable.multiple !== false;\r\n                        var ctrlPressed = kendo.support.mobileOS || this._meta(e.event).ctrlKey;\r\n                        if (item.isSelected) {\r\n                            if (ctrlPressed) {\r\n                                this._destroyToolBar();\r\n                                item.select(false);\r\n                            } else {\r\n                                this._createToolBar(focused);\r\n                            }\r\n                        } else {\r\n                            this._destroyToolBar();\r\n                            this.select(item, { addToSelection: multiple && ctrlPressed });\r\n                            this._createToolBar(focused);\r\n                        }\r\n                    }\r\n                } else if (selectable) {\r\n                    this._destroyToolBar();\r\n                    this.deselect();\r\n                }\r\n            },\r\n            _keydown: function (e) {\r\n                if (this.toolService.keyDown(e.keyCode, this._meta(e))) {\r\n                    e.preventDefault();\r\n                }\r\n            },\r\n            _wheel: function (e) {\r\n                var delta = mwDelta(e), p = this._eventPositions(e), meta = deepExtend(this._meta(e), { delta: delta });\r\n                if (this.toolService.wheel(p, meta)) {\r\n                    e.preventDefault();\r\n                }\r\n            },\r\n            _meta: function (e) {\r\n                return {\r\n                    ctrlKey: e.ctrlKey,\r\n                    metaKey: e.metaKey,\r\n                    altKey: e.altKey,\r\n                    shiftKey: e.shiftKey\r\n                };\r\n            },\r\n            _eventPositions: function (e, start) {\r\n                var point;\r\n                if (e.touch) {\r\n                    var field = start ? 'startLocation' : 'location';\r\n                    point = new Point(e.x[field], e.y[field]);\r\n                } else {\r\n                    point = new Point(e.pageX, e.pageY);\r\n                }\r\n                return this.documentToModel(point);\r\n            },\r\n            _gestureStart: function (e) {\r\n                this._destroyToolBar();\r\n                this.scroller.disable();\r\n                var initialCenter = this.documentToModel(new Point(e.center.x, e.center.y));\r\n                var eventArgs = {\r\n                    point: initialCenter,\r\n                    zoom: this.zoom()\r\n                };\r\n                if (this.trigger(ZOOM_START, eventArgs)) {\r\n                    return;\r\n                }\r\n                this._gesture = e;\r\n                this._initialCenter = initialCenter;\r\n            },\r\n            _gestureChange: function (e) {\r\n                var previousGesture = this._gesture;\r\n                var initialCenter = this._initialCenter;\r\n                var center = this.documentToView(new Point(e.center.x, e.center.y));\r\n                var scaleDelta = e.distance / previousGesture.distance;\r\n                var zoom = this._zoom;\r\n                var updateZoom = false;\r\n                if (math.abs(scaleDelta - 1) >= MOBILE_ZOOM_RATE) {\r\n                    this._zoom = zoom = this._getValidZoom(zoom * scaleDelta);\r\n                    this.options.zoom = zoom;\r\n                    this._gesture = e;\r\n                    updateZoom = true;\r\n                }\r\n                var zoomedPoint = initialCenter.times(zoom);\r\n                var pan = center.minus(zoomedPoint);\r\n                if (updateZoom || this._pan.distanceTo(pan) >= MOBILE_PAN_DISTANCE) {\r\n                    this._panTransform(pan);\r\n                    this._updateAdorners();\r\n                }\r\n                e.preventDefault();\r\n            },\r\n            _gestureEnd: function () {\r\n                if (this.options.pannable !== false) {\r\n                    this.scroller.enable();\r\n                }\r\n                this.trigger(ZOOM_END, {\r\n                    point: this._initialCenter,\r\n                    zoom: this.zoom()\r\n                });\r\n            },\r\n            _resize: function () {\r\n                var viewport = this.viewport();\r\n                if (this.canvas) {\r\n                    this.canvas.size(viewport);\r\n                }\r\n                if (this.scrollable && this.toolBar) {\r\n                    this.scrollable.height(viewport.height);\r\n                }\r\n            },\r\n            _mouseover: function (e) {\r\n                var node = e.target._kendoNode;\r\n                if (node && node.srcElement._hover) {\r\n                    node.srcElement._hover(true, node.srcElement);\r\n                }\r\n            },\r\n            _mouseout: function (e) {\r\n                var node = e.target._kendoNode;\r\n                if (node && node.srcElement._hover) {\r\n                    node.srcElement._hover(false, node.srcElement);\r\n                }\r\n            },\r\n            _initTheme: function () {\r\n                var that = this, themes = dataviz.ui.themes || {}, themeName = ((that.options || {}).theme || '').toLowerCase(), themeOptions = (themes[themeName] || {}).diagram;\r\n                that.options = deepExtend({}, themeOptions, that.options);\r\n                if (that.options.editable === true) {\r\n                    deepExtend(that.options, { editable: (themeOptions || {}).editable });\r\n                }\r\n            },\r\n            _createOptionElements: function () {\r\n                var options = this.options;\r\n                var shapesLength = options.shapes.length;\r\n                if (shapesLength) {\r\n                    this._createShapes();\r\n                }\r\n                if (options.connections.length) {\r\n                    this._createConnections();\r\n                }\r\n                if (shapesLength && options.layout) {\r\n                    this.layout(options.layout);\r\n                }\r\n            },\r\n            _createShapes: function () {\r\n                var that = this, options = that.options, shapes = options.shapes, shape, i;\r\n                for (i = 0; i < shapes.length; i++) {\r\n                    shape = shapes[i];\r\n                    that.addShape(shape);\r\n                }\r\n            },\r\n            _createConnections: function () {\r\n                var diagram = this, options = diagram.options, defaults = options.connectionDefaults, connections = options.connections, conn, source, target, i;\r\n                for (i = 0; i < connections.length; i++) {\r\n                    conn = connections[i];\r\n                    source = diagram._findConnectionTarget(conn.from);\r\n                    target = diagram._findConnectionTarget(conn.to);\r\n                    diagram.connect(source, target, deepExtend({}, defaults, conn));\r\n                }\r\n            },\r\n            _findConnectionTarget: function (options) {\r\n                options = options || {};\r\n                var diagram = this;\r\n                var shapeId = isString(options) ? options : options.shapeId || options.id;\r\n                var target;\r\n                if (shapeId) {\r\n                    target = diagram.getShapeById(shapeId);\r\n                    if (options.connector) {\r\n                        target = target.getConnector(options.connector);\r\n                    }\r\n                } else {\r\n                    target = new Point(options.x || 0, options.y || 0);\r\n                }\r\n                return target;\r\n            },\r\n            destroy: function () {\r\n                var that = this;\r\n                Widget.fn.destroy.call(that);\r\n                if (this._userEvents) {\r\n                    this._userEvents.destroy();\r\n                }\r\n                kendo.unbindResize(that._resizeHandler);\r\n                that.clear();\r\n                that.element.off(NS);\r\n                that.scroller.wrapper.off(NS);\r\n                that.canvas.destroy(true);\r\n                that.canvas = undefined;\r\n                that._destroyEditor();\r\n                that.destroyScroller();\r\n                that._destroyGlobalToolBar();\r\n                that._destroyToolBar();\r\n            },\r\n            destroyScroller: function () {\r\n                var scroller = this.scroller;\r\n                if (!scroller) {\r\n                    return;\r\n                }\r\n                scroller.destroy();\r\n                scroller.element.remove();\r\n                this.scroller = null;\r\n            },\r\n            save: function () {\r\n                var json = {\r\n                    shapes: [],\r\n                    connections: []\r\n                };\r\n                var i, connection, shape;\r\n                for (i = 0; i < this.shapes.length; i++) {\r\n                    shape = this.shapes[i];\r\n                    if (shape.options.serializable) {\r\n                        json.shapes.push(shape.options);\r\n                    }\r\n                }\r\n                for (i = 0; i < this.connections.length; i++) {\r\n                    connection = this.connections[i];\r\n                    json.connections.push(deepExtend({}, connection.options, connection.toJSON()));\r\n                }\r\n                return json;\r\n            },\r\n            focus: function () {\r\n                if (!this.element.is(kendo._activeElement())) {\r\n                    var element = this.element, scrollContainer = element[0], containers = [], offsets = [], documentElement = document.documentElement, i;\r\n                    do {\r\n                        scrollContainer = scrollContainer.parentNode;\r\n                        if (scrollContainer.scrollHeight > scrollContainer.clientHeight) {\r\n                            containers.push(scrollContainer);\r\n                            offsets.push(scrollContainer.scrollTop);\r\n                        }\r\n                    } while (scrollContainer != documentElement);\r\n                    element.focus();\r\n                    for (i = 0; i < containers.length; i++) {\r\n                        containers[i].scrollTop = offsets[i];\r\n                    }\r\n                    return true;\r\n                }\r\n            },\r\n            load: function (options) {\r\n                this.clear();\r\n                this.setOptions(options);\r\n                this._createShapes();\r\n                this._createConnections();\r\n            },\r\n            setOptions: function (options) {\r\n                deepExtend(this.options, options);\r\n            },\r\n            clear: function () {\r\n                var that = this;\r\n                that.select(false);\r\n                that.mainLayer.clear();\r\n                that._shapesQuadTree.clear();\r\n                that._initialize();\r\n            },\r\n            connect: function (source, target, options) {\r\n                var connection;\r\n                if (this.connectionsDataSource && this._isEditable) {\r\n                    var dataItem = this.connectionsDataSource.add({});\r\n                    connection = this._connectionsDataMap[dataItem.uid];\r\n                    connection.source(source);\r\n                    connection.target(target);\r\n                    connection.redraw(options);\r\n                    connection.updateModel();\r\n                } else {\r\n                    connection = new Connection(source, target, deepExtend({}, this.options.connectionDefaults, options));\r\n                    this.addConnection(connection);\r\n                }\r\n                return connection;\r\n            },\r\n            connected: function (source, target) {\r\n                for (var i = 0; i < this.connections.length; i++) {\r\n                    var c = this.connections[i];\r\n                    if (c.from == source && c.to == target) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            addConnection: function (connection, undoable) {\r\n                if (undoable !== false) {\r\n                    this.undoRedoService.add(new diagram.AddConnectionUnit(connection, this), false);\r\n                }\r\n                connection.diagram = this;\r\n                connection._setOptionsFromModel();\r\n                connection.refresh();\r\n                this.mainLayer.append(connection.visual);\r\n                this.connections.push(connection);\r\n                this.trigger(CHANGE, {\r\n                    added: [connection],\r\n                    removed: []\r\n                });\r\n                return connection;\r\n            },\r\n            _addConnection: function (connection, undoable) {\r\n                var connectionsDataSource = this.connectionsDataSource;\r\n                var dataItem;\r\n                if (connectionsDataSource && this._isEditable) {\r\n                    dataItem = createModel(connectionsDataSource, cloneDataItem(connection.dataItem));\r\n                    connection.dataItem = dataItem;\r\n                    connection.updateModel();\r\n                    if (!this.trigger('add', { connection: connection })) {\r\n                        this._connectionsDataMap[dataItem.uid] = connection;\r\n                        connectionsDataSource.add(dataItem);\r\n                        this.addConnection(connection, undoable);\r\n                        connection._updateConnectors();\r\n                        return connection;\r\n                    }\r\n                } else if (!this.trigger('add', { connection: connection })) {\r\n                    this.addConnection(connection, undoable);\r\n                    connection._updateConnectors();\r\n                    return connection;\r\n                }\r\n            },\r\n            addShape: function (item, undoable) {\r\n                var shape, shapeDefaults = this.options.shapeDefaults;\r\n                if (item instanceof Shape) {\r\n                    shape = item;\r\n                } else if (!(item instanceof kendo.Class)) {\r\n                    shapeDefaults = deepExtend({}, shapeDefaults, item || {});\r\n                    shape = new Shape(shapeDefaults, this);\r\n                } else {\r\n                    return;\r\n                }\r\n                if (undoable !== false) {\r\n                    this.undoRedoService.add(new diagram.AddShapeUnit(shape, this), false);\r\n                }\r\n                this.shapes.push(shape);\r\n                if (shape.diagram !== this) {\r\n                    this._shapesQuadTree.insert(shape);\r\n                    shape.diagram = this;\r\n                }\r\n                this.mainLayer.append(shape.visual);\r\n                this.trigger(CHANGE, {\r\n                    added: [shape],\r\n                    removed: []\r\n                });\r\n                return shape;\r\n            },\r\n            _addShape: function (shape, undoable) {\r\n                var that = this;\r\n                var dataSource = that.dataSource;\r\n                var dataItem;\r\n                if (dataSource && this._isEditable) {\r\n                    dataItem = createModel(dataSource, cloneDataItem(shape.dataItem));\r\n                    shape.dataItem = dataItem;\r\n                    shape.updateModel();\r\n                    if (!this.trigger('add', { shape: shape })) {\r\n                        this.dataSource.add(dataItem);\r\n                        var inactiveItem = this._inactiveShapeItems.getByUid(dataItem.uid);\r\n                        inactiveItem.element = shape;\r\n                        inactiveItem.undoable = undoable;\r\n                        return shape;\r\n                    }\r\n                } else if (!this.trigger('add', { shape: shape })) {\r\n                    return this.addShape(shape, undoable);\r\n                }\r\n            },\r\n            remove: function (items, undoable) {\r\n                items = isArray(items) ? items.slice(0) : [items];\r\n                var elements = splitDiagramElements(items);\r\n                var shapes = elements.shapes;\r\n                var connections = elements.connections;\r\n                var i;\r\n                if (!defined(undoable)) {\r\n                    undoable = true;\r\n                }\r\n                if (undoable) {\r\n                    this.undoRedoService.begin();\r\n                }\r\n                this._suspendModelRefresh();\r\n                for (i = shapes.length - 1; i >= 0; i--) {\r\n                    this._removeItem(shapes[i], undoable, connections);\r\n                }\r\n                for (i = connections.length - 1; i >= 0; i--) {\r\n                    this._removeItem(connections[i], undoable);\r\n                }\r\n                this._resumeModelRefresh();\r\n                if (undoable) {\r\n                    this.undoRedoService.commit(false);\r\n                }\r\n                this.trigger(CHANGE, {\r\n                    added: [],\r\n                    removed: items\r\n                });\r\n            },\r\n            _removeShapeDataItem: function (item) {\r\n                if (this._isEditable) {\r\n                    this.dataSource.remove(item.dataItem);\r\n                    delete this._dataMap[item.dataItem.id];\r\n                }\r\n            },\r\n            _removeConnectionDataItem: function (item) {\r\n                if (this._isEditable) {\r\n                    this.connectionsDataSource.remove(item.dataItem);\r\n                    delete this._connectionsDataMap[item.dataItem.uid];\r\n                }\r\n            },\r\n            _triggerRemove: function (items) {\r\n                var toRemove = [];\r\n                var item, args, editable;\r\n                for (var idx = 0; idx < items.length; idx++) {\r\n                    item = items[idx];\r\n                    editable = item.options.editable;\r\n                    if (item instanceof Shape) {\r\n                        args = { shape: item };\r\n                    } else {\r\n                        args = { connection: item };\r\n                    }\r\n                    if (editable && editable.remove !== false && !this.trigger('remove', args)) {\r\n                        toRemove.push(item);\r\n                    }\r\n                }\r\n                return toRemove;\r\n            },\r\n            undo: function () {\r\n                this.undoRedoService.undo();\r\n            },\r\n            redo: function () {\r\n                this.undoRedoService.redo();\r\n            },\r\n            select: function (item, options) {\r\n                if (isDefined(item)) {\r\n                    options = deepExtend({ addToSelection: false }, options);\r\n                    var addToSelection = options.addToSelection, items = [], selected = [], i, element;\r\n                    if (!addToSelection) {\r\n                        this.deselect();\r\n                    }\r\n                    this._internalSelection = true;\r\n                    if (item instanceof Array) {\r\n                        items = item;\r\n                    } else if (item instanceof DiagramElement) {\r\n                        items = [item];\r\n                    }\r\n                    for (i = 0; i < items.length; i++) {\r\n                        element = items[i];\r\n                        if (element.select(true)) {\r\n                            selected.push(element);\r\n                        }\r\n                    }\r\n                    this._selectionChanged(selected, []);\r\n                    this._internalSelection = false;\r\n                } else {\r\n                    return this._selectedItems;\r\n                }\r\n            },\r\n            selectAll: function () {\r\n                this.select(this.shapes.concat(this.connections));\r\n            },\r\n            selectArea: function (rect) {\r\n                var i, items, item;\r\n                this._internalSelection = true;\r\n                var selected = [];\r\n                if (rect instanceof Rect) {\r\n                    items = this.shapes.concat(this.connections);\r\n                    for (i = 0; i < items.length; i++) {\r\n                        item = items[i];\r\n                        if ((!rect || item._hitTest(rect)) && item.options.enable) {\r\n                            if (item.select(true)) {\r\n                                selected.push(item);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this._selectionChanged(selected, []);\r\n                this._internalSelection = false;\r\n            },\r\n            deselect: function (item) {\r\n                this._internalSelection = true;\r\n                var deselected = [], items = [], element, i;\r\n                if (item instanceof Array) {\r\n                    items = item;\r\n                } else if (item instanceof DiagramElement) {\r\n                    items.push(item);\r\n                } else if (!isDefined(item)) {\r\n                    items = this._selectedItems.slice(0);\r\n                }\r\n                for (i = 0; i < items.length; i++) {\r\n                    element = items[i];\r\n                    if (element.select(false)) {\r\n                        deselected.push(element);\r\n                    }\r\n                }\r\n                this._selectionChanged([], deselected);\r\n                this._internalSelection = false;\r\n            },\r\n            toFront: function (items, undoable) {\r\n                if (!items) {\r\n                    items = this._selectedItems.slice();\r\n                }\r\n                var result = this._getDiagramItems(items), indices;\r\n                if (!defined(undoable) || undoable) {\r\n                    indices = indicesOfItems(this.mainLayer, result.visuals);\r\n                    var unit = new ToFrontUnit(this, items, indices);\r\n                    this.undoRedoService.add(unit);\r\n                } else {\r\n                    this.mainLayer.toFront(result.visuals);\r\n                    this._fixOrdering(result, true);\r\n                }\r\n            },\r\n            toBack: function (items, undoable) {\r\n                if (!items) {\r\n                    items = this._selectedItems.slice();\r\n                }\r\n                var result = this._getDiagramItems(items), indices;\r\n                if (!defined(undoable) || undoable) {\r\n                    indices = indicesOfItems(this.mainLayer, result.visuals);\r\n                    var unit = new ToBackUnit(this, items, indices);\r\n                    this.undoRedoService.add(unit);\r\n                } else {\r\n                    this.mainLayer.toBack(result.visuals);\r\n                    this._fixOrdering(result, false);\r\n                }\r\n            },\r\n            bringIntoView: function (item, options) {\r\n                var viewport = this.viewport();\r\n                var aligner = new diagram.RectAlign(viewport);\r\n                var current, rect, original, newPan;\r\n                if (viewport.width === 0 || viewport.height === 0) {\r\n                    return;\r\n                }\r\n                options = deepExtend({\r\n                    animate: false,\r\n                    align: 'center middle'\r\n                }, options);\r\n                if (options.align == 'none') {\r\n                    options.align = 'center middle';\r\n                }\r\n                if (item instanceof DiagramElement) {\r\n                    rect = item.bounds(TRANSFORMED);\r\n                } else if (isArray(item)) {\r\n                    rect = this.boundingBox(item);\r\n                } else if (item instanceof Rect) {\r\n                    rect = item.clone();\r\n                }\r\n                original = rect.clone();\r\n                rect.zoom(this._zoom);\r\n                if (rect.width > viewport.width || rect.height > viewport.height) {\r\n                    this._zoom = this._getValidZoom(math.min(viewport.width / original.width, viewport.height / original.height));\r\n                    rect = original.clone().zoom(this._zoom);\r\n                }\r\n                this._zoomMainLayer();\r\n                current = rect.clone();\r\n                aligner.align(rect, options.align);\r\n                newPan = rect.topLeft().minus(current.topLeft());\r\n                this.pan(newPan.times(-1), options.animate);\r\n            },\r\n            alignShapes: function (direction) {\r\n                if (isUndefined(direction)) {\r\n                    direction = 'Left';\r\n                }\r\n                var items = this.select(), val, item, i;\r\n                if (items.length === 0) {\r\n                    return;\r\n                }\r\n                switch (direction.toLowerCase()) {\r\n                case 'left':\r\n                case 'top':\r\n                    val = MAX_VALUE;\r\n                    break;\r\n                case 'right':\r\n                case 'bottom':\r\n                    val = MIN_VALUE;\r\n                    break;\r\n                }\r\n                for (i = 0; i < items.length; i++) {\r\n                    item = items[i];\r\n                    if (item instanceof Shape) {\r\n                        switch (direction.toLowerCase()) {\r\n                        case 'left':\r\n                            val = math.min(val, item.options.x);\r\n                            break;\r\n                        case 'top':\r\n                            val = math.min(val, item.options.y);\r\n                            break;\r\n                        case 'right':\r\n                            val = math.max(val, item.options.x);\r\n                            break;\r\n                        case 'bottom':\r\n                            val = math.max(val, item.options.y);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                var undoStates = [];\r\n                var shapes = [];\r\n                for (i = 0; i < items.length; i++) {\r\n                    item = items[i];\r\n                    if (item instanceof Shape) {\r\n                        shapes.push(item);\r\n                        undoStates.push(item.bounds());\r\n                        switch (direction.toLowerCase()) {\r\n                        case 'left':\r\n                        case 'right':\r\n                            item.position(new Point(val, item.options.y));\r\n                            break;\r\n                        case 'top':\r\n                        case 'bottom':\r\n                            item.position(new Point(item.options.x, val));\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                var unit = new diagram.TransformUnit(shapes, undoStates);\r\n                this.undoRedoService.add(unit, false);\r\n            },\r\n            zoom: function (zoom, options) {\r\n                if (zoom) {\r\n                    var staticPoint = options ? options.point : new diagram.Point(0, 0);\r\n                    zoom = this._zoom = this._getValidZoom(zoom);\r\n                    if (!isUndefined(staticPoint)) {\r\n                        staticPoint = new diagram.Point(math.round(staticPoint.x), math.round(staticPoint.y));\r\n                        var zoomedPoint = staticPoint.times(zoom);\r\n                        var viewportVector = this.modelToView(staticPoint);\r\n                        var raw = viewportVector.minus(zoomedPoint);\r\n                        this._storePan(new diagram.Point(math.round(raw.x), math.round(raw.y)));\r\n                    }\r\n                    if (options) {\r\n                        options.zoom = zoom;\r\n                    }\r\n                    this._panTransform();\r\n                    this.canvas.surface.hideTooltip();\r\n                    this._updateAdorners();\r\n                }\r\n                return this._zoom;\r\n            },\r\n            _getPan: function (pan) {\r\n                var canvas = this.canvas;\r\n                if (!canvas.translate) {\r\n                    pan = pan.plus(this._pan);\r\n                }\r\n                return pan;\r\n            },\r\n            pan: function (pan, animate) {\r\n                if (pan instanceof Point) {\r\n                    var that = this;\r\n                    var scroller = that.scroller;\r\n                    pan = that._getPan(pan);\r\n                    pan = pan.times(-1);\r\n                    if (animate) {\r\n                        scroller.animatedScrollTo(pan.x, pan.y, function () {\r\n                            that._updateAdorners();\r\n                        });\r\n                    } else {\r\n                        scroller.scrollTo(pan.x, pan.y);\r\n                        that._updateAdorners();\r\n                    }\r\n                } else {\r\n                    return this._pan.times(-1);\r\n                }\r\n            },\r\n            viewport: function () {\r\n                var element = this.element;\r\n                var width = element.width();\r\n                var height = element.height();\r\n                if (this.toolBar) {\r\n                    height -= this.toolBar.element.outerHeight();\r\n                }\r\n                return new Rect(0, 0, width, height);\r\n            },\r\n            copy: function () {\r\n                if (this.options.copy.enabled) {\r\n                    this._clipboard = [];\r\n                    this._copyOffset = 1;\r\n                    for (var i = 0; i < this._selectedItems.length; i++) {\r\n                        var item = this._selectedItems[i];\r\n                        this._clipboard.push(item);\r\n                    }\r\n                }\r\n            },\r\n            cut: function () {\r\n                if (this.options.copy.enabled) {\r\n                    this._clipboard = [];\r\n                    this._copyOffset = 0;\r\n                    for (var i = 0; i < this._selectedItems.length; i++) {\r\n                        var item = this._selectedItems[i];\r\n                        this._clipboard.push(item);\r\n                    }\r\n                    this.remove(this._clipboard, true);\r\n                }\r\n            },\r\n            paste: function () {\r\n                if (this._clipboard.length > 0) {\r\n                    var item, copied, i;\r\n                    var mapping = {};\r\n                    var elements = splitDiagramElements(this._clipboard);\r\n                    var connections = elements.connections;\r\n                    var shapes = elements.shapes;\r\n                    var offset = {\r\n                        x: this._copyOffset * this.options.copy.offsetX,\r\n                        y: this._copyOffset * this.options.copy.offsetY\r\n                    };\r\n                    this.deselect();\r\n                    for (i = 0; i < shapes.length; i++) {\r\n                        item = shapes[i];\r\n                        copied = item.clone();\r\n                        mapping[item.id] = copied;\r\n                        copied.position(new Point(item.options.x + offset.x, item.options.y + offset.y));\r\n                        copied.diagram = this;\r\n                        copied = this._addShape(copied);\r\n                        if (copied) {\r\n                            copied.select();\r\n                        }\r\n                    }\r\n                    for (i = 0; i < connections.length; i++) {\r\n                        item = connections[i];\r\n                        copied = this._addConnection(item.clone());\r\n                        if (copied) {\r\n                            this._updateCopiedConnection(copied, item, 'source', mapping, offset);\r\n                            this._updateCopiedConnection(copied, item, 'target', mapping, offset);\r\n                            copied.select(true);\r\n                            copied.updateModel();\r\n                        }\r\n                    }\r\n                    this._syncChanges();\r\n                    this._copyOffset += 1;\r\n                }\r\n            },\r\n            _updateCopiedConnection: function (connection, sourceConnection, connectorName, mapping, offset) {\r\n                var onActivate, inactiveItem, targetShape;\r\n                var target = sourceConnection[connectorName]();\r\n                var diagram = this;\r\n                if (target instanceof Connector && mapping[target.shape.id]) {\r\n                    targetShape = mapping[target.shape.id];\r\n                    if (diagram.getShapeById(targetShape.id)) {\r\n                        connection[connectorName](targetShape.getConnector(target.options.name));\r\n                    } else {\r\n                        inactiveItem = diagram._inactiveShapeItems.getByUid(targetShape.dataItem.uid);\r\n                        if (inactiveItem) {\r\n                            onActivate = function (item) {\r\n                                targetShape = diagram._dataMap[item.id];\r\n                                connection[connectorName](targetShape.getConnector(target.options.name));\r\n                                connection.updateModel();\r\n                            };\r\n                            diagram._deferredConnectionUpdates.push(inactiveItem.onActivate(onActivate));\r\n                        }\r\n                    }\r\n                } else {\r\n                    connection[connectorName](new Point(sourceConnection[connectorName + 'Point']().x + offset.x, sourceConnection[connectorName + 'Point']().y + offset.y));\r\n                }\r\n            },\r\n            boundingBox: function (items, origin) {\r\n                var rect = Rect.empty(), temp, di = isDefined(items) ? this._getDiagramItems(items) : { shapes: this.shapes };\r\n                if (di.shapes.length > 0) {\r\n                    var item = di.shapes[0];\r\n                    rect = item.bounds(ROTATED);\r\n                    for (var i = 1; i < di.shapes.length; i++) {\r\n                        item = di.shapes[i];\r\n                        temp = item.bounds(ROTATED);\r\n                        if (origin === true) {\r\n                            temp.x -= item._rotationOffset.x;\r\n                            temp.y -= item._rotationOffset.y;\r\n                        }\r\n                        rect = rect.union(temp);\r\n                    }\r\n                }\r\n                return rect;\r\n            },\r\n            _containerOffset: function () {\r\n                var containerOffset = this.element.offset();\r\n                if (this.toolBar) {\r\n                    containerOffset.top += this.toolBar.element.outerHeight();\r\n                }\r\n                return containerOffset;\r\n            },\r\n            documentToView: function (point) {\r\n                var containerOffset = this._containerOffset();\r\n                return new Point(point.x - containerOffset.left, point.y - containerOffset.top);\r\n            },\r\n            viewToDocument: function (point) {\r\n                var containerOffset = this._containerOffset();\r\n                return new Point(point.x + containerOffset.left, point.y + containerOffset.top);\r\n            },\r\n            viewToModel: function (point) {\r\n                return this._transformWithMatrix(point, this._matrixInvert);\r\n            },\r\n            modelToView: function (point) {\r\n                return this._transformWithMatrix(point, this._matrix);\r\n            },\r\n            modelToLayer: function (point) {\r\n                return this._transformWithMatrix(point, this._layerMatrix);\r\n            },\r\n            layerToModel: function (point) {\r\n                return this._transformWithMatrix(point, this._layerMatrixInvert);\r\n            },\r\n            documentToModel: function (point) {\r\n                var viewPoint = this.documentToView(point);\r\n                if (!this.canvas.translate) {\r\n                    viewPoint.x = viewPoint.x + this.scroller.scrollLeft;\r\n                    viewPoint.y = viewPoint.y + this.scroller.scrollTop;\r\n                }\r\n                return this.viewToModel(viewPoint);\r\n            },\r\n            modelToDocument: function (point) {\r\n                return this.viewToDocument(this.modelToView(point));\r\n            },\r\n            _transformWithMatrix: function (point, matrix) {\r\n                var result = point;\r\n                if (point instanceof Point) {\r\n                    if (matrix) {\r\n                        result = matrix.apply(point);\r\n                    }\r\n                } else {\r\n                    var tl = this._transformWithMatrix(point.topLeft(), matrix), br = this._transformWithMatrix(point.bottomRight(), matrix);\r\n                    result = Rect.fromPoints(tl, br);\r\n                }\r\n                return result;\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                this.options.dataSource = dataSource;\r\n                this._dataSource();\r\n                if (this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            },\r\n            setConnectionsDataSource: function (dataSource) {\r\n                this.options.connectionsDataSource = dataSource;\r\n                this._connectionDataSource();\r\n                if (this.options.autoBind) {\r\n                    this.connectionsDataSource.fetch();\r\n                }\r\n            },\r\n            layout: function (options) {\r\n                this._layouting = true;\r\n                var type;\r\n                if (isUndefined(options)) {\r\n                    options = this.options.layout;\r\n                }\r\n                if (isUndefined(options) || isUndefined(options.type)) {\r\n                    type = 'Tree';\r\n                } else {\r\n                    type = options.type;\r\n                }\r\n                var l;\r\n                switch (type.toLowerCase()) {\r\n                case 'tree':\r\n                    l = new diagram.TreeLayout(this);\r\n                    break;\r\n                case 'layered':\r\n                    l = new diagram.LayeredLayout(this);\r\n                    break;\r\n                case 'forcedirected':\r\n                case 'force':\r\n                case 'spring':\r\n                case 'springembedder':\r\n                    l = new diagram.SpringLayout(this);\r\n                    break;\r\n                default:\r\n                    throw 'Layout algorithm \\'' + type + '\\' is not supported.';\r\n                }\r\n                var initialState = new diagram.LayoutState(this);\r\n                var finalState = l.layout(options);\r\n                if (finalState) {\r\n                    var unit = new diagram.LayoutUndoUnit(initialState, finalState, options ? options.animate : null);\r\n                    this.undoRedoService.add(unit);\r\n                }\r\n                this._layouting = false;\r\n                this._redrawConnections();\r\n            },\r\n            getShapeById: function (id) {\r\n                var found;\r\n                found = Utils.first(this.shapes, function (s) {\r\n                    return s.visual.id === id;\r\n                });\r\n                if (found) {\r\n                    return found;\r\n                }\r\n                found = Utils.first(this.connections, function (c) {\r\n                    return c.visual.id === id;\r\n                });\r\n                return found;\r\n            },\r\n            getShapeByModelId: function (id) {\r\n                var shape;\r\n                if (this._isEditable) {\r\n                    shape = this._dataMap[id];\r\n                } else {\r\n                    shape = Utils.first(this.shapes, function (shape) {\r\n                        return (shape.dataItem || {}).id === id;\r\n                    });\r\n                }\r\n                return shape;\r\n            },\r\n            getShapeByModelUid: function (uid) {\r\n                var shape;\r\n                if (this._isEditable) {\r\n                    shape = Utils.first(this.shapes, function (shape) {\r\n                        return (shape.dataItem || {}).uid === uid;\r\n                    });\r\n                } else {\r\n                    shape = this._dataMap[uid];\r\n                }\r\n                return shape;\r\n            },\r\n            getConnectionByModelId: function (id) {\r\n                var connection;\r\n                if (this.connectionsDataSource) {\r\n                    connection = Utils.first(this.connections, function (connection) {\r\n                        return (connection.dataItem || {}).id === id;\r\n                    });\r\n                }\r\n                return connection;\r\n            },\r\n            getConnectionByModelUid: function (uid) {\r\n                var connection;\r\n                if (this.connectionsDataSource) {\r\n                    connection = this._connectionsDataMap[uid];\r\n                }\r\n                return connection;\r\n            },\r\n            _extendLayoutOptions: function (options) {\r\n                if (options.layout) {\r\n                    options.layout = deepExtend(diagram.LayoutBase.fn.defaultOptions || {}, options.layout);\r\n                }\r\n            },\r\n            _selectionChanged: function (selected, deselected) {\r\n                if (selected.length || deselected.length) {\r\n                    this.trigger(SELECT, {\r\n                        selected: selected,\r\n                        deselected: deselected\r\n                    });\r\n                }\r\n            },\r\n            _getValidZoom: function (zoom) {\r\n                return math.min(math.max(zoom, this.options.zoomMin), this.options.zoomMax);\r\n            },\r\n            _panTransform: function (pos) {\r\n                var diagram = this, pan = pos || diagram._pan;\r\n                if (diagram.canvas.translate) {\r\n                    diagram.scroller.scrollTo(pan.x, pan.y);\r\n                    diagram._zoomMainLayer();\r\n                } else {\r\n                    diagram._storePan(pan);\r\n                    diagram._transformMainLayer();\r\n                }\r\n            },\r\n            _finishPan: function () {\r\n                this.trigger(PAN, {\r\n                    total: this._pan,\r\n                    delta: Number.NaN\r\n                });\r\n            },\r\n            _storePan: function (pan) {\r\n                this._pan = pan;\r\n                this._storeViewMatrix();\r\n            },\r\n            _zoomMainLayer: function () {\r\n                var zoom = this._zoom;\r\n                var transform = new CompositeTransform(0, 0, zoom, zoom);\r\n                transform.render(this.mainLayer);\r\n                this._storeLayerMatrix(transform);\r\n                this._storeViewMatrix();\r\n            },\r\n            _transformMainLayer: function () {\r\n                var pan = this._pan, zoom = this._zoom;\r\n                var transform = new CompositeTransform(pan.x, pan.y, zoom, zoom);\r\n                transform.render(this.mainLayer);\r\n                this._storeLayerMatrix(transform);\r\n                this._storeViewMatrix();\r\n            },\r\n            _storeLayerMatrix: function (canvasTransform) {\r\n                this._layerMatrix = canvasTransform.toMatrix();\r\n                this._layerMatrixInvert = canvasTransform.invert().toMatrix();\r\n            },\r\n            _storeViewMatrix: function () {\r\n                var pan = this._pan, zoom = this._zoom;\r\n                var transform = new CompositeTransform(pan.x, pan.y, zoom, zoom);\r\n                this._matrix = transform.toMatrix();\r\n                this._matrixInvert = transform.invert().toMatrix();\r\n            },\r\n            _toIndex: function (items, indices) {\r\n                var result = this._getDiagramItems(items);\r\n                this.mainLayer.toIndex(result.visuals, indices);\r\n                this._fixOrdering(result, false);\r\n            },\r\n            _fixOrdering: function (result, toFront) {\r\n                var shapePos = toFront ? this.shapes.length - 1 : 0, conPos = toFront ? this.connections.length - 1 : 0, i, item;\r\n                for (i = 0; i < result.shapes.length; i++) {\r\n                    item = result.shapes[i];\r\n                    Utils.remove(this.shapes, item);\r\n                    Utils.insert(this.shapes, item, shapePos);\r\n                }\r\n                for (i = 0; i < result.cons.length; i++) {\r\n                    item = result.cons[i];\r\n                    Utils.remove(this.connections, item);\r\n                    Utils.insert(this.connections, item, conPos);\r\n                }\r\n            },\r\n            _getDiagramItems: function (items) {\r\n                var i, result = {}, args = items;\r\n                result.visuals = [];\r\n                result.shapes = [];\r\n                result.cons = [];\r\n                if (!items) {\r\n                    args = this._selectedItems.slice();\r\n                } else if (!isArray(items)) {\r\n                    args = [items];\r\n                }\r\n                for (i = 0; i < args.length; i++) {\r\n                    var item = args[i];\r\n                    if (item instanceof Shape) {\r\n                        result.shapes.push(item);\r\n                        result.visuals.push(item.visual);\r\n                    } else if (item instanceof Connection) {\r\n                        result.cons.push(item);\r\n                        result.visuals.push(item.visual);\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            _removeItem: function (item, undoable, removedConnections) {\r\n                item.select(false);\r\n                if (item instanceof Shape) {\r\n                    this._removeShapeDataItem(item);\r\n                    this._removeShape(item, undoable, removedConnections);\r\n                } else if (item instanceof Connection) {\r\n                    this._removeConnectionDataItem(item);\r\n                    this._removeConnection(item, undoable);\r\n                }\r\n                this.mainLayer.remove(item.visual);\r\n            },\r\n            _removeShape: function (shape, undoable, removedConnections) {\r\n                var i, connection, connector, sources = [], targets = [];\r\n                this.toolService._removeHover();\r\n                if (undoable) {\r\n                    this.undoRedoService.addCompositeItem(new DeleteShapeUnit(shape));\r\n                }\r\n                Utils.remove(this.shapes, shape);\r\n                this._shapesQuadTree.remove(shape);\r\n                for (i = 0; i < shape.connectors.length; i++) {\r\n                    connector = shape.connectors[i];\r\n                    for (var j = 0; j < connector.connections.length; j++) {\r\n                        connection = connector.connections[j];\r\n                        if (!removedConnections || !dataviz.inArray(connection, removedConnections)) {\r\n                            if (connection.sourceConnector == connector) {\r\n                                sources.push(connection);\r\n                            } else if (connection.targetConnector == connector) {\r\n                                targets.push(connection);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for (i = 0; i < sources.length; i++) {\r\n                    sources[i].source(null, undoable);\r\n                    sources[i].updateModel();\r\n                }\r\n                for (i = 0; i < targets.length; i++) {\r\n                    targets[i].target(null, undoable);\r\n                    targets[i].updateModel();\r\n                }\r\n            },\r\n            _removeConnection: function (connection, undoable) {\r\n                if (connection.sourceConnector) {\r\n                    Utils.remove(connection.sourceConnector.connections, connection);\r\n                }\r\n                if (connection.targetConnector) {\r\n                    Utils.remove(connection.targetConnector.connections, connection);\r\n                }\r\n                if (undoable) {\r\n                    this.undoRedoService.addCompositeItem(new DeleteConnectionUnit(connection));\r\n                }\r\n                Utils.remove(this.connections, connection);\r\n            },\r\n            _removeDataItems: function (items, recursive) {\r\n                var item, children, shape, idx;\r\n                items = isArray(items) ? items : [items];\r\n                while (items.length) {\r\n                    item = items.shift();\r\n                    shape = this._dataMap[item.uid];\r\n                    if (shape) {\r\n                        this._removeShapeConnections(shape);\r\n                        this._removeItem(shape, false);\r\n                        delete this._dataMap[item.uid];\r\n                        if (recursive && item.hasChildren && item.loaded()) {\r\n                            children = item.children.data();\r\n                            for (idx = 0; idx < children.length; idx++) {\r\n                                items.push(children[idx]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            _removeShapeConnections: function (shape) {\r\n                var connections = shape.connections();\r\n                var idx;\r\n                if (connections) {\r\n                    for (idx = 0; idx < connections.length; idx++) {\r\n                        this._removeItem(connections[idx], false);\r\n                    }\r\n                }\r\n            },\r\n            _addDataItem: function (dataItem, undoable) {\r\n                if (!defined(dataItem)) {\r\n                    return;\r\n                }\r\n                var shape = this._dataMap[dataItem.id];\r\n                if (shape) {\r\n                    return shape;\r\n                }\r\n                var options = deepExtend({}, this.options.shapeDefaults);\r\n                options.dataItem = dataItem;\r\n                shape = new Shape(options, this);\r\n                this.addShape(shape, undoable !== false);\r\n                this._dataMap[dataItem.id] = shape;\r\n                return shape;\r\n            },\r\n            _addDataItemByUid: function (dataItem) {\r\n                if (!defined(dataItem)) {\r\n                    return;\r\n                }\r\n                var shape = this._dataMap[dataItem.uid];\r\n                if (shape) {\r\n                    return shape;\r\n                }\r\n                var options = deepExtend({}, this.options.shapeDefaults);\r\n                options.dataItem = dataItem;\r\n                shape = new Shape(options, this);\r\n                this.addShape(shape);\r\n                this._dataMap[dataItem.uid] = shape;\r\n                return shape;\r\n            },\r\n            _addDataItems: function (items, parent) {\r\n                var item, idx, shape, parentShape, connection;\r\n                for (idx = 0; idx < items.length; idx++) {\r\n                    item = items[idx];\r\n                    shape = this._addDataItemByUid(item);\r\n                    parentShape = this._addDataItemByUid(parent);\r\n                    if (parentShape && !this.connected(parentShape, shape)) {\r\n                        connection = this.connect(parentShape, shape);\r\n                    }\r\n                }\r\n            },\r\n            _refreshSource: function (e) {\r\n                var that = this, node = e.node, action = e.action, items = e.items, options = that.options, idx, dataBound;\r\n                if (e.field) {\r\n                    for (idx = 0; idx < items.length; idx++) {\r\n                        if (this._dataMap[items[idx].uid]) {\r\n                            this._dataMap[items[idx].uid].redrawVisual();\r\n                        }\r\n                    }\r\n                    return;\r\n                }\r\n                if (action == 'remove') {\r\n                    this._removeDataItems(e.items, true);\r\n                } else {\r\n                    if ((!action || action === 'itemloaded') && !this._bindingRoots) {\r\n                        this._bindingRoots = true;\r\n                        dataBound = true;\r\n                    }\r\n                    if (!action && !node) {\r\n                        that.clear();\r\n                    }\r\n                    this._addDataItems(items, node);\r\n                    for (idx = 0; idx < items.length; idx++) {\r\n                        items[idx].load();\r\n                    }\r\n                }\r\n                if (options.layout && (dataBound || action == 'remove' || action == 'add')) {\r\n                    that.layout(options.layout);\r\n                }\r\n                if (dataBound) {\r\n                    this.trigger('dataBound');\r\n                    this._bindingRoots = false;\r\n                }\r\n            },\r\n            _addItem: function (item) {\r\n                if (item instanceof Shape) {\r\n                    this.addShape(item);\r\n                } else if (item instanceof Connection) {\r\n                    this.addConnection(item);\r\n                }\r\n            },\r\n            _createToolBar: function (preventClosing) {\r\n                var diagram = this.toolService.diagram;\r\n                if (!this.singleToolBar && diagram.select().length === 1) {\r\n                    var element = diagram.select()[0];\r\n                    if (element && element.options.editable !== false) {\r\n                        var editable = element.options.editable;\r\n                        var tools = editable.tools;\r\n                        if (this._isEditable && tools.length === 0) {\r\n                            if (element instanceof Shape) {\r\n                                tools = [\r\n                                    'edit',\r\n                                    'rotateClockwise',\r\n                                    'rotateAnticlockwise'\r\n                                ];\r\n                            } else if (element instanceof Connection) {\r\n                                tools = ['edit'];\r\n                            }\r\n                            if (editable && editable.remove !== false) {\r\n                                tools.push('delete');\r\n                            }\r\n                        }\r\n                        if (tools && tools.length) {\r\n                            var padding = 20;\r\n                            var point;\r\n                            this.singleToolBar = new DiagramToolBar(diagram, {\r\n                                tools: tools,\r\n                                click: proxy(this._toolBarClick, this),\r\n                                modal: true\r\n                            });\r\n                            var popupWidth = this.singleToolBar._popup.element.outerWidth();\r\n                            var popupHeight = this.singleToolBar._popup.element.outerHeight();\r\n                            if (element instanceof Shape) {\r\n                                var shapeBounds = this.modelToView(element.bounds(ROTATED));\r\n                                point = Point(shapeBounds.x, shapeBounds.y).minus(Point((popupWidth - shapeBounds.width) / 2, popupHeight + padding));\r\n                            } else if (element instanceof Connection) {\r\n                                var connectionBounds = this.modelToView(element.bounds());\r\n                                point = Point(connectionBounds.x, connectionBounds.y).minus(Point((popupWidth - connectionBounds.width - 20) / 2, popupHeight + padding));\r\n                            }\r\n                            if (point) {\r\n                                if (!this.canvas.translate) {\r\n                                    point = point.minus(Point(this.scroller.scrollLeft, this.scroller.scrollTop));\r\n                                }\r\n                                point = this.viewToDocument(point);\r\n                                point = Point(math.max(point.x, 0), math.max(point.y, 0));\r\n                                this.singleToolBar.showAt(point);\r\n                                if (preventClosing) {\r\n                                    this.singleToolBar._popup.one('close', preventDefault);\r\n                                }\r\n                            } else {\r\n                                this._destroyToolBar();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            _toolBarClick: function (e) {\r\n                this.trigger('toolBarClick', e);\r\n                this._destroyToolBar();\r\n            },\r\n            _normalizePointZoom: function (point) {\r\n                return point.times(1 / this.zoom());\r\n            },\r\n            _initialize: function () {\r\n                this.shapes = [];\r\n                this._selectedItems = [];\r\n                this.connections = [];\r\n                this._dataMap = {};\r\n                this._connectionsDataMap = {};\r\n                this._inactiveShapeItems = new InactiveItemsCollection();\r\n                this._deferredConnectionUpdates = [];\r\n                this.undoRedoService = new UndoRedoService({\r\n                    undone: this._syncHandler,\r\n                    redone: this._syncHandler\r\n                });\r\n                this.id = diagram.randomId();\r\n            },\r\n            _fetchFreshData: function () {\r\n                var that = this;\r\n                that._dataSource();\r\n                if (that._isEditable) {\r\n                    that._connectionDataSource();\r\n                }\r\n                if (that.options.autoBind) {\r\n                    if (that._isEditable) {\r\n                        this._loadingShapes = true;\r\n                        this._loadingConnections = true;\r\n                        that.dataSource.fetch();\r\n                        that.connectionsDataSource.fetch();\r\n                    } else {\r\n                        that.dataSource.fetch();\r\n                    }\r\n                }\r\n            },\r\n            _dataSource: function () {\r\n                if (defined(this.options.connectionsDataSource)) {\r\n                    this._isEditable = true;\r\n                    var dsOptions = this.options.dataSource || {};\r\n                    var ds = isArray(dsOptions) ? { data: dsOptions } : dsOptions;\r\n                    if (this.dataSource && this._shapesRefreshHandler) {\r\n                        this.dataSource.unbind('change', this._shapesRefreshHandler).unbind('requestStart', this._shapesRequestStartHandler).unbind('error', this._shapesErrorHandler);\r\n                    } else {\r\n                        this._shapesRefreshHandler = proxy(this._refreshShapes, this);\r\n                        this._shapesRequestStartHandler = proxy(this._shapesRequestStart, this);\r\n                        this._shapesErrorHandler = proxy(this._error, this);\r\n                    }\r\n                    this.dataSource = kendo.data.DataSource.create(ds).bind('change', this._shapesRefreshHandler).bind('requestStart', this._shapesRequestStartHandler).bind('error', this._shapesErrorHandler);\r\n                } else {\r\n                    this._treeDataSource();\r\n                    this._isEditable = false;\r\n                }\r\n            },\r\n            _connectionDataSource: function () {\r\n                var dsOptions = this.options.connectionsDataSource;\r\n                if (dsOptions) {\r\n                    var ds = isArray(dsOptions) ? { data: dsOptions } : dsOptions;\r\n                    if (this.connectionsDataSource && this._connectionsRefreshHandler) {\r\n                        this.connectionsDataSource.unbind('change', this._connectionsRefreshHandler).unbind('requestStart', this._connectionsRequestStartHandler).unbind('error', this._connectionsErrorHandler);\r\n                    } else {\r\n                        this._connectionsRefreshHandler = proxy(this._refreshConnections, this);\r\n                        this._connectionsRequestStartHandler = proxy(this._connectionsRequestStart, this);\r\n                        this._connectionsErrorHandler = proxy(this._connectionsError, this);\r\n                    }\r\n                    this.connectionsDataSource = kendo.data.DataSource.create(ds).bind('change', this._connectionsRefreshHandler).bind('requestStart', this._connectionsRequestStartHandler).bind('error', this._connectionsErrorHandler);\r\n                }\r\n            },\r\n            _shapesRequestStart: function (e) {\r\n                if (e.type == 'read') {\r\n                    this._loadingShapes = true;\r\n                }\r\n            },\r\n            _connectionsRequestStart: function (e) {\r\n                if (e.type == 'read') {\r\n                    this._loadingConnections = true;\r\n                }\r\n            },\r\n            _error: function () {\r\n                this._loadingShapes = false;\r\n            },\r\n            _connectionsError: function () {\r\n                this._loadingConnections = false;\r\n            },\r\n            _refreshShapes: function (e) {\r\n                if (e.action === 'remove') {\r\n                    if (this._shouldRefresh()) {\r\n                        this._removeShapes(e.items);\r\n                    }\r\n                } else if (e.action === 'itemchange') {\r\n                    if (this._shouldRefresh()) {\r\n                        this._updateShapes(e.items, e.field);\r\n                    }\r\n                } else if (e.action === 'add') {\r\n                    this._inactiveShapeItems.add(e.items);\r\n                } else if (e.action === 'sync') {\r\n                    this._syncShapes(e.items);\r\n                } else {\r\n                    this.refresh();\r\n                }\r\n            },\r\n            _shouldRefresh: function () {\r\n                return !this._suspended;\r\n            },\r\n            _suspendModelRefresh: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n            },\r\n            _resumeModelRefresh: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n            },\r\n            refresh: function () {\r\n                this._loadingShapes = false;\r\n                if (!this._loadingConnections) {\r\n                    this._rebindShapesAndConnections();\r\n                }\r\n            },\r\n            _rebindShapesAndConnections: function () {\r\n                this.clear();\r\n                this._addShapes(this.dataSource.view());\r\n                if (this.connectionsDataSource) {\r\n                    this._addConnections(this.connectionsDataSource.view(), false);\r\n                }\r\n                if (this.options.layout) {\r\n                    this.layout(this.options.layout);\r\n                } else {\r\n                    this._redrawConnections();\r\n                }\r\n                this.trigger('dataBound');\r\n            },\r\n            refreshConnections: function () {\r\n                this._loadingConnections = false;\r\n                if (!this._loadingShapes) {\r\n                    this._rebindShapesAndConnections();\r\n                }\r\n            },\r\n            _redrawConnections: function () {\r\n                var connections = this.connections;\r\n                for (var idx = 0; idx < connections.length; idx++) {\r\n                    connections[idx].refresh();\r\n                }\r\n            },\r\n            _removeShapes: function (items) {\r\n                var dataMap = this._dataMap;\r\n                var item, i;\r\n                for (i = 0; i < items.length; i++) {\r\n                    item = items[i];\r\n                    if (dataMap[item.id]) {\r\n                        this.remove(dataMap[item.id], false);\r\n                        dataMap[item.id] = null;\r\n                    }\r\n                }\r\n            },\r\n            _syncShapes: function () {\r\n                var diagram = this;\r\n                var inactiveItems = diagram._inactiveShapeItems;\r\n                inactiveItems.forEach(function (inactiveItem) {\r\n                    var dataItem = inactiveItem.dataItem;\r\n                    var shape = inactiveItem.element;\r\n                    if (!dataItem.isNew()) {\r\n                        if (shape) {\r\n                            shape._setOptionsFromModel();\r\n                            diagram.addShape(shape, inactiveItem.undoable);\r\n                            diagram._dataMap[dataItem.id] = shape;\r\n                        } else {\r\n                            diagram._addDataItem(dataItem);\r\n                        }\r\n                        inactiveItem.activate();\r\n                        inactiveItems.remove(dataItem);\r\n                    }\r\n                });\r\n            },\r\n            _updateShapes: function (items, field) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var dataItem = items[i];\r\n                    var shape = this._dataMap[dataItem.id];\r\n                    if (shape) {\r\n                        shape.updateOptionsFromModel(dataItem, field);\r\n                    }\r\n                }\r\n            },\r\n            _addShapes: function (dataItems) {\r\n                for (var i = 0; i < dataItems.length; i++) {\r\n                    this._addDataItem(dataItems[i], false);\r\n                }\r\n            },\r\n            _refreshConnections: function (e) {\r\n                if (e.action === 'remove') {\r\n                    if (this._shouldRefresh()) {\r\n                        this._removeConnections(e.items);\r\n                    }\r\n                } else if (e.action === 'add') {\r\n                    this._addConnections(e.items);\r\n                } else if (e.action === 'sync') {\r\n                } else if (e.action === 'itemchange') {\r\n                    if (this._shouldRefresh()) {\r\n                        this._updateConnections(e.items);\r\n                    }\r\n                } else {\r\n                    this.refreshConnections();\r\n                }\r\n            },\r\n            _removeConnections: function (items) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    this.remove(this._connectionsDataMap[items[i].uid], false);\r\n                    this._connectionsDataMap[items[i].uid] = null;\r\n                }\r\n            },\r\n            _updateConnections: function (items) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var dataItem = items[i];\r\n                    var connection = this._connectionsDataMap[dataItem.uid];\r\n                    connection.updateOptionsFromModel(dataItem);\r\n                }\r\n            },\r\n            _addConnections: function (connections, undoable) {\r\n                var length = connections.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    var dataItem = connections[i];\r\n                    this._addConnectionDataItem(dataItem, undoable);\r\n                }\r\n            },\r\n            _addConnectionDataItem: function (dataItem, undoable) {\r\n                if (!this._connectionsDataMap[dataItem.uid]) {\r\n                    var from = this._validateConnector(dataItem.from);\r\n                    if (!defined(from) || from === null) {\r\n                        from = new Point(dataItem.fromX, dataItem.fromY);\r\n                    }\r\n                    var to = this._validateConnector(dataItem.to);\r\n                    if (!defined(to) || to === null) {\r\n                        to = new Point(dataItem.toX, dataItem.toY);\r\n                    }\r\n                    if (defined(from) && defined(to)) {\r\n                        var options = deepExtend({}, this.options.connectionDefaults);\r\n                        options.dataItem = dataItem;\r\n                        var connection = new Connection(from, to, options);\r\n                        this._connectionsDataMap[dataItem.uid] = connection;\r\n                        this.addConnection(connection, undoable);\r\n                    }\r\n                }\r\n            },\r\n            _validateConnector: function (value) {\r\n                var connector;\r\n                if (defined(value) && value !== null) {\r\n                    connector = this._dataMap[value];\r\n                }\r\n                return connector;\r\n            },\r\n            _treeDataSource: function () {\r\n                var that = this, options = that.options, dataSource = options.dataSource;\r\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\r\n                if (dataSource instanceof kendo.data.DataSource && !(dataSource instanceof kendo.data.HierarchicalDataSource)) {\r\n                    throw new Error('Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.');\r\n                }\r\n                if (!dataSource.fields) {\r\n                    dataSource.fields = [\r\n                        { field: 'text' },\r\n                        { field: 'url' },\r\n                        { field: 'spriteCssClass' },\r\n                        { field: 'imageUrl' }\r\n                    ];\r\n                }\r\n                if (that.dataSource && that._refreshHandler) {\r\n                    that._unbindDataSource();\r\n                }\r\n                that._refreshHandler = proxy(that._refreshSource, that);\r\n                that._errorHandler = proxy(that._error, that);\r\n                that.dataSource = HierarchicalDataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(ERROR, that._errorHandler);\r\n            },\r\n            _unbindDataSource: function () {\r\n                var that = this;\r\n                that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(ERROR, that._errorHandler);\r\n            },\r\n            _adorn: function (adorner, isActive) {\r\n                if (isActive !== undefined && adorner) {\r\n                    if (isActive) {\r\n                        this._adorners.push(adorner);\r\n                        this.adornerLayer.append(adorner.visual);\r\n                    } else {\r\n                        Utils.remove(this._adorners, adorner);\r\n                        this.adornerLayer.remove(adorner.visual);\r\n                    }\r\n                }\r\n            },\r\n            _showConnectors: function (shape, value) {\r\n                if (value) {\r\n                    this._connectorsAdorner.show(shape);\r\n                } else {\r\n                    this._connectorsAdorner.destroy();\r\n                }\r\n            },\r\n            _updateAdorners: function () {\r\n                var adorners = this._adorners;\r\n                for (var i = 0; i < adorners.length; i++) {\r\n                    var adorner = adorners[i];\r\n                    if (adorner.refreshBounds) {\r\n                        adorner.refreshBounds();\r\n                    }\r\n                    adorner.refresh();\r\n                }\r\n            },\r\n            _refresh: function () {\r\n                for (var i = 0; i < this.connections.length; i++) {\r\n                    this.connections[i].refresh();\r\n                }\r\n            },\r\n            _destroyToolBar: function () {\r\n                if (this.singleToolBar) {\r\n                    this.singleToolBar.hide();\r\n                    this.singleToolBar.destroy();\r\n                    this.singleToolBar = null;\r\n                }\r\n            },\r\n            _destroyGlobalToolBar: function () {\r\n                if (this.toolBar) {\r\n                    this.toolBar.hide();\r\n                    this.toolBar.destroy();\r\n                    this.toolBar = null;\r\n                }\r\n            },\r\n            exportDOMVisual: function () {\r\n                var viewBox = this.canvas._viewBox;\r\n                var scrollOffset = geom.transform().translate(-viewBox.x, -viewBox.y);\r\n                var viewRect = new geom.Rect([\r\n                    0,\r\n                    0\r\n                ], [\r\n                    viewBox.width,\r\n                    viewBox.height\r\n                ]);\r\n                var clipPath = draw.Path.fromRect(viewRect);\r\n                var wrap = new draw.Group({ transform: scrollOffset });\r\n                var clipWrap = new draw.Group({ clip: clipPath });\r\n                var root = this.canvas.drawingElement.children[0];\r\n                clipWrap.append(wrap);\r\n                wrap.children.push(root);\r\n                return clipWrap;\r\n            },\r\n            exportVisual: function () {\r\n                var scale = geom.transform().scale(1 / this._zoom);\r\n                var wrap = new draw.Group({ transform: scale });\r\n                var root = this.mainLayer.drawingElement;\r\n                wrap.children.push(root);\r\n                return wrap;\r\n            },\r\n            _syncChanges: function () {\r\n                this._syncShapeChanges();\r\n                this._syncConnectionChanges();\r\n            },\r\n            _syncShapeChanges: function () {\r\n                if (this.dataSource && this._isEditable) {\r\n                    this.dataSource.sync();\r\n                }\r\n            },\r\n            _syncConnectionChanges: function () {\r\n                var that = this;\r\n                if (that.connectionsDataSource && that._isEditable) {\r\n                    $.when.apply($, that._deferredConnectionUpdates).then(function () {\r\n                        that.connectionsDataSource.sync();\r\n                    });\r\n                    that.deferredConnectionUpdates = [];\r\n                }\r\n            }\r\n        });\r\n        dataviz.ExportMixin.extend(Diagram.fn, true);\r\n        if (kendo.PDFMixin) {\r\n            kendo.PDFMixin.extend(Diagram.fn);\r\n        }\r\n        function filterShapeDataItem(dataItem) {\r\n            var result = {};\r\n            dataItem = dataItem || {};\r\n            if (defined(dataItem.text) && dataItem.text !== null) {\r\n                result.text = dataItem.text;\r\n            }\r\n            if (defined(dataItem.x) && dataItem.x !== null) {\r\n                result.x = dataItem.x;\r\n            }\r\n            if (defined(dataItem.y) && dataItem.y !== null) {\r\n                result.y = dataItem.y;\r\n            }\r\n            if (defined(dataItem.width) && dataItem.width !== null) {\r\n                result.width = dataItem.width;\r\n            }\r\n            if (defined(dataItem.height) && dataItem.height !== null) {\r\n                result.height = dataItem.height;\r\n            }\r\n            if (defined(dataItem.type) && dataItem.type !== null) {\r\n                result.type = dataItem.type;\r\n            }\r\n            return result;\r\n        }\r\n        function filterConnectionDataItem(dataItem) {\r\n            var result = {};\r\n            dataItem = dataItem || {};\r\n            if (defined(dataItem.text) && dataItem.text !== null) {\r\n                result.content = dataItem.text;\r\n            }\r\n            if (defined(dataItem.type) && dataItem.type !== null) {\r\n                result.type = dataItem.type;\r\n            }\r\n            if (defined(dataItem.from) && dataItem.from !== null) {\r\n                result.from = dataItem.from;\r\n            }\r\n            if (defined(dataItem.fromConnector) && dataItem.fromConnector !== null) {\r\n                result.fromConnector = dataItem.fromConnector;\r\n            }\r\n            if (defined(dataItem.fromX) && dataItem.fromX !== null) {\r\n                result.fromX = dataItem.fromX;\r\n            }\r\n            if (defined(dataItem.fromY) && dataItem.fromY !== null) {\r\n                result.fromY = dataItem.fromY;\r\n            }\r\n            if (defined(dataItem.to) && dataItem.to !== null) {\r\n                result.to = dataItem.to;\r\n            }\r\n            if (defined(dataItem.toConnector) && dataItem.toConnector !== null) {\r\n                result.toConnector = dataItem.toConnector;\r\n            }\r\n            if (defined(dataItem.toX) && dataItem.toX !== null) {\r\n                result.toX = dataItem.toX;\r\n            }\r\n            if (defined(dataItem.toY) && dataItem.toY !== null) {\r\n                result.toY = dataItem.toY;\r\n            }\r\n            return result;\r\n        }\r\n        var DiagramToolBar = kendo.Observable.extend({\r\n            init: function (diagram, options) {\r\n                kendo.Observable.fn.init.call(this);\r\n                this.diagram = diagram;\r\n                this.options = deepExtend({}, this.options, options);\r\n                this._tools = [];\r\n                this.createToolBar();\r\n                this.createTools();\r\n                this.appendTools();\r\n                if (this.options.modal) {\r\n                    this.createPopup();\r\n                }\r\n                this.bind(this.events, options);\r\n            },\r\n            events: ['click'],\r\n            createPopup: function () {\r\n                this.container = $('<div/>').append(this.element);\r\n                this._popup = this.container.kendoPopup({}).getKendoPopup();\r\n            },\r\n            appendTools: function () {\r\n                for (var i = 0; i < this._tools.length; i++) {\r\n                    var tool = this._tools[i];\r\n                    if (tool.buttons && tool.buttons.length || !defined(tool.buttons)) {\r\n                        this._toolBar.add(tool);\r\n                    }\r\n                }\r\n            },\r\n            createToolBar: function () {\r\n                this.element = $('<div/>');\r\n                this._toolBar = this.element.kendoToolBar({\r\n                    click: proxy(this.click, this),\r\n                    resizable: false\r\n                }).getKendoToolBar();\r\n                this.element.css('border', 'none');\r\n            },\r\n            createTools: function () {\r\n                for (var i = 0; i < this.options.tools.length; i++) {\r\n                    this.createTool(this.options.tools[i]);\r\n                }\r\n            },\r\n            createTool: function (tool) {\r\n                if (!isPlainObject(tool)) {\r\n                    tool = { name: tool };\r\n                }\r\n                var toolName = tool.name + 'Tool';\r\n                if (this[toolName]) {\r\n                    this[toolName](tool);\r\n                } else {\r\n                    this._tools.push(deepExtend({}, tool, { attributes: this._setAttributes({ action: tool.name }) }));\r\n                }\r\n            },\r\n            showAt: function (point) {\r\n                if (this._popup) {\r\n                    this._popup.open(point.x, point.y);\r\n                }\r\n            },\r\n            hide: function () {\r\n                if (this._popup) {\r\n                    this._popup.close();\r\n                }\r\n            },\r\n            newGroup: function () {\r\n                return {\r\n                    type: 'buttonGroup',\r\n                    buttons: []\r\n                };\r\n            },\r\n            editTool: function () {\r\n                this._tools.push({\r\n                    spriteCssClass: 'k-icon k-i-pencil',\r\n                    showText: 'overflow',\r\n                    type: 'button',\r\n                    text: 'Edit',\r\n                    attributes: this._setAttributes({ action: 'edit' })\r\n                });\r\n            },\r\n            deleteTool: function () {\r\n                this._tools.push({\r\n                    spriteCssClass: 'k-icon k-i-close',\r\n                    showText: 'overflow',\r\n                    type: 'button',\r\n                    text: 'Delete',\r\n                    attributes: this._setAttributes({ action: 'delete' })\r\n                });\r\n            },\r\n            rotateAnticlockwiseTool: function (options) {\r\n                this._appendGroup('rotate');\r\n                this._rotateGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-rotateccw',\r\n                    showText: 'overflow',\r\n                    text: 'RotateAnticlockwise',\r\n                    group: 'rotate',\r\n                    attributes: this._setAttributes({\r\n                        action: 'rotateAnticlockwise',\r\n                        step: options.step\r\n                    })\r\n                });\r\n            },\r\n            rotateClockwiseTool: function (options) {\r\n                this._appendGroup('rotate');\r\n                this._rotateGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-rotatecw',\r\n                    attributes: this._setAttributes({\r\n                        action: 'rotateClockwise',\r\n                        step: options.step\r\n                    }),\r\n                    showText: 'overflow',\r\n                    text: 'RotateClockwise',\r\n                    group: 'rotate'\r\n                });\r\n            },\r\n            createShapeTool: function () {\r\n                this._appendGroup('create');\r\n                this._createGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-shape',\r\n                    showText: 'overflow',\r\n                    text: 'CreateShape',\r\n                    group: 'create',\r\n                    attributes: this._setAttributes({ action: 'createShape' })\r\n                });\r\n            },\r\n            createConnectionTool: function () {\r\n                this._appendGroup('create');\r\n                this._createGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-connector',\r\n                    showText: 'overflow',\r\n                    text: 'CreateConnection',\r\n                    group: 'create',\r\n                    attributes: this._setAttributes({ action: 'createConnection' })\r\n                });\r\n            },\r\n            undoTool: function () {\r\n                this._appendGroup('history');\r\n                this._historyGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-undo',\r\n                    showText: 'overflow',\r\n                    text: 'Undo',\r\n                    group: 'history',\r\n                    attributes: this._setAttributes({ action: 'undo' })\r\n                });\r\n            },\r\n            redoTool: function () {\r\n                this._appendGroup('history');\r\n                this._historyGroup.buttons.push({\r\n                    spriteCssClass: 'k-icon k-i-redo',\r\n                    showText: 'overflow',\r\n                    text: 'Redo',\r\n                    group: 'history',\r\n                    attributes: this._setAttributes({ action: 'redo' })\r\n                });\r\n            },\r\n            _appendGroup: function (name) {\r\n                var prop = '_' + name + 'Group';\r\n                if (!this[prop]) {\r\n                    this[prop] = this.newGroup();\r\n                    this._tools.push(this[prop]);\r\n                }\r\n            },\r\n            _setAttributes: function (attributes) {\r\n                var attr = {};\r\n                if (attributes.action) {\r\n                    attr[kendo.attr('action')] = attributes.action;\r\n                }\r\n                if (attributes.step) {\r\n                    attr[kendo.attr('step')] = attributes.step;\r\n                }\r\n                return attr;\r\n            },\r\n            _getAttributes: function (element) {\r\n                var attr = {};\r\n                var action = element.attr(kendo.attr('action'));\r\n                if (action) {\r\n                    attr.action = action;\r\n                }\r\n                var step = element.attr(kendo.attr('step'));\r\n                if (step) {\r\n                    attr.step = step;\r\n                }\r\n                return attr;\r\n            },\r\n            click: function (e) {\r\n                var attributes = this._getAttributes($(e.target));\r\n                var action = attributes.action;\r\n                if (action && this[action]) {\r\n                    this[action](attributes);\r\n                }\r\n                this.trigger('click', this.eventData(action, e.target));\r\n            },\r\n            eventData: function (action, target) {\r\n                var elements = this.selectedElements(), length = elements.length, shapes = [], connections = [], element;\r\n                for (var idx = 0; idx < length; idx++) {\r\n                    element = elements[idx];\r\n                    if (element instanceof Shape) {\r\n                        shapes.push(element);\r\n                    } else {\r\n                        connections.push(element);\r\n                    }\r\n                }\r\n                return {\r\n                    shapes: shapes,\r\n                    connections: connections,\r\n                    action: action,\r\n                    target: target\r\n                };\r\n            },\r\n            'delete': function () {\r\n                var diagram = this.diagram;\r\n                var toRemove = diagram._triggerRemove(this.selectedElements());\r\n                if (toRemove.length) {\r\n                    this.diagram.remove(toRemove, true);\r\n                    this.diagram._syncChanges();\r\n                }\r\n            },\r\n            edit: function () {\r\n                var selectedElemens = this.selectedElements();\r\n                if (selectedElemens.length === 1) {\r\n                    this.diagram.edit(selectedElemens[0]);\r\n                }\r\n            },\r\n            rotateClockwise: function (options) {\r\n                var angle = parseFloat(options.step || 90);\r\n                this._rotate(angle);\r\n            },\r\n            rotateAnticlockwise: function (options) {\r\n                var angle = parseFloat(options.step || 90);\r\n                this._rotate(-angle);\r\n            },\r\n            _rotate: function (angle) {\r\n                var adorner = this.diagram._resizingAdorner;\r\n                adorner.angle(adorner.angle() + angle);\r\n                adorner.rotate();\r\n            },\r\n            selectedElements: function () {\r\n                return this.diagram.select();\r\n            },\r\n            createShape: function () {\r\n                this.diagram.createShape();\r\n            },\r\n            createConnection: function () {\r\n                this.diagram.createConnection();\r\n            },\r\n            undo: function () {\r\n                this.diagram.undo();\r\n            },\r\n            redo: function () {\r\n                this.diagram.redo();\r\n            },\r\n            destroy: function () {\r\n                this.diagram = null;\r\n                this.element = null;\r\n                this.options = null;\r\n                if (this._toolBar) {\r\n                    this._toolBar.destroy();\r\n                }\r\n                if (this._popup) {\r\n                    this._popup.destroy();\r\n                }\r\n            }\r\n        });\r\n        var Editor = kendo.Observable.extend({\r\n            init: function (element, options) {\r\n                kendo.Observable.fn.init.call(this);\r\n                this.options = extend(true, {}, this.options, options);\r\n                this.element = element;\r\n                this.model = this.options.model;\r\n                this.fields = this._getFields();\r\n                this._initContainer();\r\n                this.createEditable();\r\n            },\r\n            options: { editors: {} },\r\n            _initContainer: function () {\r\n                this.wrapper = this.element;\r\n            },\r\n            createEditable: function () {\r\n                var options = this.options;\r\n                this.editable = new kendo.ui.Editable(this.wrapper, {\r\n                    fields: this.fields,\r\n                    target: options.target,\r\n                    clearContainer: false,\r\n                    model: this.model\r\n                });\r\n            },\r\n            _isEditable: function (field) {\r\n                return this.model.editable && this.model.editable(field);\r\n            },\r\n            _getFields: function () {\r\n                var fields = [];\r\n                var modelFields = this.model.fields;\r\n                for (var field in modelFields) {\r\n                    var result = {};\r\n                    if (this._isEditable(field)) {\r\n                        var editor = this.options.editors[field];\r\n                        if (editor) {\r\n                            result.editor = editor;\r\n                        }\r\n                        result.field = field;\r\n                        fields.push(result);\r\n                    }\r\n                }\r\n                return fields;\r\n            },\r\n            end: function () {\r\n                return this.editable.end();\r\n            },\r\n            destroy: function () {\r\n                this.editable.destroy();\r\n                this.editable.element.find('[' + kendo.attr('container-for') + ']').empty();\r\n                this.model = this.wrapper = this.element = this.columns = this.editable = null;\r\n            }\r\n        });\r\n        var PopupEditor = Editor.extend({\r\n            init: function (element, options) {\r\n                Editor.fn.init.call(this, element, options);\r\n                this.bind(this.events, this.options);\r\n                this.open();\r\n            },\r\n            events: [\r\n                'update',\r\n                'cancel'\r\n            ],\r\n            options: {\r\n                window: {\r\n                    modal: true,\r\n                    resizable: false,\r\n                    draggable: true,\r\n                    title: 'Edit',\r\n                    visible: false\r\n                }\r\n            },\r\n            _initContainer: function () {\r\n                var that = this;\r\n                this.wrapper = $('<div class=\"k-popup-edit-form\"/>').attr(kendo.attr('uid'), this.model.uid);\r\n                var formContent = '';\r\n                if (this.options.template) {\r\n                    formContent += this._renderTemplate();\r\n                    this.fields = [];\r\n                } else {\r\n                    formContent += this._renderFields();\r\n                }\r\n                formContent += this._renderButtons();\r\n                this.wrapper.append($('<div class=\"k-edit-form-container\"/>').append(formContent));\r\n                this.window = new kendo.ui.Window(this.wrapper.appendTo(this.element), this.options.window);\r\n                this.window.bind('close', function (e) {\r\n                    if (e.userTriggered) {\r\n                        e.sender.element.focus();\r\n                        that._cancelClick(e);\r\n                    }\r\n                });\r\n                this._attachButtonEvents();\r\n            },\r\n            _renderTemplate: function () {\r\n                var template = this.options.template;\r\n                if (typeof template === 'string') {\r\n                    template = window.unescape(template);\r\n                }\r\n                template = kendo.template(template)(this.model);\r\n                return template;\r\n            },\r\n            _renderFields: function () {\r\n                var form = '';\r\n                for (var i = 0; i < this.fields.length; i++) {\r\n                    var field = this.fields[i];\r\n                    form += '<div class=\"k-edit-label\"><label for=\"' + field.field + '\">' + (field.field || '') + '</label></div>';\r\n                    if (this._isEditable(field.field)) {\r\n                        form += '<div ' + kendo.attr('container-for') + '=\"' + field.field + '\" class=\"k-edit-field\"></div>';\r\n                    }\r\n                }\r\n                return form;\r\n            },\r\n            _renderButtons: function () {\r\n                var form = '<div class=\"k-edit-buttons k-state-default\">';\r\n                form += this._createButton('update');\r\n                form += this._createButton('cancel');\r\n                form += '</div>';\r\n                return form;\r\n            },\r\n            _createButton: function (name) {\r\n                return kendo.template(BUTTON_TEMPLATE)(defaultButtons[name]);\r\n            },\r\n            _attachButtonEvents: function () {\r\n                this._cancelClickHandler = proxy(this._cancelClick, this);\r\n                this.window.element.on(CLICK + NS, 'a.k-diagram-cancel', this._cancelClickHandler);\r\n                this._updateClickHandler = proxy(this._updateClick, this);\r\n                this.window.element.on(CLICK + NS, 'a.k-diagram-update', this._updateClickHandler);\r\n            },\r\n            _updateClick: function (e) {\r\n                e.preventDefault();\r\n                this.trigger('update');\r\n            },\r\n            _cancelClick: function (e) {\r\n                e.preventDefault();\r\n                this.trigger('cancel');\r\n            },\r\n            open: function () {\r\n                this.window.center().open();\r\n            },\r\n            close: function () {\r\n                this.window.bind('deactivate', proxy(this.destroy, this)).close();\r\n            },\r\n            destroy: function () {\r\n                this.window.close().destroy();\r\n                this.window.element.off(CLICK + NS, 'a.k-diagram-cancel', this._cancelClickHandler);\r\n                this.window.element.off(CLICK + NS, 'a.k-diagram-update', this._updateClickHandler);\r\n                this._cancelClickHandler = null;\r\n                this._editUpdateClickHandler = null;\r\n                this.window = null;\r\n                Editor.fn.destroy.call(this);\r\n            }\r\n        });\r\n        function connectionSelector(container, options) {\r\n            var model = this.dataSource.reader.model;\r\n            if (model) {\r\n                var textField = model.fn.fields.text ? 'text' : model.idField;\r\n                $('<input name=\\'' + options.field + '\\' />').appendTo(container).kendoDropDownList({\r\n                    dataValueField: model.idField,\r\n                    dataTextField: textField,\r\n                    dataSource: this.dataSource.data().toJSON(),\r\n                    optionLabel: ' ',\r\n                    valuePrimitive: true\r\n                });\r\n            }\r\n        }\r\n        function InactiveItem(dataItem) {\r\n            this.dataItem = dataItem;\r\n            this.callbacks = [];\r\n        }\r\n        InactiveItem.fn = InactiveItem.prototype = {\r\n            onActivate: function (callback) {\r\n                var deffered = $.Deferred();\r\n                this.callbacks.push({\r\n                    callback: callback,\r\n                    deferred: deffered\r\n                });\r\n                return deffered;\r\n            },\r\n            activate: function () {\r\n                var callbacks = this.callbacks;\r\n                var item;\r\n                for (var idx = 0; idx < callbacks.length; idx++) {\r\n                    item = this.callbacks[idx];\r\n                    item.callback(this.dataItem);\r\n                    item.deferred.resolve();\r\n                }\r\n                this.callbacks = [];\r\n            }\r\n        };\r\n        function InactiveItemsCollection() {\r\n            this.items = {};\r\n        }\r\n        InactiveItemsCollection.fn = InactiveItemsCollection.prototype = {\r\n            add: function (items) {\r\n                for (var idx = 0; idx < items.length; idx++) {\r\n                    this.items[items[idx].uid] = new InactiveItem(items[idx]);\r\n                }\r\n            },\r\n            forEach: function (callback) {\r\n                for (var uid in this.items) {\r\n                    callback(this.items[uid]);\r\n                }\r\n            },\r\n            getByUid: function (uid) {\r\n                return this.items[uid];\r\n            },\r\n            remove: function (item) {\r\n                delete this.items[item.uid];\r\n            }\r\n        };\r\n        var QuadRoot = Class.extend({\r\n            init: function () {\r\n                this.shapes = [];\r\n            },\r\n            _add: function (shape, bounds) {\r\n                this.shapes.push({\r\n                    bounds: bounds,\r\n                    shape: shape\r\n                });\r\n                shape._quadNode = this;\r\n            },\r\n            insert: function (shape, bounds) {\r\n                this._add(shape, bounds);\r\n            },\r\n            remove: function (shape) {\r\n                var shapes = this.shapes;\r\n                var length = shapes.length;\r\n                for (var idx = 0; idx < length; idx++) {\r\n                    if (shapes[idx].shape === shape) {\r\n                        shapes.splice(idx, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            },\r\n            hitTestRect: function (rect) {\r\n                var shapes = this.shapes;\r\n                var length = shapes.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    if (this._testRect(shapes[i].shape, rect)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            },\r\n            _testRect: function (shape, rect) {\r\n                var angle = shape.rotate().angle;\r\n                var bounds = shape.bounds();\r\n                var hit;\r\n                if (!angle) {\r\n                    hit = bounds.overlaps(rect);\r\n                } else {\r\n                    hit = Intersect.rects(rect, bounds, -angle);\r\n                }\r\n                return hit;\r\n            }\r\n        });\r\n        var QuadNode = QuadRoot.extend({\r\n            init: function (rect) {\r\n                QuadRoot.fn.init.call(this);\r\n                this.children = [];\r\n                this.rect = rect;\r\n            },\r\n            inBounds: function (rect) {\r\n                var nodeRect = this.rect;\r\n                var nodeBottomRight = nodeRect.bottomRight();\r\n                var bottomRight = rect.bottomRight();\r\n                var inBounds = nodeRect.x <= rect.x && nodeRect.y <= rect.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\r\n                return inBounds;\r\n            },\r\n            overlapsBounds: function (rect) {\r\n                return this.rect.overlaps(rect);\r\n            },\r\n            insert: function (shape, bounds) {\r\n                var inserted = false;\r\n                var children = this.children;\r\n                var length = children.length;\r\n                if (this.inBounds(bounds)) {\r\n                    if (!length && this.shapes.length < 4) {\r\n                        this._add(shape, bounds);\r\n                    } else {\r\n                        if (!length) {\r\n                            this._initChildren();\r\n                        }\r\n                        for (var idx = 0; idx < children.length; idx++) {\r\n                            if (children[idx].insert(shape, bounds)) {\r\n                                inserted = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (!inserted) {\r\n                            this._add(shape, bounds);\r\n                        }\r\n                    }\r\n                    inserted = true;\r\n                }\r\n                return inserted;\r\n            },\r\n            _initChildren: function () {\r\n                var rect = this.rect, children = this.children, shapes = this.shapes, center = rect.center(), halfWidth = rect.width / 2, halfHeight = rect.height / 2, childIdx, shapeIdx;\r\n                children.push(new QuadNode(new Rect(rect.x, rect.y, halfWidth, halfHeight)), new QuadNode(new Rect(center.x, rect.y, halfWidth, halfHeight)), new QuadNode(new Rect(rect.x, center.y, halfWidth, halfHeight)), new QuadNode(new Rect(center.x, center.y, halfWidth, halfHeight)));\r\n                for (shapeIdx = shapes.length - 1; shapeIdx >= 0; shapeIdx--) {\r\n                    for (childIdx = 0; childIdx < children.length; childIdx++) {\r\n                        if (children[childIdx].insert(shapes[shapeIdx].shape, shapes[shapeIdx].bounds)) {\r\n                            shapes.splice(shapeIdx, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            hitTestRect: function (rect) {\r\n                var idx;\r\n                var children = this.children;\r\n                var length = children.length;\r\n                var hit = false;\r\n                if (this.overlapsBounds(rect)) {\r\n                    if (QuadRoot.fn.hitTestRect.call(this, rect)) {\r\n                        hit = true;\r\n                    } else {\r\n                        for (idx = 0; idx < length; idx++) {\r\n                            if (children[idx].hitTestRect(rect)) {\r\n                                hit = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return hit;\r\n            }\r\n        });\r\n        var ShapesQuadTree = Class.extend({\r\n            ROOT_SIZE: 1000,\r\n            init: function (diagram) {\r\n                var boundsChangeHandler = proxy(this._boundsChange, this);\r\n                diagram.bind(ITEMBOUNDSCHANGE, boundsChangeHandler);\r\n                diagram.bind(ITEMROTATE, boundsChangeHandler);\r\n                this.initRoots();\r\n            },\r\n            initRoots: function () {\r\n                this.rootMap = {};\r\n                this.root = new QuadRoot();\r\n            },\r\n            clear: function () {\r\n                this.initRoots();\r\n            },\r\n            _boundsChange: function (e) {\r\n                if (e.item._quadNode) {\r\n                    e.item._quadNode.remove(e.item);\r\n                }\r\n                this.insert(e.item);\r\n            },\r\n            insert: function (shape) {\r\n                var bounds = shape.bounds(ROTATED);\r\n                var rootSize = this.ROOT_SIZE;\r\n                var sectors = this.getSectors(bounds);\r\n                var x = sectors[0][0];\r\n                var y = sectors[1][0];\r\n                if (this.inRoot(sectors)) {\r\n                    this.root.insert(shape, bounds);\r\n                } else {\r\n                    if (!this.rootMap[x]) {\r\n                        this.rootMap[x] = {};\r\n                    }\r\n                    if (!this.rootMap[x][y]) {\r\n                        this.rootMap[x][y] = new QuadNode(new Rect(x * rootSize, y * rootSize, rootSize, rootSize));\r\n                    }\r\n                    this.rootMap[x][y].insert(shape, bounds);\r\n                }\r\n            },\r\n            remove: function (shape) {\r\n                if (shape._quadNode) {\r\n                    shape._quadNode.remove(shape);\r\n                }\r\n            },\r\n            inRoot: function (sectors) {\r\n                return sectors[0].length > 1 || sectors[1].length > 1;\r\n            },\r\n            getSectors: function (rect) {\r\n                var rootSize = this.ROOT_SIZE;\r\n                var bottomRight = rect.bottomRight();\r\n                var bottomX = math.floor(bottomRight.x / rootSize);\r\n                var bottomY = math.floor(bottomRight.y / rootSize);\r\n                var sectors = [\r\n                    [],\r\n                    []\r\n                ];\r\n                for (var x = math.floor(rect.x / rootSize); x <= bottomX; x++) {\r\n                    sectors[0].push(x);\r\n                }\r\n                for (var y = math.floor(rect.y / rootSize); y <= bottomY; y++) {\r\n                    sectors[1].push(y);\r\n                }\r\n                return sectors;\r\n            },\r\n            hitTestRect: function (rect) {\r\n                var sectors = this.getSectors(rect);\r\n                var xIdx, yIdx, x, y;\r\n                var root;\r\n                if (this.root.hitTestRect(rect)) {\r\n                    return true;\r\n                }\r\n                for (xIdx = 0; xIdx < sectors[0].length; xIdx++) {\r\n                    x = sectors[0][xIdx];\r\n                    for (yIdx = 0; yIdx < sectors[1].length; yIdx++) {\r\n                        y = sectors[1][yIdx];\r\n                        root = (this.rootMap[x] || {})[y];\r\n                        if (root && root.hitTestRect(rect)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        function cloneDataItem(dataItem) {\r\n            var result = dataItem;\r\n            if (dataItem instanceof kendo.data.Model) {\r\n                result = dataItem.toJSON();\r\n                result[dataItem.idField] = dataItem._defaultId;\r\n            }\r\n            return result;\r\n        }\r\n        function splitDiagramElements(elements) {\r\n            var connections = [];\r\n            var shapes = [];\r\n            var element, idx;\r\n            for (idx = 0; idx < elements.length; idx++) {\r\n                element = elements[idx];\r\n                if (element instanceof Shape) {\r\n                    shapes.push(element);\r\n                } else {\r\n                    connections.push(element);\r\n                }\r\n            }\r\n            return {\r\n                shapes: shapes,\r\n                connections: connections\r\n            };\r\n        }\r\n        function createModel(dataSource, model) {\r\n            if (dataSource.reader.model) {\r\n                return new dataSource.reader.model(model);\r\n            }\r\n            return new kendo.data.ObservableObject(model);\r\n        }\r\n        function clearField(field, model) {\r\n            if (defined(model[field])) {\r\n                model.set(field, null);\r\n            }\r\n        }\r\n        function copyDefaultOptions(mainOptions, elementOptions, fields) {\r\n            var field;\r\n            for (var idx = 0; idx < fields.length; idx++) {\r\n                field = fields[idx];\r\n                if (elementOptions && !defined(elementOptions[field])) {\r\n                    elementOptions[field] = mainOptions[field];\r\n                }\r\n            }\r\n        }\r\n        function translateToOrigin(visual) {\r\n            var bbox = visual.drawingContainer().clippedBBox(null);\r\n            if (bbox.origin.x !== 0 || bbox.origin.y !== 0) {\r\n                visual.position(-bbox.origin.x, -bbox.origin.y);\r\n            }\r\n        }\r\n        function preventDefault(e) {\r\n            e.preventDefault();\r\n        }\r\n        dataviz.ui.plugin(Diagram);\r\n        deepExtend(diagram, {\r\n            Shape: Shape,\r\n            Connection: Connection,\r\n            Connector: Connector,\r\n            DiagramToolBar: DiagramToolBar,\r\n            QuadNode: QuadNode,\r\n            QuadRoot: QuadRoot,\r\n            ShapesQuadTree: ShapesQuadTree,\r\n            PopupEditor: PopupEditor\r\n        });\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.diagram', [\r\n        'kendo.data',\r\n        'kendo.draganddrop',\r\n        'kendo.userevents',\r\n        'kendo.mobile.scroller',\r\n        'kendo.drawing',\r\n        'dataviz/diagram/utils',\r\n        'dataviz/diagram/math',\r\n        'dataviz/diagram/svg',\r\n        'dataviz/diagram/services',\r\n        'dataviz/diagram/layout',\r\n        'dataviz/diagram/dom'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.diagram',\r\n        name: 'Diagram',\r\n        category: 'dataviz',\r\n        description: 'The Kendo DataViz Diagram ',\r\n        depends: [\r\n            'data',\r\n            'userevents',\r\n            'mobile.scroller',\r\n            'draganddrop',\r\n            'drawing',\r\n            'dataviz.core',\r\n            'dataviz.themes',\r\n            'toolbar'\r\n        ],\r\n        features: [\r\n            {\r\n                id: 'dataviz.diagram-pdf-export',\r\n                name: 'PDF export',\r\n                description: 'Export Diagram as PDF',\r\n                depends: ['pdf']\r\n            },\r\n            {\r\n                id: 'dataviz.diagram-editing',\r\n                name: 'Editing',\r\n                description: 'Support for model editing',\r\n                depends: [\r\n                    'editable',\r\n                    'window',\r\n                    'dropdownlist'\r\n                ]\r\n            }\r\n        ]\r\n    };\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('util/main', ['kendo.core'], f);\r\n}(function () {\r\n    (function () {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\r\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function round(value, precision) {\r\n            var power = pow(precision);\r\n            return math.round(value * power) / power;\r\n        }\r\n        function pow(p) {\r\n            if (p) {\r\n                return math.pow(10, p);\r\n            } else {\r\n                return 1;\r\n            }\r\n        }\r\n        function limitValue(value, min, max) {\r\n            return math.max(math.min(value, max), min);\r\n        }\r\n        function rad(degrees) {\r\n            return degrees * DEG_TO_RAD;\r\n        }\r\n        function deg(radians) {\r\n            return radians / DEG_TO_RAD;\r\n        }\r\n        function isNumber(val) {\r\n            return typeof val === 'number' && !isNaN(val);\r\n        }\r\n        function valueOrDefault(value, defaultValue) {\r\n            return defined(value) ? value : defaultValue;\r\n        }\r\n        function sqr(value) {\r\n            return value * value;\r\n        }\r\n        function objectKey(object) {\r\n            var parts = [];\r\n            for (var key in object) {\r\n                parts.push(key + object[key]);\r\n            }\r\n            return parts.sort().join('');\r\n        }\r\n        function hashKey(str) {\r\n            var hash = 2166136261;\r\n            for (var i = 0; i < str.length; ++i) {\r\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\r\n                hash ^= str.charCodeAt(i);\r\n            }\r\n            return hash >>> 0;\r\n        }\r\n        function hashObject(object) {\r\n            return hashKey(objectKey(object));\r\n        }\r\n        var now = Date.now;\r\n        if (!now) {\r\n            now = function () {\r\n                return new Date().getTime();\r\n            };\r\n        }\r\n        function arrayLimits(arr) {\r\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\r\n            for (i = 0; i < length; i++) {\r\n                max = math.max(max, arr[i]);\r\n                min = math.min(min, arr[i]);\r\n            }\r\n            return {\r\n                min: min,\r\n                max: max\r\n            };\r\n        }\r\n        function arrayMin(arr) {\r\n            return arrayLimits(arr).min;\r\n        }\r\n        function arrayMax(arr) {\r\n            return arrayLimits(arr).max;\r\n        }\r\n        function sparseArrayMin(arr) {\r\n            return sparseArrayLimits(arr).min;\r\n        }\r\n        function sparseArrayMax(arr) {\r\n            return sparseArrayLimits(arr).max;\r\n        }\r\n        function sparseArrayLimits(arr) {\r\n            var min = MAX_NUM, max = MIN_NUM;\r\n            for (var i = 0, length = arr.length; i < length; i++) {\r\n                var n = arr[i];\r\n                if (n !== null && isFinite(n)) {\r\n                    min = math.min(min, n);\r\n                    max = math.max(max, n);\r\n                }\r\n            }\r\n            return {\r\n                min: min === MAX_NUM ? undefined : min,\r\n                max: max === MIN_NUM ? undefined : max\r\n            };\r\n        }\r\n        function last(array) {\r\n            if (array) {\r\n                return array[array.length - 1];\r\n            }\r\n        }\r\n        function append(first, second) {\r\n            first.push.apply(first, second);\r\n            return first;\r\n        }\r\n        function renderTemplate(text) {\r\n            return kendo.template(text, {\r\n                useWithBlock: false,\r\n                paramName: 'd'\r\n            });\r\n        }\r\n        function renderAttr(name, value) {\r\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\r\n        }\r\n        function renderAllAttr(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                output += renderAttr(attrs[i][0], attrs[i][1]);\r\n            }\r\n            return output;\r\n        }\r\n        function renderStyle(attrs) {\r\n            var output = '';\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var value = attrs[i][1];\r\n                if (defined(value)) {\r\n                    output += attrs[i][0] + ':' + value + ';';\r\n                }\r\n            }\r\n            if (output !== '') {\r\n                return output;\r\n            }\r\n        }\r\n        function renderSize(size) {\r\n            if (typeof size !== 'string') {\r\n                size += 'px';\r\n            }\r\n            return size;\r\n        }\r\n        function renderPos(pos) {\r\n            var result = [];\r\n            if (pos) {\r\n                var parts = kendo.toHyphens(pos).split('-');\r\n                for (var i = 0; i < parts.length; i++) {\r\n                    result.push('k-pos-' + parts[i]);\r\n                }\r\n            }\r\n            return result.join(' ');\r\n        }\r\n        function isTransparent(color) {\r\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\r\n        }\r\n        function arabicToRoman(n) {\r\n            var literals = {\r\n                1: 'i',\r\n                10: 'x',\r\n                100: 'c',\r\n                2: 'ii',\r\n                20: 'xx',\r\n                200: 'cc',\r\n                3: 'iii',\r\n                30: 'xxx',\r\n                300: 'ccc',\r\n                4: 'iv',\r\n                40: 'xl',\r\n                400: 'cd',\r\n                5: 'v',\r\n                50: 'l',\r\n                500: 'd',\r\n                6: 'vi',\r\n                60: 'lx',\r\n                600: 'dc',\r\n                7: 'vii',\r\n                70: 'lxx',\r\n                700: 'dcc',\r\n                8: 'viii',\r\n                80: 'lxxx',\r\n                800: 'dccc',\r\n                9: 'ix',\r\n                90: 'xc',\r\n                900: 'cm',\r\n                1000: 'm'\r\n            };\r\n            var values = [\r\n                1000,\r\n                900,\r\n                800,\r\n                700,\r\n                600,\r\n                500,\r\n                400,\r\n                300,\r\n                200,\r\n                100,\r\n                90,\r\n                80,\r\n                70,\r\n                60,\r\n                50,\r\n                40,\r\n                30,\r\n                20,\r\n                10,\r\n                9,\r\n                8,\r\n                7,\r\n                6,\r\n                5,\r\n                4,\r\n                3,\r\n                2,\r\n                1\r\n            ];\r\n            var roman = '';\r\n            while (n > 0) {\r\n                if (n < values[0]) {\r\n                    values.shift();\r\n                } else {\r\n                    roman += literals[values[0]];\r\n                    n -= values[0];\r\n                }\r\n            }\r\n            return roman;\r\n        }\r\n        function romanToArabic(r) {\r\n            r = r.toLowerCase();\r\n            var digits = {\r\n                i: 1,\r\n                v: 5,\r\n                x: 10,\r\n                l: 50,\r\n                c: 100,\r\n                d: 500,\r\n                m: 1000\r\n            };\r\n            var value = 0, prev = 0;\r\n            for (var i = 0; i < r.length; ++i) {\r\n                var v = digits[r.charAt(i)];\r\n                if (!v) {\r\n                    return null;\r\n                }\r\n                value += v;\r\n                if (v > prev) {\r\n                    value -= 2 * prev;\r\n                }\r\n                prev = v;\r\n            }\r\n            return value;\r\n        }\r\n        function memoize(f) {\r\n            var cache = Object.create(null);\r\n            return function () {\r\n                var id = '';\r\n                for (var i = arguments.length; --i >= 0;) {\r\n                    id += ':' + arguments[i];\r\n                }\r\n                if (id in cache) {\r\n                    return cache[id];\r\n                }\r\n                return f.apply(this, arguments);\r\n            };\r\n        }\r\n        function ucs2decode(string) {\r\n            var output = [], counter = 0, length = string.length, value, extra;\r\n            while (counter < length) {\r\n                value = string.charCodeAt(counter++);\r\n                if (value >= 55296 && value <= 56319 && counter < length) {\r\n                    extra = string.charCodeAt(counter++);\r\n                    if ((extra & 64512) == 56320) {\r\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\r\n                    } else {\r\n                        output.push(value);\r\n                        counter--;\r\n                    }\r\n                } else {\r\n                    output.push(value);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        function ucs2encode(array) {\r\n            return array.map(function (value) {\r\n                var output = '';\r\n                if (value > 65535) {\r\n                    value -= 65536;\r\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\r\n                    value = 56320 | value & 1023;\r\n                }\r\n                output += String.fromCharCode(value);\r\n                return output;\r\n            }).join('');\r\n        }\r\n        deepExtend(kendo, {\r\n            util: {\r\n                MAX_NUM: MAX_NUM,\r\n                MIN_NUM: MIN_NUM,\r\n                append: append,\r\n                arrayLimits: arrayLimits,\r\n                arrayMin: arrayMin,\r\n                arrayMax: arrayMax,\r\n                defined: defined,\r\n                deg: deg,\r\n                hashKey: hashKey,\r\n                hashObject: hashObject,\r\n                isNumber: isNumber,\r\n                isTransparent: isTransparent,\r\n                last: last,\r\n                limitValue: limitValue,\r\n                now: now,\r\n                objectKey: objectKey,\r\n                round: round,\r\n                rad: rad,\r\n                renderAttr: renderAttr,\r\n                renderAllAttr: renderAllAttr,\r\n                renderPos: renderPos,\r\n                renderSize: renderSize,\r\n                renderStyle: renderStyle,\r\n                renderTemplate: renderTemplate,\r\n                sparseArrayLimits: sparseArrayLimits,\r\n                sparseArrayMin: sparseArrayMin,\r\n                sparseArrayMax: sparseArrayMax,\r\n                sqr: sqr,\r\n                valueOrDefault: valueOrDefault,\r\n                romanToArabic: romanToArabic,\r\n                arabicToRoman: arabicToRoman,\r\n                memoize: memoize,\r\n                ucs2encode: ucs2encode,\r\n                ucs2decode: ucs2decode\r\n            }\r\n        });\r\n        kendo.drawing.util = kendo.util;\r\n        kendo.dataviz.util = kendo.util;\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/text-metrics', [\r\n        'kendo.core',\r\n        'util/main'\r\n    ], f);\r\n}(function () {\r\n    (function ($) {\r\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\r\n        var LRUCache = Class.extend({\r\n            init: function (size) {\r\n                this._size = size;\r\n                this._length = 0;\r\n                this._map = {};\r\n            },\r\n            put: function (key, value) {\r\n                var lru = this, map = lru._map, entry = {\r\n                        key: key,\r\n                        value: value\r\n                    };\r\n                map[key] = entry;\r\n                if (!lru._head) {\r\n                    lru._head = lru._tail = entry;\r\n                } else {\r\n                    lru._tail.newer = entry;\r\n                    entry.older = lru._tail;\r\n                    lru._tail = entry;\r\n                }\r\n                if (lru._length >= lru._size) {\r\n                    map[lru._head.key] = null;\r\n                    lru._head = lru._head.newer;\r\n                    lru._head.older = null;\r\n                } else {\r\n                    lru._length++;\r\n                }\r\n            },\r\n            get: function (key) {\r\n                var lru = this, entry = lru._map[key];\r\n                if (entry) {\r\n                    if (entry === lru._head && entry !== lru._tail) {\r\n                        lru._head = entry.newer;\r\n                        lru._head.older = null;\r\n                    }\r\n                    if (entry !== lru._tail) {\r\n                        if (entry.older) {\r\n                            entry.older.newer = entry.newer;\r\n                            entry.newer.older = entry.older;\r\n                        }\r\n                        entry.older = lru._tail;\r\n                        entry.newer = null;\r\n                        lru._tail.newer = entry;\r\n                        lru._tail = entry;\r\n                    }\r\n                    return entry.value;\r\n                }\r\n            }\r\n        });\r\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\r\n        function zeroSize() {\r\n            return {\r\n                width: 0,\r\n                height: 0,\r\n                baseline: 0\r\n            };\r\n        }\r\n        var TextMetrics = Class.extend({\r\n            init: function (options) {\r\n                this._cache = new LRUCache(1000);\r\n                this._initOptions(options);\r\n            },\r\n            options: { baselineMarkerSize: 1 },\r\n            measure: function (text, style, box) {\r\n                if (!text) {\r\n                    return zeroSize();\r\n                }\r\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\r\n                if (cachedResult) {\r\n                    return cachedResult;\r\n                }\r\n                var size = zeroSize();\r\n                var measureBox = box ? box : defaultMeasureBox;\r\n                var baselineMarker = this._baselineMarker().cloneNode(false);\r\n                for (var key in style) {\r\n                    var value = style[key];\r\n                    if (defined(value)) {\r\n                        measureBox.style[key] = value;\r\n                    }\r\n                }\r\n                $(measureBox).text(text);\r\n                measureBox.appendChild(baselineMarker);\r\n                doc.body.appendChild(measureBox);\r\n                if ((text + '').length) {\r\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\r\n                    size.height = measureBox.offsetHeight;\r\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\r\n                }\r\n                if (size.width > 0 && size.height > 0) {\r\n                    this._cache.put(cacheKey, size);\r\n                }\r\n                measureBox.parentNode.removeChild(measureBox);\r\n                return size;\r\n            },\r\n            _baselineMarker: function () {\r\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\r\n            }\r\n        });\r\n        TextMetrics.current = new TextMetrics();\r\n        function measureText(text, style, measureBox) {\r\n            return TextMetrics.current.measure(text, style, measureBox);\r\n        }\r\n        function loadFonts(fonts, callback) {\r\n            var promises = [];\r\n            if (fonts.length > 0 && document.fonts) {\r\n                try {\r\n                    promises = fonts.map(function (font) {\r\n                        return document.fonts.load(font);\r\n                    });\r\n                } catch (e) {\r\n                    kendo.logToConsole(e);\r\n                }\r\n                Promise.all(promises).then(callback, callback);\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n        kendo.util.TextMetrics = TextMetrics;\r\n        kendo.util.LRUCache = LRUCache;\r\n        kendo.util.loadFonts = loadFonts;\r\n        kendo.util.measureText = measureText;\r\n    }(window.kendo.jQuery));\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('util/base64', ['util/main'], f);\r\n}(function () {\r\n    (function () {\r\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\r\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        function encodeBase64(input) {\r\n            var output = '';\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            input = encodeUTF8(input);\r\n            while (i < input.length) {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n                enc1 = chr1 >> 2;\r\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\r\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\r\n                enc4 = chr3 & 63;\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\r\n            }\r\n            return output;\r\n        }\r\n        function encodeUTF8(input) {\r\n            var output = '';\r\n            for (var i = 0; i < input.length; i++) {\r\n                var c = input.charCodeAt(i);\r\n                if (c < 128) {\r\n                    output += fromCharCode(c);\r\n                } else if (c < 2048) {\r\n                    output += fromCharCode(192 | c >>> 6);\r\n                    output += fromCharCode(128 | c & 63);\r\n                } else if (c < 65536) {\r\n                    output += fromCharCode(224 | c >>> 12);\r\n                    output += fromCharCode(128 | c >>> 6 & 63);\r\n                    output += fromCharCode(128 | c & 63);\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n        deepExtend(kendo.util, {\r\n            encodeBase64: encodeBase64,\r\n            encodeUTF8: encodeUTF8\r\n        });\r\n    }());\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('mixins/observers', ['kendo.core'], f);\r\n}(function () {\r\n    (function ($) {\r\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\r\n        var ObserversMixin = {\r\n            observers: function () {\r\n                this._observers = this._observers || [];\r\n                return this._observers;\r\n            },\r\n            addObserver: function (element) {\r\n                if (!this._observers) {\r\n                    this._observers = [element];\r\n                } else {\r\n                    this._observers.push(element);\r\n                }\r\n                return this;\r\n            },\r\n            removeObserver: function (element) {\r\n                var observers = this.observers();\r\n                var index = inArray(element, observers);\r\n                if (index != -1) {\r\n                    observers.splice(index, 1);\r\n                }\r\n                return this;\r\n            },\r\n            trigger: function (methodName, event) {\r\n                var observers = this._observers;\r\n                var observer;\r\n                var idx;\r\n                if (observers && !this._suspended) {\r\n                    for (idx = 0; idx < observers.length; idx++) {\r\n                        observer = observers[idx];\r\n                        if (observer[methodName]) {\r\n                            observer[methodName](event);\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            optionsChange: function (e) {\r\n                e = e || {};\r\n                e.element = this;\r\n                this.trigger('optionsChange', e);\r\n            },\r\n            geometryChange: function () {\r\n                this.trigger('geometryChange', { element: this });\r\n            },\r\n            suspend: function () {\r\n                this._suspended = (this._suspended || 0) + 1;\r\n                return this;\r\n            },\r\n            resume: function () {\r\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\r\n                return this;\r\n            },\r\n            _observerField: function (field, value) {\r\n                if (this[field]) {\r\n                    this[field].removeObserver(this);\r\n                }\r\n                this[field] = value;\r\n                value.addObserver(this);\r\n            }\r\n        };\r\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\r\n(function (f, define) {\r\n    define('kendo.dataviz.treemap', [\r\n        'kendo.data',\r\n        'kendo.userevents',\r\n        'kendo.dataviz.themes'\r\n    ], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'dataviz.treeMap',\r\n        name: 'TreeMap',\r\n        category: 'dataviz',\r\n        description: 'The Kendo DataViz TreeMap',\r\n        depends: [\r\n            'data',\r\n            'userevents',\r\n            'dataviz.themes'\r\n        ]\r\n    };\r\n    (function ($, undefined) {\r\n        var math = Math, proxy = $.proxy, isArray = $.isArray, kendo = window.kendo, Class = kendo.Class, Widget = kendo.ui.Widget, template = kendo.template, deepExtend = kendo.deepExtend, HierarchicalDataSource = kendo.data.HierarchicalDataSource, getter = kendo.getter, dataviz = kendo.dataviz;\r\n        var NS = '.kendoTreeMap', CHANGE = 'change', DATA_BOUND = 'dataBound', ITEM_CREATED = 'itemCreated', MAX_VALUE = Number.MAX_VALUE, MOUSEOVER_NS = 'mouseover' + NS, MOUSELEAVE_NS = 'mouseleave' + NS, UNDEFINED = 'undefined';\r\n        var TreeMap = Widget.extend({\r\n            init: function (element, options) {\r\n                kendo.destroy(element);\r\n                $(element).empty();\r\n                Widget.fn.init.call(this, element, options);\r\n                this.wrapper = this.element;\r\n                this._initTheme(this.options);\r\n                this.element.addClass('k-widget k-treemap');\r\n                this._setLayout();\r\n                this._originalOptions = deepExtend({}, this.options);\r\n                this._initDataSource();\r\n                this._attachEvents();\r\n                kendo.notify(this, dataviz.ui);\r\n            },\r\n            options: {\r\n                name: 'TreeMap',\r\n                theme: 'default',\r\n                autoBind: true,\r\n                textField: 'text',\r\n                valueField: 'value',\r\n                colorField: 'color'\r\n            },\r\n            events: [\r\n                DATA_BOUND,\r\n                ITEM_CREATED\r\n            ],\r\n            _initTheme: function (options) {\r\n                var that = this, themes = dataviz.ui.themes || {}, themeName = ((options || {}).theme || '').toLowerCase(), themeOptions = (themes[themeName] || {}).treeMap;\r\n                that.options = deepExtend({}, themeOptions, options);\r\n            },\r\n            _attachEvents: function () {\r\n                this.element.on(MOUSEOVER_NS, proxy(this._mouseover, this)).on(MOUSELEAVE_NS, proxy(this._mouseleave, this));\r\n                this._resizeHandler = proxy(this.resize, this, false);\r\n                kendo.onResize(this._resizeHandler);\r\n            },\r\n            _setLayout: function () {\r\n                if (this.options.type === 'horizontal') {\r\n                    this._layout = new SliceAndDice(false);\r\n                    this._view = new SliceAndDiceView(this, this.options);\r\n                } else if (this.options.type === 'vertical') {\r\n                    this._layout = new SliceAndDice(true);\r\n                    this._view = new SliceAndDiceView(this, this.options);\r\n                } else {\r\n                    this._layout = new Squarified();\r\n                    this._view = new SquarifiedView(this, this.options);\r\n                }\r\n            },\r\n            _initDataSource: function () {\r\n                var that = this, options = that.options, dataSource = options.dataSource;\r\n                that._dataChangeHandler = proxy(that._onDataChange, that);\r\n                that.dataSource = HierarchicalDataSource.create(dataSource).bind(CHANGE, that._dataChangeHandler);\r\n                if (dataSource) {\r\n                    if (that.options.autoBind) {\r\n                        that.dataSource.fetch();\r\n                    }\r\n                }\r\n            },\r\n            setDataSource: function (dataSource) {\r\n                var that = this;\r\n                that.dataSource.unbind(CHANGE, that._dataChangeHandler);\r\n                that.dataSource = dataSource.bind(CHANGE, that._dataChangeHandler);\r\n                if (dataSource) {\r\n                    if (that.options.autoBind) {\r\n                        that.dataSource.fetch();\r\n                    }\r\n                }\r\n            },\r\n            _onDataChange: function (e) {\r\n                var node = e.node;\r\n                var items = e.items;\r\n                var options = this.options;\r\n                var item, i;\r\n                if (!node) {\r\n                    this._cleanItems();\r\n                    this.element.empty();\r\n                    item = this._wrapItem(items[0]);\r\n                    this._layout.createRoot(item, this.element.outerWidth(), this.element.outerHeight(), this.options.type === 'vertical');\r\n                    this._view.createRoot(item);\r\n                    this._root = item;\r\n                    this._colorIdx = 0;\r\n                } else {\r\n                    if (items.length) {\r\n                        var root = this._getByUid(node.uid);\r\n                        root.children = [];\r\n                        items = new kendo.data.Query(items)._sortForGrouping(options.valueField, 'desc');\r\n                        for (i = 0; i < items.length; i++) {\r\n                            item = items[i];\r\n                            root.children.push(this._wrapItem(item));\r\n                        }\r\n                        var htmlSize = this._view.htmlSize(root);\r\n                        this._layout.compute(root.children, root.coord, htmlSize);\r\n                        this._setColors(root.children);\r\n                        this._view.render(root);\r\n                    }\r\n                }\r\n                for (i = 0; i < items.length; i++) {\r\n                    items[i].load();\r\n                }\r\n                if (node) {\r\n                    this.trigger(DATA_BOUND, { node: node });\r\n                }\r\n            },\r\n            _cleanItems: function () {\r\n                var that = this;\r\n                that.angular('cleanup', function () {\r\n                    return { elements: that.element.find('.k-leaf div,.k-treemap-title,.k-treemap-title-vertical') };\r\n                });\r\n            },\r\n            _setColors: function (items) {\r\n                var colors = this.options.colors;\r\n                var colorIdx = this._colorIdx;\r\n                var color = colors[colorIdx % colors.length];\r\n                var colorRange, item;\r\n                if (isArray(color)) {\r\n                    colorRange = colorsByLength(color[0], color[1], items.length);\r\n                }\r\n                var leafNodes = false;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    item = items[i];\r\n                    if (!defined(item.color)) {\r\n                        if (colorRange) {\r\n                            item.color = colorRange[i];\r\n                        } else {\r\n                            item.color = color;\r\n                        }\r\n                    }\r\n                    if (!item.dataItem.hasChildren) {\r\n                        leafNodes = true;\r\n                    }\r\n                }\r\n                if (leafNodes) {\r\n                    this._colorIdx++;\r\n                }\r\n            },\r\n            _contentSize: function (root) {\r\n                this.view.renderHeight(root);\r\n            },\r\n            _wrapItem: function (item) {\r\n                var wrap = {};\r\n                if (defined(this.options.valueField)) {\r\n                    wrap.value = getField(this.options.valueField, item);\r\n                }\r\n                if (defined(this.options.colorField)) {\r\n                    wrap.color = getField(this.options.colorField, item);\r\n                }\r\n                if (defined(this.options.textField)) {\r\n                    wrap.text = getField(this.options.textField, item);\r\n                }\r\n                wrap.level = item.level();\r\n                wrap.dataItem = item;\r\n                return wrap;\r\n            },\r\n            _getByUid: function (uid) {\r\n                var items = [this._root];\r\n                var item;\r\n                while (items.length) {\r\n                    item = items.pop();\r\n                    if (item.dataItem.uid === uid) {\r\n                        return item;\r\n                    }\r\n                    if (item.children) {\r\n                        items = items.concat(item.children);\r\n                    }\r\n                }\r\n            },\r\n            dataItem: function (node) {\r\n                var uid = $(node).attr(kendo.attr('uid')), dataSource = this.dataSource;\r\n                return dataSource && dataSource.getByUid(uid);\r\n            },\r\n            findByUid: function (uid) {\r\n                return this.element.find('.k-treemap-tile[' + kendo.attr('uid') + '=\\'' + uid + '\\']');\r\n            },\r\n            _mouseover: function (e) {\r\n                var target = $(e.target);\r\n                if (target.hasClass('k-leaf')) {\r\n                    this._removeActiveState();\r\n                    target.removeClass('k-state-hover').addClass('k-state-hover');\r\n                }\r\n            },\r\n            _removeActiveState: function () {\r\n                this.element.find('.k-state-hover').removeClass('k-state-hover');\r\n            },\r\n            _mouseleave: function () {\r\n                this._removeActiveState();\r\n            },\r\n            destroy: function () {\r\n                Widget.fn.destroy.call(this);\r\n                this.element.off(NS);\r\n                if (this.dataSource) {\r\n                    this.dataSource.unbind(CHANGE, this._dataChangeHandler);\r\n                }\r\n                this._root = null;\r\n                kendo.unbindResize(this._resizeHandler);\r\n                kendo.destroy(this.element);\r\n            },\r\n            items: function () {\r\n                return $();\r\n            },\r\n            getSize: function () {\r\n                return kendo.dimensions(this.element);\r\n            },\r\n            _resize: function () {\r\n                var root = this._root;\r\n                if (root) {\r\n                    var element = this.element;\r\n                    var rootElement = element.children();\r\n                    root.coord.width = element.outerWidth();\r\n                    root.coord.height = element.outerHeight();\r\n                    rootElement.css({\r\n                        width: root.coord.width,\r\n                        height: root.coord.height\r\n                    });\r\n                    this._resizeItems(root, rootElement);\r\n                }\r\n            },\r\n            _resizeItems: function (root, element) {\r\n                if (root.children && root.children.length) {\r\n                    var elements = element.children('.k-treemap-wrap').children();\r\n                    var child, childElement;\r\n                    this._layout.compute(root.children, root.coord, { text: this._view.titleSize(root, element) });\r\n                    for (var idx = 0; idx < root.children.length; idx++) {\r\n                        child = root.children[idx];\r\n                        childElement = elements.filter('[' + kendo.attr('uid') + '=\\'' + child.dataItem.uid + '\\']');\r\n                        this._view.setItemSize(child, childElement);\r\n                        this._resizeItems(child, childElement);\r\n                    }\r\n                }\r\n            },\r\n            setOptions: function (options) {\r\n                var dataSource = options.dataSource;\r\n                options.dataSource = undefined;\r\n                this._originalOptions = deepExtend(this._originalOptions, options);\r\n                this.options = deepExtend({}, this._originalOptions);\r\n                this._setLayout();\r\n                this._initTheme(this.options);\r\n                Widget.fn._setEvents.call(this, options);\r\n                if (dataSource) {\r\n                    this.setDataSource(HierarchicalDataSource.create(dataSource));\r\n                }\r\n                if (this.options.autoBind) {\r\n                    this.dataSource.fetch();\r\n                }\r\n            }\r\n        });\r\n        var Squarified = Class.extend({\r\n            createRoot: function (root, width, height) {\r\n                root.coord = {\r\n                    width: width,\r\n                    height: height,\r\n                    top: 0,\r\n                    left: 0\r\n                };\r\n            },\r\n            leaf: function (tree) {\r\n                return !tree.children;\r\n            },\r\n            layoutChildren: function (items, coord) {\r\n                var parentArea = coord.width * coord.height;\r\n                var totalArea = 0, itemsArea = [], i;\r\n                for (i = 0; i < items.length; i++) {\r\n                    itemsArea[i] = parseFloat(items[i].value);\r\n                    totalArea += itemsArea[i];\r\n                }\r\n                for (i = 0; i < itemsArea.length; i++) {\r\n                    items[i].area = parentArea * itemsArea[i] / totalArea;\r\n                }\r\n                var minimumSideValue = this.layoutHorizontal() ? coord.height : coord.width;\r\n                var firstElement = [items[0]];\r\n                var tail = items.slice(1);\r\n                this.squarify(tail, firstElement, minimumSideValue, coord);\r\n            },\r\n            squarify: function (tail, initElement, width, coord) {\r\n                this.computeDim(tail, initElement, width, coord);\r\n            },\r\n            computeDim: function (tail, initElement, width, coord) {\r\n                if (tail.length + initElement.length == 1) {\r\n                    var element = tail.length == 1 ? tail : initElement;\r\n                    this.layoutLast(element, width, coord);\r\n                    return;\r\n                }\r\n                if (tail.length >= 2 && initElement.length === 0) {\r\n                    initElement = [tail[0]];\r\n                    tail = tail.slice(1);\r\n                }\r\n                if (tail.length === 0) {\r\n                    if (initElement.length > 0) {\r\n                        this.layoutRow(initElement, width, coord);\r\n                    }\r\n                    return;\r\n                }\r\n                var firstElement = tail[0];\r\n                if (this.worstAspectRatio(initElement, width) >= this.worstAspectRatio([firstElement].concat(initElement), width)) {\r\n                    this.computeDim(tail.slice(1), initElement.concat([firstElement]), width, coord);\r\n                } else {\r\n                    var newCoords = this.layoutRow(initElement, width, coord);\r\n                    this.computeDim(tail, [], newCoords.dim, newCoords);\r\n                }\r\n            },\r\n            layoutLast: function (items, w, coord) {\r\n                items[0].coord = coord;\r\n            },\r\n            layoutRow: function (items, width, coord) {\r\n                if (this.layoutHorizontal()) {\r\n                    return this.layoutV(items, width, coord);\r\n                } else {\r\n                    return this.layoutH(items, width, coord);\r\n                }\r\n            },\r\n            orientation: 'h',\r\n            layoutVertical: function () {\r\n                return this.orientation === 'v';\r\n            },\r\n            layoutHorizontal: function () {\r\n                return this.orientation === 'h';\r\n            },\r\n            layoutChange: function () {\r\n                this.orientation = this.layoutVertical() ? 'h' : 'v';\r\n            },\r\n            worstAspectRatio: function (items, width) {\r\n                if (!items || items.length === 0) {\r\n                    return MAX_VALUE;\r\n                }\r\n                var areaSum = 0, maxArea = 0, minArea = MAX_VALUE;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var area = items[i].area;\r\n                    areaSum += area;\r\n                    minArea = minArea < area ? minArea : area;\r\n                    maxArea = maxArea > area ? maxArea : area;\r\n                }\r\n                return math.max(width * width * maxArea / (areaSum * areaSum), areaSum * areaSum / (width * width * minArea));\r\n            },\r\n            compute: function (children, rootCoord, htmlSize) {\r\n                if (!(rootCoord.width >= rootCoord.height && this.layoutHorizontal())) {\r\n                    this.layoutChange();\r\n                }\r\n                if (children && children.length > 0) {\r\n                    var newRootCoord = {\r\n                        width: rootCoord.width,\r\n                        height: rootCoord.height - htmlSize.text,\r\n                        top: 0,\r\n                        left: 0\r\n                    };\r\n                    this.layoutChildren(children, newRootCoord);\r\n                }\r\n            },\r\n            layoutV: function (items, width, coord) {\r\n                var totalArea = this._totalArea(items), top = 0;\r\n                width = round(totalArea / width);\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var height = round(items[i].area / width);\r\n                    items[i].coord = {\r\n                        height: height,\r\n                        width: width,\r\n                        top: coord.top + top,\r\n                        left: coord.left\r\n                    };\r\n                    top += height;\r\n                }\r\n                var ans = {\r\n                    height: coord.height,\r\n                    width: coord.width - width,\r\n                    top: coord.top,\r\n                    left: coord.left + width\r\n                };\r\n                ans.dim = math.min(ans.width, ans.height);\r\n                if (ans.dim != ans.height) {\r\n                    this.layoutChange();\r\n                }\r\n                return ans;\r\n            },\r\n            layoutH: function (items, width, coord) {\r\n                var totalArea = this._totalArea(items);\r\n                var height = round(totalArea / width), top = coord.top, left = 0;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i].coord = {\r\n                        height: height,\r\n                        width: round(items[i].area / height),\r\n                        top: top,\r\n                        left: coord.left + left\r\n                    };\r\n                    left += items[i].coord.width;\r\n                }\r\n                var ans = {\r\n                    height: coord.height - height,\r\n                    width: coord.width,\r\n                    top: coord.top + height,\r\n                    left: coord.left\r\n                };\r\n                ans.dim = math.min(ans.width, ans.height);\r\n                if (ans.dim != ans.width) {\r\n                    this.layoutChange();\r\n                }\r\n                return ans;\r\n            },\r\n            _totalArea: function (items) {\r\n                var total = 0;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    total += items[i].area;\r\n                }\r\n                return total;\r\n            }\r\n        });\r\n        var SquarifiedView = Class.extend({\r\n            init: function (treeMap, options) {\r\n                this.options = deepExtend({}, this.options, options);\r\n                this.treeMap = treeMap;\r\n                this.element = $(treeMap.element);\r\n                this.offset = 0;\r\n            },\r\n            titleSize: function (item, element) {\r\n                var text = element.children('.k-treemap-title');\r\n                return text.height();\r\n            },\r\n            htmlSize: function (root) {\r\n                var rootElement = this._getByUid(root.dataItem.uid);\r\n                var htmlSize = { text: 0 };\r\n                if (root.children) {\r\n                    this._clean(rootElement);\r\n                    var text = this._getText(root);\r\n                    if (text) {\r\n                        var title = this._createTitle(root);\r\n                        rootElement.append(title);\r\n                        this._compile(title, root.dataItem);\r\n                        htmlSize.text = title.height();\r\n                    }\r\n                    rootElement.append(this._createWrap());\r\n                    this.offset = (rootElement.outerWidth() - rootElement.innerWidth()) / 2;\r\n                }\r\n                return htmlSize;\r\n            },\r\n            _compile: function (element, dataItem) {\r\n                this.treeMap.angular('compile', function () {\r\n                    return {\r\n                        elements: element,\r\n                        data: [{ dataItem: dataItem }]\r\n                    };\r\n                });\r\n            },\r\n            _getByUid: function (uid) {\r\n                return this.element.find('.k-treemap-tile[' + kendo.attr('uid') + '=\\'' + uid + '\\']');\r\n            },\r\n            render: function (root) {\r\n                var rootElement = this._getByUid(root.dataItem.uid);\r\n                var children = root.children;\r\n                if (children) {\r\n                    var rootWrap = rootElement.find('.k-treemap-wrap');\r\n                    for (var i = 0; i < children.length; i++) {\r\n                        var leaf = children[i];\r\n                        var htmlElement = this._createLeaf(leaf);\r\n                        rootWrap.append(htmlElement);\r\n                        this._compile(htmlElement.children(), leaf.dataItem);\r\n                        this.treeMap.trigger(ITEM_CREATED, { element: htmlElement });\r\n                    }\r\n                }\r\n            },\r\n            createRoot: function (root) {\r\n                var htmlElement = this._createLeaf(root);\r\n                this.element.append(htmlElement);\r\n                this._compile(htmlElement.children(), root.dataItem);\r\n                this.treeMap.trigger(ITEM_CREATED, { element: htmlElement });\r\n            },\r\n            _clean: function (root) {\r\n                this.treeMap.angular('cleanup', function () {\r\n                    return { elements: root.children(':not(.k-treemap-wrap)') };\r\n                });\r\n                root.css('background-color', '');\r\n                root.removeClass('k-leaf');\r\n                root.removeClass('k-inverse');\r\n                root.empty();\r\n            },\r\n            _createLeaf: function (item) {\r\n                return this._createTile(item).css('background-color', item.color).addClass('k-leaf').toggleClass('k-inverse', this._tileColorBrightness(item) > 180).append($('<div></div>').html(this._getText(item)));\r\n            },\r\n            _createTile: function (item) {\r\n                var tile = $('<div class=\\'k-treemap-tile\\'></div>');\r\n                this.setItemSize(item, tile);\r\n                if (defined(item.dataItem) && defined(item.dataItem.uid)) {\r\n                    tile.attr(kendo.attr('uid'), item.dataItem.uid);\r\n                }\r\n                return tile;\r\n            },\r\n            _itemCoordinates: function (item) {\r\n                var coordinates = {\r\n                    width: item.coord.width,\r\n                    height: item.coord.height,\r\n                    left: item.coord.left,\r\n                    top: item.coord.top\r\n                };\r\n                if (coordinates.left && this.offset) {\r\n                    coordinates.width += this.offset * 2;\r\n                } else {\r\n                    coordinates.width += this.offset;\r\n                }\r\n                if (coordinates.top) {\r\n                    coordinates.height += this.offset * 2;\r\n                } else {\r\n                    coordinates.height += this.offset;\r\n                }\r\n                return coordinates;\r\n            },\r\n            setItemSize: function (item, element) {\r\n                var coordinates = this._itemCoordinates(item);\r\n                element.css({\r\n                    width: coordinates.width,\r\n                    height: coordinates.height,\r\n                    left: coordinates.left,\r\n                    top: coordinates.top\r\n                });\r\n            },\r\n            _getText: function (item) {\r\n                var text = item.text;\r\n                if (this.options.template) {\r\n                    text = this._renderTemplate(item);\r\n                }\r\n                return text;\r\n            },\r\n            _renderTemplate: function (item) {\r\n                var titleTemplate = template(this.options.template);\r\n                return titleTemplate({\r\n                    dataItem: item.dataItem,\r\n                    text: item.text\r\n                });\r\n            },\r\n            _createTitle: function (item) {\r\n                return $('<div class=\\'k-treemap-title\\'></div>').append($('<div></div>').html(this._getText(item)));\r\n            },\r\n            _createWrap: function () {\r\n                return $('<div class=\\'k-treemap-wrap\\'></div>');\r\n            },\r\n            _tileColorBrightness: function (item) {\r\n                return colorBrightness(item.color);\r\n            }\r\n        });\r\n        var SliceAndDice = Class.extend({\r\n            createRoot: function (root, width, height, vertical) {\r\n                root.coord = {\r\n                    width: width,\r\n                    height: height,\r\n                    top: 0,\r\n                    left: 0\r\n                };\r\n                root.vertical = vertical;\r\n            },\r\n            init: function (vertical) {\r\n                this.vertical = vertical;\r\n                this.quotient = vertical ? 1 : 0;\r\n            },\r\n            compute: function (children, rootCoord, htmlSize) {\r\n                if (children.length > 0) {\r\n                    var width = rootCoord.width;\r\n                    var height = rootCoord.height;\r\n                    if (this.vertical) {\r\n                        height -= htmlSize.text;\r\n                    } else {\r\n                        width -= htmlSize.text;\r\n                    }\r\n                    var newRootCoord = {\r\n                        width: width,\r\n                        height: height,\r\n                        top: 0,\r\n                        left: 0\r\n                    };\r\n                    this.layoutChildren(children, newRootCoord);\r\n                }\r\n            },\r\n            layoutChildren: function (items, coord) {\r\n                var parentArea = coord.width * coord.height;\r\n                var totalArea = 0;\r\n                var itemsArea = [];\r\n                var i;\r\n                for (i = 0; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    itemsArea[i] = parseFloat(items[i].value);\r\n                    totalArea += itemsArea[i];\r\n                    item.vertical = this.vertical;\r\n                }\r\n                for (i = 0; i < itemsArea.length; i++) {\r\n                    items[i].area = parentArea * itemsArea[i] / totalArea;\r\n                }\r\n                this.sliceAndDice(items, coord);\r\n            },\r\n            sliceAndDice: function (items, coord) {\r\n                var totalArea = this._totalArea(items);\r\n                if (items[0].level % 2 === this.quotient) {\r\n                    this.layoutHorizontal(items, coord, totalArea);\r\n                } else {\r\n                    this.layoutVertical(items, coord, totalArea);\r\n                }\r\n            },\r\n            layoutHorizontal: function (items, coord, totalArea) {\r\n                var left = 0;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    var width = item.area / (totalArea / coord.width);\r\n                    item.coord = {\r\n                        height: coord.height,\r\n                        width: width,\r\n                        top: coord.top,\r\n                        left: coord.left + left\r\n                    };\r\n                    left += width;\r\n                }\r\n            },\r\n            layoutVertical: function (items, coord, totalArea) {\r\n                var top = 0;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    var height = item.area / (totalArea / coord.height);\r\n                    item.coord = {\r\n                        height: height,\r\n                        width: coord.width,\r\n                        top: coord.top + top,\r\n                        left: coord.left\r\n                    };\r\n                    top += height;\r\n                }\r\n            },\r\n            _totalArea: function (items) {\r\n                var total = 0;\r\n                for (var i = 0; i < items.length; i++) {\r\n                    total += items[i].area;\r\n                }\r\n                return total;\r\n            }\r\n        });\r\n        var SliceAndDiceView = SquarifiedView.extend({\r\n            htmlSize: function (root) {\r\n                var rootElement = this._getByUid(root.dataItem.uid);\r\n                var htmlSize = {\r\n                    text: 0,\r\n                    offset: 0\r\n                };\r\n                if (root.children) {\r\n                    this._clean(rootElement);\r\n                    var text = this._getText(root);\r\n                    if (text) {\r\n                        var title = this._createTitle(root);\r\n                        rootElement.append(title);\r\n                        this._compile(title, root.dataItem);\r\n                        if (root.vertical) {\r\n                            htmlSize.text = title.height();\r\n                        } else {\r\n                            htmlSize.text = title.width();\r\n                        }\r\n                    }\r\n                    rootElement.append(this._createWrap());\r\n                    this.offset = (rootElement.outerWidth() - rootElement.innerWidth()) / 2;\r\n                }\r\n                return htmlSize;\r\n            },\r\n            titleSize: function (item, element) {\r\n                var size;\r\n                if (item.vertical) {\r\n                    size = element.children('.k-treemap-title').height();\r\n                } else {\r\n                    size = element.children('.k-treemap-title-vertical').width();\r\n                }\r\n                return size;\r\n            },\r\n            _createTitle: function (item) {\r\n                var title;\r\n                if (item.vertical) {\r\n                    title = $('<div class=\\'k-treemap-title\\'></div>');\r\n                } else {\r\n                    title = $('<div class=\\'k-treemap-title-vertical\\'></div>');\r\n                }\r\n                return title.append($('<div></div>').html(this._getText(item)));\r\n            }\r\n        });\r\n        function getField(field, row) {\r\n            if (row === null) {\r\n                return row;\r\n            }\r\n            var get = getter(field, true);\r\n            return get(row);\r\n        }\r\n        function defined(value) {\r\n            return typeof value !== UNDEFINED;\r\n        }\r\n        function colorsByLength(min, max, length) {\r\n            var minRGBtoDecimal = rgbToDecimal(min);\r\n            var maxRGBtoDecimal = rgbToDecimal(max);\r\n            var isDarker = colorBrightness(min) - colorBrightness(max) < 0;\r\n            var colors = [];\r\n            colors.push(min);\r\n            for (var i = 0; i < length; i++) {\r\n                var rgbColor = {\r\n                    r: colorByIndex(minRGBtoDecimal.r, maxRGBtoDecimal.r, i, length, isDarker),\r\n                    g: colorByIndex(minRGBtoDecimal.g, maxRGBtoDecimal.g, i, length, isDarker),\r\n                    b: colorByIndex(minRGBtoDecimal.b, maxRGBtoDecimal.b, i, length, isDarker)\r\n                };\r\n                colors.push(buildColorFromRGB(rgbColor));\r\n            }\r\n            colors.push(max);\r\n            return colors;\r\n        }\r\n        function colorByIndex(min, max, index, length, isDarker) {\r\n            var minColor = math.min(math.abs(min), math.abs(max));\r\n            var maxColor = math.max(math.abs(min), math.abs(max));\r\n            var step = (maxColor - minColor) / (length + 1);\r\n            var currentStep = step * (index + 1);\r\n            var color;\r\n            if (isDarker) {\r\n                color = minColor + currentStep;\r\n            } else {\r\n                color = maxColor - currentStep;\r\n            }\r\n            return color;\r\n        }\r\n        function buildColorFromRGB(color) {\r\n            return '#' + decimalToRgb(color.r) + decimalToRgb(color.g) + decimalToRgb(color.b);\r\n        }\r\n        function rgbToDecimal(color) {\r\n            color = color.replace('#', '');\r\n            var rgbColor = colorToRGB(color);\r\n            return {\r\n                r: rgbToHex(rgbColor.r),\r\n                g: rgbToHex(rgbColor.g),\r\n                b: rgbToHex(rgbColor.b)\r\n            };\r\n        }\r\n        function decimalToRgb(number) {\r\n            var result = math.round(number).toString(16).toUpperCase();\r\n            if (result.length === 1) {\r\n                result = '0' + result;\r\n            }\r\n            return result;\r\n        }\r\n        function colorToRGB(color) {\r\n            var colorLength = color.length;\r\n            var rgbColor = {};\r\n            if (colorLength === 3) {\r\n                rgbColor.r = color[0];\r\n                rgbColor.g = color[1];\r\n                rgbColor.b = color[2];\r\n            } else {\r\n                rgbColor.r = color.substring(0, 2);\r\n                rgbColor.g = color.substring(2, 4);\r\n                rgbColor.b = color.substring(4, 6);\r\n            }\r\n            return rgbColor;\r\n        }\r\n        function rgbToHex(rgb) {\r\n            return parseInt(rgb.toString(16), 16);\r\n        }\r\n        function colorBrightness(color) {\r\n            var brightness = 0;\r\n            if (color) {\r\n                color = rgbToDecimal(color);\r\n                brightness = math.sqrt(0.241 * color.r * color.r + 0.691 * color.g * color.g + 0.068 * color.b * color.b);\r\n            }\r\n            return brightness;\r\n        }\r\n        function round(value) {\r\n            var power = math.pow(10, 4);\r\n            return math.round(value * power) / power;\r\n        }\r\n        dataviz.ui.plugin(TreeMap);\r\n    }(window.kendo.jQuery));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));\n/** \r\n * Kendo UI v2016.2.714 (http://www.telerik.com/kendo-ui)                                                                                                                                               \r\n * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      \r\n *                                                                                                                                                                                                      \r\n * Kendo UI commercial licenses may be obtained at                                                                                                                                                      \r\n * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  \r\n * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n                                                                                                                                                                                                       \r\n\r\n*/\r\n(function (f, define) {\r\n    define('kendo.angular', ['kendo.core'], f);\r\n}(function () {\r\n    var __meta__ = {\r\n        id: 'angular',\r\n        name: 'AngularJS Directives',\r\n        category: 'framework',\r\n        description: 'Adds Kendo UI for AngularJS directives',\r\n        depends: ['core'],\r\n        defer: true\r\n    };\r\n    (function ($, angular, undefined) {\r\n        'use strict';\r\n        if (!angular || !angular.injector) {\r\n            return;\r\n        }\r\n        var module = angular.module('kendo.directives', []), $injector = angular.injector(['ng']), $parse = $injector.get('$parse'), $timeout = $injector.get('$timeout'), $defaultCompile, $log = $injector.get('$log');\r\n        function withoutTimeout(f) {\r\n            var save = $timeout;\r\n            try {\r\n                $timeout = function (f) {\r\n                    return f();\r\n                };\r\n                return f();\r\n            } finally {\r\n                $timeout = save;\r\n            }\r\n        }\r\n        var OPTIONS_NOW;\r\n        var createDataSource = function () {\r\n            var types = {\r\n                TreeList: 'TreeListDataSource',\r\n                TreeView: 'HierarchicalDataSource',\r\n                Scheduler: 'SchedulerDataSource',\r\n                PivotGrid: 'PivotDataSource',\r\n                PivotConfigurator: 'PivotDataSource',\r\n                PanelBar: '$PLAIN',\r\n                Menu: '$PLAIN',\r\n                ContextMenu: '$PLAIN'\r\n            };\r\n            var toDataSource = function (dataSource, type) {\r\n                if (type == '$PLAIN') {\r\n                    return dataSource;\r\n                }\r\n                return kendo.data[type].create(dataSource);\r\n            };\r\n            return function (scope, element, role, source) {\r\n                var type = types[role] || 'DataSource';\r\n                var current = scope.$eval(source);\r\n                var ds = toDataSource(current, type);\r\n                scope.$watch(source, function (mew) {\r\n                    var widget = kendoWidgetInstance(element);\r\n                    if (widget && typeof widget.setDataSource == 'function') {\r\n                        if (mew !== current) {\r\n                            var ds = toDataSource(mew, type);\r\n                            widget.setDataSource(ds);\r\n                            current = mew;\r\n                        }\r\n                    }\r\n                });\r\n                return ds;\r\n            };\r\n        }();\r\n        var ignoredAttributes = {\r\n            kDataSource: true,\r\n            kOptions: true,\r\n            kRebind: true,\r\n            kNgModel: true,\r\n            kNgDelay: true\r\n        };\r\n        var ignoredOwnProperties = {\r\n            name: true,\r\n            title: true,\r\n            style: true\r\n        };\r\n        function createWidget(scope, element, attrs, widget, origAttr, controllers) {\r\n            if (!(element instanceof jQuery)) {\r\n                throw new Error('The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.');\r\n            }\r\n            var kNgDelay = attrs.kNgDelay, delayValue = scope.$eval(kNgDelay);\r\n            controllers = controllers || [];\r\n            var ngModel = controllers[0], ngForm = controllers[1];\r\n            var ctor = $(element)[widget];\r\n            if (!ctor) {\r\n                window.console.error('Could not find: ' + widget);\r\n                return null;\r\n            }\r\n            var parsed = parseOptions(scope, element, attrs, widget, ctor);\r\n            var options = parsed.options;\r\n            if (parsed.unresolved.length) {\r\n                var promises = [];\r\n                for (var i = 0, len = parsed.unresolved.length; i < len; i++) {\r\n                    var unresolved = parsed.unresolved[i];\r\n                    var promise = $.Deferred(function (d) {\r\n                        var unwatch = scope.$watch(unresolved.path, function (newValue) {\r\n                            if (newValue !== undefined) {\r\n                                unwatch();\r\n                                d.resolve();\r\n                            }\r\n                        });\r\n                    }).promise();\r\n                    promises.push(promise);\r\n                }\r\n                $.when.apply(null, promises).then(createIt);\r\n                return;\r\n            }\r\n            if (kNgDelay && !delayValue) {\r\n                var root = scope.$root || scope;\r\n                var register = function () {\r\n                    var unregister = scope.$watch(kNgDelay, function (newValue) {\r\n                        if (newValue !== undefined) {\r\n                            unregister();\r\n                            element.removeAttr(attrs.$attr.kNgDelay);\r\n                            kNgDelay = null;\r\n                            $timeout(createIt);\r\n                        }\r\n                    });\r\n                };\r\n                if (/^\\$(digest|apply)$/.test(root.$$phase)) {\r\n                    register();\r\n                } else {\r\n                    scope.$apply(register);\r\n                }\r\n                return;\r\n            } else {\r\n                return createIt();\r\n            }\r\n            function createIt() {\r\n                var originalElement;\r\n                if (attrs.kRebind) {\r\n                    originalElement = $($(element)[0].cloneNode(true));\r\n                }\r\n                options = parseOptions(scope, element, attrs, widget, ctor).options;\r\n                if (element.is('select')) {\r\n                    (function (options) {\r\n                        if (options.length > 0) {\r\n                            var first = $(options[0]);\r\n                            if (!/\\S/.test(first.text()) && /^\\?/.test(first.val())) {\r\n                                first.remove();\r\n                            }\r\n                        }\r\n                    }(element[0].options));\r\n                }\r\n                var object = ctor.call(element, OPTIONS_NOW = options).data(widget);\r\n                exposeWidget(object, scope, attrs, widget, origAttr);\r\n                scope.$emit('kendoWidgetCreated', object);\r\n                var destroyRegister = destroyWidgetOnScopeDestroy(scope, object);\r\n                if (attrs.kRebind) {\r\n                    setupRebind(object, scope, element, originalElement, attrs.kRebind, destroyRegister, attrs);\r\n                }\r\n                if (attrs.kNgDisabled) {\r\n                    var kNgDisabled = attrs.kNgDisabled;\r\n                    var isDisabled = scope.$eval(kNgDisabled);\r\n                    if (isDisabled) {\r\n                        object.enable(!isDisabled);\r\n                    }\r\n                    bindToKNgDisabled(object, scope, element, kNgDisabled);\r\n                }\r\n                if (attrs.kNgReadonly) {\r\n                    var kNgReadonly = attrs.kNgReadonly;\r\n                    var isReadonly = scope.$eval(kNgReadonly);\r\n                    if (isReadonly) {\r\n                        object.readonly(isReadonly);\r\n                    }\r\n                    bindToKNgReadonly(object, scope, element, kNgReadonly);\r\n                }\r\n                if (attrs.kNgModel) {\r\n                    bindToKNgModel(object, scope, attrs.kNgModel);\r\n                }\r\n                if (ngModel) {\r\n                    bindToNgModel(object, scope, element, ngModel, ngForm);\r\n                }\r\n                if (object) {\r\n                    propagateClassToWidgetWrapper(object, element);\r\n                }\r\n                return object;\r\n            }\r\n        }\r\n        function parseOptions(scope, element, attrs, widget, ctor) {\r\n            var role = widget.replace(/^kendo/, '');\r\n            var unresolved = [];\r\n            var optionsPath = attrs.kOptions || attrs.options;\r\n            var optionsValue = scope.$eval(optionsPath);\r\n            if (optionsPath && optionsValue === undefined) {\r\n                unresolved.push({\r\n                    option: 'options',\r\n                    path: optionsPath\r\n                });\r\n            }\r\n            var options = angular.extend({}, attrs.defaultOptions, optionsValue);\r\n            function addOption(name, value) {\r\n                var scopeValue = angular.copy(scope.$eval(value));\r\n                if (scopeValue === undefined) {\r\n                    unresolved.push({\r\n                        option: name,\r\n                        path: value\r\n                    });\r\n                } else {\r\n                    options[name] = scopeValue;\r\n                }\r\n            }\r\n            var widgetOptions = ctor.widget.prototype.options;\r\n            var widgetEvents = ctor.widget.prototype.events;\r\n            $.each(attrs, function (name, value) {\r\n                if (name === 'source' || name === 'kDataSource' || name === 'kScopeField' || name === 'scopeField') {\r\n                    return;\r\n                }\r\n                var dataName = 'data' + name.charAt(0).toUpperCase() + name.slice(1);\r\n                if (name.indexOf('on') === 0) {\r\n                    var eventKey = name.replace(/^on./, function (prefix) {\r\n                        return prefix.charAt(2).toLowerCase();\r\n                    });\r\n                    if (widgetEvents.indexOf(eventKey) > -1) {\r\n                        options[eventKey] = value;\r\n                    }\r\n                }\r\n                if (widgetOptions.hasOwnProperty(dataName)) {\r\n                    addOption(dataName, value);\r\n                } else if (widgetOptions.hasOwnProperty(name) && !ignoredOwnProperties[name]) {\r\n                    addOption(name, value);\r\n                } else if (!ignoredAttributes[name]) {\r\n                    var match = name.match(/^k(On)?([A-Z].*)/);\r\n                    if (match) {\r\n                        var optionName = match[2].charAt(0).toLowerCase() + match[2].slice(1);\r\n                        if (match[1] && name != 'kOnLabel') {\r\n                            options[optionName] = value;\r\n                        } else {\r\n                            if (name == 'kOnLabel') {\r\n                                optionName = 'onLabel';\r\n                            }\r\n                            addOption(optionName, value);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            var dataSource = attrs.kDataSource || attrs.source;\r\n            if (dataSource) {\r\n                options.dataSource = createDataSource(scope, element, role, dataSource);\r\n            }\r\n            options.$angular = [scope];\r\n            return {\r\n                options: options,\r\n                unresolved: unresolved\r\n            };\r\n        }\r\n        function bindToKNgDisabled(widget, scope, element, kNgDisabled) {\r\n            if (kendo.ui.PanelBar && widget instanceof kendo.ui.PanelBar || kendo.ui.Menu && widget instanceof kendo.ui.Menu) {\r\n                $log.warn('k-ng-disabled specified on a widget that does not have the enable() method: ' + widget.options.name);\r\n                return;\r\n            }\r\n            scope.$watch(kNgDisabled, function (newValue, oldValue) {\r\n                if (newValue != oldValue) {\r\n                    widget.enable(!newValue);\r\n                }\r\n            });\r\n        }\r\n        function bindToKNgReadonly(widget, scope, element, kNgReadonly) {\r\n            if (typeof widget.readonly != 'function') {\r\n                $log.warn('k-ng-readonly specified on a widget that does not have the readonly() method: ' + widget.options.name);\r\n                return;\r\n            }\r\n            scope.$watch(kNgReadonly, function (newValue, oldValue) {\r\n                if (newValue != oldValue) {\r\n                    widget.readonly(newValue);\r\n                }\r\n            });\r\n        }\r\n        function exposeWidget(widget, scope, attrs, kendoWidget, origAttr) {\r\n            if (attrs[origAttr]) {\r\n                var set = $parse(attrs[origAttr]).assign;\r\n                if (set) {\r\n                    set(scope, widget);\r\n                } else {\r\n                    throw new Error(origAttr + ' attribute used but expression in it is not assignable: ' + attrs[kendoWidget]);\r\n                }\r\n            }\r\n        }\r\n        function formValue(element) {\r\n            if (/checkbox|radio/i.test(element.attr('type'))) {\r\n                return element.prop('checked');\r\n            }\r\n            return element.val();\r\n        }\r\n        var formRegExp = /^(input|select|textarea)$/i;\r\n        function isForm(element) {\r\n            return formRegExp.test(element[0].tagName);\r\n        }\r\n        function bindToNgModel(widget, scope, element, ngModel, ngForm) {\r\n            if (!widget.value) {\r\n                return;\r\n            }\r\n            var value;\r\n            var haveChangeOnElement = false;\r\n            if (isForm(element)) {\r\n                value = function () {\r\n                    return formValue(element);\r\n                };\r\n            } else {\r\n                value = function () {\r\n                    return widget.value();\r\n                };\r\n            }\r\n            ngModel.$render = function () {\r\n                var val = ngModel.$viewValue;\r\n                if (val === undefined) {\r\n                    val = ngModel.$modelValue;\r\n                }\r\n                if (val === undefined) {\r\n                    val = null;\r\n                }\r\n                haveChangeOnElement = true;\r\n                setTimeout(function () {\r\n                    haveChangeOnElement = false;\r\n                    if (widget) {\r\n                        var kNgModel = scope[widget.element.attr('k-ng-model')];\r\n                        if (kNgModel) {\r\n                            val = kNgModel;\r\n                        }\r\n                        if (widget.options.autoBind === false && !widget.listView.bound()) {\r\n                            if (val) {\r\n                                widget.value(val);\r\n                            }\r\n                        } else {\r\n                            widget.value(val);\r\n                        }\r\n                    }\r\n                }, 0);\r\n            };\r\n            if (isForm(element)) {\r\n                element.on('change', function () {\r\n                    haveChangeOnElement = true;\r\n                });\r\n            }\r\n            var onChange = function (pristine) {\r\n                return function () {\r\n                    var formPristine;\r\n                    if (haveChangeOnElement) {\r\n                        return;\r\n                    }\r\n                    if (pristine && ngForm) {\r\n                        formPristine = ngForm.$pristine;\r\n                    }\r\n                    ngModel.$setViewValue(value());\r\n                    if (pristine) {\r\n                        ngModel.$setPristine();\r\n                        if (formPristine) {\r\n                            ngForm.$setPristine();\r\n                        }\r\n                    }\r\n                    digest(scope);\r\n                };\r\n            };\r\n            widget.first('change', onChange(false));\r\n            if (!(kendo.ui.AutoComplete && widget instanceof kendo.ui.AutoComplete)) {\r\n                widget.first('dataBound', onChange(true));\r\n            }\r\n            var currentVal = value();\r\n            if (!isNaN(ngModel.$viewValue) && currentVal != ngModel.$viewValue) {\r\n                if (!ngModel.$isEmpty(ngModel.$viewValue)) {\r\n                    widget.value(ngModel.$viewValue);\r\n                } else if (currentVal != null && currentVal !== '' && currentVal != ngModel.$viewValue) {\r\n                    ngModel.$setViewValue(currentVal);\r\n                }\r\n            }\r\n            ngModel.$setPristine();\r\n        }\r\n        function bindToKNgModel(widget, scope, kNgModel) {\r\n            if (typeof widget.value != 'function') {\r\n                $log.warn('k-ng-model specified on a widget that does not have the value() method: ' + widget.options.name);\r\n                return;\r\n            }\r\n            var form = $(widget.element).parents('form');\r\n            var ngForm = kendo.getter(form.attr('name'))(scope);\r\n            var getter = $parse(kNgModel);\r\n            var setter = getter.assign;\r\n            var updating = false;\r\n            var valueIsCollection = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\r\n            var length = function (value) {\r\n                return value && valueIsCollection ? value.length : 0;\r\n            };\r\n            var currentValueLength = length(getter(scope));\r\n            widget.$angular_setLogicValue(getter(scope));\r\n            var watchHandler = function (newValue, oldValue) {\r\n                if (newValue === undefined) {\r\n                    newValue = null;\r\n                }\r\n                if (updating || newValue == oldValue && length(newValue) == currentValueLength) {\r\n                    return;\r\n                }\r\n                currentValueLength = length(newValue);\r\n                widget.$angular_setLogicValue(newValue);\r\n            };\r\n            if (valueIsCollection) {\r\n                scope.$watchCollection(kNgModel, watchHandler);\r\n            } else {\r\n                scope.$watch(kNgModel, watchHandler);\r\n            }\r\n            widget.first('change', function () {\r\n                updating = true;\r\n                if (ngForm && ngForm.$pristine) {\r\n                    ngForm.$setDirty();\r\n                }\r\n                digest(scope, function () {\r\n                    setter(scope, widget.$angular_getLogicValue());\r\n                    currentValueLength = length(getter(scope));\r\n                });\r\n                updating = false;\r\n            });\r\n        }\r\n        function destroyWidgetOnScopeDestroy(scope, widget) {\r\n            var deregister = scope.$on('$destroy', function () {\r\n                deregister();\r\n                if (widget) {\r\n                    kendo.destroy(widget.element);\r\n                    widget = null;\r\n                }\r\n            });\r\n            return deregister;\r\n        }\r\n        function propagateClassToWidgetWrapper(widget, element) {\r\n            if (!(window.MutationObserver && widget.wrapper)) {\r\n                return;\r\n            }\r\n            var prevClassList = [].slice.call($(element)[0].classList);\r\n            var mo = new MutationObserver(function (changes) {\r\n                suspend();\r\n                if (!widget) {\r\n                    return;\r\n                }\r\n                changes.forEach(function (chg) {\r\n                    var w = $(widget.wrapper)[0];\r\n                    switch (chg.attributeName) {\r\n                    case 'class':\r\n                        var currClassList = [].slice.call(chg.target.classList);\r\n                        currClassList.forEach(function (cls) {\r\n                            if (prevClassList.indexOf(cls) < 0) {\r\n                                w.classList.add(cls);\r\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) {\r\n                                    widget.input[0].classList.add(cls);\r\n                                }\r\n                            }\r\n                        });\r\n                        prevClassList.forEach(function (cls) {\r\n                            if (currClassList.indexOf(cls) < 0) {\r\n                                w.classList.remove(cls);\r\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) {\r\n                                    widget.input[0].classList.remove(cls);\r\n                                }\r\n                            }\r\n                        });\r\n                        prevClassList = currClassList;\r\n                        break;\r\n                    case 'disabled':\r\n                        if (typeof widget.enable == 'function' && !widget.element.attr('readonly')) {\r\n                            widget.enable(!$(chg.target).attr('disabled'));\r\n                        }\r\n                        break;\r\n                    case 'readonly':\r\n                        if (typeof widget.readonly == 'function' && !widget.element.attr('disabled')) {\r\n                            widget.readonly(!!$(chg.target).attr('readonly'));\r\n                        }\r\n                        break;\r\n                    }\r\n                });\r\n                resume();\r\n            });\r\n            function suspend() {\r\n                mo.disconnect();\r\n            }\r\n            function resume() {\r\n                mo.observe($(element)[0], { attributes: true });\r\n            }\r\n            resume();\r\n            widget.first('destroy', suspend);\r\n        }\r\n        function setupRebind(widget, scope, element, originalElement, rebindAttr, destroyRegister, attrs) {\r\n            var unregister = scope.$watch(rebindAttr, function (newValue, oldValue) {\r\n                if (!widget._muteRebind && newValue !== oldValue) {\r\n                    unregister();\r\n                    if (attrs._cleanUp) {\r\n                        attrs._cleanUp();\r\n                    }\r\n                    var templateOptions = WIDGET_TEMPLATE_OPTIONS[widget.options.name];\r\n                    if (templateOptions) {\r\n                        templateOptions.forEach(function (name) {\r\n                            var templateContents = scope.$eval(attrs['k' + name]);\r\n                            if (templateContents) {\r\n                                originalElement.append($(templateContents).attr(kendo.toHyphens('k' + name), ''));\r\n                            }\r\n                        });\r\n                    }\r\n                    var _wrapper = $(widget.wrapper)[0];\r\n                    var _element = $(widget.element)[0];\r\n                    var isUpload = widget.options.name === 'Upload';\r\n                    if (isUpload) {\r\n                        element = $(_element);\r\n                    }\r\n                    var compile = element.injector().get('$compile');\r\n                    widget._destroy();\r\n                    if (destroyRegister) {\r\n                        destroyRegister();\r\n                    }\r\n                    widget = null;\r\n                    if (_element) {\r\n                        if (_wrapper) {\r\n                            _wrapper.parentNode.replaceChild(_element, _wrapper);\r\n                        }\r\n                        $(element).replaceWith(originalElement);\r\n                    }\r\n                    compile(originalElement)(scope);\r\n                }\r\n            }, true);\r\n            digest(scope);\r\n        }\r\n        function bind(f, obj) {\r\n            return function (a, b) {\r\n                return f.call(obj, a, b);\r\n            };\r\n        }\r\n        function setTemplate(key, value) {\r\n            this[key] = kendo.stringify(value);\r\n        }\r\n        module.factory('directiveFactory', [\r\n            '$compile',\r\n            function (compile) {\r\n                var kendoRenderedTimeout;\r\n                var RENDERED = false;\r\n                $defaultCompile = compile;\r\n                var create = function (role, origAttr) {\r\n                    return {\r\n                        restrict: 'AC',\r\n                        require: [\r\n                            '?ngModel',\r\n                            '^?form'\r\n                        ],\r\n                        scope: false,\r\n                        controller: [\r\n                            '$scope',\r\n                            '$attrs',\r\n                            '$element',\r\n                            function ($scope, $attrs) {\r\n                                this.template = bind(setTemplate, $attrs);\r\n                                $attrs._cleanUp = bind(function () {\r\n                                    this.template = null;\r\n                                    $attrs._cleanUp = null;\r\n                                }, this);\r\n                            }\r\n                        ],\r\n                        link: function (scope, element, attrs, controllers) {\r\n                            var $element = $(element);\r\n                            var roleattr = role.replace(/([A-Z])/g, '-$1');\r\n                            $element.attr(roleattr, $element.attr('data-' + roleattr));\r\n                            $element[0].removeAttribute('data-' + roleattr);\r\n                            var widget = createWidget(scope, element, attrs, role, origAttr, controllers);\r\n                            if (!widget) {\r\n                                return;\r\n                            }\r\n                            if (kendoRenderedTimeout) {\r\n                                clearTimeout(kendoRenderedTimeout);\r\n                            }\r\n                            kendoRenderedTimeout = setTimeout(function () {\r\n                                scope.$emit('kendoRendered');\r\n                                if (!RENDERED) {\r\n                                    RENDERED = true;\r\n                                    $('form').each(function () {\r\n                                        var form = $(this).controller('form');\r\n                                        if (form) {\r\n                                            form.$setPristine();\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n                };\r\n                return { create: create };\r\n            }\r\n        ]);\r\n        var TAGNAMES = {\r\n            Editor: 'textarea',\r\n            NumericTextBox: 'input',\r\n            DatePicker: 'input',\r\n            DateTimePicker: 'input',\r\n            TimePicker: 'input',\r\n            AutoComplete: 'input',\r\n            ColorPicker: 'input',\r\n            MaskedTextBox: 'input',\r\n            MultiSelect: 'input',\r\n            Upload: 'input',\r\n            Validator: 'form',\r\n            Button: 'button',\r\n            MobileButton: 'a',\r\n            MobileBackButton: 'a',\r\n            MobileDetailButton: 'a',\r\n            ListView: 'ul',\r\n            MobileListView: 'ul',\r\n            TreeView: 'ul',\r\n            Menu: 'ul',\r\n            ContextMenu: 'ul',\r\n            ActionSheet: 'ul'\r\n        };\r\n        var SKIP_SHORTCUTS = [\r\n            'MobileView',\r\n            'MobileDrawer',\r\n            'MobileLayout',\r\n            'MobileSplitView',\r\n            'MobilePane',\r\n            'MobileModalView'\r\n        ];\r\n        var MANUAL_DIRECTIVES = [\r\n            'MobileApplication',\r\n            'MobileView',\r\n            'MobileModalView',\r\n            'MobileLayout',\r\n            'MobileActionSheet',\r\n            'MobileDrawer',\r\n            'MobileSplitView',\r\n            'MobilePane',\r\n            'MobileScrollView',\r\n            'MobilePopOver'\r\n        ];\r\n        angular.forEach([\r\n            'MobileNavBar',\r\n            'MobileButton',\r\n            'MobileBackButton',\r\n            'MobileDetailButton',\r\n            'MobileTabStrip',\r\n            'MobileScrollView',\r\n            'MobileScroller'\r\n        ], function (widget) {\r\n            MANUAL_DIRECTIVES.push(widget);\r\n            widget = 'kendo' + widget;\r\n            module.directive(widget, function () {\r\n                return {\r\n                    restrict: 'A',\r\n                    link: function (scope, element, attrs) {\r\n                        createWidget(scope, element, attrs, widget, widget);\r\n                    }\r\n                };\r\n            });\r\n        });\r\n        function createDirectives(klass, isMobile) {\r\n            function make(directiveName, widgetName) {\r\n                module.directive(directiveName, [\r\n                    'directiveFactory',\r\n                    function (directiveFactory) {\r\n                        return directiveFactory.create(widgetName, directiveName);\r\n                    }\r\n                ]);\r\n            }\r\n            var name = isMobile ? 'Mobile' : '';\r\n            name += klass.fn.options.name;\r\n            var className = name;\r\n            var shortcut = 'kendo' + name.charAt(0) + name.substr(1).toLowerCase();\r\n            name = 'kendo' + name;\r\n            var dashed = name.replace(/([A-Z])/g, '-$1');\r\n            if (SKIP_SHORTCUTS.indexOf(name.replace('kendo', '')) == -1) {\r\n                var names = name === shortcut ? [name] : [\r\n                    name,\r\n                    shortcut\r\n                ];\r\n                angular.forEach(names, function (directiveName) {\r\n                    module.directive(directiveName, function () {\r\n                        return {\r\n                            restrict: 'E',\r\n                            replace: true,\r\n                            template: function (element, attributes) {\r\n                                var tag = TAGNAMES[className] || 'div';\r\n                                var scopeField = attributes.kScopeField || attributes.scopeField;\r\n                                return '<' + tag + ' ' + dashed + (scopeField ? '=\"' + scopeField + '\"' : '') + '>' + element.html() + '</' + tag + '>';\r\n                            }\r\n                        };\r\n                    });\r\n                });\r\n            }\r\n            if (MANUAL_DIRECTIVES.indexOf(name.replace('kendo', '')) > -1) {\r\n                return;\r\n            }\r\n            make(name, name);\r\n            if (shortcut != name) {\r\n                make(shortcut, name);\r\n            }\r\n        }\r\n        function kendoWidgetInstance(el) {\r\n            el = $(el);\r\n            return kendo.widgetInstance(el, kendo.ui) || kendo.widgetInstance(el, kendo.mobile.ui) || kendo.widgetInstance(el, kendo.dataviz.ui);\r\n        }\r\n        function digest(scope, func) {\r\n            var root = scope.$root || scope;\r\n            var isDigesting = /^\\$(digest|apply)$/.test(root.$$phase);\r\n            if (func) {\r\n                if (isDigesting) {\r\n                    func();\r\n                } else {\r\n                    root.$apply(func);\r\n                }\r\n            } else if (!isDigesting) {\r\n                root.$digest();\r\n            }\r\n        }\r\n        function destroyScope(scope, el) {\r\n            scope.$destroy();\r\n            if (el) {\r\n                $(el).removeData('$scope').removeData('$$kendoScope').removeData('$isolateScope').removeData('$isolateScopeNoTemplate').removeClass('ng-scope');\r\n            }\r\n        }\r\n        var pendingPatches = [];\r\n        function defadvice(klass, methodName, func) {\r\n            if ($.isArray(klass)) {\r\n                return angular.forEach(klass, function (klass) {\r\n                    defadvice(klass, methodName, func);\r\n                });\r\n            }\r\n            if (typeof klass == 'string') {\r\n                var a = klass.split('.');\r\n                var x = kendo;\r\n                while (x && a.length > 0) {\r\n                    x = x[a.shift()];\r\n                }\r\n                if (!x) {\r\n                    pendingPatches.push([\r\n                        klass,\r\n                        methodName,\r\n                        func\r\n                    ]);\r\n                    return false;\r\n                }\r\n                klass = x.prototype;\r\n            }\r\n            var origMethod = klass[methodName];\r\n            klass[methodName] = function () {\r\n                var self = this, args = arguments;\r\n                return func.apply({\r\n                    self: self,\r\n                    next: function () {\r\n                        return origMethod.apply(self, arguments.length > 0 ? arguments : args);\r\n                    }\r\n                }, args);\r\n            };\r\n            return true;\r\n        }\r\n        kendo.onWidgetRegistered(function (entry) {\r\n            pendingPatches = $.grep(pendingPatches, function (args) {\r\n                return !defadvice.apply(null, args);\r\n            });\r\n            createDirectives(entry.widget, entry.prefix == 'Mobile');\r\n        });\r\n        defadvice([\r\n            'ui.Widget',\r\n            'mobile.ui.Widget'\r\n        ], 'angular', function (cmd, arg) {\r\n            var self = this.self;\r\n            if (cmd == 'init') {\r\n                if (!arg && OPTIONS_NOW) {\r\n                    arg = OPTIONS_NOW;\r\n                }\r\n                OPTIONS_NOW = null;\r\n                if (arg && arg.$angular) {\r\n                    self.$angular_scope = arg.$angular[0];\r\n                    self.$angular_init(self.element, arg);\r\n                }\r\n                return;\r\n            }\r\n            var scope = self.$angular_scope;\r\n            if (scope) {\r\n                withoutTimeout(function () {\r\n                    var x = arg(), elements = x.elements, data = x.data;\r\n                    if (elements.length > 0) {\r\n                        switch (cmd) {\r\n                        case 'cleanup':\r\n                            angular.forEach(elements, function (el) {\r\n                                var itemScope = $(el).data('$$kendoScope');\r\n                                if (itemScope && itemScope !== scope && itemScope.$$kendoScope) {\r\n                                    destroyScope(itemScope, el);\r\n                                }\r\n                            });\r\n                            break;\r\n                        case 'compile':\r\n                            var injector = self.element.injector();\r\n                            var compile = injector ? injector.get('$compile') : $defaultCompile;\r\n                            angular.forEach(elements, function (el, i) {\r\n                                var itemScope;\r\n                                if (x.scopeFrom) {\r\n                                    itemScope = x.scopeFrom;\r\n                                } else {\r\n                                    var vars = data && data[i];\r\n                                    if (vars !== undefined) {\r\n                                        itemScope = $.extend(scope.$new(), vars);\r\n                                        itemScope.$$kendoScope = true;\r\n                                    } else {\r\n                                        itemScope = scope;\r\n                                    }\r\n                                }\r\n                                $(el).data('$$kendoScope', itemScope);\r\n                                compile(el)(itemScope);\r\n                            });\r\n                            digest(scope);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        defadvice('ui.Widget', '$angular_getLogicValue', function () {\r\n            return this.self.value();\r\n        });\r\n        defadvice('ui.Widget', '$angular_setLogicValue', function (val) {\r\n            this.self.value(val);\r\n        });\r\n        defadvice('ui.Select', '$angular_getLogicValue', function () {\r\n            var item = this.self.dataItem(), valueField = this.self.options.dataValueField;\r\n            if (item) {\r\n                if (this.self.options.valuePrimitive) {\r\n                    if (!!valueField) {\r\n                        return item[valueField];\r\n                    } else {\r\n                        return item;\r\n                    }\r\n                } else {\r\n                    return item.toJSON();\r\n                }\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n        defadvice('ui.Select', '$angular_setLogicValue', function (val) {\r\n            var self = this.self;\r\n            var options = self.options;\r\n            var valueField = options.dataValueField;\r\n            var text = options.text || '';\r\n            if (val === undefined) {\r\n                val = '';\r\n            }\r\n            if (valueField && !options.valuePrimitive && val) {\r\n                text = val[options.dataTextField] || '';\r\n                val = val[valueField || options.dataTextField];\r\n            }\r\n            if (self.options.autoBind === false && !self.listView.bound()) {\r\n                if (!text && val && options.valuePrimitive) {\r\n                    self.value(val);\r\n                } else {\r\n                    self._preselect(val, text);\r\n                }\r\n            } else {\r\n                self.value(val);\r\n            }\r\n        });\r\n        defadvice('ui.MultiSelect', '$angular_getLogicValue', function () {\r\n            var value = this.self.dataItems().slice(0);\r\n            var valueField = this.self.options.dataValueField;\r\n            if (valueField && this.self.options.valuePrimitive) {\r\n                value = $.map(value, function (item) {\r\n                    return item[valueField];\r\n                });\r\n            }\r\n            return value;\r\n        });\r\n        defadvice('ui.MultiSelect', '$angular_setLogicValue', function (val) {\r\n            if (val == null) {\r\n                val = [];\r\n            }\r\n            var self = this.self;\r\n            var options = self.options;\r\n            var valueField = options.dataValueField;\r\n            var data = val;\r\n            if (valueField && !options.valuePrimitive) {\r\n                val = $.map(val, function (item) {\r\n                    return item[valueField];\r\n                });\r\n            }\r\n            if (options.autoBind === false && !options.valuePrimitive && !self.listView.bound()) {\r\n                self._preselect(data, val);\r\n            } else {\r\n                self.value(val);\r\n            }\r\n        });\r\n        defadvice('ui.AutoComplete', '$angular_getLogicValue', function () {\r\n            var options = this.self.options;\r\n            var values = this.self.value().split(options.separator);\r\n            var valuePrimitive = options.valuePrimitive;\r\n            var data = this.self.dataSource.data();\r\n            var dataItems = [];\r\n            for (var idx = 0, length = data.length; idx < length; idx++) {\r\n                var item = data[idx];\r\n                var dataValue = options.dataTextField ? item[options.dataTextField] : item;\r\n                for (var j = 0; j < values.length; j++) {\r\n                    if (dataValue === values[j]) {\r\n                        if (valuePrimitive) {\r\n                            dataItems.push(dataValue);\r\n                        } else {\r\n                            dataItems.push(item.toJSON());\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return dataItems;\r\n        });\r\n        defadvice('ui.AutoComplete', '$angular_setLogicValue', function (value) {\r\n            if (value == null) {\r\n                value = [];\r\n            }\r\n            var self = this.self, dataTextField = self.options.dataTextField;\r\n            if (dataTextField && !self.options.valuePrimitive) {\r\n                if (value.length !== undefined) {\r\n                    value = $.map(value, function (item) {\r\n                        return item[dataTextField];\r\n                    });\r\n                } else {\r\n                    value = value[dataTextField];\r\n                }\r\n            }\r\n            self.value(value);\r\n        });\r\n        defadvice('ui.Widget', '$angular_init', function (element, options) {\r\n            var self = this.self;\r\n            if (options && !$.isArray(options)) {\r\n                var scope = self.$angular_scope;\r\n                for (var i = self.events.length; --i >= 0;) {\r\n                    var event = self.events[i];\r\n                    var handler = options[event];\r\n                    if (handler && typeof handler == 'string') {\r\n                        options[event] = self.$angular_makeEventHandler(event, scope, handler);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        defadvice('ui.Widget', '$angular_makeEventHandler', function (event, scope, handler) {\r\n            handler = $parse(handler);\r\n            return function (e) {\r\n                digest(scope, function () {\r\n                    handler(scope, { kendoEvent: e });\r\n                });\r\n            };\r\n        });\r\n        defadvice([\r\n            'ui.Grid',\r\n            'ui.ListView',\r\n            'ui.TreeView'\r\n        ], '$angular_makeEventHandler', function (event, scope, handler) {\r\n            if (event != 'change') {\r\n                return this.next();\r\n            }\r\n            handler = $parse(handler);\r\n            return function (ev) {\r\n                var widget = ev.sender;\r\n                var options = widget.options;\r\n                var cell, multiple, locals = { kendoEvent: ev }, elems, items, columns, colIdx;\r\n                if (angular.isString(options.selectable)) {\r\n                    cell = options.selectable.indexOf('cell') !== -1;\r\n                    multiple = options.selectable.indexOf('multiple') !== -1;\r\n                }\r\n                elems = locals.selected = this.select();\r\n                items = locals.data = [];\r\n                columns = locals.columns = [];\r\n                for (var i = 0; i < elems.length; i++) {\r\n                    var item = cell ? elems[i].parentNode : elems[i];\r\n                    var dataItem = widget.dataItem(item);\r\n                    if (cell) {\r\n                        if (angular.element.inArray(dataItem, items) < 0) {\r\n                            items.push(dataItem);\r\n                        }\r\n                        colIdx = angular.element(elems[i]).index();\r\n                        if (angular.element.inArray(colIdx, columns) < 0) {\r\n                            columns.push(colIdx);\r\n                        }\r\n                    } else {\r\n                        items.push(dataItem);\r\n                    }\r\n                }\r\n                if (!multiple) {\r\n                    locals.dataItem = locals.data = items[0];\r\n                    locals.angularDataItem = kendo.proxyModelSetters(locals.dataItem);\r\n                    locals.selected = elems[0];\r\n                }\r\n                digest(scope, function () {\r\n                    handler(scope, locals);\r\n                });\r\n            };\r\n        });\r\n        defadvice('ui.Grid', '$angular_init', function (element, options) {\r\n            this.next();\r\n            if (options.columns) {\r\n                var settings = $.extend({}, kendo.Template, options.templateSettings);\r\n                angular.forEach(options.columns, function (col) {\r\n                    if (col.field && !col.template && !col.format && !col.values && (col.encoded === undefined || col.encoded)) {\r\n                        col.template = '<span ng-bind=\\'' + kendo.expr(col.field, 'dataItem') + '\\'>#: ' + kendo.expr(col.field, settings.paramName) + '#</span>';\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        {\r\n            defadvice('mobile.ui.ButtonGroup', 'value', function (mew) {\r\n                var self = this.self;\r\n                if (mew != null) {\r\n                    self.select(self.element.children('li.km-button').eq(mew));\r\n                    self.trigger('change');\r\n                    self.trigger('select', { index: self.selectedIndex });\r\n                }\r\n                return self.selectedIndex;\r\n            });\r\n            defadvice('mobile.ui.ButtonGroup', '_select', function () {\r\n                this.next();\r\n                this.self.trigger('change');\r\n            });\r\n        }\r\n        module.directive('kendoMobileApplication', function () {\r\n            return {\r\n                terminal: true,\r\n                link: function (scope, element, attrs) {\r\n                    createWidget(scope, element, attrs, 'kendoMobileApplication', 'kendoMobileApplication');\r\n                }\r\n            };\r\n        }).directive('kendoMobileView', function () {\r\n            return {\r\n                scope: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        attrs._instance = createWidget(scope, element, attrs, 'kendoMobileView', 'kendoMobileView');\r\n                    },\r\n                    post: function (scope, element, attrs) {\r\n                        attrs._instance._layout();\r\n                        attrs._instance._scroller();\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobileDrawer', function () {\r\n            return {\r\n                scope: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        attrs._instance = createWidget(scope, element, attrs, 'kendoMobileDrawer', 'kendoMobileDrawer');\r\n                    },\r\n                    post: function (scope, element, attrs) {\r\n                        attrs._instance._layout();\r\n                        attrs._instance._scroller();\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobileModalView', function () {\r\n            return {\r\n                scope: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        attrs._instance = createWidget(scope, element, attrs, 'kendoMobileModalView', 'kendoMobileModalView');\r\n                    },\r\n                    post: function (scope, element, attrs) {\r\n                        attrs._instance._layout();\r\n                        attrs._instance._scroller();\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobileSplitView', function () {\r\n            return {\r\n                terminal: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        attrs._instance = createWidget(scope, element, attrs, 'kendoMobileSplitView', 'kendoMobileSplitView');\r\n                    },\r\n                    post: function (scope, element, attrs) {\r\n                        attrs._instance._layout();\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobilePane', function () {\r\n            return {\r\n                terminal: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        createWidget(scope, element, attrs, 'kendoMobilePane', 'kendoMobilePane');\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobileLayout', function () {\r\n            return {\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        createWidget(scope, element, attrs, 'kendoMobileLayout', 'kendoMobileLayout');\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoMobileActionSheet', function () {\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, element, attrs) {\r\n                    element.find('a[k-action]').each(function () {\r\n                        $(this).attr('data-' + kendo.ns + 'action', $(this).attr('k-action'));\r\n                    });\r\n                    createWidget(scope, element, attrs, 'kendoMobileActionSheet', 'kendoMobileActionSheet');\r\n                }\r\n            };\r\n        }).directive('kendoMobilePopOver', function () {\r\n            return {\r\n                terminal: true,\r\n                link: {\r\n                    pre: function (scope, element, attrs) {\r\n                        attrs.defaultOptions = scope.viewOptions;\r\n                        createWidget(scope, element, attrs, 'kendoMobilePopOver', 'kendoMobilePopOver');\r\n                    }\r\n                }\r\n            };\r\n        }).directive('kendoViewTitle', function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                template: function (element) {\r\n                    return '<span data-' + kendo.ns + 'role=\\'view-title\\'>' + element.html() + '</span>';\r\n                }\r\n            };\r\n        }).directive('kendoMobileHeader', function () {\r\n            return {\r\n                restrict: 'E',\r\n                link: function (scope, element) {\r\n                    element.addClass('km-header').attr('data-role', 'header');\r\n                }\r\n            };\r\n        }).directive('kendoMobileFooter', function () {\r\n            return {\r\n                restrict: 'E',\r\n                link: function (scope, element) {\r\n                    element.addClass('km-footer').attr('data-role', 'footer');\r\n                }\r\n            };\r\n        }).directive('kendoMobileScrollViewPage', function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                template: function (element) {\r\n                    return '<div data-' + kendo.ns + 'role=\\'page\\'>' + element.html() + '</div>';\r\n                }\r\n            };\r\n        });\r\n        angular.forEach([\r\n            'align',\r\n            'icon',\r\n            'rel',\r\n            'transition',\r\n            'actionsheetContext'\r\n        ], function (attr) {\r\n            var kAttr = 'k' + attr.slice(0, 1).toUpperCase() + attr.slice(1);\r\n            module.directive(kAttr, function () {\r\n                return {\r\n                    restrict: 'A',\r\n                    priority: 2,\r\n                    link: function (scope, element, attrs) {\r\n                        element.attr(kendo.attr(kendo.toHyphens(attr)), scope.$eval(attrs[kAttr]));\r\n                    }\r\n                };\r\n            });\r\n        });\r\n        var WIDGET_TEMPLATE_OPTIONS = {\r\n            'TreeMap': ['Template'],\r\n            'MobileListView': [\r\n                'HeaderTemplate',\r\n                'Template'\r\n            ],\r\n            'MobileScrollView': [\r\n                'EmptyTemplate',\r\n                'Template'\r\n            ],\r\n            'Grid': [\r\n                'AltRowTemplate',\r\n                'DetailTemplate',\r\n                'RowTemplate'\r\n            ],\r\n            'ListView': [\r\n                'EditTemplate',\r\n                'Template',\r\n                'AltTemplate'\r\n            ],\r\n            'Pager': [\r\n                'SelectTemplate',\r\n                'LinkTemplate'\r\n            ],\r\n            'PivotGrid': [\r\n                'ColumnHeaderTemplate',\r\n                'DataCellTemplate',\r\n                'RowHeaderTemplate'\r\n            ],\r\n            'Scheduler': [\r\n                'AllDayEventTemplate',\r\n                'DateHeaderTemplate',\r\n                'EventTemplate',\r\n                'MajorTimeHeaderTemplate',\r\n                'MinorTimeHeaderTemplate'\r\n            ],\r\n            'TreeView': ['Template'],\r\n            'Validator': ['ErrorTemplate']\r\n        };\r\n        (function () {\r\n            var templateDirectives = {};\r\n            angular.forEach(WIDGET_TEMPLATE_OPTIONS, function (templates, widget) {\r\n                angular.forEach(templates, function (template) {\r\n                    if (!templateDirectives[template]) {\r\n                        templateDirectives[template] = [];\r\n                    }\r\n                    templateDirectives[template].push('?^^kendo' + widget);\r\n                });\r\n            });\r\n            angular.forEach(templateDirectives, function (parents, directive) {\r\n                var templateName = 'k' + directive;\r\n                var attrName = kendo.toHyphens(templateName);\r\n                module.directive(templateName, function () {\r\n                    return {\r\n                        restrict: 'A',\r\n                        require: parents,\r\n                        terminal: true,\r\n                        compile: function ($element, $attrs) {\r\n                            if ($attrs[templateName] !== '') {\r\n                                return;\r\n                            }\r\n                            $element.removeAttr(attrName);\r\n                            var template = $element[0].outerHTML;\r\n                            return function (scope, element, attrs, controllers) {\r\n                                var controller;\r\n                                while (!controller && controllers.length) {\r\n                                    controller = controllers.shift();\r\n                                }\r\n                                if (!controller) {\r\n                                    $log.warn(attrName + ' without a matching parent widget found. It can be one of the following: ' + parents.join(', '));\r\n                                } else {\r\n                                    controller.template(templateName, template);\r\n                                    element.remove();\r\n                                }\r\n                            };\r\n                        }\r\n                    };\r\n                });\r\n            });\r\n        }());\r\n    }(window.kendo.jQuery, window.angular));\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\r\n    (a3 || a2)();\r\n}));"],"sourceRoot":"/source/"}